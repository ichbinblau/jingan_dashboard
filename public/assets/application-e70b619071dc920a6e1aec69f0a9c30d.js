/*!
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
function connectSocketServer(){try{socket=new window[support](host),socket.onopen=function(e){console.log("socket.onopen:"+new Date)},socket.onmessage=function(messageEvent){console.log("socket.onmessage:"+new Date);if(messageEvent.data instanceof Blob){var destinationCanvas=document.getElementById("destination"),destinationContext=destinationCanvas.getContext("2d"),image=new Image;image.onload=function(){destinationContext.clearRect(0,0,destinationCanvas.width,destinationCanvas.height),destinationContext.drawImage(image,0,0)},image.src=URL.createObjectURL(messageEvent.data)}else{var json=eval("("+messageEvent.data+")"),record=json.data.Success;if(!record||!record.lat)return;var lat=record.lat,log=record.log,type=record.type,content=record.content;if(type=="signin"){var pt=new BMap.Point(log,lat),myIcon=new BMap.Icon("/assets/outlink_mapview/green_flash.gif",new BMap.Size(22,26)),marker2=new BMap.Marker(pt,{icon:myIcon});root.map.addOverlay(marker2);var infoWindow1=new BMap.InfoWindow(content);marker2.addEventListener("click",function(){this.openInfoWindow(infoWindow1)});var i=new Number($("#Label2").text());$("#Label2").text(i+1),setTimeout(function(){marker2.remove(),addpoint(lat,log,type,content)},72e5)}else if(type=="repair"){var pt=new BMap.Point(log,lat),myIcon=new BMap.Icon("/assets/outlink_mapview/red_flash.gif",new BMap.Size(22,26)),marker2=new BMap.Marker(pt,{icon:myIcon});root.map.addOverlay(marker2);var infoWindow1=new BMap.InfoWindow(content);marker2.addEventListener("click",function(){this.openInfoWindow(infoWindow1)});var i=new Number($("#Label4").text());$("#Label4").text(i+1),setTimeout(function(){marker2.remove(),addpoint(lat,log,type,content)},72e5)}}},socket.onerror=function(e){console.log("socket.onerror:"+new Date)},socket.onclose=function(e){console.log("socket.onclose:"+new Date),setTimeout(function(){connectSocketServer()},5e3)}}catch(exception){window.console&&console.log(exception)}}function sendTextMessage(){if(socket.readyState!=WebSocket.OPEN)return;var e=document.getElementById("textmessage");socket.send(e.value)}function sendBinaryMessage(){if(socket.readyState!=WebSocket.OPEN)return;var e=document.getElementById("source");socket.send(e.msToBlob())}function getlistinfo(e){e=="signin"?window.open("signin.html?access_token=123&api_key=123y&type="+e):window.open("repair.html?access_token=123&api_key=123y&type="+e)}function callShops(){$.ajax({url:"call",data:{sonid:"490",method:"getshopinfo/get",version:"1.0",page:"1",perpage:"1000",maptype:"baidu",size:"5000000",log:"121.4183934",lat:"31.1560796"},success:function(e,t){if(e["data"]["title"]!=undefined){var n="<p style='font-size:14px;'>"+e.data.title+"</p><p style='font-size:12px;'>信息："+e.data.content+"<br/>地址："+e.data.address+"</p>";addpoint(e.data.baidu_latitude,e.data.baidu_longitude,"address",n)}else for(var r=0;r<e.data.length;r++){var n="<p style='font-size:14px;'>"+e.data[r].title+"</p><p style='font-size:12px;'>信息："+e.data[r].content+"<br/>地址："+e.data[r].address+"</p>";addpoint(e.data[r].baidu_latitude,e.data[r].baidu_longitude,"address",n)}callSignins()}})}function callSignins(){$.ajax({url:"call",data:{method:"signin/get",version:"1.0",nowtime:dates},success:function(e,t){if(e["data"]["shoptitle"]!=undefined){var n="<p style='font-size:14px;'>"+e.data.shoptitle+"（运动记录）</p><p style='font-size:12px;'>时间："+e.data.content+"<br/>地址："+e.data.shopaddress+"</p>";addpoint(e.data.shopbaidulat,e.data.shopbaidulog,"signin",n)}else for(var r=0;r<e.data.length;r++){var n="<p style='font-size:14px;'>"+e.data[r].shoptitle+"（运动记录）</p><p style='font-size:12px;'>时间："+e.data[r].content+"<br/>地址："+e.data[r].shopaddress+"</p>";addpoint(e.data[r].shopbaidulat,e.data[r].shopbaidulog,"signin",n)}callRepairs()}})}function callRepairs(){$.ajax({url:"call",data:{method:"repair/get",version:"1.0",nowtime:dates},success:function(e,t){if(e["data"]["shoptitle"]!=undefined){var n="<p style='font-size:14px;'>"+e.data.shoptitle+"（报修）</p><p style='font-size:12px;'>设备："+e.data.devicetitle+"<br/>地址："+e.data.shopaddress+"</p>";addpoint(e.data.shopbaidulat,e.data.shopbaidulog,"repair",n)}else for(var r=0;r<e.data.length;r++){var n="<p style='font-size:14px;'>"+e.data[r].shoptitle+"（报修）</p><p style='font-size:12px;'>设备："+e.data[r].devicetitle+"<br/>地址："+e.data[r].shopaddress+"</p>";addpoint(e.data[r].shopbaidulat,e.data[r].shopbaidulog,"repair",n)}}})}function addpoint(e,t,n,r){var i=new BMap.Point(t,e);if(n=="address"){var s=new BMap.Icon("/assets/outlink_mapview/gray.png",new BMap.Size(11,11)),o=new BMap.Marker(i,{icon:s});root.map.addOverlay(o);var u=new BMap.InfoWindow(r);o.addEventListener("click",function(){this.openInfoWindow(u)})}else if(n=="signin"){var s=new BMap.Icon("/assets/outlink_mapview/green.png",new BMap.Size(22,26)),o=new BMap.Marker(i,{icon:s});root.map.addOverlay(o);var u=new BMap.InfoWindow(r);o.addEventListener("click",function(){this.openInfoWindow(u)})}else if(n=="repair"){var s=new BMap.Icon("/assets/outlink_mapview/red.png",new BMap.Size(22,26)),o=new BMap.Marker(i,{icon:s});root.map.addOverlay(o);var u=new BMap.InfoWindow(r);o.addEventListener("click",function(){this.openInfoWindow(u)})}}function hex_md5(e){return binl2hex(core_md5(str2binl(e),e.length*chrsz))}function b64_md5(e){return binl2b64(core_md5(str2binl(e),e.length*chrsz))}function str_md5(e){return binl2str(core_md5(str2binl(e),e.length*chrsz))}function hex_hmac_md5(e,t){return binl2hex(core_hmac_md5(e,t))}function b64_hmac_md5(e,t){return binl2b64(core_hmac_md5(e,t))}function str_hmac_md5(e,t){return binl2str(core_hmac_md5(e,t))}function md5_vm_test(){return hex_md5("abc")=="900150983cd24fb0d6963f7d28e17f72"}function core_md5(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n=1732584193,r=-271733879,i=-1732584194,s=271733878;for(var o=0;o<e.length;o+=16){var u=n,a=r,f=i,l=s;n=md5_ff(n,r,i,s,e[o+0],7,-680876936),s=md5_ff(s,n,r,i,e[o+1],12,-389564586),i=md5_ff(i,s,n,r,e[o+2],17,606105819),r=md5_ff(r,i,s,n,e[o+3],22,-1044525330),n=md5_ff(n,r,i,s,e[o+4],7,-176418897),s=md5_ff(s,n,r,i,e[o+5],12,1200080426),i=md5_ff(i,s,n,r,e[o+6],17,-1473231341),r=md5_ff(r,i,s,n,e[o+7],22,-45705983),n=md5_ff(n,r,i,s,e[o+8],7,1770035416),s=md5_ff(s,n,r,i,e[o+9],12,-1958414417),i=md5_ff(i,s,n,r,e[o+10],17,-42063),r=md5_ff(r,i,s,n,e[o+11],22,-1990404162),n=md5_ff(n,r,i,s,e[o+12],7,1804603682),s=md5_ff(s,n,r,i,e[o+13],12,-40341101),i=md5_ff(i,s,n,r,e[o+14],17,-1502002290),r=md5_ff(r,i,s,n,e[o+15],22,1236535329),n=md5_gg(n,r,i,s,e[o+1],5,-165796510),s=md5_gg(s,n,r,i,e[o+6],9,-1069501632),i=md5_gg(i,s,n,r,e[o+11],14,643717713),r=md5_gg(r,i,s,n,e[o+0],20,-373897302),n=md5_gg(n,r,i,s,e[o+5],5,-701558691),s=md5_gg(s,n,r,i,e[o+10],9,38016083),i=md5_gg(i,s,n,r,e[o+15],14,-660478335),r=md5_gg(r,i,s,n,e[o+4],20,-405537848),n=md5_gg(n,r,i,s,e[o+9],5,568446438),s=md5_gg(s,n,r,i,e[o+14],9,-1019803690),i=md5_gg(i,s,n,r,e[o+3],14,-187363961),r=md5_gg(r,i,s,n,e[o+8],20,1163531501),n=md5_gg(n,r,i,s,e[o+13],5,-1444681467),s=md5_gg(s,n,r,i,e[o+2],9,-51403784),i=md5_gg(i,s,n,r,e[o+7],14,1735328473),r=md5_gg(r,i,s,n,e[o+12],20,-1926607734),n=md5_hh(n,r,i,s,e[o+5],4,-378558),s=md5_hh(s,n,r,i,e[o+8],11,-2022574463),i=md5_hh(i,s,n,r,e[o+11],16,1839030562),r=md5_hh(r,i,s,n,e[o+14],23,-35309556),n=md5_hh(n,r,i,s,e[o+1],4,-1530992060),s=md5_hh(s,n,r,i,e[o+4],11,1272893353),i=md5_hh(i,s,n,r,e[o+7],16,-155497632),r=md5_hh(r,i,s,n,e[o+10],23,-1094730640),n=md5_hh(n,r,i,s,e[o+13],4,681279174),s=md5_hh(s,n,r,i,e[o+0],11,-358537222),i=md5_hh(i,s,n,r,e[o+3],16,-722521979),r=md5_hh(r,i,s,n,e[o+6],23,76029189),n=md5_hh(n,r,i,s,e[o+9],4,-640364487),s=md5_hh(s,n,r,i,e[o+12],11,-421815835),i=md5_hh(i,s,n,r,e[o+15],16,530742520),r=md5_hh(r,i,s,n,e[o+2],23,-995338651),n=md5_ii(n,r,i,s,e[o+0],6,-198630844),s=md5_ii(s,n,r,i,e[o+7],10,1126891415),i=md5_ii(i,s,n,r,e[o+14],15,-1416354905),r=md5_ii(r,i,s,n,e[o+5],21,-57434055),n=md5_ii(n,r,i,s,e[o+12],6,1700485571),s=md5_ii(s,n,r,i,e[o+3],10,-1894986606),i=md5_ii(i,s,n,r,e[o+10],15,-1051523),r=md5_ii(r,i,s,n,e[o+1],21,-2054922799),n=md5_ii(n,r,i,s,e[o+8],6,1873313359),s=md5_ii(s,n,r,i,e[o+15],10,-30611744),i=md5_ii(i,s,n,r,e[o+6],15,-1560198380),r=md5_ii(r,i,s,n,e[o+13],21,1309151649),n=md5_ii(n,r,i,s,e[o+4],6,-145523070),s=md5_ii(s,n,r,i,e[o+11],10,-1120210379),i=md5_ii(i,s,n,r,e[o+2],15,718787259),r=md5_ii(r,i,s,n,e[o+9],21,-343485551),n=safe_add(n,u),r=safe_add(r,a),i=safe_add(i,f),s=safe_add(s,l)}return Array(n,r,i,s)}function md5_cmn(e,t,n,r,i,s){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(r,s)),i),n)}function md5_ff(e,t,n,r,i,s,o){return md5_cmn(t&n|~t&r,e,t,i,s,o)}function md5_gg(e,t,n,r,i,s,o){return md5_cmn(t&r|n&~r,e,t,i,s,o)}function md5_hh(e,t,n,r,i,s,o){return md5_cmn(t^n^r,e,t,i,s,o)}function md5_ii(e,t,n,r,i,s,o){return md5_cmn(n^(t|~r),e,t,i,s,o)}function core_hmac_md5(e,t){var n=str2binl(e);n.length>16&&(n=core_md5(n,e.length*chrsz));var r=Array(16),i=Array(16);for(var s=0;s<16;s++)r[s]=n[s]^909522486,i[s]=n[s]^1549556828;var o=core_md5(r.concat(str2binl(t)),512+t.length*chrsz);return core_md5(i.concat(o),640)}function safe_add(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){var t=Array(),n=(1<<chrsz)-1;for(var r=0;r<e.length*chrsz;r+=chrsz)t[r>>5]|=(e.charCodeAt(r/chrsz)&n)<<r%32;return t}function binl2str(e){var t="",n=(1<<chrsz)-1;for(var r=0;r<e.length*32;r+=chrsz)t+=String.fromCharCode(e[r>>5]>>>r%32&n);return t}function binl2hex(e){var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="";for(var r=0;r<e.length*4;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n}function binl2b64(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="";for(var r=0;r<e.length*4;r+=3){var i=(e[r>>2]>>8*(r%4)&255)<<16|(e[r+1>>2]>>8*((r+1)%4)&255)<<8|e[r+2>>2]>>8*((r+2)%4)&255;for(var s=0;s<4;s++)r*8+s*6>e.length*32?n+=b64pad:n+=t.charAt(i>>6*(3-s)&63)}return n}function getkey(e){return e==""&&(e="1247231732"),tmpkey="$#087asd!@#$0AHFH",hex_md5(e+tmpkey.substr(parseInt(e)%10,20))}(function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&Gt(n)&&(i[s]=v._data(n,"olddisplay",nn(n.nodeName)))):(r=Dt(n,"display"),!i[s]&&r!=="none"&&v._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function en(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=v.css(e,n+$t[i],!0)),r?(n==="content"&&(s-=parseFloat(Dt(e,"padding"+$t[i]))||0),n!=="margin"&&(s-=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)):(s+=parseFloat(Dt(e,"padding"+$t[i]))||0,n!=="padding"&&(s+=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0));return s}function tn(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?"border":"content"),i)+"px"}function nn(e){if(Wt[e])return Wt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display");t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write("<!doctype html><html><body>"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,"display"),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&v.type(t)==="object")for(i in t)fn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=kn(e,n,r,i,"*",o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,i=1-r,s=0,o=f.tweens.length;for(;s<o;s++)f.tweens[s].run(i);return u.notifyWith(e,[f,i,n]),i<1&&o?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},m=[],g=e.nodeType&&Gt(e);n.queue||(l=v._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,v.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",v.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r],a=a||s==="toggle";if(s===(g?"hide":"show"))continue;m.push(r)}}o=m.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{}),"hidden"in u&&(g=u.hidden),a&&(u.hidden=!g),g?v(e).show():h.done(function(){v(e).hide()}),h.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in d)v.style(e,t,d[t])});for(r=0;r<o;r++)i=m[r],f=h.createTween(i,g?u[i]:0),d[i]=u[i]||v.style(e,i),i in u||(u[i]=f.start,g&&(f.end=f.start,f.start=i==="width"||i==="height"?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=$t[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",A,!1),v.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&v.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call("﻿ ")?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":(e+"").replace(b,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete")setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1);else{i.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on",optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),u=i.createElement("input"),u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","checked"),u.setAttribute("name","t"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f="on"+l,c=f in p,c||(p.setAttribute(f,"return;"),c=typeof p[f]=="function"),t[l+"Bubbles"]=c;return v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),r=i.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",o=i.createElement("div"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!
parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")||(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){v.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",v.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r),v.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=v._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&v._data(this,"__className__",this.className),this.className=this.className||e===!1?"":v._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(R,""):r==null?"":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(v.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!v.nodeName(n.parentNode,"optgroup"))){t=v(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,""),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype="encoding"),v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&v.expr.match.needsContext.test(s),namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)&&(d.splice(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(".")>=0&&(b=y.split("."),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,"events")||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<m;r++)c=d[r],h=c.selector,u[h]===t&&(u[h]=c.needsContext?v(h,this).index(s)>=0:v.find(h,this,null,[s]).length),u[h]&&f.push(c);f.length&&w.push({elem:s,matches:f})}d.length>m&&w.push({elem:this,matches:d.slice(m)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){a=w[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&&b.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;r&&!v._data(r,"_submit_attached")&&(v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),v._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate("change",this,e,!0)});return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,"_change_attached")&&(v.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)}),v._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,"._change"),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;return v._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function nt(e,t,n,r){n=n||[],t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!="string")return n;if(l!==1&&l!==9)return[];a=o(t);if(!a&&!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&u(t,s)&&s.id===f)return n.push(s),n}else{if(i[2])return S.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&&Z&&t.getElementsByClassName)return S.apply(n,x.call(t.getElementsByClassName(f),0)),n}return vt(e.replace(j,"$1"),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function st(e){return N(function(t){return t=+t,N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=F.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=I.exec(u))s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=r[0].replace(j," ");for(o in i.filter)(r=J[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&&t.dir==="parentNode",o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+" "+o+" ",l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a=="string"&&a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function ct(e,t,n,r,i,s){return r&&!r[d]&&(r=ct(r)),i&&!i[d]&&(i=ct(i,s)),N(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=lt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?T.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=lt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):S.apply(o,g)})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return ct(a>1&&ft(h),a>1&&e.slice(0,a-1).join("").replace(j,"$1"),n,a<r&&ht(e.slice(a,r)),r<s&&ht(e=e.slice(r)),r<s&&e.join(""))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length>0,s=e.length>0,o=function(u,a,f,l,h){var p,d,v,m=[],y=0,w="0",x=u&&[],T=h!=null,N=c,C=u||s&&i.find.TAG("*",h&&a.parentNode||a),k=b+=N==null?1:Math.E;T&&(c=a!==g&&a,n=o.el);for(;(p=C[w])!=null;w++){if(s&&p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}T&&(b=k,n=++o.el)}r&&((p=!v&&p)&&y--,u&&x.push(p))}y+=w;if(r&&w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y>0)while(w--)!x[w]&&!m[w]&&(m[w]=E.call(l));m=lt(m)}S.apply(l,m),T&&!u&&m.length>0&&y+t.length>1&&nt.uniqueSort(l)}return T&&(b=k,c=N),x};return o.el=0,r?N(o):o}function dt(e,t,n){var r=0,i=t.length;for(;r<i;r++)nt(e,t[r],n);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&t.nodeType===9&&!s&&i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,""),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o>=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,""),z.test(u[0].type)&&t.parentNode||t,s)){u.splice(o,1),e=r.length&&u.join("");if(!e)return S.apply(n,x.call(r,0)),n;break}}}return a(e,h)(r,t,s,n,z.test(e)),n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p="undefined",d=("sizcache"+Math.random()).replace(".",""),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},N=function(e,t){return e[d]=t==null||t,e},C=function(){var e={},t=[];return N(function(n,r){return t.push(n)>i.cacheLength&&delete e[t.shift()],e[n+" "]=r},e)},k=C(),L=C(),A=C(),O="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",_=M.replace("w","w#"),D="([*^$|!~]?=)",P="\\["+O+"*("+M+")"+O+"*(?:"+D+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+_+")|)|)"+O+"*\\]",H=":("+M+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+P+")|[^:]|\\\\.)*|.*))\\)|)",B=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),F=new RegExp("^"+O+"*,"+O+"*"),I=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),q=new RegExp(H),R=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/^:not/,z=/[\x20\t\r\n\f]*[+~]/,W=/:not\($/,X=/h\d/i,V=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),NAME:new RegExp("^\\[name=['\"]?("+M+")['\"]?\\]"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+H),POS:new RegExp(B,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+B,"i")},K=function(e){var t=g.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),G=K(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute("href")==="#"}),Y=K(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),Z=K(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),et=K(function(e){e.id=d+0,e.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>",y.insertBefore(e,y.firstChild);var t=g.getElementsByName&&g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;return r=!g.getElementById(d),y.removeChild(e),t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)},nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length>0},s=nt.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},o=nt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt.attr=function(e,t){var n,r=o(e);return r||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):r||Y?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:et&&function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&&function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||nt.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&nt.error(e[0]),e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])q.test(t)&&(n=ut(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:r?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode("id")
;return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[d][e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);return s==null?t==="!=":t?(s+="",t==="="?s===n:t==="!="?s!==n:t==="^="?n&&s.indexOf(n)===0:t==="*="?n&&s.indexOf(n)>-1:t==="$="?n&&s.substr(s.length-n.length)===n:t==="~="?(" "+s+" ").indexOf(n)>-1:t==="|="?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error("unsupported pseudo: "+e);return r[d]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=T.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,"$1"));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length>0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:rt("radio"),checkbox:rt("checkbox"),file:rt("file"),password:rt("password"),image:rt("image"),submit:it("submit"),reset:it("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(){return[0]}),last:st(function(e,t){return[t-1]}),eq:st(function(e,t,n){return[n<0?n+t:n]}),even:st(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:st(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:st(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},f=y.compareDocumentPosition?function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)},[0,0].sort(f),h=!l,nt.uniqueSort=function(e){var t,n=[],r=1,i=0;l=h,e.sort(f);if(l){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},nt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e+" "];if(!s){t||(t=ut(e)),n=t.length;while(n--)s=ht(t[n]),s[d]?r.push(s):i.push(s);s=A(e,pt(i,r))}return s},g.querySelectorAll&&function(){var e,t=vt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[":focus"],s=[":active"],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),K(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+O+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=new RegExp(i.join("|")),vt=function(e,r,s,o,u){if(!o&&!u&&!i.test(e)){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&&e;if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){a=ut(e),(l=r.getAttribute("id"))?c=l.replace(n,"\\$&"):r.setAttribute("id",c),c="[id='"+c+"'] ",f=a.length;while(f--)a[f]=c+a[f].join("");h=z.test(e)&&r.parentNode||r,p=a.join(",")}if(p)try{return S.apply(s,x.call(h.querySelectorAll(p),0)),s}catch(v){}finally{l||r.removeAttribute("id")}}return t(e,r,s,o,u)},u&&(K(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push("!=",H)}catch(n){}}),s=new RegExp(s.join("|")),nt.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!o(t)&&!s.test(n)&&!i.test(n))try{var a=u.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length>0})}(),i.pseudos.nth=i.pseudos.eq,i.filters=mt.prototype=i.pseudos,i.setFilters=new mt,nt.attr=v.attr,v.find=nt,v.expr=nt.selectors,v.expr[":"]=v.expr.pseudos,v.unique=nt.uniqueSort,v.text=nt.getText,v.isXMLDoc=nt.isXML,v.contains=nt.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r=="string"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(","))}}),v.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(s=0;(u=e[s])!=null;s++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement("div"),y.appendChild(c),u=u.replace(dt,"<$1></$2>"),a=(vt.exec(u)||["",""])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,"script")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(g=v.grep(v.merge([],u.getElementsByTagName("script")),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp("^("+m+")(.*)$","i"),Ut=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),zt=new RegExp("^([-+])=("+m+")","i"),Wt={BODY:"block"},Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},$t=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=zt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s==="normal"&&n in Vt&&(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u.getPropertyValue(n)||u[n],r===""&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n)),Ut.test(r)&&qt.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Ut.test(i)&&!Ft.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,"display"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+"px":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join("&").replace(rn,"+")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=["*/"]+["*"];try{cn=s.href}catch(Nn){cn=i.createElement("a"),cn.href="",cn=cn.href}ln=wn.exec(cn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!="string"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),v.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v("<div>").append(e.replace(yn,"")).find(i):e)}),this},v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||"",x.readyState=e>0?4:0,s&&(w=An(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(v.lastModified[r]=S),S=x.getResponseHeader("Etag"),S&&(v.etag[r]=S)),e===304?(T="notmodified",l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--v.active||v.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+"").replace(hn,"").replace(mn,ln[1]+"//"),c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y),c.crossDomain==null&&(a=wn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ln[1]&&a[2]===ln[2]&&(a[3]||(a[1]==="http:"?80:443))==(ln[3]||(ln[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(gn.test(c.url)?"&":"?")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,"$1_="+N);c.url=C+(C===c.url?(gn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||v.expando+"_"+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,"$1"+s):h?n.data=a.replace(Dn,"$1"+s):l&&(n.url+=(_n.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||v.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),"script"}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Bn&&delete Hn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(p){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&&(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Xn=[Gn],Vn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&u){u=v.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,v.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this
),n&&n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,n=v.timers,r=0;qn=v.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||v.fx.stop(),qn=t},v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?v.offset.bodyOffset(l):(n=c.documentElement,v.contains(n,l)?(typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect()),i=tr(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,n+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,"marginTop"))||0,n.left-=parseFloat(v.css(e,"marginLeft"))||0,r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return v})})(window),function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return e.namespace==="rails"}).length};n()&&e.error("jquery-ujs has already been loaded!");var r;e.rails=r={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var i,s,o,u,a,f,l,c;if(r.fire(n,"ajax:before")){u=n.data("cross-domain"),a=u===t?null:u,f=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(n.is("form")){i=n.attr("method"),s=n.attr("action"),o=n.serializeArray();var h=n.data("ujs:submit-button");h&&(o.push(h),n.data("ujs:submit-button",null))}else n.is(r.inputChangeSelector)?(i=n.data("method"),s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(i=n.data("method"),s=r.href(n),o=n.data("params")||null);c={type:i||"GET",data:o,dataType:l,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),r.fire(n,"ajax:beforeSend",[e,i])},success:function(e,t,r){n.trigger("ajax:success",[e,t,r])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,r){n.trigger("ajax:error",[e,t,r])},xhrFields:{withCredentials:f},crossDomain:a},s&&(c.url=s);var p=r.ajax(c);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var i=r.href(n),s=n.data("method"),o=n.attr("target"),u=e("meta[name=csrf-token]").attr("content"),a=e("meta[name=csrf-param]").attr("content"),f=e('<form method="post" action="'+i+'"></form>'),l='<input name="_method" value="'+s+'" type="hidden" />';a!==t&&u!==t&&(l+='<input name="'+a+'" value="'+u+'" type="hidden" />'),o&&f.attr("target",o),f.hide().append(l).appendTo("body"),f.submit()},disableFormElements:function(t){t.find(r.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(r.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t=e.data("confirm"),n=!1,i;return t?(r.fire(e,"confirm")&&(n=r.confirm(t),i=r.fire(e,"confirm:complete",[n])),n&&i):!0},blankInputs:function(t,n,r){var i=e(),s,o,u=n||"input,textarea",a=t.find(u);return a.each(function(){s=e(this),o=s.is(":checkbox,:radio")?s.is(":checked"):s.val();if(!o==!r){if(s.is(":radio")&&a.filter('input:radio:checked[name="'+s.attr("name")+'"]').length)return!0;i=i.add(s)}}),i.length?i:!1},nonBlankInputs:function(e,t){return r.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,r){var i=n.data("events"),s=!0;return i!==t&&i.submit!==t&&e.each(i.submit,function(e,t){if(typeof t.handler=="function")return s=t.handler(r)}),s},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return r.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},r.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||r.CSRFProtection(n)}),e(document).delegate(r.linkDisableSelector,"ajax:complete",function(){r.enableElement(e(this))}),e(document).delegate(r.linkClickSelector,"click.rails",function(n){var i=e(this),s=i.data("method"),o=i.data("params");if(!r.allowAction(i))return r.stopEverything(n);i.is(r.linkDisableSelector)&&r.disableElement(i);if(i.data("remote")!==t){if((n.metaKey||n.ctrlKey)&&(!s||s==="GET")&&!o)return!0;var u=r.handleRemote(i);return u===!1?r.enableElement(i):u.error(function(){r.enableElement(i)}),!1}if(i.data("method"))return r.handleMethod(i),!1}),e(document).delegate(r.inputChangeSelector,"change.rails",function(t){var n=e(this);return r.allowAction(n)?(r.handleRemote(n),!1):r.stopEverything(t)}),e(document).delegate(r.formSubmitSelector,"submit.rails",function(n){var i=e(this),s=i.data("remote")!==t,o=r.blankInputs(i,r.requiredInputSelector),u=r.nonBlankInputs(i,r.fileInputSelector);if(!r.allowAction(i))return r.stopEverything(n);if(o&&i.attr("novalidate")==t&&r.fire(i,"ajax:aborted:required",[o]))return r.stopEverything(n);if(s){if(u){setTimeout(function(){r.disableFormElements(i)},13);var a=r.fire(i,"ajax:aborted:file",[u]);return a||setTimeout(function(){r.enableFormElements(i)},13),a}return!e.support.submitBubbles&&e().jquery<"1.7"&&r.callFormSubmitBindings(i,n)===!1?r.stopEverything(n):(r.handleRemote(i),!1)}setTimeout(function(){r.disableFormElements(i)},13)}),e(document).delegate(r.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!r.allowAction(n))return r.stopEverything(t);var i=n.attr("name"),s=i?{name:i,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),e(document).delegate(r.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&r.disableFormElements(e(this))}),e(document).delegate(r.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&r.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var e;e=this,this.editSortForm=function(e){return $("#edit_sort").data("sort_id",e).modal("show")},this.addSort=function(t){var n,r,i,s,o,u;return i=t.parent().parent(),r=$('input[name="name"]',i).val(),n=(o=$('input[name="father_id"]',i).val())!=null?o:0,s=(u=$('input[name="sort_order"]',i).val())!=null?u:0,$.get("/dashboard/sort_add?name="+r+"&father_id="+n+"&sort_order="+s,function(t){return e.renewList()})},this.editSort=function(t){var n,r,i,s,o,u,a;return s=t.parent().parent(),r=$('input[name="id"]',s).val(),i=$('input[name="name"]',s).val(),n=(u=$('input[name="father_id"]',s).val())!=null?u:0,o=(a=$('input[name="sort_order"]',s).val())!=null?a:0,$.get("/dashboard/sort_edit?sort_id="+r+"&name="+i+"&father_id="+n+"&sort_order="+o,function(t){return e.renewList()})},this.removeSort=function(t){var n,r,i;i=t.parent().parent(),r=$('input[name="id"]',i).val(),n=confirm("分类删除不可恢复，请确保该分类下没有内容！");if(n)return $.get("/dashboard/sort_remove?sort_id="+r,function(t){return e.renewList()})},this.renewList=function(){var e;return e=$("#edit_sort").data("sort_id"),$.get("/dashboard/sort_list?sort_id="+e,function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;l=[],f={},t=0;for(h=0,v=e.length;h<v;h++)r=e[h],r.children=[],f[r.id]=r;for(p=0,m=e.length;p<m;p++){r=e[p];if(f[r.father_id]){for(d=0,g=e.length;d<g;d++)c=e[d],c.father_id===r.id&&(f[r.id].children.push(f[c.id]),delete f[c.id],t<2&&(t=2));f[r.father_id].children.push(f[r.id]),delete f[r.id],t<1&&(t=1)}}n="<p>仅支持2级分类</p>";if(2===t)for(o in f){r=f[o],n+="<table class='table table-bordered table-condensed'>",n+="<tr class='warning'><td>id: "+r.id+"<input type='hidden' value='"+r.id+"' name='id' /></td><td><input type='text' class='input-small' value='"+r.cnname+"' name='name' /></td>",n+="<td><a href='javascript:void(0)' class='btn' onclick='editSort($(this))'>保存</a></td></tr>",n+="<tr><td></td><td><input type='text' class='input-small' value=''  name='name'/></td>",n+="<td><input type='hidden' class='input-mini' value='"+r.id+"' name='father_id' /><a href='javascript:void(0)' class='btn' onclick='addSort($(this))'>添加</a></td></tr>",n+="</table>",y=r.children;for(u in y){i=y[u],n+="<table class='table table-bordered table-condensed'>",n+="<tr class='warning'><td>id</td><td>名称</td><td>父分类id</td><td>排序</td><td></td></tr>",n+="<tr class='warning'><td>"+i.id+"<input type='hidden' value='"+i.id+"' name='id' /></td><td><input type='text' class='input-small' value='"+i.cnname+"' name='name' /></td><td><input type='text' class='input-mini' value='"+i.father_id+"'  name='father_id'/></td>",n+="<td></td><td><a href='javascript:void(0)' class='btn' onclick='editSort($(this))'>保存</a><button type='button' class='close' onclick='removeSort($(this))'>×</button></td></tr>",b=i.children;for(a in b)s=b[a],n+="<tr><td>"+s.id+"<input type='hidden' value='"+s.id+"' name='id' /></td><td><input type='text' class='input-small' value='"+s.cnname+"'  name='name'/></td><td><input type='text' class='input-mini' value='"+s.father_id+"'  name='father_id'/></td>",n+="<td><input type='text' class='input-mini' value='"+s.sort_order+"' name='sort_order'/></td><td><a href='javascript:void(0)' class='btn' onclick='editSort($(this))'>保存</a><button type='button' class='close' onclick='removeSort($(this))'>×</button></td></tr>";n+="<tr><td></td><td><input type='text' class='input-small' value=''  name='name'/></td><td><input type='hidden' class='input-mini' value='"+i.id+"' name='father_id' />"+i.id+"</td>",n+="<td></td><td><a href='javascript:void(0)' class='btn' onclick='addSort($(this))'>添加</a></td></tr>",n+="</table>"}}if(1===t||0===t)for(o in f){r=f[o],n+="<table class='table table-bordered table-condensed'>",n+="<tr class='warning'><td>id</td><td>名称</td><td>父分类id</td><td>排序</td><td></td></tr>",n+="<tr class='warning'><td>"+r.id+"<input type='hidden' value='"+r.id+"' name='id' /></td><td><input type='text' class='input-small' value='"+r.cnname+"'  name='name'/></td><td></td>",n+="<td></td><td><a href='javascript:void(0)' class='btn'>保存</a><button type='button' class='close'>×</button></td></tr>",w=r.children;for(u in w)i=w[u],n+="<tr ><td>"+i.id+"<input type='hidden' value='"+i.id+"' name='id' /></td><td><input type='text' class='input-small' value='"+i.cnname+"' name='name'/></td><td><input type='text' class='input-mini' value='"+i.father_id+"' name='father_id'/></td>",n+="<td><input type='text' class='input-mini' value='"+i.sort_order+"'  name='sort_order'/></td><td><a href='javascript:void(0)' class='btn' onclick='editSort($(this))'>保存</a><button type='button' class='close' onclick='removeSort($(this))'>×</button></td></tr>";n+="<tr><td></td><td><input type='text' class='input-small' value=''  name='name'/></td><td><input type='hidden' class='input-mini' value='"+r.id+"'  name='father_id'/>"+r.id+"</td>",n+="<td></td><td><a href='javascript:void(0)' class='btn' onclick='addSort($(this))'>添加</a></td></tr>",n+="</table>"}return $("#sort_div").html(n)})},$(function(){return $("#edit_sort").on("shown",e.renewList)})}.call(this),function(){this.showSupports=function(){return $("#support_list").modal("show")},this.show_add_status=function(e,t){return $("#add_status #weibo_type").html(e.cnname),$("#add_status .weibo_words").html(""),$("#add_status .weibo_show_image").hide(),t&&$("#add_status .weibo_words").val($("#ctitle_"+t).val()+"："+$("#ccontent_"+t+"_truncate").val()+" "+$("#curl_"+t).val()),$("#cimage_"+t+"").val()&&$("#add_status .weibo_show_image").attr("src","http://is.hudongka.com/"+$("#cimage_"+t+"").val()).show(),$("#add_status .weibo_type").val(e.name),$("#support_list").modal("hide"),$("#add_status").modal("show")},this.add_status=function(){var e,t,n,r,i;return n=$("#add_status .weibo_type").val(),i=$(".weibo_words").val(),e=weibo_config[n],r=e.url_sendmsg,t={words:i},$.post(r,t,function(t){return t==null||t.errornum==null&&t.error_code==null?alert("发送成功！"):(alert("微博发布出错，请重新登录微博。"),location.href=e.url_get_token+"?from="+url_now+"&projectnum="+app_num),$("#add_status").modal("hide")})}}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var e,t,n,r,i,s;s=this,n={years:"店龄",sort_ids:"主营产品",admin_name:"服务人员",c_role:"职位",cus_des:"客户群描述",c_mobile:"智能机使用",new_cus_from:"新客户来源",old_cus_service:"老客户服务",unique_des:"独特性描述",coupon_des:"传统优惠方式",method_improving:"提高业绩方法",des:"备注",server_num:"在店服务员人数",top_of_day:"每日服务高峰",trade_des:"营业/交易状况"},r=["未拜访","A类","B类","C类","D类","E类","F类","G类","H类","I类"],t=[],$(document).ready(function(){return s.map=new BMap.Map("allmap"),s.map.centerAndZoom(new BMap.Point(121.522725,31.303178),16),s.map.addControl(new BMap.NavigationControl),s.map.enableScrollWheelZoom(!0),i()}),i=function(){return $.ajax({url:"cus_mapview_shops",success:function(n,r){var i,s,o,u,a,f,l,c,h,p;console.log(n.father_sorts),t=n.shops,i=n.father_sorts,c=n.father_sorts;for(s=u=0,f=c.length;u<f;s=++u)o=c[s],$("#sorts").append("<div onclick='addpoints(["+o.children.join(",")+"])' id='sort_"+o.id+"'>"+o.cnname+"</div>");h=n.shops,p=[];for(s=a=0,l=h.length;a<l;s=++a)o=h[s],p.push(e(o.baidu_latitude,o.baidu_longitude,o));return p}})},this.addpoints=function(n){var r,i,o,u,a,f,l,c,h;s.map.clearOverlays(),h=[];for(r=l=0,c=t.length;l<c;r=++l)u=t[r],n!=null?h.push(function(){var t,r,s,l;s=u.sorts,l=[];for(a=t=0,r=s.length;t<r;a=++t)f=s[a],l.push(function(){var t,r,s;s=[];for(i=t=0,r=n.length;t<r;i=++t)o=n[i],f===o?s.push(e(u.baidu_latitude,u.baidu_longitude,u)):s.push(void 0);return s}());return l}()):h.push(e(u.baidu_latitude,u.baidu_longitude,u));return h},e=function(e,t,i){var o,u,a,f,l,c,h,p;h=new BMap.Point(t,e),i.order_level===0?c=new BMap.Icon("/assets/outlink_mapview/map_dot_grey.png",new BMap.Size(11,11)):i.order_level===21?c=new BMap.Icon("/assets/outlink_mapview/map_dot_blue.png",new BMap.Size(11,11)):i.order_level===1?c=new BMap.Icon("/assets/outlink_mapview/green_flash.gif",new BMap.Size(22,26)):i.order_level===2||i.order_level===3?c=new BMap.Icon("/assets/outlink_mapview/map_dot_orange.png",new BMap.Size(11,11)):i.order_level>3?c=new BMap.Icon("/assets/outlink_mapview/map_dot_red.png",new BMap.Size(11,11)):c=new BMap.Icon("/assets/outlink_mapview/map_dot_green.png",new BMap.Size(11,11)),o="<div style='font-size:14px;width:500px;'>店名："+i.title+"</div><br />",o+="<div style='float:left;width:200px;'><div style='font-size:12px;'>客户等级："+r[i.order_level]+"</div>",u=JSON.parse(i.content),l=new BMap.Marker(h,{icon:c}),s.map.addOverlay(l);for(f in n)p=n[f],typeof u[f]!="undefined"&&(o+="<div style='font-size:12px;'>"+p+"："+u[f]+"</div>");return o+="</div>",i.image_cover.url!=null&&(o+="<div style='float:left;'><a href='http://is.hudongka.com/"+i.image_cover.url+"' target='_blakn'><img src='http://is.hudongka.com/"+i.image_cover.url.replace(".","_0x220.")+"' height='220px;'/></a></div>"),a=new BMap.InfoWindow(o),l.addEventListener("click",function(){return this.openInfoWindow(a)})}}.call(this);var myDate=new Date,dates=myDate.getFullYear()+"-"+(myDate.getMonth()+1)+"-"+myDate.getDate(),support="MozWebSocket"in window?"MozWebSocket":"WebSocket"in window?"WebSocket":null,host="ws://websocket.nowapp.cn:13001/api/1.0/repair_map?pnum=816893519",socket=null,root=this;$(document).ready(function(){root.map=new BMap.Map("allmap"),root.map.centerAndZoom(new BMap.Point(121.44290233245,31.174887798612),15),root.map.addControl(new BMap.NavigationControl),root.map.enableScrollWheelZoom(!0),connectSocketServer(),$(".tab").click(function(){var e=$(this).attr("id");e=="signup"?($("#login").removeClass("select"),$("#signup").addClass("select"),$("#loginbox").slideUp(),$("#signupbox").slideDown()):($("#signup").removeClass("select"),$("#login").addClass("select"),$("#signupbox").slideUp(),$("#loginbox").slideDown())}),callShops()}),function(){var e,t,n,r,i,s,o,u,a,f,l;l=this,n={},s=0,i="map_dot_grey.png",f=16,a=121.522725,u=31.303178,r=["默认","A类","B类","C类","D类","E类","F类","G类","H类","I类"],t=[],$(document).ready(function(){return n=l.fields_config,l.map_size!==""&&(f=l.map_size),l.map_lon!==""&&(a=l.map_lon),l.map_lat!==""&&(u=l.map_lat),l.default_img!==""&&(i=l.default_img),l.father_sort_id!==""&&(s=l.father_sort_id),l.map=new BMap.Map("allmap"),l.map.centerAndZoom(new BMap.Point(a,u),f),l.map.addControl(new BMap.NavigationControl),l.map.enableScrollWheelZoom(!0),o()}),o=function(){return $.ajax({url:"poi_mapview_shops?father_sort_id="+s,success:function(n,r){var i,s,o,u,a,f,l,c,h,p;console.log(n.father_sorts),t=n.shops,i=n.father_sorts,c=n.father_sorts;for(s=u=0,f=c.length;u<f;s=++u)o=c[s],$("#sorts").append("<div onclick='addpoints(["+o.children.join(",")+"])' id='sort_"+o.id+"'>"+o.cnname+"</div>");h=n.shops,p=[];for(s=a=0,l=h.length;a<l;s=++a)o=h[s],p.push(e(o.baidu_latitude,o.baidu_longitude,o));return p}})},this.addpoints=function(n){var r,i,s,o,u,a,f,c,h;l.map.clearOverlays(),h=[];for(r=f=0,c=t.length;f<c;r=++f)o=t[r],n!=null?h.push(function(){var t,r,f,l;f=o.sorts,l=[];for(u=t=0,r=f.length;t<r;u=++t)a=f[u],l.push(function(){var t,r,u;u=[];for(i=t=0,r=n.length;t<r;i=++t)s=n[i],a===s?u.push(e(o.baidu_latitude,o.baidu_longitude,o)):u.push(void 0);return u}());return l}()):h.push(e(o.baidu_latitude,o.baidu_longitude,o));return h},e=function(e,t,s){var o,u,a,f,c,h,p,d;p=new BMap.Point(t,e),s.order_level===0?h=new BMap.Icon("/assets/outlink_mapview/"+i,new BMap.Size(11,11)):s.order_level===21?h=new BMap.Icon("/assets/outlink_mapview/map_dot_blue.png",new BMap.Size(11,11)):s.order_level===1?h=new BMap.Icon("/assets/outlink_mapview/green_flash.gif",new BMap.Size(22,26)):s.order_level===2||s.order_level===3?h=new BMap.Icon("/assets/outlink_mapview/map_dot_orange.png",new BMap.Size(11,11)):s.order_level>3?h=new BMap.Icon("/assets/outlink_mapview/map_dot_red.png",new BMap.Size(11,11)):h=new BMap.Icon("/assets/outlink_mapview/map_dot_green.png",new BMap.Size(11,11)),o="<div style='font-size:14px;width:500px;'>名称："+s.title+"</div><br />",o+="<div style='float:left;width:200px;'><div style='font-size:12px;'>等级："+r[s.order_level]+"</div>",u=JSON.parse(s.content),c=new BMap.Marker(p,{icon:h}),l.map.addOverlay(c);for(f in n)d=n[f],typeof u[f]!="undefined"&&(o+="<div style='font-size:12px;'>"+d+"："+u[f]+"</div>");return o+="</div>",s.image_cover.url!=null&&(o+="<div style='float:left;'><a href='http://is.hudongka.com/"+s.image_cover.url+"' target='_blakn'><img src='http://is.hudongka.com/"+s.image_cover.url.replace(".","_0x220.")+"' height='220px;'/></a></div>"),a=new BMap.InfoWindow(o),c.addEventListener("click",function(){return this.openInfoWindow(a)})}}.call(this),function(){var e,t,n,r,i,s,o,u;o=this,i=null,n="dark",r=[],e=[],s=1,t={},t.dropPrev=function(e,t,n){var i,s,o,u,a,f;u=n.getParentNode();if(u&&u.dropInner===!1)return!1;for(o=a=0,f=r.length;a<f;o=++a){s=r[o],i=r[o].getParentNode();if(i&&i!==n.getParentNode()&&i.childOuter===!1)return!1}return!0},t.dropInner=function(e,t,n){var i,s,o,u;if(n&&n.dropInner===!1)return!1;for(s=o=0,u=r.length;o<u;s=++o){i=r[s];if(!n&&r[s].dropRoot===!1)return!1;if(r[s].parentTId&&r[s].getParentNode()!==n&&r[s].getParentNode().childOuter===!1)return!1}return!0},t.dropNext=function(e,t,n){var i,s,o,u,a,f;u=n.getParentNode();if(u&&u.dropInner===!1)return!1;for(o=a=0,f=r.length;a<f;o=++a){s=r[o],i=r[o].getParentNode();if(i&&i!==n.getParentNode()&&i.childOuter===!1)return!1}return!0},t.beforeDrag=function(e,i){var s,o,u,a;n=n==="dark"?"":"dark",t.showLog("[ "+t.getTime()+" beforeDrag ]    drag: "+i.length+" nodes.");for(s=u=0,a=i.length;u<a;s=++u){o=i[s];if(i[s].drag===!1)return r=null,!1;if(i[s].parentTId&&i[s].getParentNode().childDrag===!1)return r=null,!1}return r=i,!0},t.beforeDragOpen=function(t,n){return e=n,!0},t.beforeDrop=function(e,r,i,s,o){return n=n==="dark"?"":"dark",t.showLog("[ "+t.getTime()+" beforeDrop ]    moveType:"+s),t.showLog("target: "+(i!=null?i.name:"root")+"  -- is "+(o===null?"cancel":o!=null?"copy":"move")),!0},t.onDrag=function(e,r,i){return n=n==="dark"?"":"dark",t.showLog("[ "+t.getTime()+" onDrag ]    drag: "+i.length+" nodes.")},t.onExpand=function(r,i,s){if(s===e)return n=n==="dark"?"":"dark",t.showLog("[ "+t.getTime()+" onExpand ]   "+s.name)},t.beforeEditName=function(e,r){var i;return n=n==="dark"?"":"dark",t.showLog("[ "+t.getTime()+" beforeEditName ]    "+r.name),i=$.fn.zTree.getZTreeObj("treeDemo"),i.selectNode(r)},t.beforeRemove=function(e,r){var i;return n=n==="dark"?"":"dark",t.showLog("[ "+t.getTime()+" beforeRemove ]    "+r.name),i=$.fn.zTree.getZTreeObj("treeDemo"),i.selectNode(r),confirm("确认删除 节点 -- "+r.name+" 吗？")},t.beforeRename=function(e,r,i,s){var o;return n=n==="dark"?"":"dark",t.showLog((s?"<span style='color:red'>":"")+"[ "+t.getTime()+" beforeRename ]    "+r.name+(s?"</span>":"")),i.length===0?(alert("节点名称不能为空."),o=$.fn.zTree.getZTreeObj("treeDemo"),setTimeout(function(){return o.editName(r)},10),!1):!0},t.onDrop=function(e,r,i,s,o,u){var a;return n=n==="dark"?"":"dark",t.showLog("[ "+t.getTime()+" onDrop ]    moveType:"+o),t.showLog("target: "+(s?s.name:"root")+"  -- is "+(u===null?"cancel":u?"copy":"move")),a=o==="inner"?s.id:0,$.get("modify_sort?sort_id="+i[0].id+"&father_id="+a,function(e){})},t.onRename=function(e,n,r,i){return $.get("modify_sort?sort_id="+r.id+"&name="+r.name,function(e){}),t.showLog((i?"<span style='color:red'>":"")+"[ "+t.getTime()+" onRename ]    "+r.name+(i?"</span>":""))},t.onRemove=function(e,n,r){return $.get("remove_sort?sort_id="+r.id,function(e){}),t.showLog("[ "+t.getTime()+" onRemove ]    "+r.name)},t.addHoverDom=function(e,t){var n,r,i;i=$("#"+t.tId+"_span");if(t.editNameFlag||$("#addBtn_"+t.tId).length>0)return;n="<span class='button add' id='addBtn_"+t.tId+"' title='add node' onfocus='this.blur();'></span>",i.after(n),r=$("#addBtn_"+t.tId);if(r)return r.bind("click",function(){var e;return e=$.fn.zTree.getZTreeObj("treeDemo"),$.get("add_sort?father_id="+t.id+"&name=newnode",function(n){return e.addNodes(t,{id:n.id,pId:t.id,name:"newnode"})}),!1})},t.removeHoverDom=function(e,t){return $("#addBtn_"+t.tId).unbind().remove()},t.showLog=function(e){return console.log(e)},t.getTime=function(){var e,t,n,r,i;return r=new Date,e=r.getHours(),t=r.getMinutes(),i=r.getSeconds(),n=r.getMilliseconds(),e+":"+t+":"+i+" "+n},t.setTrigger=function(){var e;return e=$.fn.zTree.getZTreeObj("treeDemo"),e.setting.edit.drag.autoExpandTrigger=$("#callbackTrigger").attr("checked")},u={view:{addHoverDom:t.addHoverDom,removeHoverDom:t.removeHoverDom,selectedMulti:!1},edit:{drag:{autoExpandTrigger:!0,prev:t.dropPrev,inner:t.dropInner,next:t.dropNext},enable:!0,editNameSelectAll:!0,showRemoveBtn:!0,showRenameBtn:!0},data:{simpleData:{enable:!0}},callback:{beforeDrag:t.beforeDrag,beforeDrop:t.beforeDrop,beforeDragOpen:t.beforeDragOpen,onDrag:t.onDrag,onDrop:t.onDrop,onExpand:t.onExpand,beforeEditName:t.beforeEditName,beforeRemove:t.beforeRemove,beforeRename:t.beforeRename,onRemove:t.onRemove,onRename:t.onRename}},$(document).ready(function(){return $.get("ssort",function(e){var n,r,i;if(e.length<80)for(r=0,i=e.length;r<i;r++)n=e[r],n.open=!0;return $.fn.zTree.init($("#treeDemo"),u,e),$("#callbackTrigger").bind("change",{},t.setTrigger)})})}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){this.codeActionForm=function(e){return $("#contentid").val(""),$("#codeid").val(e),$("#code_action").modal("show")},this.saveCodeAction=function(){return $.get("save_action.json?id="+$("#codeid").val()+"&contentid="+$("#contentid").val(),function(e){return $("#code_action").modal("hide"),getCodeInfo($("#codeid").val())})},this.getCodeInfo=function(e){return $.get("show.json?id="+e,function(e){return $("#modal_data").html(e.data),$("#modal_url").html(e.url),$("#modal_project").html(e.project_info_id),$("#modal_batch_value").html(e.batch_value),$("#modal_created_at").html(e.created_at),$("#code_info").modal("show")})},this.showCodeAddForm=function(){return $("#code_add").modal("show")},this.saveCodeAddForm=function(){var e;return $("#code_add .btn-primary").attr("disabled","true"),e="add.json?batch_value="+$("#batch_value").val()+"&project_info_id="+$("#project_info_id").val()+"&url="+$("#url").val()+"&enabled="+$("#enabled").val()+"&num="+$("#num").val(),$.get(e,function(e){return $("#code_add").modal("hide"),$("#code_add .btn-primary").attr("disabled","false"),$("#code_add_form input").val("")})}}.call(this),function(){}.call(this),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype={constructor:n,close:function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),i.trigger("close"),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger("close").removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()}},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){"use strict";var t={lookup:function(t){var n;return this.query=this.$element.val()||"",this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?(this.query.length&&(t=t.slice(0,this.options.items)),this.render(t).show()):this.shown?this.hide():this},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),this.query.length>0&&t.first().addClass("active"),this.$menu.html(t),this},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]);if(t.keyCode===9){if(!this.shown)return;this.select()}else this.move(t)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0,this.mousedover||this.lookup(e)}};e.extend(e.fn.typeahead.Constructor.prototype,t)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype={constructor:t,setState:function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html"
;e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},toggle:function(){var e=this.$element.parent('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")}},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.carousel.defaults,n),this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(){return this.interval=setInterval(e.proxy(this.next,this),this.options.interval),this},to:function(t){var n=this.$element.find(".active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(){return clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u]();if(i.hasClass("active"))return;return!e.support.transition&&this.$element.hasClass("slide")?(this.$element.trigger("slide"),r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")):(i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.trigger("slide"),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})),s&&this.cycle(),this}},e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=typeof n=="object"&&n;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):typeof n=="string"||(n=s.slide)?i[n]():i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=!i.data("modal")&&e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find(".in"),i;r&&r.length&&(i=r.data("collapse"),r.collapse("hide"),i||r.data("collapse",null)),this.$element[t](0),this.transition("addClass","show","shown"),this.$element[t](this.$element[0][n])},hide:function(){var e=this.dimension();this.reset(this.$element[e]()),this.transition("removeClass","hide","hidden"),this.$element[e](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n=="show"&&i.reset(),i.$element.trigger(r)};this.$element.trigger(n)[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();e(i).collapse(s)})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.before=this.options.before||this.before,this.onItem=this.options.onItem||this.onItem,this.options.target&&this.$element.attr("data-target",this.options.target),this.listen()};t.prototype={constructor:t,show:function(t){var n=e(this),r,i,s;if(n.is(".disabled, :disabled"))return;s=e.Event("context");if(!this.before.call(this,t,this.$element))return;this.$element.trigger(s),r=this.getMenu();var o=this.getPosition(t,r);return r.attr("style","").css(o).addClass("open"),!1},closemenu:function(e){this.getMenu().removeClass("open")},before:function(e){return!0},onItem:function(e,t){return!0},listen:function(){var t=this;this.$element.on("contextmenu.context.data-api",e.proxy(this.show,this)),e("html").on("click.context.data-api",e.proxy(this.closemenu,this));var n=e(this.$element.attr("data-target"));n.on("click.context.data-api",function(n){t.onItem.call(this,n,e(n.target))}),e("html").on("click.context.data-api",function(e){e.ctrlKey||n.removeClass("open")})},getMenu:function(){var t=this.$element.attr("data-target"),n;return t||(t=this.$element.attr("href"),t=t&&t.replace(/.*(?=#[^\s]*$)/,"")),n=e(t),n},getPosition:function(t,n){var r=t.clientX,i=t.clientY,s=e(window).width(),o=e(window).height(),u=n.find(".dropdown-menu").outerWidth(),a=n.find(".dropdown-menu").outerHeight(),f={position:"fixed"},l,c;return i+a>o?l={top:i-a}:l={top:i},r+u>s&&r-u>0?c={left:r-u}:c={left:r},e.extend(f,l,c)},clearMenus:function(t){t.ctrlKey||e("[data-toggle=context]").each(function(){this.getMenu().removeClass("open")})}},e.fn.contextmenu=function(n,r){return this.each(function(){var i=e(this),s=i.data("context"),o=typeof n=="object"&&n;s||i.data("context",s=new t(this,o)),typeof n=="string"&&s[n].call(s,r)})},e.fn.contextmenu.Constructor=t,e(document).on("contextmenu.context.data-api","[data-toggle=context]",function(t){e(this).contextmenu("show",t),t.preventDefault()})}(window.jQuery),!function(e){"use strict";function r(){e(t).parent().removeClass("open")}var t='[data-toggle="dropdown"]',n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),i=n.attr("data-target"),s,o;return i||(i=n.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),s=e(i),s.length||(s=n.parent()),o=s.hasClass("open"),r(),!o&&s.toggleClass("open"),!1}},e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e(function(){e("html").on("click.dropdown.data-api",r),e("body").on("click.dropdown.data-api",t,n.prototype.toggle)})}(window.jQuery),!function(e){"use strict";function n(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),r.call(t)},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),r.call(t)})}function r(e){this.$element.hide().trigger("hidden"),i.call(this)}function i(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(s,this)):s.call(this)):t&&t()}function s(){this.$backdrop.remove(),this.$backdrop=null}function o(){var t=this;this.isShown&&this.options.keyboard?e(document).on("keyup.dismiss.modal",function(e){e.which==27&&t.hide()}):this.isShown||e(document).off("keyup.dismiss.modal")}var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this))};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this;if(this.isShown)return;e("body").addClass("modal-open"),this.isShown=!0,this.$element.trigger("show"),o.call(this),i.call(this,function(){var n=e.support.transition&&t.$element.hasClass("fade");!t.$element.parent().length&&t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in"),n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")})},hide:function(t){t&&t.preventDefault();if(!this.isShown)return;var i=this;this.isShown=!1,e("body").removeClass("modal-open"),o.call(this),this.$element.trigger("hide").removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?n.call(this):r.call(this)}},e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({},i.data(),n.data());t.preventDefault(),i.modal(s)})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var t=this.tip(),n=this.getTitle(),r=this.getContent();t.find(".popover-title")[e.type(n)=="object"?"append":"html"](n),t.find(".popover-content > *")[e.type(r)=="object"?"append":"html"](r),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e=e.toString().replace(/(^\s*|\s*$)/,""),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip}}),e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body").on("click.scroll.data-api",this.selector,r),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){this.targets=this.$body.find(this.selector).map(function(){var t=e(this).attr("href");return/^#\w/.test(t)&&e(t).length?t:null}),this.offsets=e.map(this.targets,function(t){return e(t).position().top})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.offsets,n=this.targets,r=this.activeTarget,i;for(i=t.length;i--;)r!=n[i]&&e>=t[i]&&(!t[i+1]||e<=t[i+1])&&this.activate(n[i])},activate:function(e){var t;this.activeTarget=e,this.$body.find(this.selector).parent(".active").removeClass("active"),t=this.$body.find(this.selector+'[href="'+e+'"]').parent("li").addClass("active"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active")}},e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active a").last()[0],t.trigger({type:"show",relatedTarget:i}),s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);!n.options.delay||!n.options.delay.show?n.show():(n.hoverState="in",setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show))},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);!n.options.delay||!n.options.delay.hide?n.hide():(n.hoverState="out",setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide))},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip();e.find(".tooltip-inner").html(this.getTitle()),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var t=this,n=this.tip();n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e=(e||"").toString().replace(/(^\s*|\s*$)/,""),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,getDisplayText:function(e){return this.options.displayField?e[this.options.displayField]:e},getValueText:function(e){return this.options.valueField?e[this.options.valueField]:e},select:function(){var e=this.$menu.find(".active").data("data-value"),t=this.updater(e);return this.$element.val(t).change(),this.options.itemSelected&&this.options.itemSelected.call(this,e,t,this.getValueText(e)),this.hide()},updater:function(e){return this.getDisplayText(e)},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,""==this.query&&n.length<this.options.minShowall?this.process(n):!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:n?this.process(n):this},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~this.getDisplayText(e).toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i,s;while(i=e.shift())s=this.getDisplayText(i),s.toLowerCase().indexOf(this.query.toLowerCase())?~s.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){var i=n.getDisplayText(r);return t=e(n.options.item).data("data-value",r),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0,this.lookup()},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i?(e.extend(i,s),n&&e.extend(i,s)):r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1,minShowall:16},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;n.typeahead(n.data())})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(e),this.$element.change(),this.hide()},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n=this,r,i;return this.query=this.$element.val(),this.query?(r=e.grep(this.source,function(e){if(n.matcher(e))return e}),r=this.sorter(r),r.length?this.render(r.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){return e.replace(new RegExp("("+this.query+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),(e.browser.webkit||e.browser.msie)&&this.$element.on("keydown",e.proxy(this.keypress,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},keypress:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})})}(window.jQuery),function(e){"use strict";var t=function(t){var n=e.Deferred(),r=new FileReader;return r.onload=function(e){n.resolve(e.target.result)},r.onerror=n.reject,r.onprogress=n.notify,r.readAsDataURL(t),n.promise()};e.fn.cleanHtml=function(){var t=e(this).html();return t&&t.replace(/(<br>|\s|<div><br><\/div>|&nbsp;)*$/,"")},e.fn.wysiwyg=function(n){var r=this,i,s,o,u=function(){s.activeToolbarClass&&e(s.toolbarSelector).find(o).each(function(){var t=e(this).data(s.commandRole);document.queryCommandState(t)?e(this).addClass(s.activeToolbarClass):e(this).removeClass(s.activeToolbarClass)})},a=function(e,t){var n=e.split(" "),r=n.shift(),i=n.join(" ")+(t||"");document.execCommand(r,0,i),u()},f=function(t){e.each(t,function(e,t){r.keydown(e,function(e){r.attr("contenteditable")&&r.is(":visible")&&(e.preventDefault(),e.stopPropagation(),a(t))}).keyup(e,function(e){r.attr("contenteditable")&&r.is(":visible")&&(e.preventDefault(),e.stopPropagation())})})},l=function(){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)},c=function(){i=l()},h=function(){var e=window.getSelection();if(i){try{e.removeAllRanges()}catch(t){document.body.createTextRange().select(),document.selection.empty()}e.addRange(i)}},p=function(n){r.focus(),e.each(n,function(n,r){/^image\//.test(r.type)?e.when(t(r)).done(function(e){a("insertimage",e)}).fail(function(e){s.fileUploadError("file-reader",e)}):s.fileUploadError("unsupported-file-type",r.type)})},d=function(e,t){h(),document.queryCommandSupported("hiliteColor")&&document.execCommand("hiliteColor",0,t||"transparent"),c(),e.data(s.selectionMarker,t)},v=function(t,n){t.find(o).click(function(){h(),r.focus(),a(e(this).data(n.commandRole)),c()}),t.find("[data-toggle=dropdown]").click(h),t.find("input[type=text][data-"+n.commandRole+"]").on("webkitspeechchange change",function(){var t=this.value;this.value="",h(),t&&(r.focus(),a(e(this).data(n.commandRole),t)),c()}).on("focus",function(){var t=e(this);t.data(n.selectionMarker)||(d(t,n.selectionColor),t.focus())}).on("blur",function(){var t=e(this);t.data(n.selectionMarker)&&d(t,!1)}),t.find("input[type=file][data-"+n.commandRole+"]").change(function(){h(),this.type==="file"&&this.files&&this.files.length>0&&p(this.files),c(),this.value=""})},m=function(){r.on("dragenter dragover",!1).on("drop",function(e){var t=e.originalEvent.dataTransfer;e.stopPropagation(),e.preventDefault(),t&&t.files&&t.files.length>0&&p(t.files)})};return s=e.extend({},e.fn.wysiwyg.defaults,n),o="a[data-"+s.commandRole+"],button[data-"+s.commandRole+"],input[type=button][data-"+s.commandRole+"]",f(s.hotKeys),s.dragAndDropImages&&m(),v(e(s.toolbarSelector),s),r.attr("contenteditable",!0).on("mouseup keyup mouseout",function(){c(),u()}),e(window).bind("touchend",function(e){var t=r.is(e.target)||r.has(e.target).length>0,n=l(),i=n&&n.startContainer===n.endContainer&&n.startOffset===n.endOffset;if(!i||t)c(),u()}),this},e.fn.wysiwyg.defaults={hotKeys:{"ctrl+b meta+b":"bold","ctrl+i meta+i":"italic","ctrl+u meta+u":"underline","ctrl+z meta+z":"undo","ctrl+y meta+y meta+shift+z":"redo","ctrl+l meta+l":"justifyleft","ctrl+r meta+r":"justifyright","ctrl+e meta+e":"justifycenter","ctrl+j meta+j":"justifyfull","shift+tab":"outdent",tab:"indent"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0,fileUploadError:function(e,t){console.log("File upload error",e,t)}}}(window.jQuery),!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children
(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),f=e.Event("slide",{relatedTarget:i[0]});if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){"use strict";function r(){e(t).each(function(){i(e(this)).removeClass("open")})}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||s.toggleClass("open"),n.focus(),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider):visible a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",r).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.offset(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.detach(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n[n.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+t.$scrollElement.scrollTop(),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),function(){setTimeout(function(){return $("#main-frame-content .flash").hide()},2e3)}.call(this),Ext.ns("_KM","_KM.Component","_KM.Event","_KM.Controls","_KM.Controls.UI","_KM.Controls.plugins","_KM.Controls.ViewPaging","_KM.Node","_KM.Android.Controls","_KM.Android.Configs"),Array.prototype.clear=function(){this.length=0},Array.prototype.insertAt=function(e,t){this.splice(e,0,t)},Array.prototype.removeAt=function(e){this.splice(e,1)},Array.prototype.remove=function(e){var t=this.indexOf(e);t>=0&&this.removeAt(t)},function(){var lt={Fn:{replaceURLWithHTMLLinks:function(e){var t=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;return e.replace(t,"<a target='_blank' href='$1'>$1</a>")},isUrl:function(e){var t=["^((https|http|ftp|rtsp|mms)?://)","?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?","(([0-9]{1,3}.){3}[0-9]{1,3}","|","([0-9a-z_!~*'()-]+.)*","([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].","[a-z]{2,6})","(:[0-9]{1,4})?"].join(""),n=new RegExp(t);return n.test(e)?!0:!1},htmlToText:function(e){var t=$("<textarea>");return t.html(e),t.val()}},getMaxZindex:function(e){var t=e.jQuery?e:$(e),n=0,r;return $("*",t).each(function(){e.style&&(r=e.style["z-index"])!="auto"&&r>n&&(n=r)}),n},getUserName:function(e){return e==null?"":e.replace(/^[^\\]+\\/g,"")},getByteLen:function(e){var t=0;for(var n=0;n<e.length;n++)e.charCodeAt(n)>255?t+=2:t++;return t},ellipsis:function(e,t,n){if(!e||!t)return"";n=n==null?"...":n;var r=0,i=[];for(var s=0;s<e.length;s++){e.charCodeAt(s)>255?r+=2:r++;if(r>t)return i.push(n),i.join("");i.push(e.charAt(s))}return t>r?e:(i.push(n),i.join(""))},getjQueryObject:function(e,t){return e==null?null:t?$.isFunction(e)?$(e(t)):$(e,t):e instanceof jQuery?e:$.isFunction(e)?$(e()):$(e)},getDom:function(e){return e instanceof jQuery?e.get(0):e},stopEvent:function(e){e||(e=window.event),e.stopPropagation(),e.preventDefault()},getRecord:function(p,trim){var o={},els=$("input:radio[dataIndex*=],textarea[dataIndex*=],input:text[dataIndex*=],input:hidden[dataIndex*=],select[dataIndex*=]",p);return $.each(els,function(){var el=this,jel=$(this),dataIndex=jel.attr("dataIndex"),getFn=jel.attr("getValueFn"),getHandler=jel.attr("getValueHandler"),value=undefined;getFn?value=eval("("+getFn+').call(this,"'+dataIndex+'",el);'):getHandler?value=eval("(function(dataIndex,el){"+getHandler+"}).call(this,dataIndex,el);"):this.value!=undefined&&(value=trim===!0?$.trim(this.value):this.value);if(value===undefined)return;var v=o[dataIndex];v===undefined?o[dataIndex]=value:$.isArray(v)?v.push(this.value):o[dataIndex]=[v,value]}),o},setRecord:function(p,reocrd){reocrd=reocrd||{};var els=$("[dataIndex*=]",p);$.each(els,function(){var el=this,jel=$(this),dataIndex=jel.attr("dataIndex"),setFn=jel.attr("setValueFn"),setHandler=jel.attr("setValueHandler"),value=reocrd[dataIndex];if(setFn)eval("("+setFn+').call(this,value,record,"'+dataIndex+'",el);');else if(setHandler)eval("(function(value,record,dataIndex,el){"+getHandler+"}).call(this.caller||this,value,record,dataIndex,el);");else if(this.value!=undefined)if(jel.is(":checkbox,:radio")){if($.isArray(value))this.checked=jQuery.inArray(this.value,value);else if(typeof value=="String"){var reg=new RegExp("W+"+this.value+"W+","ig");this.checked=reg.test("|"+value+"|")}}else jel.val(value)})},setDefaultImage:function(e){$(e).find("img").bind("error",function(){this.src="/Images/avatar.gif"})},validImageFile:function(e,t){var n=$.trim(e.value).toLowerCase();if(!n.length)return t.push("请选择文件"),!1;var r=[".jpg",".jpeg",".gif",".png",".bmp"];return n=n.match(/\.[^\.]+$/),n=n?n[0]:null,!n||$.inArray(n,r)==-1?(t.push("文件格式不正确，格式为:"+r.join("")),!1):e.fileSize&&e.fileSize>102400?(t.push("上传文件大小不能超过100K"),!1):!0},getCenterPostion:function(e){var t={},n;window.innerHeight?(n=window,t.left=window.pageXOffset,t.top=window.pageYOffset):document.documentElement&&document.documentElement.scrollTop!=null?(n=document.documentElement,t.left=document.documentElement.scrollLeft,t.top=document.documentElement.scrollTop):document.body&&(n=document.body,t.left=document.body.scrollLeft,t.top=document.body.scrollTop);var r={left:($(n).width()-$(e).width())/2,top:($(n).height()-$(e).height())/2};return t.left+=r.left,t.top+=r.top,t}};Ext.apply(_KM,lt)}(),_KM.TextareaUtils=function(){var e={},t=document.selection;return e.selectionStart=function(e){e.focus();try{if(!t)return e.selectionStart;var n=t.createRange(),r,i,s=0,o=document.body.createTextRange();o.moveToElementText(e);for(s;o.compareEndPoints("StartToStart",n)<0;s++)o.moveStart("character",1)}catch(u){}return s},e.selectionBefore=function(t){return t.value.slice(0,e.selectionStart(t))},e.selectText=function(e,n,r){e.focus();if(!t){e.setSelectionRange(n,r);return}var i=e.createTextRange();i.collapse(1),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()},e.insertText=function(n,r,i,s){n.focus(),s=s||0,i===undefined&&(i=e.selectionStart(n));if(!t){var o=n.value,u=i-s,f=u+r.length;n.value=o.slice(0,u)+r+o.slice(i,o.length),e.selectText(n,f,f)}else{var l=t.createRange();l.moveStart("character",-s),l.text=r}},e.getCursorPos=function(e){var n=0;if($.browser.msie){e.focus();var r=null;r=t.createRange();var i=r.duplicate();i.moveToElementText(e),i.setEndPoint("EndToEnd",r),e.selectionStart=i.text.length-r.text.length,e.selectionEnd=e.selectionStart+r.text.length,n=e.selectionStart}else if(e.selectionStart||e.selectionStart=="0")n=e.selectionStart;return n},e.getSelectedText=function(e){var n="",r=function(e){return e.selectionStart!=undefined&&e.selectionEnd!=undefined?e.value.substring(e.selectionStart,e.selectionEnd):""};return window.getSelection?n=r(e):n=t.createRange().text,n},e.setCursor=function(e,t,n){t=t==null?e.value.length:t,n=n==null?0:n;try{e.focus();if(e.createTextRange){var r=e.createTextRange();r.move("character",t),r.moveEnd("character",n),r.select()}else e.setSelectionRange(t,t+n)}catch(i){}},e.unCoverInsertText=function(e,t,n){n=n==null?{}:n,n.rcs=n.rcs==null?e.value.length:n.rcs*1,n.rccl=n.rccl==null?0:n.rccl*1;var r=e.value,i=r.slice(0,n.rcs),s=r.slice(n.rcs+n.rccl,r==""?0:r.length);e.value=i+t+s,this.setCursor(e,n.rcs+(t==null?0:t.length))},e}(),_KM.EncodeUtils=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","\\":"&#92;","&":"&amp;","'":"&#039;","\r":"","\n":"<br>"},t=/<|>|\'|\"|&|\\|\r\n|\n| /gi,n={};return n.regexp=function(e){return e.replace(/\}|\]|\)|\.|\$|\^|\{|\[|\(|\|\|\*|\+|\?|\\/gi,function(e){return e=e.charCodeAt(0).toString(16),"\\u"+(new Array(5-e.length)).join("0")+e})},n.html=function(n,r){return r=r||e,n.replace(t,function(e){return r[e]})},n}(),_KM.Event=function(e){this.initialConfig=e,Ext.apply(this,e),this.events||(this.events={}),_KM.Event.superclass.constructor.call(this),e&&e.eventConfigs&&this.addEvents(e.eventConfigs)},Ext.extend(_KM.Event,Ext.util.Observable),_KM.Component=function(e){this.initialConfig=e,Ext.apply(this,e),this.events||(this.events={}),_KM.Component.superclass.constructor.call(this),this.initComponent();if(this.plugins)if(Ext.isArray(this.plugins))for(var t=0,n=this.plugins.length;t<n;t++)this.plugins[t]=this.initPlugin(this.plugins[t]);else this.plugins=this.initPlugin(this.plugins)},Ext.extend(_KM.Component,Ext.util.Observable,{initEvents:function(){},initComponent:function(){this.initEvents(),this.listeners&&(this.on(this.listeners),delete this.listeners)},initPlugin:function(e){return e.init(this),e},render:function(){}}),_KM.Controls.uiComponent=Ext.extend(_KM.Component,{initComponent:function(){var e=this.initialConfig;_KM.Controls.uiComponent.superclass.initComponent.call(this),this.addEvents("beforehide","beforeshow","show","hide","beforerender","render","enable","disable","readonly","resize"),Ext.applyIf(this,{items:[]})},setItemsDisable:function(e){var t=this;t.items&&t.items.length&&Ext.each(t.items,function(t){t.setDisable&&t.setDisable(e)})},onRender:function(e,t){var n=this.builderEl(),r;if(n)if(t)r=_KM.getjQueryObject(t),this.jel=_KM.getjQueryObject(n).insertBefore(r);else if(e)this.jel=_KM.getjQueryObject(n).appendTo(e);else if(this.renderTo)r=_KM.getjQueryObject(this.renderTo),this.jel=_KM.getjQueryObject(n).appendTo(r);else if(this.applyTo){this.jel=_KM.getjQueryObject(this.applyTo);var i=_KM.getjQueryObject(n),s=i.children();i&&s.length&&(this.jel.append(s),i.remove())}else this.jel=_KM.getjQueryObject(n).appendTo(e||document.body);else this.applyTo&&(this.jel=_KM.getjQueryObject(this.applyTo))},render:function(e,t){var n=this;if(!this.rendered&&this.fireEvent("beforerender",this)!==!1){this.rendered=!0,this.jcontainer=_KM.getjQueryObject(e);var r=null;t!==undefined&&(typeof t=="number"?r=this.jcontainer.children().eq(t):r=_KM.getjQueryObject(t,this.jcontainer)),this.onRender(this.jcontainer,r||null),this.cls&&(this.addClass(this.cls),delete this.cls);if(this.style){if(typeof this.style=="string"){var s=$.trim
(this.style).split(/\s*(?::|;)\s*/);for(len=s.length,i=0;i<len;)this.jel.css(s[i++],s[i++])}else this.jel.css(this.style);delete this.style}this.width!=null&&(this.jel.get(0).style.width=this.width,delete this.width),this.height!=null&&(this.jel.get(0).style.height=this.height,delete this.height),this.fireEvent("render",this),this.hidden===!0?this.hide():this.show(),this.html&&(this.jel.html(this.html),delete this.html),this.disabled&&this.disable(),this.afterRender&&this.afterRender(e),this.jel&&this.jel.bind("resize",function(e){n.onResize(e)})}},onResize:function(e){this.fireEvent("resize",this,e)},getWidth:function(){return this.jel.width()},setWidth:function(e){this.jel.width(e)},getHeight:function(){return this.jel.height()},setHeight:function(e){this.jel.height(e)},addClass:function(e){return this.jel.addClass(e),this},removeClass:function(){return this.jel.removeClass(value),this},getFormElements:function(){var e=":input,:textarea,:radio,:checkbox",t=this.jel.filter(selector);return t.add(this.jel.find(selector)),t},setDisable:function(e){return e?this.disable(!1):this.enable(!1),this},alertDisabledMsg:function(e){e=e||this.disabledMessage||"此控件被禁用",e&&alert(e)},setDisabledMsg:function(e,t){this.disabledMessage=e;var n=this;if(t===!1)return;n.items&&n.items.length&&Ext.each(n.items,function(t){t.setDisabledMsg&&t.setDisabledMsg(e)})},enable:function(e){return this.disabled=!1,this.fireEvent("enable",this),this.setItemsDisable&&this.setItemsDisable(!1),this},disable:function(e){return this.disabled=!0,this.fireEvent("disable",this),this.setItemsDisable&&this.setItemsDisable(!0),this},setReadonly:function(e,t){var n=this.getFormElements();return n.attr("readonly",e),this.readonly=e,t===!1?this:(this.fireEvent("readonly",this,e,n),this)},isVisible:function(){return this.hidden===!1},getOffset:function(){return this.jel.offset()},setOffset:function(e){if(typeof e=="string"){if(e=="center"){var t=_KM.getCenterPostion(this.jel);t.top<0&&(t.top=0),this.jel.offset(t)}}else this.jel.offset(e)},builderEl:function(){},hide:function(e){if(this.fireEvent("beforehide",this)===!1)return;this.hidden=!0,e&&this.jel.css(e),this.jel.hide(),this.fireEvent("hide",this)},show:function(e){if(this.fireEvent("beforeshow",this)===!1)return;this.hidden=!1,e&&this.jel.css(e),this.jel.show(),this.fireEvent("show",this)},destroy:function(){if(this.fireEvent("beforedestroy",this)===!1)return!1;this.jel&&(this.jel.remove(),this.jel=null);if(this.items&&this.items.length){for(var e=0;e!=this.items.length;e++){var t=this.items[e];t.destroy&&t.destroy(),delete t}delete this.items}this.fireEvent("destroy",this)},zindex:function(){return this.jel.css("z-index")},toggle:function(){this.hidden?this.show():this.hide()},hasEl:function(e){return $(e).closest(this.jel).length},setCss:function(e){this.jel.css(e)},getCss:function(){return this.jel.css()}}),_KM.Android.Configs={FieldSetConfig:[{name:"control_id"},{name:"xtype"},{name:"layout"},{name:"position",type:"array",mode:"column",fields:[{name:"key",type:"string"},{name:"value",type:"string"}]},{name:"attr",type:"column",fields:[{name:"key",type:"string"},{name:"value",type:"string"}]},{name:"configs",type:"array",mode:"column",fields:[{name:"key",type:"string"},{name:"value",type:"string"}]},{name:"setEvent",type:"object",fields:[{name:"name",type:"string"},{name:"params",type:"array",mode:"column",fields:[{name:"key",type:"string"},{name:"value",type:"string",defaultValue:"缺省值"}]},{name:"javascript",type:"javascript"}]},{name:"dataSource",type:"object",fields:[{name:"method",type:"string"},{name:"params",type:"array",mode:"column",fields:[{name:"key",type:"string"},{name:"value",type:"string"}]},{name:"data",type:"json"},{name:"adapter",type:"array",mode:"column",fields:[{name:"key",type:"string"},{name:"value",type:"string"}]}]}],PageSetConfig:[{name:"name",type:"string"},{name:"page_id",type:"string"},{name:"dataSource",type:"object",fields:[{name:"method",type:"string"},{name:"params",type:"array",mode:"column",fields:[{name:"key",type:"string"},{name:"value",type:"string"}]},{name:"data",type:"json"},{name:"adapter",type:"array",mode:"column",fields:[{name:"key",type:"string"},{name:"value",type:"string"}]}]},{name:"configs",type:"array",mode:"column",fields:[{name:"key",type:"string"},{name:"value",type:"string"}]},{name:"auto_start_controls",type:"array",memberType:"string"}]},_KM.Android.Controls.FieldSetControl=Ext.extend(_KM.Controls.uiComponent,{setValue:function(e){if(!e)return;var t=this,n=t.head_el,r=t.table_content_el,i=t.children_el,s=t.table_el,o=t.controls_el,u=t.configItem;if(!u)return;var a=$.type(u),f=u.type,l=t.complexMembers,c=t.simpleMembers,h=u.mode,p=f=="array"&&u.memberType=="string";if(h=="column"||p){r.empty();var d=u.fields;e&&$.isArray(e)&&$.each(e,function(e,n){var i=t.addTableRowByColumnMode(d,r);i.find("[dataIndex]").each(function(){var e=$(this);p?e.val(n):e.val(n[e.attr("dataIndex")])})})}else if(f=="object"||!f)r.find("[dataIndex]").each(function(){var t=$(this);e&&t.val(e[t.attr("dataIndex")]||"")}),$.each(this.items,function(t,n){var r=l[t],i=e[r.name];i&&n.setValue(i)})},getValue:function(){var e=this,t=e.head_el,n=e.table_content_el,r=e.children_el,i=e.table_el,s=e.controls_el,o=e.configItem;if(!o)return;var u=$.type(o),a=o.type,f=e.complexMembers,l=e.simpleMembers,c=null,h=o.mode,p=a=="array"&&o.memberType=="string";if(h=="column"||p)c=[],p?n.find(":text").each(function(){c.push($(this).val())}):n.find("tr").each(function(e){var t={},n=$(this);n.find(":text").each(function(){var e=$(this);t[e.attr("dataIndex")]=e.val()}),c.push(t)});else if(a=="object"||!a)c={},n.find(":text").each(function(){var e=$(this);c[e.attr("dataIndex")]=e.val()}),$.each(this.items,function(e,t){var n=f[e],r=n.type;c[n.name]=t.getValue()});return c},addTableRowByColumnMode:function(e,t){var n=[];n.push("<tr>");for(var r=0;r<e.length;r++){var i=e[r],s=i.name,o=i.defaultValue||"";n.push('<td><input type="text" class="input-medium" dataIndex="',s,'" name="',s,'" value="',o,'" ></td>')}n.push('<td><input type="button" class="btn delete" value="删除"> </td></tr>');var u=$(n.join("")).appendTo(t);return u.find(":button").click(function(){$(this).closest("tr").remove()}),u},setConfig:function(e,t){var n=this,r=n.head_el,i=n.table_content_el,s=n.children_el,o=this.table_el,u=this.controls_el;if(!e)return;n.Key=t||e.name,n.configItem=e,r.text(t);var a=$.type(e),f=e.type,l=e.mode;if(f=="object"||!f){var c=n.complexMembers=[],h=n.simpleMembers=[],p=a=="array"?e:e.fields;if(p)$.each(p,function(e,t){t.type=="string"||t.type=="json"||t.type=="javascript"||!t.type?h.push(t):(t.type=="object"||t.type=="array"||t.mode=="column")&&c.push(t)});else for(var d in e){var v=e[d];v.name=d,v.type=="string"||v.type=="json"||v.type=="javascript"||!v.type?h.push(v):(v.type=="object"||v.mode=="array"||v.mode=="column")&&c.push(v)}i.empty(),$.each(h,function(e,t){var n=t.name,r=t.defaultValue||"";$(["<tr><td>",t.name,'</td><td><input type="text" class="input-medium" name="',n,'" dataIndex="',n,'" value="',r,'" /></td><td><span class="default">',r,"</span></td></tr>"].join("")).appendTo(i)}),$(n.items,function(e,t){t&&t.destroy()}),n.items=[],c.length&&$.each(c,function(e,t){var r=new _KM.Android.Controls.FieldSetControl({renderTo:s});n.items.push(r),r.render(),r.setConfig(t,t.name)})}else if(l=="column"||f=="array"&&e.memberType=="string"){var m=o.find("thead tr").empty();i.empty();var p=l=="column"?e.fields:[{name:"value"}],g=[];$.each(p,function(e,t){g.push("<td>",t.name,"</td>")}),g.push('<td><input type="button" class="btn add" value="添加" /></td>'),m.html(g.join("")).find(":button").click(function(){n.addTableRowByColumnMode(p,i)})}},getConfig:function(){return this.configItem},builderEl:function(){var e=["<fieldset>",'<legend class="ctl-data-group-head"></legend>','<div class="ctl-data-group-body">',"<table>","<thead>","<tr>","<th>名称</th>","<th>值</th>","<th>缺省</th>","</tr>","</thead>","<tbody></tbody>","</table>","</div>",'<div class="ctl-data-group-children"></div>','<div class="ctl-data-group-controls"></div>',"</fieldset>"].join("");return e},render:function(e){_KM.Android.Controls.FieldSetControl.superclass.render.call(this,e);var t=this,n=t.el=this.jel,r=t.head_el=n.find(".ctl-data-group-head"),i=t.body_el=n.find(".ctl-data-group-body"),s=t.children_el=n.find(".ctl-data-group-children"),o=this.table_el=i.find("table"),u=this.table_content_el=o.find("tbody"),a=this.controls_el=this.jel.find(".ctl-data-group-controls");this.configItem&&this.setConfig(this.configItem)},items:[],controls:[]}),Ext.ns("_KM","_KM.Component","_KM.Event","_KM.Controls","_KM.Controls.UI","_KM.Controls.plugins","_KM.Controls.ViewPaging","_KM.Node","_KM.Android.Controls","_KM.Android.Configs"),Array.prototype.clear=function(){this.length=0},Array.prototype.insertAt=function(e,t){this.splice(e,0,t)},Array.prototype.removeAt=function(e){this.splice(e,1)},Array.prototype.remove=function(e){var t=this.indexOf(e);t>=0&&this.removeAt(t)},function(){var lt={Fn:{replaceURLWithHTMLLinks:function(e){var t=/(\b(https?|ft):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;return e.replace(t,"<a target='_blank' href='$1'>$1</a>")},isUrl:function(e){var t=["^((https|http|ftp|rtsp|mms)?://)","?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?","(([0-9]{1,3}.){3}[0-9]{1,3}","|","([0-9a-z_!~*'()-]+.)*","([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].","[a-z]{2,6})","(:[0-9]{1,4})?"].join(""),n=new RegExp(t);return n.test(e)?!0:!1},htmlToText:function(e){var t=$("<textarea>");return t.html(e),t.val()}},getMaxZindex:function(e){var t=e.jQuery?e:$(e),n=0,r;return $("*",t).each(function(){e.style&&(r=e.style["z-index"])!="auto"&&r>n&&(n=r)}),n},getUserName:function(e){return e==null?"":e.replace(/^[^\\]+\\/g,"")},getByteLen:function(e){var t=0;for(var n=0;n<e.length;n++)e.charCodeAt(n)>255?t+=2:t++;return t},ellipsis:function(e,t,n){if(!e||!t)return"";n=n==null?"...":n;var r=0,i=[];for(var s=0;s<e.length;s++){e.charCodeAt(s)>255?r+=2:r++;if(r>t)return i.push(n),i.join("");i.push(e.charAt(s))}return t>r?e:(i.push(n),i.join(""))},getjQueryObject:function(e,t){return e==null?null:t?$.isFunction(e)?$(e(t)):$(e,t):e instanceof jQuery?e:$.isFunction(e)?$(e()):$(e)},getDom:function(e){return e instanceof jQuery?e.get(0):e},stopEvent:function(e){e||(e=window.event),e.stopPropagation(),e.preventDefault()},getRecord:function(p,trim){var o={},els=$("input:radio[dataIndex*=],textarea[dataIndex*=],input:text[dataIndex*=],input:hidden[dataIndex*=],select[dataIndex*=]",p);return $.each(els,function(){var el=this,jel=$(this),dataIndex=jel.attr("dataIndex"),getFn=jel.attr("getValueFn"),getHandler=jel.attr("getValueHandler"),value=undefined;getFn?value=eval("("+getFn+').call(this,"'+dataIndex+'",el);'):getHandler?value=eval("(function(dataIndex,el){"+getHandler+"}).call(this,dataIndex,el);"):this.value!=undefined&&(value=trim===!0?$.trim(this.value):this.value);if(value===undefined)return;var v=o[dataIndex];v===undefined?o[dataIndex]=value:$.isArray(v)?v.push(this.value):o[dataIndex]=[v,value]}),o},setRecord:function(p,reocrd){reocrd=reocrd||{};var els=$("[dataIndex*=]",p);$.each(els,function(){var el=this,jel=$(this),dataIndex=jel.attr("dataIndex"),setFn=jel.attr("setValueFn"),setHandler=jel.attr("setValueHandler"),value=reocrd[dataIndex];if(setFn)eval("("+setFn+').call(this,value,record,"'+dataIndex+'",el);');else if(setHandler)eval("(function(value,record,dataIndex,el){"+getHandler+"}).call(this.caller||this,value,record,dataIndex,el);");else if(this.value!=undefined)if(jel.is(":checkbox,:radio")){if($.isArray(value))this.checked=jQuery.inArray(this.value,value);else if(typeof value=="String"){var reg=new RegExp("W+"+this.value+"W+","ig");this.checked=reg.test("|"+value+"|")}}else jel.val(value)})},setDefaultImage:function(e){$(e).find("img").bind("error",function(){this.src="/Images/avatar.gif"})},validImageFile:function(e,t){var n=$.trim(e.value).toLowerCase();if(!n.length)return t.push("请选择文件"),!1;var r=[".jpg",".jpeg",".gif",".png",".bmp"];return n=n.match(/\.[^\.]+$/),n=n?n[0]:null,!n||$.inArray(n,r)==-1?(t.push("文件格式不正确，格式为:"+r.join("")),!1):e.fileSize&&e.fileSize>102400?(t.push("上传文件大小不能超过100K"),!1):!0},getCenterPostion:function(e){var t={},n;window.innerHeight?(n=window,t.left=window.pageXOffset,t.top=window.pageYOffset):document.documentElement&&document.documentElement.scrollTop!=null?(n=document.documentElement,t.left=document.documentElement.scrollLeft,t.top=document.documentElement.scrollTop):document.body&&(n=document.body,t.left=document.body.scrollLeft,t.top=document.body.scrollTop);var r={left:($(n).width()-$(e).width())/2,top:($(n).height()-$(e).height())/2};return t.left+=r.left,t.top+=r.top,t}};Ext.apply(_KM,lt)}(),_KM.TextareaUtils=function(){var e={},t=document.selection;return e.selectionStart=function(e){e.focus();try{if(!t)return e.selectionStart;var n=t.createRange(),r,i,s=0,o=document.body.createTextRange();o.moveToElementText(e);for(s;o.compareEndPoints("StartToStart",n)<0;s++)o.moveStart("character",1)}catch(u){}return s},e.selectionBefore=function(t){return t.value.slice(0,e.selectionStart(t))},e.selectText=function(e,n,r){e.focus();if(!t){e.setSelectionRange(n,r);return}var i=e.createTextRange();i.collapse(1),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()},e.insertText=function(n,r,i,s){n.focus(),s=s||0,i===undefined&&(i=e.selectionStart(n));if(!t){var o=n.value,u=i-s,f=u+r.length;n.value=o.slice(0,u)+r+o.slice(i,o.length),e.selectText(n,f,f)}else{var l=t.createRange();l.moveStart("character",-s),l.text=r}},e.getCursorPos=function(e){var n=0;if($.browser.msie){e.focus();var r=null;r=t.createRange();var i=r.duplicate();i.moveToElementText(e),i.setEndPoint("EndToEnd",r),e.selectionStart=i.text.length-r.text.length,e.selectionEnd=e.selectionStart+r.text.length,n=e.selectionStart}else if(e.selectionStart||e.selectionStart=="0")n=e.selectionStart;return n},e.getSelectedText=function(e){var n="",r=function(e){return e.selectionStart!=undefined&&e.selectionEnd!=undefined?e.value.substring(e.selectionStart,e.selectionEnd):""};return window.getSelection?n=r(e):n=t.createRange().text,n},e.setCursor=function(e,t,n){t=t==null?e.value.length:t,n=n==null?0:n;try{e.focus();if(e.createTextRange){var r=e.createTextRange();r.move("character",t),r.moveEnd("character",n),r.select()}else e.setSelectionRange(t,t+n)}catch(i){}},e.unCoverInsertText=function(e,t,n){n=n==null?{}:n,n.rcs=n.rcs==null?e.value.length:n.rcs*1,n.rccl=n.rccl==null?0:n.rccl*1;var r=e.value,i=r.slice(0,n.rcs),s=r.slice(n.rcs+n.rccl,r==""?0:r.length);e.value=i+t+s,this.setCursor(e,n.rcs+(t==null?0:t.length))},e}(),_KM.EncodeUtils=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","\\":"&#92;","&":"&amp;","'":"&#039;","\r":"","\n":"<br>"},t=/<|>|\'|\"|&|\\|\r\n|\n| /gi,n={};return n.regexp=function(e){return e.replace(/\}|\]|\)|\.|\$|\^|\{|\[|\(|\|\|\*|\+|\?|\\/gi,function(e){return e=e.charCodeAt(0).toString(16),"\\u"+(new Array(5-e.length)).join("0")+e})},n.html=function(n,r){return r=r||e,n.replace(t,function(e){return r[e]})},n}(),_KM.Event=function(e){this.initialConfig=e,Ext.apply(this,e),this.events||(this.events={}),_KM.Event.superclass.constructor.call(this),e&&e.eventConfigs&&this.addEvents(e.eventConfigs)},Ext.extend(_KM.Event,Ext.util.Observable),_KM.Component=function(e){this.initialConfig=e,Ext.apply(this,e),this.events||(this.events={}),_KM.Component.superclass.constructor.call(this),this.initComponent();if(this.plugins)if(Ext.isArray(this.plugins))for(var t=0,n=this.plugins.length;t<n;t++)this.plugins[t]=this.initPlugin(this.plugins[t]);else this.plugins=this.initPlugin(this.plugins)},Ext.extend(_KM.Component,Ext.util.Observable,{initEvents:function(){},initComponent:function(){this.initEvents(),this.listeners&&(this.on(this.listeners),delete this.listeners)},initPlugin:function(e){return e.init(this),e},render:function(){}}),_KM.Controls.uiComponent=Ext.extend(_KM.Component,{initComponent:function(){var e=this.initialConfig;_KM.Controls.uiComponent.superclass.initComponent.call(this),this.addEvents("beforehide","beforeshow","show","hide","beforerender","render","enable","disable","readonly","resize"),Ext.applyIf(this,{items:[]})},setItemsDisable:function(e){var t=this;t.items&&t.items.length&&Ext.each(t.items,function(t){t.setDisable&&t.setDisable(e)})},onRender:function(e,t){var n=this.builderEl(),r;if(n)if(t)r=_KM.getjQueryObject(t),this.jel=_KM.getjQueryObject(n).insertBefore(r);else if(e)this.jel=_KM.getjQueryObject(n).appendTo(e);else if(this.renderTo)r=_KM.getjQueryObject(this.renderTo),this.jel=_KM.getjQueryObject(n).appendTo(r);else if(this.applyTo){this.jel=_KM.getjQueryObject(this.applyTo);var i=_KM.getjQueryObject(n),s=i.children();i&&s.length&&(this.jel.append(s),i.remove())}else this.jel=_KM.getjQueryObject(n).appendTo(e||document.body);else this.applyTo&&(this.jel=_KM.getjQueryObject(this.applyTo))},render:function(e,t){var n=this;if(!this.rendered&&this.fireEvent("beforerender",this)!==!1){this.rendered=!0,this.jcontainer=_KM.getjQueryObject(e);var r=null;t!==undefined&&(typeof t=="number"?r=this.jcontainer.children().eq(t):r=_KM.getjQueryObject(t,this.jcontainer)),this.onRender(this.jcontainer,r||null),this.cls&&(this.addClass(this.cls),delete this.cls);if(this.style){if(typeof this.style=="string"){var s=$.trim(this.style).split(/\s*(?::|;)\s*/);for(len=s.length,i=0;i<len;)this.jel.css(s[i++],s[i++])}else this.jel.css(this.style);delete this.style}this.width!=null&&(this.jel.get(0).style.width=this.width,delete this.width),this.height!=null&&(this.jel.get(0).style.height=this.height,delete this.height),this.fireEvent("render",this),this.hidden===!0?this.hide():this.show(),this.html&&(this.jel.html(this.html),delete this.html),this.disabled&&this.disable(),this.afterRender&&this.afterRender(e),this.jel&&this.jel.bind("resize",function(e){n.onResize(e)})}},onResize:function(e){this.fireEvent("resize",this,e)},getWidth:function(){return this.jel.width()},setWidth:function(e){this.jel.width(e)},getHeight:function(){return this.jel.height()},setHeight:function(e){this.jel.height(e)},addClass:function(e){return this.jel.addClass(e),this},removeClass:function(e){return this.jel.removeClass(e),this},getFormElements:function(){var e=":input,:textarea,:radio,:checkbox",t=this.jel.filter(selector);return t.add(this.jel.find(selector)),t},setDisable:function(e){return e?this.disable(!1):this.enable(!1),this},alertDisabledMsg:function(e){e=e||this.disabledMessage||"此控件被禁用",e&&alert(e)},setDisabledMsg:function(e,t){this.disabledMessage=e;var n=this;if(t===!1)return;n.items&&n.items.length&&Ext.each(n.items,function(t){t.setDisabledMsg&&t.setDisabledMsg(e)})},enable:function(e){return this.disabled=!1,this.fireEvent("enable",this),this.setItemsDisable&&this.setItemsDisable(!1),this},disable:function(e){return this.disabled=!0,this.fireEvent("disable",this),this.setItemsDisable&&this.setItemsDisable(!0),this},setReadonly:function(e,t){var n=this.getFormElements();return n.attr("readonly",e),this.readonly=e,t===!1?this:(this.fireEvent("readonly",this,e,n),this)},isVisible:function(){return this.hidden===!1},getOffset:function(){return this.jel.offset()},setOffset:function(e){if(typeof e=="string"){if(e=="center"){var t=_KM.getCenterPostion(this.jel);t.top<0&&(t.top=0),this.jel.offset(t)}}else this.jel.offset(e)},builderEl:function(){},hide:function(e){if(this.fireEvent("beforehide",this)===!1)return;this.hidden=!0,e&&this.jel.css(e),this.jel.hide(),this.fireEvent("hide",this)},show:function(e){if(this.fireEvent("beforeshow",this)===!1)return;this.hidden=!1,e&&this.jel.css(e),this.jel.show(),this.fireEvent("show",this)},destroy:function(){if(this.fireEvent("beforedestroy",this)===!1)return!1;this.jel&&(this.jel.remove(),this.jel=null);if(this.items&&this.items.length){for(var e=0;e!=this.items.length;e++){var t=this.items[e];t.destroy&&t.destroy(),delete t}delete this.items}this.fireEvent("destroy",this)},zindex:function(){return this.jel.css("z-index")},toggle:function(){this.hidden?this.show():this.hide()},hasEl:function(e){return $(e).closest(this.jel).length},setCss:function(e){this.jel.css(e)},getCss:function(){return this.jel.css()}}),_KM.Android.Configs=PageSetConfig,_KM.Android.Controls.TabControl=Ext.extend(_KM.Controls.uiComponent,{cls:"tabbable tabs-right",dataKey:"tab_data",tabBody:!0,tabBarCls:"nav nav-tabs",tabActivateCls:"active",tabPanelCls:"tab-pane",tabItemElHtml:"<li>",tabContentCls:"tab-content",initComponent:function(){var e=this.initialConfig;_KM.Android.Controls.TabControl.superclass.initComponent.call(this),this.addEvents("add","beforeAdd","remove","activate","moveTo")},setTabText:function(e,t){var n=this.getTabs(),r=this.items.indexOf(t);n.eq(r).find("a").text(e)},getItems:function(){var e=this.tabBody?this.items:this.controls;return e},add:function(e){e=e||{};var t=this,n=this.tabEls,r=this.getItems();if(t.fireEvent("beforeAdd",t,e)===!1)return!1;r.push(e.control),t.tabBody&&(e.control.render(t.tabBodyEls),e.control.addClass(t.tabPanelCls),e.control.addClass(t.tabActivateCls),e.control.parent=t),t.getTabs().removeClass("ac");var i=t.currentTab=$(t.tabItemElHtml).addClass(t.tabActivateCls).append($('<a href="javascript:;"></a>').text(e.title||"NULL")).appendTo(n).data(t.dataKey,e).click(function(){t.setActivate($(this))});return t.setActivate(i),t.fireEvent("add",t,e,{tab:i}),i},setActivateIndex:function(e){var t=this,n=this.tabEls,r=t.getTabs(),i=r.eq(e);t.setActivate(i)},setActivate:function(e){var t=this,n=this.tabEls;t.currentTab=null;if(e.length){this.currentTab=e,e.addClass(t.tabActivateCls).siblings().removeClass(t.tabActivateCls);var r=e.data(t.dataKey);r.control&&r.control.show();var i=t.getItems();for(var s=0;s<i.length;s++)i[s]!=r.control&&(i[s].removeClass(t.tabActivateCls),i[s].hide())}},remove:function(e){var t=this;e=e||this.currentTab;var n=e.data(t.dataKey);return this.removeControl(n.control),e.remove(),this.tabBody&&n.control.destroy(),this.setActivateIndex(0),this.fireEvent("remove",this,{tab:e,data:n,control:n.control}),e},removeControl:function(e){this.getItems().remove(e),e.parent=null},moveTo:function(e,t){var n=this,r=this.tabEls,i=n.getItems();if(i.length<=1)return;var s=e.data(n.dataKey),o=s.control;i.remove(o),e.detach();var u=n.getTabs();t<0?t=u.length:t>u.length&&(t=0),t?u.eq(t-1).after(e):u.eq(t).before(e),i.insertAt(t,o),n.fireEvent("moveTo",n),this.setActivate(e)},moveToNext:function(e){e=e||this.currentTab;var t=e.index();this.moveTo(e,t+1)},moveToPrev:function(e){e=e||this.currentTab;var t=e.index();this.moveTo(e,t-1)},clear:function(){var e=this.getItems(),t=this;if(t.tabBody)for(var n=0;n<e.length;n++)e[n].destroy();t.getTabs().remove(),t.currentTab=null,e.clear()},builderEl:function(){var e=['<div class="tabs-panel">','<ul class="tabs ',this.tabBarCls||"",'"></ul>','<div class="tabs-body ',this.tabContentCls||"",'"></div>',"</div>"].join("");return e},globalIndex:0,getTabs:function(){return this.tabEls.children()},render:function(e){_KM.Android.Controls.TabControl.superclass.render.call(this,e);var t=this;this.tabEls=this.jel.find(".tabs");var n=this.tabOptEls=this.jel.find(".tabs-opt");this.tabBody&&(this.tabBodyEls=this.jel.find(".tabs-body"))},controls:[]}),_KM.Android.Controls.FieldSetControl=Ext.extend(_KM.Controls.uiComponent,{initComponent:function(){var e=this.initialConfig;_KM.Android.Controls.FieldSetControl.superclass.initComponent.call(this),this.addEvents("inputValueChange")},inputDataConfigKey:"fieldSet-config-Item",setValue:function(e){if(!e)return;var t=this,n=t.head_el,r=t.table_content_el,i=t.children_el,s=t.table_el,o=t.controls_el,u=t.configItem;if(!u)return;var a=$.type(u),f=u.type,l=t.complexMembers,c=t.simpleMembers;if(f=="array"){r&&r.empty();var h=u.member||{},p=h.type,d=u.mode||h.mode,v=p=="string";if(v||d=="column"){var m=v?[{name:"value",cls:h.cls}]:u.fields?u.fields:h.fields;e&&$.isArray(e)&&$.each(e,function(e,n){var i=t.addTableRowByColumnMode(m,r);i.find("[dataindex]").each(function(){var e=$(this),t=v?n:n[e.attr("dataindex")];$.type(t)!="string"&&(t=Ext.encode(t)),e.val(t)})})}else{$.each(t.items,function(e,t){t.destroy()});var g=t.tabControl;g.clear(),t.items.clear(),$.each(e,function(e,n){var r=t.addCloneItem();r.setValue(n)})}}else if(f=="object"||!f){var y=r.find(":text,select,textarea");$.each(c,function(){var n=this,r=e[n.name],i=y.filter("[dataindex="+n.name+"]");n.type=="json"&&r&&$.type(r)!="string"&&(r=Ext.encode(r)),i.val(r),t.fireEvent("inputValueChange",t,{el:i[0],configItem:n})}),$.each(this.items,function(t,n){var r=l[t],i=e[r.name];i&&n.setValue(i)})}},getFieldsObject:function(e,t){var n={},r=$(t).find(":text,select,textarea");return $.each(e,function(){var e=this;if(e.type!="object"&&e.type!="array"){var t=$.trim(r.filter("[dataindex="+e.name+"]").val());n[e.name]=t;if(e.type=="json"&&t.length)try{n[e.name]=Ext.decode(t)}catch(i){n[e.name]=t}}}),n},getTableEls:function(){return this.table_content_el?this.table_content_el.find(":text,select,textarea"):null},getValue:function(){var e=this,t=e.head_el,n=e.table_content_el,r=e.children_el,i=e.table_el,s=e.controls_el,o=e.configItem,u=$.type(o),a=o.type,f=e.complexMembers,l=e.simpleMembers,c=null,h=o.mode;if(a=="array"){var p;c=[],o.member&&(p=o.member.type=="string",h||(h=o.member.mode));if(p)n.find(":text,textarea").each(function(){c.push($(this).val())});else if(h=="column")n.find("tr").each(function(){c.push(e.getFieldsObject(o.fields||o.member.fields,this))});else{var d=this.items;e.tabControl&&(d=e.tabControl.getItems()),$.each(d,function(e,t){c.push(t.getValue())})}}else if(a=="object"||!a)c=e.getFieldsObject(l,n),$.each(this.items,function(e,t){var n=f[e],r=n.type;c[n.name]=t.getValue()});return c},addTableRowByColumnMode:function(e,t){var n=['<tr class="info">','<td><a class="btn button delete btn-mini" href="javascript:;">删除</a> </td>',"</tr>"],r=$(n.join("")).appendTo(t);for(var i=0;i<e.length;i++){var s=e[i],o=s.name,u=s.defaultValue||"",a=$.type(u),f=s.cls||"";if(a=="object"||a=="array")u=Ext.encode(u);$(['<td><textarea class="text ',f,'" dataindex="',o,'" name="',o,'">',u,"</textarea></td>"].join("")).appendTo(r).data(this.inputDataConfigKey,{field:s,control:this})}return r.find(".delete").click(function(){$(this).closest("tr").remove()}),r},addCloneItem:function(){var e=this,t=e.tabControl,n=Ext.apply({},e.configItem.member),r=new _KM.Android.Controls.FieldSetControl;return t.add({title:n.name||"new_tab_"+t.globalIndex++,control:r}),e.items.push(r),r.setConfig(n,n.name),r.on("inputValueChange",function(e,n){var i=$(n.el),s=n.configItem.name;(s=="name"||s=="control_id")&&t.setTabText(i.val(),r)}),r},setConfig:function(e,t){var n=this,r=n.head_el,i=n.table_content_el,s=n.children_el,o=this.table_el,u=this.controls_el;if(!e)return;n.Key=t||e.name,n.configItem=e,n.Key&&r.text(t);var a=$.type(e),f=e.type,l=e.mode;if(f=="array"){var c=e.member||{},h=c.type;if(l=="column"||c.mode=="column"||h=="string"){var p=o.find("thead tr").empty();i.empty();var d=l=="column"?e.fields:c.mode=="column"?c.fields:[{name:"value",cls:c.cls}];console.log(d);var v=[];v.push('<th><a href="javascript:;" class="btn button add btn-mini">添加</a></th>'),$.each(d,function(e,t){v.push("<th>",t.name,"</th>")}),p.html(v.join("")).find(".add").click(function(){n.addTableRowByColumnMode(d,i)})}else{n.table_el&&(n.table_el.remove(),delete n.table_content_el,delete n.table_el),n.body_el.empty();var m=$(['<div class="tabs-opt">','<a href="javascript:;" class="btn button btn-mini add btn-primary">添加</a>','<a href="javascript:;" class="btn button btn-mini prev">←</a>','<a href="javascript:;" class="btn button btn-mini next">→</a>','<a href="javascript:;" class="btn button btn-mini delete btn-danger">移除</a>',"</div>"].join("")).appendTo(n.body_el),g=n.tabControl=new _KM.Android.Controls.TabControl;g.parent=n,g.render(n.body_el);var y=m.find("a");y.filter(".add").click(function(){n.addCloneItem()}),y.filter(".delete").click(function(){g.remove()}),y.filter(".prev").click(function(){g.moveToPrev()}),y.filter(".next").click(function(){g.moveToNext()})}}else if(f=="object"||!f){var b=n.complexMembers=[],w=n.simpleMembers=[],d=a=="array"?e:e.fields;if(d)$.each(d,function(e,t){t.type=="string"||t.type=="json"||t.type=="text"||!t.type?w.push(t):(t.type=="object"||t.type=="array")&&b.push(t)});else for(var E in e){var S=e[E];S.name=E,S.type=="string"||S.type=="json"||S.type=="text"||!S.type?w.push(S):(S.type=="object"||S.mode=="array")&&b.push(S)}i.empty(),$.each(w,function(e,t){var r=t.name,s=t.defaultValue||"",o=$.type(s),u=t.cls||"";if(o=="object"||o=="array")s=Ext.encode(s);var a=$(['<tr class="info"><td>',t.name,"</td><td>",t.type=="json"||t.type=="text"?"<textarea":'<textarea autocomplete="off" type="text"',' class="text ',u,'" name="',r,'" dataindex="',r,'"',t.type=="json"||t.type=="text"?"></textarea></textarea>":"/>",'</td><td><span class="default">',s,"</span></td></tr>"].join("")).appendTo(i).find(":text,textarea,select").val(s).data(n.inputDataConfigKey,{field:t,control:n}).on("change",function(){n.fireEvent("inputValueChange",n,{el:this,configItem:t})})}),$(n.items,function(e,t){t&&t.destroy()}),n.items.clear(),b.length&&$.each(b,function(e,t){var r=new _KM.Android.Controls.FieldSetControl({renderTo:s});r.parent=n,r.render(),r.setConfig(t,t.name),n.items.push(r)})}},getConfig:function(){return this.configItem},builderEl:function(){var e=["<fieldset>",'<legend class="ctl-data-group-head"></legend>','<div class="ctl-data-group-body">','<table class="table table-bordered table-striped table-hover table-condensed">',"<thead>","<tr>","<th>名称</th>","<th>值</th>","<th>缺省</th>","</tr>","</thead>","<tbody></tbody>","</table>","</div>",'<div class="ctl-data-group-children"></div>','<div class="ctl-data-group-controls"></div>',"</fieldset>"].join("");return e},render:function(e){_KM.Android.Controls.FieldSetControl.superclass.render.call(this,e);var t=this,n=t.el=this.jel,r=t.head_el=n.find(".ctl-data-group-head"),i=t.body_el=n.find(".ctl-data-group-body"),s=this.table_el=i.find("table"),o=t.children_el=n.find(".ctl-data-group-children"),u=this.table_content_el=s.find("tbody"),a=this.controls_el=this.jel.find(".ctl-data-group-controls");this.configItem&&this.setConfig(this.configItem),t.head_el.click(function(){t.head_el.siblings().toggle()}),t.on("beforedestroy",function(){t.configItem&&delete t.configItem,t.key&&delete t.key,t.tabControl&&t.tabControl.destroy()&&delete t.tabControl,t.parent&&delete t.parent})},controls:[]}),function(){var e;e=this,e.AceEditor=function(){function e(e,t,n){var r;this.editor_id=t,this.editor=ace.edit(this.editor_id),this.editor.setTheme("ace/theme/twilight"),this.js_mode=require("ace/mode/"+e).Mode,this.editor.getSession().setMode(new this.js_mode),this.editor.getSession().setTabSize(2),this.editor.getSession().setUseSoftTabs(!0),this.editor.getSession().setUseWrapMode("free"),this.editor.setShowInvisibles(!0),this.notifyChange=!1,this.editor.on("change",function(e){if(!ace_editor.editor.notifyChange)return top.ec_editor.fileChange(n),ace_editor.editor.notifyChange=!0}),r={name:"save",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:function(e){return top.ec_editor.fileSave(n,ace_editor.editor.getValue()),ace_editor.editor.notifyChange=!1}},this.editor.commands.addCommand(r),$(document).keydown(this.windowKeyDown),r={name:"tab1",bindKey:{win:"Ctrl-1",mac:"Command-1"},exec:function(e){return top.ec_editor.goTab(1)}},this.editor.commands.addCommand(r),r={name:"tab2",bindKey:{win:"Ctrl-2",mac:"Command-2"},exec:function(e){return top.ec_editor.goTab(2)}},this.editor.commands.addCommand(r),r={name:"tab3",bindKey:{win:"Ctrl-3",mac:"Command-3"},exec:function(e){return top.ec_editor.goTab(3)}},this.editor.commands.addCommand(r),r={name:"tab4",bindKey:{win:"Ctrl-4",mac:"Command-4"},exec:function(e){return top.ec_editor.goTab(4)}},this.editor.commands.addCommand(r),r={name:"tab5",bindKey:{win:"Ctrl-5",mac:"Command-5"},exec:function(e){return top.ec_editor.goTab(5)}},this.editor.commands.addCommand(r),r={name:"tab6",bindKey:{win:"Ctrl-6",mac:"Command-6"},exec:function(e){return top.ec_editor.goTab(6)}},this.editor.commands.addCommand(r)}return e.prototype.windowKeyDown=function(e){if(e.metaKey&&e.keyCode===83||e.ctrlKey&&e.keyCode===83)return!1},e}()}.call(this),window.undefined=window.undefined,Ext={version:"3.1.0"},Ext.apply=function(e,t,n){n&&Ext.apply(e,n);if(e&&t&&typeof t=="object")for(var r in t)e[r]=t[r];return e},function(){var e=0,t=Object.prototype.toString,n=navigator.userAgent.toLowerCase(),r=function(e){return e.test(n)},i=document,s=i.compatMode=="CSS1Compat",o=r(/opera/),u=r(/chrome/),a=r(/webkit/),f=!u&&r(/safari/),l=f&&r(/applewebkit\/4/),c=f&&r(/version\/3/),h=f&&r(/version\/4/),p=!o&&r(/msie/),d=p&&r(/msie 7/),v=
p&&r(/msie 8/),m=p&&!d&&!v,g=!a&&r(/gecko/),y=g&&r(/rv:1\.8/),b=g&&r(/rv:1\.9/),w=p&&!s,E=r(/windows|win32/),S=r(/macintosh|mac os x/),x=r(/adobeair/),T=r(/linux/),N=/^https/i.test(window.location.protocol);if(m)try{i.execCommand("BackgroundImageCache",!1,!0)}catch(C){}Ext.apply(Ext,{SSL_SECURE_URL:N&&p?'javascript:""':"about:blank",isStrict:s,isSecure:N,isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!1,enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,applyIf:function(e,t){if(e)for(var n in t)Ext.isDefined(e[n])||(e[n]=t[n]);return e},id:function(t,n){return(t=Ext.getDom(t)||{}).id=t.id||(n||"ext-gen")+ ++e},extend:function(){var e=function(e){for(var t in e)this[t]=e[t]},t=Object.prototype.constructor;return function(n,r,i){Ext.isObject(r)&&(i=r,r=n,n=i.constructor!=t?i.constructor:function(){r.apply(this,arguments)});var s=function(){},o,u=r.prototype;return s.prototype=u,o=n.prototype=new s,o.constructor=n,n.superclass=u,u.constructor==t&&(u.constructor=r),n.override=function(e){Ext.override(n,e)},o.superclass=o.supr=function(){return u},o.override=e,Ext.override(n,i),n.extend=function(e){return Ext.extend(n,e)},n}}(),override:function(e,t){if(t){var n=e.prototype;Ext.apply(n,t),Ext.isIE&&t.hasOwnProperty("toString")&&(n.toString=t.toString)}},namespace:function(){var e,t;return Ext.each(arguments,function(n){t=n.split("."),e=window[t[0]]=window[t[0]]||{},Ext.each(t.slice(1),function(t){e=e[t]=e[t]||{}})}),e},urlEncode:function(e,t){var n,r=[],i=encodeURIComponent;return Ext.iterate(e,function(e,t){n=Ext.isEmpty(t),Ext.each(n?e:t,function(t){r.push("&",i(e),"=",!Ext.isEmpty(t)&&(t!=e||!n)?Ext.isDate(t)?Ext.encode(t).replace(/"/g,""):i(t):"")})}),t||(r.shift(),t=""),t+r.join("")},urlDecode:function(e,t){if(Ext.isEmpty(e))return{};var n={},r=e.split("&"),i=decodeURIComponent,s,o;return Ext.each(r,function(e){e=e.split("="),s=i(e[0]),o=i(e[1]),n[s]=t||!n[s]?o:[].concat(n[s]).concat(o)}),n},urlAppend:function(e,t){return Ext.isEmpty(t)?e:e+(e.indexOf("?")===-1?"?":"&")+t},toArray:function(){return p?function(e,t,n,r){r=[];for(var i=0,s=e.length;i<s;i++)r.push(e[i]);return r.slice(t||0,n||r.length)}:function(e,t,n){return Array.prototype.slice.call(e,t||0,n||e.length)}}(),isIterable:function(e){return Ext.isArray(e)||e.callee?!0:/NodeList|HTMLCollection/.test(t.call(e))?!0:(typeof e.nextNode!="undefined"||e.item)&&Ext.isNumber(e.length)},each:function(e,t,n){if(Ext.isEmpty(e,!0))return;if(!Ext.isIterable(e)||Ext.isPrimitive(e))e=[e];for(var r=0,i=e.length;r<i;r++)if(t.call(n||e[r],e[r],r,e)===!1)return r},iterate:function(e,t,n){if(Ext.isEmpty(e))return;if(Ext.isIterable(e)){Ext.each(e,t,n);return}if(Ext.isObject(e))for(var r in e)if(e.hasOwnProperty(r)&&t.call(n||e,r,e[r],e)===!1)return},getDom:function(e){return!e||!i?null:e.dom?e.dom:Ext.isString(e)?i.getElementById(e):e},getBody:function(){return Ext.get(i.body||i.documentElement)},removeNode:p&&!v?function(){var e;return function(t){t&&t.tagName!="BODY"&&(Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(t,!0):Ext.EventManager.removeAll(t),e=e||i.createElement("div"),e.appendChild(t),e.innerHTML="",delete Ext.elCache[t.id])}}():function(e){e&&e.parentNode&&e.tagName!="BODY"&&(Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(e,!0):Ext.EventManager.removeAll(e),e.parentNode.removeChild(e),delete Ext.elCache[e.id])},isEmpty:function(e,t){return e===null||e===undefined||Ext.isArray(e)&&!e.length||(t?!1:e==="")},isArray:function(e){return t.apply(e)==="[object Array]"},isDate:function(e){return t.apply(e)==="[object Date]"},isObject:function(e){return!!e&&Object.prototype.toString.call(e)==="[object Object]"},isPrimitive:function(e){return Ext.isString(e)||Ext.isNumber(e)||Ext.isBoolean(e)},isFunction:function(e){return t.apply(e)==="[object Function]"},isNumber:function(e){return typeof e=="number"&&isFinite(e)},isString:function(e){return typeof e=="string"},isBoolean:function(e){return typeof e=="boolean"},isElement:function(e){return!!e&&e.tagName},isDefined:function(e){return typeof e!="undefined"},isOpera:o,isWebKit:a,isChrome:u,isSafari:f,isSafari3:c,isSafari4:h,isSafari2:l,isIE:p,isIE6:m,isIE7:d,isIE8:v,isGecko:g,isGecko2:y,isGecko3:b,isBorderBox:w,isLinux:T,isWindows:E,isMac:S,isAir:x}),Ext.ns=Ext.namespace}(),Ext.ns("Ext.util","Ext.lib","Ext.data"),Ext.elCache={},Ext.apply(Function.prototype,{createInterceptor:function(e,t){var n=this;return Ext.isFunction(e)?function(){var r=this,i=arguments;return e.target=r,e.method=n,e.apply(t||r||window,i)!==!1?n.apply(r||window,i):null}:this},createCallback:function(){var e=arguments,t=this;return function(){return t.apply(window,e)}},createDelegate:function(e,t,n){var r=this;return function(){var i=t||arguments;if(n===!0)i=Array.prototype.slice.call(arguments,0),i=i.concat(t);else if(Ext.isNumber(n)){i=Array.prototype.slice.call(arguments,0);var s=[n,0].concat(t);Array.prototype.splice.apply(i,s)}return r.apply(e||window,i)}},defer:function(e,t,n,r){var i=this.createDelegate(t,n,r);return e>0?setTimeout(i,e):(i(),0)}}),Ext.applyIf(String,{format:function(e){var t=Ext.toArray(arguments,1);return e.replace(/\{(\d+)\}/g,function(e,n){return t[n]})}}),Ext.applyIf(Array.prototype,{indexOf:function(e,t){var n=this.length;t=t||0,t+=t<0?n:0;for(;t<n;++t)if(this[t]===e)return t;return-1},remove:function(e){var t=this.indexOf(e);return t!=-1&&this.splice(t,1),this}}),Ext.util.TaskRunner=function(e){e=e||10;var t=[],n=[],r=0,i=!1,s=function(){i=!1,clearInterval(r),r=0},o=function(){i||(i=!0,r=setInterval(a,e))},u=function(e){n.push(e),e.onStop&&e.onStop.apply(e.scope||e)},a=function(){var e=n.length,r=(new Date).getTime();if(e>0){for(var i=0;i<e;i++)t.remove(n[i]);n=[];if(t.length<1){s();return}}for(var i=0,o,a,f,l=t.length;i<l;++i){o=t[i],a=r-o.taskRunTime;if(o.interval<=a){f=o.run.apply(o.scope||o,o.args||[++o.taskRunCount]),o.taskRunTime=r;if(f===!1||o.taskRunCount===o.repeat){u(o);return}}o.duration&&o.duration<=r-o.taskStartTime&&u(o)}};this.start=function(e){return t.push(e),e.taskStartTime=(new Date).getTime(),e.taskRunTime=0,e.taskRunCount=0,o(),e},this.stop=function(e){return u(e),e},this.stopAll=function(){s();for(var e=0,r=t.length;e<r;e++)t[e].onStop&&t[e].onStop();t=[],n=[]}},Ext.TaskMgr=new Ext.util.TaskRunner,Ext.util.DelayedTask=function(e,t,n){var r=this,i,s=function(){clearInterval(i),i=null,e.apply(t,n||[])};r.delay=function(o,u,f,l){r.cancel(),e=u||e,t=f||t,n=l||n,i=setInterval(s,o)},r.cancel=function(){i&&(clearInterval(i),i=null)}},function(){function t(t){return e||(e=new Ext.Element.Flyweight),e.dom=t,e}var e;(function(){var e=document,n=e.compatMode=="CSS1Compat",r=Math.max,i=Math.round,s=parseInt;Ext.lib.Dom={isAncestor:function(e,t){var n=!1;e=Ext.getDom(e),t=Ext.getDom(t);if(e&&t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(e.compareDocumentPosition(t)&16);while(t=t.parentNode)n=t==e||n}return n},getViewWidth:function(e){return e?this.getDocumentWidth():this.getViewportWidth()},getViewHeight:function(e){return e?this.getDocumentHeight():this.getViewportHeight()},getDocumentHeight:function(){return r(n?e.documentElement.scrollHeight:e.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return r(n?e.documentElement.scrollWidth:e.body.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?Ext.isStrict?e.documentElement.clientHeight:e.body.clientHeight:self.innerHeight},getViewportWidth:function(){return!Ext.isStrict&&!Ext.isOpera?e.body.clientWidth:Ext.isIE?e.documentElement.clientWidth:self.innerWidth},getY:function(e){return this.getXY(e)[1]},getX:function(e){return this.getXY(e)[0]},getXY:function(n){var r,o,u,a,f,l,p=0,v=0,m,g,y=e.body||e.documentElement,b=[0,0];n=Ext.getDom(n);if(n!=y)if(n.getBoundingClientRect)u=n.getBoundingClientRect(),m=t(document).getScroll(),b=[i(u.left+m.left),i(u.top+m.top)];else{r=n,g=t(n).isStyle("position","absolute");while(r)o=t(r),p+=r.offsetLeft,v+=r.offsetTop,g=g||o.isStyle("position","absolute"),Ext.isGecko&&(v+=a=s(o.getStyle("borderTopWidth"),10)||0,p+=f=s(o.getStyle("borderLeftWidth"),10)||0,r!=n&&!o.isStyle("overflow","visible")&&(p+=f,v+=a)),r=r.offsetParent;Ext.isSafari&&g&&(p-=y.offsetLeft,v-=y.offsetTop),Ext.isGecko&&!g&&(l=t(y),p+=s(l.getStyle("borderLeftWidth"),10)||0,v+=s(l.getStyle("borderTopWidth"),10)||0),r=n.parentNode;while(r&&r!=y){if(!Ext.isOpera||r.tagName!="TR"&&!t(r).isStyle("display","inline"))p-=r.scrollLeft,v-=r.scrollTop;r=r.parentNode}b=[p,v]}return b},setXY:function(e,t){(e=Ext.fly(e,"_setXY")).position();var n=e.translatePoints(t),r=e.dom.style,i;for(i in n)isNaN(n[i])||(r[i]=n[i]+"px")},setX:function(e,t){this.setXY(e,[t,!1])},setY:function(e,t){this.setXY(e,[!1,t])}}})(),Ext.lib.Event=function(){function x(e){return!T(e.currentTarget,A.getRelatedTarget(e))}function T(e,t){if(e&&e.firstChild)while(t){if(t===e)return!0;t=t.parentNode,t&&t.nodeType!=1&&(t=null)}return!1}function N(){var t=!1,o=[],a,f,l,c,h=!e||n>0;if(!s){s=!0;for(f=0,l=r.length;f<l;f++)c=r[f],c&&(a=u.getElementById(c.id))&&(!c.checkReady||e||a.nextSibling||u&&u.body?(a=c.override?c.override===!0?c.obj:c.override:a,c.fn.call(a,c.obj),r.remove(c)):o.push(c));n=o.length===0?0:n-1,h?C():(clearInterval(i),i=null),t=!(s=!1)}return t}function C(){if(!i){var e=function(){N()};i=setInterval(e,f)}}function k(){var e=u.documentElement,t=u.body;return e&&(e[g]||e[m])?[e[m],e[g]]:t?[t[m],t[g]]:[0,0]}function L(e,t){e=e.browserEvent||e;var n=e["page"+t];return!n&&n!==0&&(n=e["client"+t]||0,Ext.isIE&&(n+=k()[t=="X"?0:1])),n}var e=!1,t={},n=0,r=[],i,s=!1,o=window,u=document,a=200,f=20,l=0,c=0,h=1,p=2,d=2,v=3,m="scrollLeft",g="scrollTop",y="unload",b="mouseover",w="mouseout",E=function(){var e;return o.addEventListener?e=function(e,t,n,r){return t=="mouseenter"?(n=n.createInterceptor(x),e.addEventListener(b,n,r)):t=="mouseleave"?(n=n.createInterceptor(x),e.addEventListener(w,n,r)):e.addEventListener(t,n,r),n}:o.attachEvent?e=function(e,t,n,r){return e.attachEvent("on"+t,n),n}:e=function(){},e}(),S=function(){var e;return o.removeEventListener?e=function(e,t,n,r){t=="mouseenter"?t=b:t=="mouseleave"&&(t=w),e.removeEventListener(t,n,r)}:o.detachEvent?e=function(e,t,n){e.detachEvent("on"+t,n)}:e=function(){},e}(),A={extAdapter:!0,onAvailable:function(e,t,i,s){r.push({id:e,fn:t,obj:i,override:s,checkReady:!1}),n=a,C()},addListener:function(e,n,r){return e=Ext.getDom(e),e&&r?n==y?(t[e.id]===undefined&&(t[e.id]=[]),t[e.id].push([n,r]),r):E(e,n,r,!1):!1},removeListener:function(e,n,r){e=Ext.getDom(e);var i,s,o,u;if(e&&r){if(n==y){if((u=t[e.id])!==undefined)for(i=0,s=u.length;i<s;i++)(o=u[i])&&o[c]==n&&o[h]==r&&t[id].splice(i,1);return}S(e,n,r,!1)}},getTarget:function(e){return e=e.browserEvent||e,this.resolveTextNode(e.target||e.srcElement)},resolveTextNode:Ext.isGecko?function(e){if(!e)return;var t=HTMLElement.prototype.toString.call(e);if(t=="[xpconnect wrapped native prototype]"||t=="[object XULElement]")return;return e.nodeType==3?e.parentNode:e}:function(e){return e&&e.nodeType==3?e.parentNode:e},getRelatedTarget:function(e){return e=e.browserEvent||e,this.resolveTextNode(e.relatedTarget||(e.type==w?e.toElement:e.type==b?e.fromElement:null))},getPageX:function(e){return L(e,"X")},getPageY:function(e){return L(e,"Y")},getXY:function(e){return[this.getPageX(e),this.getPageY(e)]},stopEvent:function(e){this.stopPropagation(e),this.preventDefault(e)},stopPropagation:function(e){e=e.browserEvent||e,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){e=e.browserEvent||e,e.preventDefault?e.preventDefault():e.returnValue=!1},getEvent:function(e){e=e||o.event;if(!e){var t=this.getEvent.caller;while(t){e=t.arguments[0];if(e&&Event==e.constructor)break;t=t.caller}}return e},getCharCode:function(e){return e=e.browserEvent||e,e.charCode||e.keyCode||0},getListeners:function(e,t){Ext.EventManager.getListeners(e,t)},purgeElement:function(e,t,n){Ext.EventManager.purgeElement(e,t,n)},_load:function(t){e=!0;var n=Ext.lib.Event;Ext.isIE&&t!==!0&&S(o,"load",arguments.callee)},_unload:function(e){var n=Ext.lib.Event,r,i,s,u,a,f,l,c,p;for(f in t){a=t[f];for(r=0,l=a.length;r<l;r++){u=a[r];if(u)try{p=u[v]?u[v]===!0?u[d]:u[v]:o,u[h].call(p,n.getEvent(e),u[d])}catch(m){}}}t=null,Ext.EventManager._unload(),S(o,y,n._unload)}};return A.on=A.addListener,A.un=A.removeListener,u&&u.body?A._load(!0):E(o,"load",A._load),E(o,y,A._unload),N(),A}(),Ext.lib.Ajax=function(){function n(e){function r(e,t){for(n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])}var t=e.conn,n;h.defaultHeaders&&r(t,h.defaultHeaders),h.headers&&(r(t,h.headers),delete h.headers)}function r(e,t,n,r){return{tId:e,status:n?-1:0,statusText:n?"transaction aborted":"communication failure",isAbort:n,isTimeout:r,argument:t}}function i(e,t){(h.headers=h.headers||{})[e]=t}function s(e,t){var n={},r,i=e.conn,s,o;try{r=e.conn.getAllResponseHeaders(),Ext.each(r.replace(/\r\n/g,"\n").split("\n"),function(e){s=e.indexOf(":"),s>=0&&(o=e.substr(0,s).toLowerCase(),e.charAt(s+1)==" "&&++s,n[o]=e.substr(s+1))})}catch(u){}return{tId:e.tId,status:i.status,statusText:i.statusText,getResponseHeader:function(e){return n[e.toLowerCase()]},getAllResponseHeaders:function(){return r},responseText:i.responseText,responseXML:i.responseXML,argument:t}}function o(e){e.conn=null,e=null}function u(e,t,n,i){if(!t){o(e);return}var u,a;try{e.conn.status!==undefined&&e.conn.status!=0?u=e.conn.status:u=13030}catch(f){u=13030}if(u>=200&&u<300||Ext.isIE&&u==1223)a=s(e,t.argument),t.success&&(t.scope?t.success.apply(t.scope,[a]):t.success(a));else switch(u){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:a=r(e.tId,t.argument,n?n:!1,i),t.failure&&(t.scope?t.failure.apply(t.scope,[a]):t.failure(a));break;default:a=s(e,t.argument),t.failure&&(t.scope?t.failure.apply(t.scope,[a]):t.failure(a))}o(e),a=null}function a(e,t){t=t||{};var n=e.conn,r=e.tId,i=h.poll,s=t.timeout||null;s&&(h.timeout[r]=setTimeout(function(){h.abort(e,t,!0)},s)),i[r]=setInterval(function(){n&&n.readyState==4&&(clearInterval(i[r]),i[r]=null,s&&(clearTimeout(h.timeout[r]),h.timeout[r]=null),u(e,t))},h.pollInterval)}function f(e,r,s,o){var u=l()||null;return u&&(u.conn.open(e,r,!0),h.useDefaultXhrHeader&&i("X-Requested-With",h.defaultXhrHeader),o&&h.useDefaultHeader&&(!h.headers||!h.headers[t])&&i(t,h.defaultPostHeader),(h.defaultHeaders||h.headers)&&n(u),a(u,s),u.conn.send(o||null)),u}function l(){var e;try{(e=c(h.transactionId))&&h.transactionId++}catch(t){}finally{return e}}function c(t){var n;try{n=new XMLHttpRequest}catch(r){for(var i=0;i<e.length;++i)try{n=new ActiveXObject(e[i]);break}catch(r){}}finally{return{conn:n,tId:t}}}var e=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t="Content-Type",h={request:function(e,n,r,s,o){if(o){var u=this,a=o.xmlData,l=o.jsonData,c;Ext.applyIf(u,o);if(a||l)c=u.headers,(!c||!c[t])&&i(t,a?"text/xml":"application/json"),s=a||(Ext.isPrimitive(l)?l:Ext.encode(l))}return f(e||o.method||"POST",n,r,s)},serializeForm:function(e){var t=e.elements||(document.forms[e]||Ext.getDom(e)).elements,n=!1,r=encodeURIComponent,i,s,o,u,a="",f;return Ext.each(t,function(e){o=e.name,f=e.type,!e.disabled&&o&&(/select-(one|multiple)/i.test(f)?Ext.each(e.options,function(e){e.selected&&(a+=String.format("{0}={1}&",r(o),r((e.hasAttribute?e.hasAttribute("value"):e.getAttribute("value")!==null)?e.value:e.text)))}):/file|undefined|reset|button/i.test(f)||(!/radio|checkbox/i.test(f)||!!e.checked)&&(f!="submit"||!n)&&(a+=r(o)+"="+r(e.value)+"&",n=/submit/i.test(f)))}),a.substr(0,a.length-1)},useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",poll:{},timeout:{},pollInterval:50,transactionId:0,abort:function(e,t,n){var r=this,i=e.tId,s=!1;return r.isCallInProgress(e)&&(e.conn.abort(),clearInterval(r.poll[i]),r.poll[i]=null,clearTimeout(h.timeout[i]),r.timeout[i]=null,u(e,t,s=!0,n)),s},isCallInProgress:function(e){return e.conn&&!{0:!0,4:!0}[e.conn.readyState]}};return h}(),function(){var e=Ext.lib,t=/width|height|opacity|padding/i,n=/^((width|height)|(top|left))$/,r=/width|height|top$|bottom$|left$|right$/i,i=/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i,s=function(e){return typeof e!="undefined"},o=function(){return new Date};e.Anim={motion:function(e,t,n,r,i,s){return this.run(e,t,n,r,i,s,Ext.lib.Motion)},run:function(e,t,n,r,i,s,o){o=o||Ext.lib.AnimBase,typeof r=="string"&&(r=Ext.lib.Easing[r]);var u=new o(e,t,n,r);return u.animateX(function(){Ext.isFunction(i)&&i.call(s)}),u}},e.AnimBase=function(e,t,n,r){e&&this.init(e,t,n,r)},e.AnimBase.prototype={doMethod:function(e,t,n){var r=this;return r.method(r.curFrame,t,n-t,r.totalFrames)},setAttr:function(e,n,r){t.test(e)&&n<0&&(n=0),Ext.fly(this.el,"_anim").setStyle(e,n+r)},getAttr:function(e){var t=Ext.fly(this.el),r=t.getStyle(e),s=n.exec(e)||[];return r!=="auto"&&!i.test(r)?parseFloat(r):!!s[2]||t.getStyle("position")=="absolute"&&!!s[3]?t.dom["offset"+s[0].charAt(0).toUpperCase()+s[0].substr(1)]:0},getDefaultUnit:function(e){return r.test(e)?"px":""},animateX:function(e,t){var n=this,r=function(){n.onComplete.removeListener(r),Ext.isFunction(e)&&e.call(t||n,n)};n.onComplete.addListener(r,n),n.animate()},setRunAttr:function(e){var t=this,n=this.attributes[e],r=n.to,i=n.by,o=n.from,u=n.unit,a=this.runAttrs[e]={},f;if(!s(r)&&!s(i))return!1;var l=s(o)?o:t.getAttr(e);if(s(r))f=r;else if(s(i))if(Ext.isArray(l)){f=[];for(var c=0,h=l.length;c<h;c++)f[c]=l[c]+i[c]}else f=l+i;Ext.apply(a,{start:l,end:f,unit:s(u)?u:t.getDefaultUnit(e)})},init:function(t,n,r,i){var s=this,u=0,a=e.AnimMgr;Ext.apply(s,{isAnimated:!1,startTime:null,el:Ext.getDom(t),attributes:n||{},duration:r||1,method:i||e.Easing.easeNone,useSec:!0,curFrame:0,totalFrames:a.fps,runAttrs:{},animate:function(){var e=this,t=e.duration;if(e.isAnimated)return!1;e.curFrame=0,e.totalFrames=e.useSec?Math.ceil(a.fps*t):t,a.registerElement(e)},stop:function(e){var t=this;e&&(t.curFrame=t.totalFrames,t._onTween.fire()),a.stop(t)}});var f=function(){var e=this,t;e.onStart.fire(),e.runAttrs={};for(t in this.attributes)this.setRunAttr(t);e.isAnimated=!0,e.startTime=o(),u=0},l=function(){var e=this;e.onTween.fire({duration:o()-e.startTime,curFrame:e.curFrame});var t=e.runAttrs;for(var n in t)this.setAttr(n,e.doMethod(n,t[n].start,t[n].end),t[n].unit);++u},c=function(){var e=this,t=(o()-e.startTime)/1e3,n={duration:t,frames:u,fps:u/t};e.isAnimated=!1,u=0,e.onComplete.fire(n)};s.onStart=new Ext.util.Event(s),s.onTween=new Ext.util.Event(s),s.onComplete=new Ext.util.Event(s),(s._onStart=new Ext.util.Event(s)).addListener(f),(s._onTween=new Ext.util.Event(s)).addListener(l),(s._onComplete=new Ext.util.Event(s)).addListener(c)}},Ext.lib.AnimMgr=new function(){var e=this,t=null,n=[],r=0;Ext.apply(e,{fps:1e3,delay:1,registerElement:function(t){n.push(t),++r,t._onStart.fire(),e.start()},unRegister:function(t,s){t._onComplete.fire(),s=s||i(t),s!=-1&&n.splice(s,1),--r<=0&&e.stop()},start:function(){t===null&&(t=setInterval(e.run,e.delay))},stop:function(i){if(!i){clearInterval(t);for(var s=0,o=n.length;s<o;++s)n[0].isAnimated&&e.unRegister(n[0],0);n=[],t=null,r=0}else e.unRegister(i)},run:function(){var t,r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r],o&&o.isAnimated&&(t=o.totalFrames,o.curFrame<t||t===null?(++o.curFrame,o.useSec&&s(o),o._onTween.fire()):e.stop(o))}});var i=function(e){var t,r;for(t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1},s=function(e){var t=e.totalFrames,n=e.curFrame,r=e.duration,i=n*r*1e3/t,s=o()-e.startTime,u=0;s<r*1e3?u=Math.round((s/i-1)*n):u=t-(n+1),u>0&&isFinite(u)&&(e.curFrame+u>=t&&(u=t-(n+1)),e.curFrame+=u)}},e.Bezier=new function(){this.getPosition=function(e,t){var n=e.length,r=[],i=1-t,s,o;for(s=0;s<n;++s)r[s]=[e[s][0],e[s][1]];for(o=1;o<n;++o)for(s=0;s<n-o;++s)r[s][0]=i*r[s][0]+t*r[parseInt(s+1,10)][0],r[s][1]=i*r[s][1]+t*r[parseInt(s+1,10)][1];return[r[0][0],r[0][1]]}},e.Easing={easeNone:function(e,t,n,r){return n*e/r+t},easeIn:function(e,t,n,r){return n*(e/=r)*e+t},easeOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t}},function(){e.Motion=function(t,n,r,i){t&&e.Motion.superclass.constructor.call(this,t,n,r,i)},Ext.extend(e.Motion,Ext.lib.AnimBase);var t=e.Motion.superclass,n=e.Motion.prototype,r=/^points$/i;Ext.apply(e.Motion.prototype,{setAttr:function(e,n,i){var s=this,o=t.setAttr;r.test(e)?(i=i||"px",o.call(s,"left",n[0],i),o.call(s,"top",n[1],i)):o.call(s,e,n,i)},getAttr:function(e){var n=this,i=t.getAttr;return r.test(e)?[i.call(n,"left"),i.call(n,"top")]:i.call(n,e)},doMethod:function(n,i,s){var o=this;return r.test(n)?e.Bezier.getPosition(o.runAttrs[n],o.method(o.curFrame,0,100,o.totalFrames)/100):t.doMethod.call(o,n,i,s)},setRunAttr:function(n){if(r.test(n)){var o=this,u=this.el,a=this.attributes.points,f=a.control||[],c=a.from,p=a.to,d=a.by,v=e.Dom,g,y,b,w,E;f.length>0&&!Ext.isArray(f[0])&&(f=[f]),Ext.fly(u,"_anim").position(),v.setXY(u,s(c)?c:v.getXY(u)),g=o.getAttr("points");if(s(p)){b=i.call(o,p,g);for(y=0,w=f.length;y<w;++y)f[y]=i.call(o,f[y],g)}else if(s(d)){b=[g[0]+d[0],g[1]+d[1]];for(y=0,w=f.length;y<w;++y)f[y]=[g[0]+f[y][0],g[1]+f[y][1]]}E=this.runAttrs[n]=[g],f.length>0&&(E=E.concat(f)),E[E.length]=b}else t.setRunAttr.call(this,n)}});var i=function(t,n){var r=e.Dom.getXY(this.el);return[t[0]-r[0]+n[0],t[1]-r[1]+n[1]]}}()}(),function(){var e=Math.abs,t=Math.PI,n=Math.asin,r=Math.pow,i=Math.sin,s=Ext.lib;Ext.apply(s.Easing,{easeBoth:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInStrong:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutStrong:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeBothStrong:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},elasticIn:function(s,o,u,a,f,l){if(s==0||(s/=a)==1)return s==0?o:o+u;l=l||a*.3;var c;return f>=e(u)?c=l/(2*t)*n(u/f):(f=u,c=l/4),-(f*r(2,10*(s-=1))*i((s*a-c)*2*t/l))+o},elasticOut:function(s,o,u,a,f,l){if(s==0||(s/=a)==1)return s==0?o:o+u;l=l||a*.3;var c;return f>=e(u)?c=l/(2*t)*n(u/f):(f=u,c=l/4),f*r(2,-10*s)*i((s*a-c)*2*t/l)+u+o},elasticBoth:function(s,o,u,a,f,l){if(s==0||(s/=a/2)==2)return s==0?o:o+u;l=l||a*.3*1.5;var c;return f>=e(u)?c=l/(2*t)*n(u/f):(f=u,c=l/4),s<1?-0.5*f*r(2,10*(s-=1))*i((s*a-c)*2*t/l)+o:f*r(2,-10*(s-=1))*i((s*a-c)*2*t/l)*.5+u+o},backIn:function(e,t,n,r,i){return i=i||1.70158,n*(e/=r)*e*((i+1)*e-i)+t},backOut:function(e,t,n,r,i){return i||(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},backBoth:function(e,t,n,r,i){return i=i||1.70158,(e/=r/2)<1?n/2*e*e*(((i*=1.525)+1)*e-i)+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},bounceIn:function(e,t,n,r){return n-s.Easing.bounceOut(r-e,0,n,r)+t},bounceOut:function(e,t,n,r){return(e/=r)<1/2.75?n*7.5625*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},bounceBoth:function(e,t,n,r){return e<r/2?s.Easing.bounceIn(e*2,0,n,r)*.5+t:s.Easing.bounceOut(e*2-r,0,n,r)*.5+n*.5+t}})}(),function(){function a(e){var t=parseInt,n,r=null,u;return e.length==3?e:(Ext.each([s,i,o],function(i,s){n=s%2==0?16:10,u=i.exec(e);if(u&&u.length==4)return r=[t(u[1],n),t(u[2],n),t(u[3],n)],!1}),r)}var e=Ext.lib;e.Anim.color=function(t,n,r,i,s,o){return e.Anim.run(t,n,r,i,s,o,e.ColorAnim)},e.ColorAnim=function(t,n,r,i){e.ColorAnim.superclass.constructor.call(this,t,n,r,i)},Ext.extend(e.ColorAnim,e.AnimBase);var t=e.ColorAnim.superclass,n=/color$/i,r=/^transparent|rgba\(0, 0, 0, 0\)$/,i=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,s=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,o=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,u=function(e){return typeof e!="undefined"};Ext.apply(e.ColorAnim.prototype,{getAttr:function(e){var i=this,s=i.el,o;if(n.test(e))while(s&&r.test(o=Ext.fly(s).getStyle(e)))s=s.parentNode,o="fff";else o=t.getAttr.call(i,e);return o},doMethod:function(e,r,i){var s=this,o,u=Math.floor,a,f,l;if(n.test(e)){o=[];for(a=0,f=r.length;a<f;a++)l=r[a],o[a]=t.doMethod.call(s,e,l,i[a]);o="rgb("+u(o[0])+","+u(o[1])+","+u(o[2])+")"}else o=t.doMethod.call(s,e,r,i);return o},setRunAttr:function(e){var r=this,i=r.attributes[e],s=i.to,o=i.by,f;t.setRunAttr.call(r,e),f=r.runAttrs[e];if(n.test(e)){var c=a(f.start),p=a(f.end);if(!u(s)&&u(o)){p=a(o);for(var d=0,v=c.length;d<v;d++)p[d]=c[d]+p[d]}f.start=c,f.end=p}}})}(),function(){var e=Ext.lib;e.Anim.scroll=function(t,n,r,i,s,o){return e.Anim.run(t,n,r,i,s,o,e.Scroll)},e.Scroll=function(t,n,r,i){t&&e.Scroll.superclass.constructor.call(this,t,n,r,i)},Ext.extend(e.Scroll,e.ColorAnim);var t=e.Scroll.superclass,n="scroll";Ext.apply(e.Scroll.prototype,{doMethod:function(e,r,i){var s,o=this,u=o.curFrame,a=o.totalFrames;return e==n?s=[o.method(u,r[0],i[0]-r[0],a),o.method(u,r[1],i[1]-r[1],a)]:s=t.doMethod.call(o,e,r,i),s},getAttr:function(e){var r=this;return e==n?[r.el.scrollLeft,r.el.scrollTop]:t.getAttr.call(r,e)},setAttr:function(e,r,i){var s=this;e==n?(s.el.scrollLeft=r[0],s.el.scrollTop=r[1]):t.setAttr.call(s,e,r,i)}})}();if(Ext.isIE){function n(){var e=Function.prototype;delete e.createSequence,delete e.defer,delete e.createDelegate,delete e.createCallback,delete e.createInterceptor,window.detachEvent("onunload",n)}window.attachEvent("onunload",n)}}(),function(){function u(e,n,r){return function(){n.target==arguments[0]&&e.apply(r,t(arguments))}}function a(n,r,i,s){return i.task=new e.DelayedTask,function(){i.task.delay(r.buffer,n,s,t(arguments))}}function f(e,t,n,r){return function(){return t.removeListener(n,r),e.apply(r,arguments)}}function l(n,r,i,s){return function(){var o=new e.DelayedTask;i.tasks||(i.tasks=[]),i.tasks.push(o),o.delay(r.delay||10,n,s,t(arguments))}}var e=Ext.util,t=Ext.toArray,n=Ext.each,r=Ext.isObject,i=!0,s=!1;e.Observable=function(){var e=this,t=e.events;e.listeners&&(e.on(e.listeners),delete e.listeners),e.events=t||{}},e.Observable.prototype={filterOptRe:/^(?:scope|delay|buffer|single)$/,fireEvent:function(){var e=t(arguments),n=e[0].toLowerCase(),o=this,u=i,a=o.events[n],f,l;if(o.eventsSuspended===i)(f=o.eventQueue)&&f.push(e);else if(r(a)&&a.bubble){if(a.fire.apply(a,e.slice(1))===s)return s;l=o.getBubbleTarget&&o.getBubbleTarget();if(l&&l.enableBubble)return(!l.events[n]||!Ext.isObject(l.events[n])||!l.events[n].bubble)&&l.enableBubble(n),l.fireEvent.apply(l,e)}else r(a)&&(e.shift(),u=a.fire.apply(a,e));return u},addListener:function(t,n,s,o){var u=this,a,f,l,c;if(r(t)){o=t;for(a in o)f=o[a],u.filterOptRe.test(a)||u.addListener(a,f.fn||f,f.scope||o.scope,f.fn?f:o)}else t=t.toLowerCase(),c=u.events[t]||i,Ext.isBoolean(c)&&(u.events[t]=c=new e.Event(u,t)),c.addListener(n,s,r(o)?o:{})},removeListener:function(e,t,n){var i=this.events[e.toLowerCase()];r(i)&&i.removeListener(t,n)},purgeListeners:function(){var e=this.events,t,n;for(n in e)t=e[n],r(t)&&t.clearListeners()},addEvents:function(e){var t=this;t.events=t.events||{};if(Ext.isString(e)){var n=arguments,r=n.length;while(r--)t.events[n[r]]=t.events[n[r]]||i}else Ext.applyIf(t.events,e)},hasListener:function(e){var t=this.events[e];return r(t)&&t.listeners.length>0},suspendEvents:function(e){this.eventsSuspended=i,e&&!this.eventQueue&&(this.eventQueue=[])},resumeEvents:function(){var e=this,t=e.eventQueue||[];e.eventsSuspended=s,delete e.eventQueue,n(t,function(t){e.fireEvent.apply(e,t)})}};var o=e.Observable.prototype;o.on=o.addListener,o.un=o.removeListener,e.Observable.releaseCapture=function(e){e.fireEvent=o.fireEvent},e.Event=function(e,t){this.name=t,this.obj=e,this.listeners=[]},e.Event.prototype={addListener:function(e,t,n){var r=this,i;t=t||r.obj,r.isListening(e,t)||(i=r.createListener(e,t,n),r.firing&&(r.listeners=r.listeners.slice(0)),r.listeners.push(i))},createListener:function(e,t,n){n=n||{},t=t||this.obj;var r={fn:e,scope:t,options:n},i=e;return n.target&&(i=u(i,n,t)),n.delay&&(i=l(i,n,r,t)),n.single&&(i=f(i,this,e,t)),n.buffer&&(i=a(i,n,r,t)),r.fireFn=i,r},findListener:function(e,t){var n=this.listeners,r=n.length,i,s;while(r--){i=n[r];if(i){s=i.scope;if(i.fn==e&&(s==t||s==this.obj))return r}}return-1},isListening:function(e,t){return this.findListener(e,t)!=-1},removeListener:function(e,t){var n,r,o,u=this,a=s;if((n=u.findListener(e,t))!=-1){u.firing&&(u.listeners=u.listeners.slice(0)),r=u.listeners[n],r.task&&(r.task.cancel(),delete r.task),o=r.tasks&&r.tasks.length;if(o){while(o--)r.tasks[o].cancel();delete r.tasks}u.listeners.splice(n,1),a=i}return a},clearListeners:function(){var e=this,t=e.listeners,n=t.length;while(n--)e.removeListener(t[n].fn,t[n].scope)},fire:function(){var e=this,n=t(arguments),r=e.listeners,o=r.length,u=0,a;if(o>0){e.firing=i;for(;u<o;u++){a=r[u];if(a&&a.fireFn.apply(a.scope||e.obj||window,n)===s)return e.firing=s}}return e.firing=s,i}}}(),Ext.DomHelper=function(){function d(e,t,n,i,s,o){var u=r.insertHtml(i,Ext.getDom(e),v(t));return n?Ext.get(u,!0):u}function v(e){var n="",r,i,s,o,u;if(Ext.isString(e))n=e;else if(Ext.isArray(e))for(var a=0;a<e.length;a++)e[a]&&(n+=v(e[a]));else n+="<"+(e.tag=e.tag||"div"),Ext.iterate(e,function(e,t){/tag|children|cn|html$/i.test(e)||(Ext.isObject(t)?(n+=" "+e+'="',Ext.iterate(t,function(e,t){n+=e+":"+t+";"}),n+='"'):n+=" "+({cls:"class",htmlFor:"for"}[e]||e)+'="'+t+'"')}),t.test(e.tag)?n+="/>":(n+=">",(u=e.children||e.cn)?n+=v(u):e.html&&(n+=e.html),n+="</"+e.tag+">");return n}function m(t,n,r,i){e.innerHTML=[n,r,i].join("");var s=-1,o=e,u;while(++s<t)o=o.firstChild;if(u=o.nextSibling){var a=document.createDocumentFragment();while(o)u=o.nextSibling,a.appendChild(o),o=u;o=a}return o}function g(t,n,r,d){var v,g;e=e||document.createElement("div");if(t=="td"&&(n==i||n==u)||!/td|tr|tbody/i.test(t)&&(n==o||n==s))return;g=n==o?r:n==s?r.nextSibling:n==i?r.firstChild:null;if(n==o||n==s)r=r.parentNode;return t=="td"||t=="tr"&&(n==u||n==i)?v=m(4,h,d,p):t=="tbody"&&(n==u||n==i)||t=="tr"&&(n==o||n==s)?v=m(3,l,d,c):v=m(2,a,d,f),r.insertBefore(v,g),v}var e=null,t=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,n=/^table|tbody|tr|td$/i,r,i="afterbegin",s="afterend",o="beforebegin",u="beforeend",a="<table>",f="</table>",l=a+"<tbody>",c="</tbody>"+f,h=l+"<tr>",p="</tr>"+c;return r={markup:function(e){return v(e)},applyStyles:function(e,t){if(t){var n=0,r,i;e=Ext.fly(e),Ext.isFunction(t)&&(t=t.call());if(Ext.isString(t)){t=t.trim().split(/\s*(?::|;)\s*/);for(r=t.length;n<r;)e.setStyle(t[n++],t[n++])}else Ext.isObject(t)&&e.setStyle(t)}},insertHtml:function(e,t,r){var a={},f,l,c,h,p,d;e=e.toLowerCase(),a[o]=["BeforeBegin","previousSibling"],a[s]=["AfterEnd","nextSibling"];if(!t.insertAdjacentHTML)return c=t.ownerDocument.createRange(),l="setStart"+(/end/i.test(e)?"After":"Before"),a[e]?(c[l](t),h=c.createContextualFragment(r),t.parentNode.insertBefore(h,e==o?t:t.nextSibling),t[(e==o?"previous":"next")+"Sibling"]):(p=(e==i?"first":"last")+"Child",t.firstChild?(c[l](t[p]),h=c.createContextualFragment(r),e==i?t.insertBefore(h,t.firstChild):t.appendChild(h)):t.innerHTML=r,t[p]);if(n.test(t.tagName)&&(d=g(t.tagName.toLowerCase(),e,t,r)))return d;a[i]=["AfterBegin","firstChild"],a[u]=["BeforeEnd","lastChild"];if(f=a[e])return t.insertAdjacentHTML(f[0],r),t[f[1]];throw'Illegal insertion point -> "'+e+'"'},insertBefore:function(e,t,n){return d(e,t,n,o)},insertAfter:function(e,t,n){return d(e,t,n,s,"nextSibling")},insertFirst:function(e,t,n){return d(e,t,n,i,"firstChild")},append:function(e,t,n){return d(e,t,n,u,"",!0)},overwrite:function(e,t,n){return e=Ext.getDom(e),e.innerHTML=v(t),n?Ext.get(e.firstChild):e.firstChild},createHtml:v},r}(),Ext.Template=function(e){var t=this,n=arguments,r=[];Ext.isArray(e)?e=e.join(""):n.length>1&&(Ext.each(n,function(e){Ext.isObject(e)?Ext.apply(t,e):r.push(e)}),e=r.join("")),t.html=e,t.compiled&&t.compile()},Ext.Template.prototype={re:/\{([\w-]+)\}/g,applyTemplate:function(e){var t=this;return t.compiled?t.compiled(e):t.html.replace(t.re,function(t,n){return e[n]!==undefined?e[n]:""})},set:function(e,t){var n=this;return n.html=e,n.compiled=null,t?n.compile():n},compile:function(){function fn(e,t){return t="values['"+t+"']","'"+sep+"("+t+" == undefined ? '' : "+t+")"+sep+"'"}var me=this,sep=Ext.isGecko?"+":",";return eval("this.compiled = function(values){ return "+(Ext.isGecko?"'":"['")+me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+(Ext.isGecko?"';};":"'].join('');};")),me},insertFirst:function(e,t,n){return this.doInsert("afterBegin",e,t,n)},insertBefore:function(e,t,n){return this.doInsert("beforeBegin",e,t,n)},insertAfter:function(e,t,n){return this.doInsert("afterEnd",e,t,n)},append:function(e,t,n){return this.doInsert("beforeEnd",e,t,n)},doInsert:function(e,t,n,r){t=Ext.getDom(t);var i=Ext.DomHelper.insertHtml(e,t,this.applyTemplate(n));return r?Ext.get(i,!0):i},overwrite:function(e,t,n){return e=Ext.getDom(e),e.innerHTML=this.applyTemplate
(t),n?Ext.get(e.firstChild,!0):e.firstChild}},Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate,Ext.Template.from=function(e,t){return e=Ext.getDom(e),new Ext.Template(e.value||e.innerHTML,t||"")},Ext.DomQuery=function(){function child(e,t){var n=0,r=e.firstChild;while(r){if(r.nodeType==1&&++n==t)return r;r=r.nextSibling}return null}function next(e){while((e=e.nextSibling)&&e.nodeType!=1);return e}function prev(e){while((e=e.previousSibling)&&e.nodeType!=1);return e}function children(e){var t=e.firstChild,n=-1,r;while(t)r=t.nextSibling,t.nodeType==3&&!nonSpace.test(t.nodeValue)?e.removeChild(t):t.nodeIndex=++n,t=r;return this}function byClassName(e,t,n){if(!n)return e;var r=[],i=-1,s;for(var o=0,u;u=e[o];o++)(" "+u.className+" ").indexOf(n)!=-1&&(r[++i]=u);return r}function attrValue(e,t){return!e.tagName&&typeof e.length!="undefined"&&(e=e[0]),e?t=="for"?e.htmlFor:t=="class"||t=="className"?e.className:e.getAttribute(t)||e[t]:null}function getNodes(e,t,n){var r=[],i=-1,s;if(!e)return r;n=n||"*",typeof e.getElementsByTagName!="undefined"&&(e=[e]);if(!t)for(var o=0,u;u=e[o];o++){s=u.getElementsByTagName(n);for(var a=0,f;f=s[a];a++)r[++i]=f}else if(t=="/"||t==">"){var l=n.toUpperCase();for(var o=0,u,c;u=e[o];o++){c=u.childNodes;for(var a=0,h;h=c[a];a++)if(h.nodeName==l||h.nodeName==n||n=="*")r[++i]=h}}else if(t=="+"){var l=n.toUpperCase();for(var o=0,p;p=e[o];o++){while((p=p.nextSibling)&&p.nodeType!=1);p&&(p.nodeName==l||p.nodeName==n||n=="*")&&(r[++i]=p)}}else if(t=="~"){var l=n.toUpperCase();for(var o=0,p;p=e[o];o++)while(p=p.nextSibling)if(p.nodeName==l||p.nodeName==n||n=="*")r[++i]=p}return r}function concat(e,t){if(t.slice)return e.concat(t);for(var n=0,r=t.length;n<r;n++)e[e.length]=t[n];return e}function byTag(e,t){if(e.tagName||e==document)e=[e];if(!t)return e;var n=[],r=-1;t=t.toLowerCase();for(var i=0,s;s=e[i];i++)s.nodeType==1&&s.tagName.toLowerCase()==t&&(n[++r]=s);return n}function byId(e,t,n){if(e.tagName||e==document)e=[e];if(!n)return e;var r=[],i=-1;for(var s=0,o;o=e[s];s++)if(o&&o.id==n)return r[++i]=o,r;return r}function byAttribute(e,t,n,r,i){var s=[],o=-1,u=i=="{",a=Ext.DomQuery.operators[r],f,l;for(var c=0,h;h=e[c];c++){if(h.nodeType!=1)continue;l=h.innerHTML,l!==null&&l!==undefined?u?f=Ext.DomQuery.getStyle(h,t):t=="class"||t=="className"?f=h.className:t=="for"?f=h.htmlFor:t=="href"?f=h.getAttribute("href",2):f=h.getAttribute(t):f=h.getAttribute(t);if(a&&a(f,n)||!a&&f)s[++o]=h}return s}function byPseudo(e,t,n){return Ext.DomQuery.pseudos[t](e,n)}function nodupIEXml(e){var t=++key,n;e[0].setAttribute("_nodup",t),n=[e[0]];for(var r=1,i=e.length;r<i;r++){var s=e[r];!s.getAttribute("_nodup")!=t&&(s.setAttribute("_nodup",t),n[n.length]=s)}for(var r=0,i=e.length;r<i;r++)e[r].removeAttribute("_nodup");return n}function nodup(e){if(!e)return[];var t=e.length,n,r,i=e,s,o=-1;if(!t||typeof e.nodeType!="undefined"||t==1)return e;if(isIE&&typeof e[0].selectSingleNode!="undefined")return nodupIEXml(e);var u=++key;e[0]._nodup=u;for(r=1;n=e[r];r++){if(n._nodup==u){i=[];for(var a=0;a<r;a++)i[++o]=e[a];for(a=r+1;s=e[a];a++)s._nodup!=u&&(s._nodup=u,i[++o]=s);return i}n._nodup=u}return i}function quickDiffIEXml(e,t){var n=++key,r=[];for(var i=0,s=e.length;i<s;i++)e[i].setAttribute("_qdiff",n);for(var i=0,s=t.length;i<s;i++)t[i].getAttribute("_qdiff")!=n&&(r[r.length]=t[i]);for(var i=0,s=e.length;i<s;i++)e[i].removeAttribute("_qdiff");return r}function quickDiff(e,t){var n=e.length,r=++key,i=[];if(!n)return t;if(isIE&&typeof e[0].selectSingleNode!="undefined")return quickDiffIEXml(e,t);for(var s=0;s<n;s++)e[s]._qdiff=r;for(var s=0,o=t.length;s<o;s++)t[s]._qdiff!=r&&(i[i.length]=t[s]);return i}function quickId(e,t,n,r){if(e==n){var i=n.ownerDocument||n;return i.getElementById(r)}return e=getNodes(e,t,"*"),byId(e,null,r)}var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w-\*]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,isIE=window.ActiveXObject?!0:!1,key=30803;return eval("var batch = 30803;"),{getStyle:function(e,t){return Ext.fly(e).getStyle(t)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],q=path,mode,lq,tk=Ext.DomQuery.matchers,tklen=tk.length,mm,lmode=q.match(modeRe);lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',q=q.replace(lmode[1],""));while(path.substr(0,1)=="/")path=path.substr(1);while(q&&lq!=q){lq=q;var tm=q.match(tagTokenRe);type=="select"?tm?(tm[1]=="#"?fn[fn.length]='n = quickId(n, mode, root, "'+tm[2]+'");':fn[fn.length]='n = getNodes(n, mode, "'+tm[2]+'");',q=q.replace(tm[0],"")):q.substr(0,1)!="@"&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tm&&(tm[1]=="#"?fn[fn.length]='n = byId(n, null, "'+tm[2]+'");':fn[fn.length]='n = byTag(n, "'+tm[2]+'");',q=q.replace(tm[0],""));while(!(mm=q.match(modeRe))){var matched=!1;for(var j=0;j<tklen;j++){var t=tk[j],m=q.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(e,t){return m[t]}),q=q.replace(m[0],""),matched=!0;break}}if(!matched)throw'Error parsing selector, parsing failed at "'+q+'"'}mm[1]&&(fn[fn.length]='mode="'+mm[1].replace(trimRe,"")+'";',q=q.replace(mm[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},select:function(e,t,n){if(!t||t==document)t=document;typeof t=="string"&&(t=document.getElementById(t));var r=e.split(","),i=[];for(var s=0,o=r.length;s<o;s++){var u=r[s].replace(trimRe,"");if(!cache[u]){cache[u]=Ext.DomQuery.compile(u);if(!cache[u])throw u+" is not a valid selector"}var a=cache[u](t);a&&a!=document&&(i=i.concat(a))}return r.length>1?nodup(i):i},selectNode:function(e,t){return Ext.DomQuery.select(e,t)[0]},selectValue:function(e,t,n){e=e.replace(trimRe,""),valueCache[e]||(valueCache[e]=Ext.DomQuery.compile(e,"select"));var r=valueCache[e](t),i;return r=r[0]?r[0]:r,typeof r.normalize=="function"&&r.normalize(),i=r&&r.firstChild?r.firstChild.nodeValue:null,i===null||i===undefined||i===""?n:i},selectNumber:function(e,t,n){var r=Ext.DomQuery.selectValue(e,t,n||0);return parseFloat(r)},is:function(e,t){typeof e=="string"&&(e=document.getElementById(e));var n=Ext.isArray(e),r=Ext.DomQuery.filter(n?e:[e],t);return n?r.length==e.length:r.length>0},filter:function(e,t,n){t=t.replace(trimRe,""),simpleCache[t]||(simpleCache[t]=Ext.DomQuery.compile(t,"simple"));var r=simpleCache[t](e);return n?quickDiff(r,e):r},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, null, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, null, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e&&e.substr(0,t.length)==t},"$=":function(e,t){return e&&e.substr(e.length-t.length)==t},"*=":function(e,t){return e&&e.indexOf(t)!==-1},"%=":function(e,t){return e%t==0},"|=":function(e,t){return e&&(e==t||e.substr(0,t.length+1)==t+"-")},"~=":function(e,t){return e&&(" "+e+" ").indexOf(" "+t+" ")!=-1}},pseudos:{"first-child":function(e){var t=[],n=-1,r;for(var i=0,s;s=r=e[i];i++){while((r=r.previousSibling)&&r.nodeType!=1);r||(t[++n]=s)}return t},"last-child":function(e){var t=[],n=-1,r;for(var i=0,s;s=r=e[i];i++){while((r=r.nextSibling)&&r.nodeType!=1);r||(t[++n]=s)}return t},"nth-child":function(e,t){var n=[],r=-1,i=nthRe.exec(t=="even"&&"2n"||t=="odd"&&"2n+1"||!nthRe2.test(t)&&"n+"+t||t),s=(i[1]||1)-0,o=i[2]-0;for(var u=0,a;a=e[u];u++){var f=a.parentNode;if(batch!=f._batch){var l=0;for(var c=f.firstChild;c;c=c.nextSibling)c.nodeType==1&&(c.nodeIndex=++l);f._batch=batch}if(s==1){if(o==0||a.nodeIndex==o)n[++r]=a}else(a.nodeIndex+o)%s==0&&(n[++r]=a)}return n},"only-child":function(e){var t=[],n=-1;for(var r=0,i;i=e[r];r++)!prev(i)&&!next(i)&&(t[++n]=i);return t},empty:function(e){var t=[],n=-1;for(var r=0,i;i=e[r];r++){var s=i.childNodes,o=0,u,a=!0;while(u=s[o]){++o;if(u.nodeType==1||u.nodeType==3){a=!1;break}}a&&(t[++n]=i)}return t},contains:function(e,t){var n=[],r=-1;for(var i=0,s;s=e[i];i++)(s.textContent||s.innerText||"").indexOf(t)!=-1&&(n[++r]=s);return n},nodeValue:function(e,t){var n=[],r=-1;for(var i=0,s;s=e[i];i++)s.firstChild&&s.firstChild.nodeValue==t&&(n[++r]=s);return n},checked:function(e){var t=[],n=-1;for(var r=0,i;i=e[r];r++)i.checked==1&&(t[++n]=i);return t},not:function(e,t){return Ext.DomQuery.filter(e,t,!0)},any:function(e,t){var n=t.split("|"),r=[],i=-1,s;for(var o=0,u;u=e[o];o++)for(var a=0;s=n[a];a++)if(Ext.DomQuery.is(u,s)){r[++i]=u;break}return r},odd:function(e){return this["nth-child"](e,"odd")},even:function(e){return this["nth-child"](e,"even")},nth:function(e,t){return e[t-1]||[]},first:function(e){return e[0]||[]},last:function(e){return e[e.length-1]||[]},has:function(e,t){var n=Ext.DomQuery.select,r=[],i=-1;for(var s=0,o;o=e[s];s++)n(t,o).length>0&&(r[++i]=o);return r},next:function(e,t){var n=Ext.DomQuery.is,r=[],i=-1;for(var s=0,o;o=e[s];s++){var u=next(o);u&&n(u,t)&&(r[++i]=o)}return r},prev:function(e,t){var n=Ext.DomQuery.is,r=[],i=-1;for(var s=0,o;o=e[s];s++){var u=prev(o);u&&n(u,t)&&(r[++i]=o)}return r}}}}(),Ext.query=Ext.DomQuery.select,Ext.EventManager=function(){function c(e){var t=!1,n=0,r=l.length,t=!1,i=!1,s;if(e){if(e.getElementById||e.navigator){for(;n<r;++n){s=l[n];if(s.el===e){t=s.id;break}}t||(t=Ext.id(e),l.push({id:t,el:e}),i=!0)}else t=Ext.id(e);Ext.elCache[t]||(Ext.Element.addToCache(new Ext.Element(e),t),i&&(Ext.elCache[t].skipGC=!0))}return t}function h(e,t,n,i,s,u){e=Ext.getDom(e);var a=c(e),f=Ext.elCache[a].events,l;l=r.on(e,t,s),f[t]=f[t]||[],f[t].push([n,s,u,l,i]);if(t=="mousewheel"&&e.addEventListener){var h=["DOMMouseScroll",s,!1];e.addEventListener.apply(e,h),Ext.EventManager.addListener(o,"unload",function(){e.removeEventListener.apply(e,h)})}t=="mousedown"&&e==document&&Ext.EventManager.stoppedMouseDownEvent.addListener(s)}function p(){if(!n){Ext.isReady=n=!0,t&&clearInterval(t),(Ext.isGecko||Ext.isOpera)&&s.removeEventListener(a,p,!1);if(Ext.isIE){var r=s.getElementById(u);r&&(r.onreadystatechange=null,r.parentNode.removeChild(r))}e&&(e.fire(),e.listeners=[])}}function d(){var n="complete";e=new Ext.util.Event,Ext.isGecko||Ext.isOpera?s.addEventListener(a,p,!1):Ext.isIE?(s.write("<script id="+u+' defer="defer" src="//:"></script>'),s.getElementById(u).onreadystatechange=function(){this.readyState==n&&p()}):Ext.isWebKit&&(t=setInterval(function(){s.readyState==n&&p()},10)),r.on(o,"load",p)}function v(e,t){return function(){var n=Ext.toArray(arguments);t.target==Ext.EventObject.setEvent(n[0]).target&&e.apply(this,n)}}function m(e,t,n){return function(r){n.delay(t.buffer,e,null,[new Ext.EventObjectImpl(r)])}}function g(e,t,n,r,i){return function(s){Ext.EventManager.removeListener(t,n,r,i),e(s)}}function y(e,t,n){return function(r){var i=new Ext.util.DelayedTask(e);n.tasks||(n.tasks=[]),n.tasks.push(i),i.delay(t.delay||10,e,null,[new Ext.EventObjectImpl(r)])}}function b(e,t,n,r,i){function a(e){if(!Ext)return;e=Ext.EventObject.setEvent(e);var t;if(s.delegate){if(!(t=e.getTarget(s.delegate,o)))return}else t=e.target;s.stopEvent&&e.stopEvent(),s.preventDefault&&e.preventDefault(),s.stopPropagation&&e.stopPropagation(),s.normalized&&(e=e.browserEvent),r.call(i||o,e,t,s)}var s=Ext.isObject(n)?n:{},o=Ext.getDom(e),u;r=r||s.fn,i=i||s.scope;if(!o)throw'Error listening for "'+t+'". Element "'+e+"\" doesn't exist.";return s.target&&(a=v(a,s)),s.delay&&(a=y(a,s,r)),s.single&&(a=g(a,o,t,r,i)),s.buffer&&(u=new Ext.util.DelayedTask(a),a=m(a,s,u)),h(o,t,r,u,a,i),a}var e,t,n=!1,r=Ext.lib.Event,i=Ext.lib.Dom,s=document,o=window,u="ie-deferred-loader",a="DOMContentLoaded",f=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,l=[],w={addListener:function(e,t,n,r,i){if(Ext.isObject(t)){var s=t,o,u;for(o in s)u=s[o],f.test(o)||(Ext.isFunction(u)?b(e,o,s,u,s.scope):b(e,o,u))}else b(e,t,i,n,r)},removeListener:function(e,t,n,i){e=Ext.getDom(e);var o=c(e),u=e&&Ext.elCache[o].events[t]||[],a,f,l,h,p,d,v;for(f=0,d=u.length;f<d;f++)if(Ext.isArray(v=u[f])&&v[0]==n&&(!i||v[2]==i)){v[4]&&v[4].cancel(),h=n.tasks&&n.tasks.length;if(h){while(h--)n.tasks[h].cancel();delete n.tasks}p=a=v[1],r.extAdapter&&(p=v[3]),r.un(e,t,p),u.splice(f,1),u.length===0&&delete Ext.elCache[o].events[t];for(h in Ext.elCache[o].events)return!1;return Ext.elCache[o].events={},!1}t=="mousewheel"&&e.addEventListener&&a&&e.removeEventListener("DOMMouseScroll",a,!1),t=="mousedown"&&e==s&&a&&Ext.EventManager.stoppedMouseDownEvent.removeListener(a)},removeAll:function(e){e=Ext.getDom(e);var t=c(e),n=Ext.elCache[t]||{},i=n.events||{},s,o,u,a,f,l;for(a in i)if(i.hasOwnProperty(a)){s=i[a];for(o=0,u=s.length;o<u;o++){f=s[o],f[4]&&f[4].cancel();if(f[0].tasks&&(l=f[0].tasks.length)){while(l--)f[0].tasks[l].cancel();delete f.tasks}r.un(e,a,r.extAdapter?f[3]:f[1])}}Ext.elCache[t]&&(Ext.elCache[t].events={})},getListeners:function(e,t){e=Ext.getDom(e);var n=c(e),r=Ext.elCache[n]||{},i=r.events||{},s=[];return i&&i[t]?i[t]:null},purgeElement:function(e,t,n){e=Ext.getDom(e);var r=c(e),i=Ext.elCache[r]||{},s=i.events||{},o,u,a;if(n){if(s&&s.hasOwnProperty(n)){u=s[n];for(o=0,a=u.length;o<a;o++)Ext.EventManager.removeListener(e,n,u[o][0])}}else Ext.EventManager.removeAll(e);if(t&&e&&e.childNodes)for(o=0,a=e.childNodes.length;o<a;o++)Ext.EventManager.purgeElement(e.childNodes[o],t,n)},_unload:function(){var e;for(e in Ext.elCache)Ext.EventManager.removeAll(e)},onDocumentReady:function(t,r,i){n?(e.addListener(t,r,i),e.fire(),e.listeners=[]):(e||d(),i=i||{},i.delay=i.delay||1,e.addListener(t,r,i))}};return w.on=w.addListener,w.un=w.removeListener,w.stoppedMouseDownEvent=new Ext.util.Event,w}(),Ext.onReady=Ext.EventManager.onDocumentReady,function(){var e=function(){var e=document.body||document.getElementsByTagName("body")[0];if(!e)return!1;var t=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":Ext.isIE7?"ext-ie7":"ext-ie8"):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isWebKit?"ext-webkit":""];Ext.isSafari?t.push("ext-safari "+(Ext.isSafari2?"ext-safari2":Ext.isSafari3?"ext-safari3":"ext-safari4")):Ext.isChrome&&t.push("ext-chrome"),Ext.isMac&&t.push("ext-mac"),Ext.isLinux&&t.push("ext-linux");if(Ext.isStrict||Ext.isBorderBox){var n=e.parentNode;n&&(n.className+=Ext.isStrict?" ext-strict":" ext-border-box")}return e.className+=t.join(" "),!0};e()||Ext.onReady(e)}(),Ext.EventObject=function(){var e=Ext.lib.Event,t={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},n=Ext.isIE?{1:0,4:1,2:2}:Ext.isWebKit?{1:0,2:1,3:2}:{0:0,1:1,2:2};return Ext.EventObjectImpl=function(e){e&&this.setEvent(e.browserEvent||e)},Ext.EventObjectImpl.prototype={setEvent:function(t){var r=this;return t==r||t&&t.browserEvent?t:(r.browserEvent=t,t?(r.button=t.button?n[t.button]:t.which?t.which-1:-1,t.type=="click"&&r.button==-1&&(r.button=0),r.type=t.type,r.shiftKey=t.shiftKey,r.ctrlKey=t.ctrlKey||t.metaKey||!1,r.altKey=t.altKey,r.keyCode=t.keyCode,r.charCode=t.charCode,r.target=e.getTarget(t),r.xy=e.getXY(t)):(r.button=-1,r.shiftKey=!1,r.ctrlKey=!1,r.altKey=!1,r.keyCode=0,r.charCode=0,r.target=null,r.xy=[0,0]),r)},stopEvent:function(){var t=this;t.browserEvent&&(t.browserEvent.type=="mousedown"&&Ext.EventManager.stoppedMouseDownEvent.fire(t),e.stopEvent(t.browserEvent))},preventDefault:function(){this.browserEvent&&e.preventDefault(this.browserEvent)},stopPropagation:function(){var t=this;t.browserEvent&&(t.browserEvent.type=="mousedown"&&Ext.EventManager.stoppedMouseDownEvent.fire(t),e.stopPropagation(t.browserEvent))},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(e){return Ext.isSafari?t[e]||e:e},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},getTarget:function(e,t,n){return e?Ext.fly(this.target).findParent(e,t,n):n?Ext.get(this.target):this.target},getRelatedTarget:function(){return this.browserEvent?e.getRelatedTarget(this.browserEvent):null},getWheelDelta:function(){var e=this.browserEvent,t=0;return e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t},within:function(e,t,n){if(e){var r=this[t?"getRelatedTarget":"getTarget"]();return r&&((n?r==Ext.getDom(e):!1)||Ext.fly(e).contains(r))}return!1}},new Ext.EventObjectImpl}(),function(){function l(){if(!Ext.enableGarbageCollector)clearInterval(s.collectorThreadId);else{var t,n,r,i;for(t in o){i=o[t];if(i.skipGC)continue;n=i.el,r=n.dom;if(!r||!r.parentNode||!r.offsetParent&&!e.getElementById(t))Ext.enableListenerCollection&&Ext.EventManager.removeAll(r),delete o[t]}if(Ext.isIE){var u={};for(t in o)u[t]=o[t];o=Ext.elCache=u}}}var e=document;Ext.Element=function(t,n){var r=typeof t=="string"?e.getElementById(t):t,i;if(!r)return null;i=r.id;if(!n&&i&&Ext.elCache[i])return Ext.elCache[i].el;this.dom=r,this.id=i||Ext.id(r)};var t=Ext.lib.Dom,n=Ext.DomHelper,r=Ext.lib.Event,i=Ext.lib.Anim,s=Ext.Element,o=Ext.elCache;s.prototype={set:function(e,t){var r=this.dom,i,s,t=t!==!1&&!!r.setAttribute;for(i in e)e.hasOwnProperty(i)&&(s=e[i],i=="style"?n.applyStyles(r,s):i=="cls"?r.className=s:t?r.setAttribute(i,s):r[i]=s);return this},defaultUnit:"px",is:function(e){return Ext.DomQuery.is(this.dom,e)},focus:function(e,t){var n=this,t=t||n.dom;try{Number(e)?n.focus.defer(e,null,[null,t]):t.focus()}catch(r){}return n},blur:function(){try{this.dom.blur()}catch(e){}return this},getValue:function(e){var t=this.dom.value;return e?parseInt(t,10):t},addListener:function(e,t,n,r){return Ext.EventManager.on(this.dom,e,t,n||this,r),this},removeListener:function(e,t,n){return Ext.EventManager.removeListener(this.dom,e,t,n||this),this},removeAllListeners:function(){return Ext.EventManager.removeAll(this.dom),this},purgeAllListeners:function(){return Ext.EventManager.purgeElement(this,!0),this},addUnits:function(e){if(e===""||e=="auto"||e===undefined)e=e||"";else if(!isNaN(e)||!a.test(e))e+=this.defaultUnit||"px";return e},load:function(e,t,n){return Ext.Ajax.request(Ext.apply({params:t,url:e.url||e,callback:n,el:this.dom,indicatorText:e.indicatorText||""},Ext.isObject(e)?e:{})),this},isBorderBox:function(){return h[(this.dom.tagName||"").toLowerCase()]||Ext.isBorderBox},remove:function(){var e=this,t=e.dom;t&&(delete e.dom,Ext.removeNode(t))},hover:function(e,t,n,r){var i=this;return i.on("mouseenter",e,n||i.dom,r),i.on("mouseleave",t,n||i.dom,r),i},contains:function(e){return e?Ext.lib.Dom.isAncestor(this.dom,e.dom?e.dom:e):!1},getAttributeNS:function(e,t){return this.getAttribute(t,e)},getAttribute:Ext.isIE?function(e,t){var n=this.dom,r=typeof n[t+":"+e];return["undefined","unknown"].indexOf(r)==-1?n[t+":"+e]:n[e]}:function(e,t){var n=this.dom;return n.getAttributeNS(t,e)||n.getAttribute(t+":"+e)||n.getAttribute(e)||n[e]},update:function(e){return this.dom&&(this.dom.innerHTML=e),this}};var u=s.prototype;s.addMethods=function(e){Ext.apply(u,e)},u.on=u.addListener,u.un=u.removeListener,u.autoBoxAdjust=!0;var a=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,f;s.get=function(t){var n,r,i;if(!t)return null;if(typeof t=="string")return(r=e.getElementById(t))?(o[t]&&o[t].el?(n=o[t].el,n.dom=r):n=s.addToCache(new s(r)),n):null;if(t.tagName)return(i=t.id)||(i=Ext.id(t)),o[i]&&o[i].el?(n=o[i].el,n.dom=t):n=s.addToCache(new s(t)),n;if(t instanceof s)return t!=f&&(t.dom=e.getElementById(t.id)||t.dom),t;if(t.isComposite)return t;if(Ext.isArray(t))return s.select(t);if(t==e){if(!f){var u=function(){};u.prototype=s.prototype,f=new u,f.dom=e}return f}return null},s.addToCache=function(e,t){return t=t||e.id,o[t]={el:e,data:{},events:{}},e},s.data=function(e,t,n){e=s.get(e);if(!e)return null;var r=o[e.id].data;return arguments.length==2?r[t]:r[t]=n},s.collectorThreadId=setInterval(l,3e4);var c=function(){};c.prototype=s.prototype,s.Flyweight=function(e){this.dom=e},s.Flyweight.prototype=new c,s.Flyweight.prototype.isFlyweight=!0,s._flyweights={},s.fly=function(e,t){var n=null;t=t||"_global";if(e=Ext.getDom(e))(s._flyweights[t]=s._flyweights[t]||new s.Flyweight).dom=e,n=s._flyweights[t];return n},Ext.get=s.get,Ext.fly=s.fly;var h=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko)h.button=1;Ext.EventManager.on(window,"unload",function(){delete o,delete s._flyweights})}(),Ext.Element.addMethods(function(){var e="parentNode",t="nextSibling",n="previousSibling",r=Ext.DomQuery,i=Ext.get;return{findParent:function(e,t,n){var s=this.dom,o=document.body,u=0,f;if(Ext.isGecko&&Object.prototype.toString.call(s)=="[object XULElement]")return null;t=t||50,isNaN(t)&&(f=Ext.getDom(t),t=Number.MAX_VALUE);while(s&&s.nodeType==1&&u<t&&s!=o&&s!=f){if(r.is(s,e))return n?i(s):s;u++,s=s.parentNode}return null},findParentNode:function(e,t,n){var r=Ext.fly(this.dom.parentNode,"_internal");return r?r.findParent(e,t,n):null},up:function(e,t){return this.findParentNode(e,t,!0)},select:function(e){return Ext.Element.select(e,this.dom)},query:function(e){return r.select(e,this.dom)},child:function(e,t){var n=r.selectNode(e,this.dom);return t?n:i(n)},down:function(e,t){var n=r.selectNode(" > "+e,this.dom);return t?n:i(n)},parent:function(t,n){return this.matchNode(e,e,t,n)},next:function(e,n){return this.matchNode(t,t,e,n)},prev:function(e,t){return this.matchNode(n,n,e,t)},first:function(e,n){return this.matchNode(t,"firstChild",e,n)},last:function(e,t){return this.matchNode(n,"lastChild",e,t)},matchNode:function(e,t,n,s){var o=this.dom[t];while(o){if(o.nodeType==1&&(!n||r.is(o,n)))return s?o:i(o);o=o[e]}return null}}}()),Ext.Element.addMethods(function(){var e=Ext.getDom,t=Ext.get,n=Ext.DomHelper;return{appendChild:function(e){return t(e).appendTo(this)},appendTo:function(t){return e(t).appendChild(this.dom),this},insertBefore:function(t){return(t=e(t)).parentNode.insertBefore(this.dom,t),this},insertAfter:function(t){return(t=e(t)).parentNode.insertBefore(this.dom,t.nextSibling),this},insertFirst:function(n,r){return n=n||{},n.nodeType||n.dom||typeof n=="string"?(n=e(n),this.dom.insertBefore(n,this.dom.firstChild),r?n:t(n)):this.createChild(n,this.dom.firstChild,r)},replace:function(e){return e=t(e),this.insertBefore(e),e.remove(),this},replaceWith:function(t){var r=this;return t.nodeType||t.dom||typeof t=="string"?(t=e(t),r.dom.parentNode.insertBefore(t,r.dom)):t=n.insertBefore(r.dom,t),delete Ext.elCache[r.id],Ext.removeNode(r.dom),r.id=Ext.id(r.dom=t),Ext.Element.addToCache(r.isFlyweight?new Ext.Element(r.dom):r),r},createChild:function(e,t,r){return e=e||{tag:"div"},t?n.insertBefore(t,e,r!==!0):n[this.dom.firstChild?"append":"overwrite"](this.dom,e,r!==!0)},wrap:function(e,t){var r=n.insertBefore(this.dom,e||{tag:"div"},!t);return r.dom?r.dom.appendChild(this.dom):r.appendChild(this.dom),r},insertHtml:function(e,t,r){var i=n.insertHtml(e,this.dom,t);return r?Ext.get(i):i}}}()),Ext.Element.addMethods(function(){function k(e,t){return t.charAt(1).toUpperCase()}function L(n){return e[n]||(e[n]=n=="float"?i:n.replace(t,k))}var e={},t=/(-[a-z])/gi,n={},r=document.defaultView,i=Ext.isIE?"styleFloat":"cssFloat",s=/alpha\(opacity=(.*)\)/i,o=/^\s+|\s+$/g,u=Ext.Element,a="padding",f="margin",l="border",c="-left",h="-right",p="-top",d="-bottom",v="-width",m=Math,g="hidden",y="isClipped",b="overflow",w="overflow-x",E="overflow-y",S="originalClip",x={l:l+c+v,r:l+h+v,t:l+p+v,b:l+d+v},T={l:a+c,r:a+h,t:a+p,b:a+d},N={l:f+c,r:f+h,t:f+p,b:f+d},C=Ext.Element.data;return{adjustWidth:function(e){var t=this,n=Ext.isNumber(e);return n&&t.autoBoxAdjust&&!t.isBorderBox()&&(e-=t.getBorderWidth("lr")+t.getPadding("lr")),n&&e<0?0:e},adjustHeight:function(e){var t=this,n=Ext.isNumber(e);return n&&t.autoBoxAdjust&&!t.isBorderBox()&&(e-=t.getBorderWidth("tb")+t.getPadding("tb")),n&&e<0?0:e},addClass:function(e){var t=this,n,r,i;e=Ext.isArray(e)?e:[e];for(n=0,r=e.length;n<r;n++)i=e[n],i&&(t.dom.className+=!t.hasClass(i)&&i?" "+i:"");return t},radioClass:function(e){var t=this.dom.parentNode.childNodes,n;e=Ext.isArray(e)?e:[e];for(var r=0,i=t.length;r<i;r++)n=t[r],n&&n.nodeType==1&&Ext.fly(n,"_internal").removeClass(e);return this.addClass(e)},removeClass:function(e){var t=this,r;e=Ext.isArray(e)?e:[e];if(t.dom&&t.dom.className)for(var i=0,s=e.length;i<s;i++)r=e[i],r&&(t.dom.className=t.dom.className.replace(n[r]=n[r]||new RegExp("(?:^|\\s+)"+r+"(?:\\s+|$)","g")," "));return t},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},hasClass:function(e){return e&&(" "+this.dom.className+" ").indexOf(" "+e+" ")!=-1},replaceClass:function(e,t){return this.removeClass(e).addClass(t)},isStyle:function(e,t){return this.getStyle(e)==t},getStyle:function(){return r&&r.getComputedStyle?function(e){var t=this.dom,n,i,s,o,u=Ext.isWebKit,o;return t==document?null:(e=L(e),u&&/marginRight/.test(e)&&(o=this.getStyle("display"),t.style.display="inline-block"),s=(n=t.style[e])?n:(i=r.getComputedStyle(t,""))?i[e]:null,u&&(s=="rgba(0, 0, 0, 0)"?s="transparent":o&&(t.style.display=o)),s)}:function(e){var t=this.dom,n,r;if(t==document)return null;if(e=="opacity"){if(t.style.filter.match)if(n=t.style.filter.match(s)){var i=parseFloat(n[1]);if(!isNaN(i))return i?i/100:0}return 1}return e=L(e),t.style[e]||((r=t.currentStyle)?r[e]:null)}}(),getColor:function(e,t,n){var r=this.getStyle(e),i=Ext.isDefined(n)?n:"#",s;return!r||/transparent|inherit/.test(r)?t:(/^r/.test(r)?Ext.each(r.slice(4,r.length-1).split(","),function(e){s=parseInt(e,10),i+=(s<16?"0":"")+s.toString(16)}):(r=r.replace("#",""),i+=r.length==3?r.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):r),i.length>5?i.toLowerCase():t)},setStyle:function(e,t){var n,r,i;Ext.isObject(e)||(n={},n[e]=t,e=n);for(r in e)t=e[r],r=="opacity"?this.setOpacity(t):this.dom.style[L(r)]=t;return this},setOpacity:function(e,t){var n=this,r=n.dom.style;if(!t||!n.anim)if(Ext.isIE){var i=e<1?"alpha(opacity="+e*100+")":"",u=r.filter.replace(s,"").replace(o,"");r.zoom=1,r.filter=u+(u.length>0?" ":"")+i}else r.opacity=e;else n.anim({opacity:{to:e}},n.preanim(arguments,1),null,.35,"easeIn");return n},clearOpacity:function(){var e=this.dom.style;return Ext.isIE?Ext.isEmpty(e.filter)||(e.filter=e.filter.replace(s,"").replace(o,"")):e.opacity=e["-moz-opacity"]=e["-khtml-opacity"]="",this},getHeight:function(e){var t=this,n=t.dom,r=Ext.isIE&&t.isStyle("display","none"),i=m.max(n.offsetHeight,r?0:n.clientHeight)||0;return i=e?i-t.getBorderWidth("tb")-t.getPadding("tb"):i,i<0?0:i},getWidth:function(e){var t=this,n=t.dom,r=Ext.isIE&&t.isStyle("display","none"),i=m.max(n.offsetWidth,r?0:n.clientWidth)||0;return i=e?i-t.getBorderWidth("lr")-t.getPadding("lr"):i,i<0?0:i},setWidth:function(e,t){var n=this;return e=n.adjustWidth(e),!t||!n.anim?n.dom.style.width=n.addUnits(e):n.anim({width:{to:e}},n.preanim(arguments,1)),n},setHeight:function(e,t){var n=this;return e=n.adjustHeight(e),!t||!n.anim?n.dom.style.height=n.addUnits(e):n.anim({height:{to:e}},n.preanim(arguments,1)),n},getBorderWidth:function(e){return this.addStyles(e,x)},getPadding:function(e){return this.addStyles(e,T)},clip:function(){var e=this,t=e.dom;return C(t,y)||(C(t,y,!0),C(t,S,{o:e.getStyle(b),x:e.getStyle(w),y:e.getStyle(E)}),e.setStyle(b,g),e.setStyle(w,g),e.setStyle(E,g)),e},unclip:function(){var e=this,t=e.dom;if(C(t,y)){C(t,y,!1);var n=C(t,S);n.o&&e.setStyle(b,n.o),n.x&&e.setStyle(w,n.x),n.y&&e.setStyle(E,n.y)}return e},addStyles:function(e,t){var n=0,r=e.match(/\w/g),i;for(var s=0,o=r.length;s<o;s++)i=r[s]&&parseInt(this.getStyle(t[r[s]]),10),i&&(n+=m.abs(i));return n},margins:N}}()),function(){var e=Ext.lib.Dom,t="left",n="right",r="top",i="bottom",s="position",o="static",u="relative",a="auto",f="z-index";Ext.Element.addMethods({getX:function(){return e.getX(this.dom)},getY:function(){return e.getY(this.dom)},getXY:function(){return e.getXY(this.dom)},getOffsetsTo:function(e){var t=this.getXY(),n=Ext.fly(e,"_internal").getXY();return[t[0]-n[0],t[1]-n[1]]},setX:function(e,t){return this.setXY([e,this.getY()],this.animTest(arguments,t,1))},setY:function(e,t){return this.setXY([this.getX(),e],this.animTest(arguments,t,1))},setLeft:function(e){return this.setStyle(t,this.addUnits(e)),this},setTop:function(e){return this.setStyle(r,this.addUnits(e)),this},setRight:function(e){return this.setStyle(n,this.addUnits(e)),this},setBottom:function(e){return this.setStyle(i,this.addUnits(e)),this},setXY:function(t,n){var r=this;return!n||!r.anim?e.setXY(r.dom,t):r.anim({points:{to:t}},r.preanim(arguments,1),"motion"),r},setLocation:function(e,t,n){return this.setXY([e,t],this.animTest(arguments,n,2))},moveTo:function(e,t,n){return this.setXY([e,t],this.animTest(arguments,n,2))},getLeft:function(e){return e?parseInt(this.getStyle(t),10)||0:this.getX()},getRight:function(e){var t=this;return e?t.getLeft(!0)+t.getWidth()||0:t.getX()+t.getWidth()},getTop:function(e){return e?parseInt(this.getStyle(r),10)||0:this.getY()},getBottom:function(e){var t=this;return e?t.getTop(!0)+t.getHeight()||0:t.getY()+t.getHeight()},position:function(e,t,n,r){var i=this;!e&&i.isStyle(s,o)?i.setStyle(s,u):e&&i.setStyle(s,e),t&&i.setStyle(f,t),(n||r)&&i.setXY([n||!1,r||!1])},clearPositioning:function(e){return e=e||"",this.setStyle({left:e,right:e,top:e,bottom:e,"z-index":"",position:o}),this},getPositioning:function(){var e=this.getStyle(t),o=this.getStyle(r);return{position:this.getStyle(s),left:e,right:e?"":this.getStyle(n),top:o,bottom:o?"":this.getStyle(i),"z-index":this.getStyle(f)}},setPositioning:function(e){var t=this,n=t.dom.style;return t.setStyle(e),e.right==a&&(n.right=""),e.bottom==a&&(n.bottom=""),t},translatePoints:function(e,n){n=isNaN(e[1])?n:e[1],e=isNaN(e[0])?e:e[0];var i=this,o=i.isStyle(s,u),a=i.getXY(),f=parseInt(i.getStyle(t),10),l=parseInt(i.getStyle(r),10);return f=isNaN(f)?o?0:i.dom.offsetLeft:f,l=isNaN(l)?o?0:i.dom.offsetTop:l,{left:e-a[0]+f,top:n-a[1]+l}},animTest:function(e,t,n){return!!t&&this.preanim?this.preanim(e,n):!1}})}(),Ext.Element.addMethods({isScrollable:function(){var e=this.dom;return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},scrollTo:function(e,t){return this.dom["scroll"+(/top/i.test(e)?"Top":"Left")]=t,this},getScroll:function(){var e=this.dom,t=document,n=t.body,r=t.documentElement,i,s,o;return e==t||e==n?(Ext.isIE&&Ext.isStrict?(i=r.scrollLeft,s=r.scrollTop):(i=window.pageXOffset,s=window.pageYOffset),o={left:i||(n?n.scrollLeft:0),top:s||(n?n.scrollTop:0)}):o={left:e.scrollLeft,top:e.scrollTop},o}}),Ext.Element.VISIBILITY=1,Ext.Element.DISPLAY=2,Ext.Element.addMethods(function(){var e="visibility",t="display",n="hidden",r="none",i="originalDisplay",s="visibilityMode",o=Ext.Element.DISPLAY,u=Ext.Element.data,a=function(e){var t=u(e,i);return t===undefined&&u(e,i,t=""),t},f=function(e){var t=u(e,s);return t===undefined&&u(e,s,t=1),t};return{originalDisplay:"",visibilityMode:1,setVisibilityMode:function(e){return u(this.dom,s,e),this},animate:function(e,t,n,r,i){return this.anim(e,{duration:t,callback:n,easing:r},i),this},anim:function(e,t,n,r,i,s){n=n||"run",t=t||{};var o=this,u=Ext.lib.Anim[n](o.dom,e,t.duration||r||.35,t.easing||i||"easeOut",function(){s&&s.call(o),t.callback&&t.callback.call(t.scope||o,o,t)},o);return t.anim=u,u},preanim:function(e,t){return e[t]?Ext.isObject(e[t])?e[t]:{duration:e[t+1],callback:e[t+2],easing:e[t+3]}:!1},isVisible:function(){return!this.isStyle(e,n)&&!this.isStyle(t,r)},setVisible:function(i,s){var u=this,a=u.dom,l=f(this.dom)==o;return!s||!u.anim?l?u.setDisplayed(i):(u.fixDisplay(),a.style.visibility=i?"visible":n):(i&&(u.setOpacity(.01),u.setVisible(!0)),u.anim({opacity:{to:i?1:0}},u.preanim(arguments,1),null,.35,"easeIn",function(){i||(a.style[l?t:e]=l?r:n,Ext.fly(a).setOpacity(1))})),u},toggle:function(e){var t=this;return t.setVisible(!t.isVisible(),t.preanim(arguments,0)),t},setDisplayed:function(e){return typeof e=="boolean"&&(e=e?a(this.dom):r),this.setStyle(t,e),this},fixDisplay:function(){var i=this;i.isStyle(t,r)&&(i.setStyle(e,n),i.setStyle(t,a(this.dom)),i.isStyle(t,r)&&i.setStyle(t,"block"))},hide:function(e){return this.setVisible(!1,this.preanim(arguments,0)),this},show:function(e){return this.setVisible(!0,this.preanim(arguments,0)),this}}}()),function(){var e=null,t=undefined,n=!0,r=!1,i="setX",s="setY",o="setXY",u="left",a="bottom",f="top",l="right",c="height",h="width",p="points",d="hidden",v="absolute",m="visible",g="motion",y="position",b="easeOut",w=new Ext.Element.Flyweight,E={},S=function(e){return e||{}},x=function(e){return w.dom=e,w.id=Ext.id(e),w},T=function(e){return E[e]||
(E[e]=[]),E[e]},N=function(e,t){E[e]=t};Ext.enableFx=n,Ext.Fx={switchStatements:function(e,t,n){return t.apply(this,n[e])},slideIn:function(t,n){n=S(n);var r=this,c=r.dom,h=c.style,p,y,w,E,T,h,N,C,k,L;return t=t||"t",r.queueFx(n,function(){function r(){x(c).fxUnwrap(E,y.pos,n),h.width=y.width,h.height=y.height,x(c).afterFx(n)}function S(e,t,n,r,i,s,o,u,a,f,l){var c={};return x(e).setWidth(n).setHeight(r),x(e)[i]&&x(e)[i](s),t[o]=t[u]="0",a&&(c.width=a),f&&(c.height=f),l&&(c.points=l),c}p=x(c).getXY(),x(c).fixDisplay(),y=x(c).getFxRestore(),w={x:p[0],y:p[1],0:p[0],1:p[1],width:c.offsetWidth,height:c.offsetHeight},w.right=w.x+w.width,w.bottom=w.y+w.height,x(c).setWidth(w.width).setHeight(w.height),E=x(c).fxWrap(y.pos,n,d),h.visibility=m,h.position=v,C={to:[w.x,w.y]},k={to:w.width},L={to:w.height},N=x(c).switchStatements(t.toLowerCase(),S,{t:[E,h,w.width,0,e,e,u,a,e,L,e],l:[E,h,0,w.height,e,e,l,f,k,e,e],r:[E,h,w.width,w.height,i,w.right,u,f,e,e,C],b:[E,h,w.width,w.height,s,w.bottom,u,f,e,L,C],tl:[E,h,0,0,e,e,l,a,k,L,C],bl:[E,h,0,0,s,w.y+w.height,l,f,k,L,C],br:[E,h,0,0,o,[w.right,w.bottom],u,f,k,L,C],tr:[E,h,0,0,i,w.x+w.width,u,a,k,L,C]}),h.visibility=m,x(E).show(),arguments.callee.anim=x(E).fxanim(N,n,g,.5,b,r)}),r},slideOut:function(e,t){t=S(t);var n=this,i=n.dom,s=i.style,o=n.getXY(),d,y,w,E,T={to:0};return e=e||"t",n.queueFx(t,function(){function n(){t.useDisplay?x(i).setDisplayed(r):x(i).hide(),x(i).fxUnwrap(d,y.pos,t),s.width=y.width,s.height=y.height,x(i).afterFx(t)}function S(e,t,n,r,i,s,o,u,a){var f={};return e[t]=e[n]="0",f[r]=i,s&&(f[s]=o),u&&(f[u]=a),f}y=x(i).getFxRestore(),w={x:o[0],y:o[1],0:o[0],1:o[1],width:i.offsetWidth,height:i.offsetHeight},w.right=w.x+w.width,w.bottom=w.y+w.height,x(i).setWidth(w.width).setHeight(w.height),d=x(i).fxWrap(y.pos,t,m),s.visibility=m,s.position=v,x(d).setWidth(w.width).setHeight(w.height),E=x(i).switchStatements(e.toLowerCase(),S,{t:[s,u,a,c,T],l:[s,l,f,h,T],r:[s,u,f,h,T,p,{to:[w.right,w.y]}],b:[s,u,f,c,T,p,{to:[w.x,w.bottom]}],tl:[s,l,a,h,T,c,T],bl:[s,l,f,h,T,c,T,p,{to:[w.x,w.bottom]}],br:[s,u,f,h,T,c,T,p,{to:[w.x+w.width,w.bottom]}],tr:[s,u,a,h,T,c,T,p,{to:[w.right,w.y]}]}),arguments.callee.anim=x(d).fxanim(E,t,g,.5,b,n)}),n},puff:function(e){e=S(e);var t=this,n=t.dom,i=n.style,s,o,u;return t.queueFx(e,function(){function t(){e.useDisplay?x(n).setDisplayed(r):x(n).hide(),x(n).clearOpacity(),x(n).setPositioning(u.pos),i.width=u.width,i.height=u.height,i.fontSize="",x(n).afterFx(e)}s=x(n).getWidth(),o=x(n).getHeight(),x(n).clearOpacity(),x(n).show(),u=x(n).getFxRestore(),arguments.callee.anim=x(n).fxanim({width:{to:x(n).adjustWidth(s*2)},height:{to:x(n).adjustHeight(o*2)},points:{by:[-s*.5,-o*.5]},opacity:{to:0},fontSize:{to:200,unit:"%"}},e,g,.5,b,t)}),t},switchOff:function(t){t=S(t);var n=this,i=n.dom,s=i.style,o;return n.queueFx(t,function(){function n(){t.useDisplay?x(i).setDisplayed(r):x(i).hide(),x(i).clearOpacity(),x(i).setPositioning(o.pos),s.width=o.width,s.height=o.height,x(i).afterFx(t)}x(i).clearOpacity(),x(i).clip(),o=x(i).getFxRestore(),x(i).fxanim({opacity:{to:.3}},e,e,.1,e,function(){x(i).clearOpacity(),function(){x(i).fxanim({height:{to:1},points:{by:[0,x(i).getHeight()*.5]}},t,g,.3,"easeIn",n)}.defer(100)})}),n},highlight:function(e,t){t=S(t);var n=this,r=n.dom,i=t.attr||"backgroundColor",s={},o;return n.queueFx(t,function(){function n(){r.style[i]=o,x(r).afterFx(t)}x(r).clearOpacity(),x(r).show(),o=r.style[i],s[i]={from:e||"ffff9c",to:t.endColor||x(r).getColor(i)||"ffffff"},arguments.callee.anim=x(r).fxanim(s,t,"color",1,"easeIn",n)}),n},frame:function(e,t,n){n=S(n);var r=this,i=r.dom,s,o;return r.queueFx(n,function(){function f(){var e=Ext.isBorderBox?2:1;o=s.anim({top:{from:u.y,to:u.y-20},left:{from:u.x,to:u.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:u.height,to:u.height+20*e},width:{from:u.width,to:u.width+20*e}},{duration:n.duration||1,callback:function(){s.remove(),--t>0?a():x(i).afterFx(n)}}),arguments.callee.anim={isAnimated:!0,stop:function(){o.stop()}}}e=e||"#C3DAF9",e.length==6&&(e="#"+e),t=t||1,x(i).show();var r=x(i).getXY(),u={x:r[0],y:r[1],0:r[0],1:r[1],width:i.offsetWidth,height:i.offsetHeight},a=function(){return s=x(document.body||document.documentElement).createChild({style:{position:v,"z-index":35e3,border:"0px solid "+e}}),s.queueFx({},f)};arguments.callee.anim={isAnimated:!0,stop:function(){t=0,s.stopFx()}},a()}),r},pause:function(e){var t=this.dom,n;return this.queueFx({},function(){n=setTimeout(function(){x(t).afterFx({})},e*1e3),arguments.callee.anim={isAnimated:!0,stop:function(){clearTimeout(n),x(t).afterFx({})}}}),this},fadeIn:function(t){t=S(t);var n=this,r=n.dom,i=t.endOpacity||1;return n.queueFx(t,function(){x(r).setOpacity(0),x(r).fixDisplay(),r.style.visibility=m,arguments.callee.anim=x(r).fxanim({opacity:{to:i}},t,e,.5,b,function(){i==1&&x(r).clearOpacity(),x(r).afterFx(t)})}),n},fadeOut:function(t){t=S(t);var n=this,r=n.dom,i=r.style,s=t.endOpacity||0;return n.queueFx(t,function(){arguments.callee.anim=x(r).fxanim({opacity:{to:s}},t,e,.5,b,function(){s==0&&(Ext.Element.data(r,"visibilityMode")==Ext.Element.DISPLAY||t.useDisplay?i.display="none":i.visibility=d,x(r).clearOpacity()),x(r).afterFx(t)})}),n},scale:function(e,t,n){return this.shift(Ext.apply({},n,{width:e,height:t})),this},shift:function(e){e=S(e);var n=this.dom,r={};return this.queueFx(e,function(){for(var i in e)e[i]!=t&&(r[i]={to:e[i]});r.width?r.width.to=x(n).adjustWidth(e.width):r,r.height?r.height.to=x(n).adjustWidth(e.height):r;if(r.x||r.y||r.xy)r.points=r.xy||{to:[r.x?r.x.to:x(n).getX(),r.y?r.y.to:x(n).getY()]};arguments.callee.anim=x(n).fxanim(r,e,g,.35,b,function(){x(n).afterFx(e)})}),this},ghost:function(e,t){t=S(t);var n=this,i=n.dom,s=i.style,o={opacity:{to:0},points:{}},u=o.points,a,f,l;return e=e||"b",n.queueFx(t,function(){function n(){t.useDisplay?x(i).setDisplayed(r):x(i).hide(),x(i).clearOpacity(),x(i).setPositioning(a.pos),s.width=a.width,s.height=a.height,x(i).afterFx(t)}a=x(i).getFxRestore(),f=x(i).getWidth(),l=x(i).getHeight(),u.by=x(i).switchStatements(e.toLowerCase(),function(e,t){return[e,t]},{t:[0,-l],l:[-f,0],r:[f,0],b:[0,l],tl:[-f,-l],bl:[-f,l],br:[f,l],tr:[f,-l]}),arguments.callee.anim=x(i).fxanim(o,t,g,.5,b,n)}),n},syncFx:function(){var e=this;return e.fxDefaults=Ext.apply(e.fxDefaults||{},{block:r,concurrent:n,stopFx:r}),e},sequenceFx:function(){var e=this;return e.fxDefaults=Ext.apply(e.fxDefaults||{},{block:r,concurrent:r,stopFx:r}),e},nextFx:function(){var e=T(this.dom.id)[0];e&&e.call(this)},hasActiveFx:function(){return T(this.dom.id)[0]},stopFx:function(e){var t=this,r=t.dom.id;if(t.hasActiveFx()){var i=T(r)[0];i&&i.anim&&(i.anim.isAnimated?(N(r,[i]),i.anim.stop(e!==undefined?e:n)):N(r,[]))}return t},beforeFx:function(e){return this.hasActiveFx()&&!e.concurrent?e.stopFx?(this.stopFx(),n):r:n},hasFxBlock:function(){var e=T(this.dom.id);return e&&e[0]&&e[0].block},queueFx:function(e,t){var n=x(this.dom);if(!n.hasFxBlock()){Ext.applyIf(e,n.fxDefaults);if(!e.concurrent){var r=n.beforeFx(e);t.block=e.block,T(n.dom.id).push(t),r&&n.nextFx()}else t.call(n)}return n},fxWrap:function(e,t,n){var r=this.dom,i,s;if(!t.wrap||!(i=Ext.getDom(t.wrap))){t.fixPosition&&(s=x(r).getXY());var o=document.createElement("div");o.style.visibility=n,i=r.parentNode.insertBefore(o,r),x(i).setPositioning(e),x(i).isStyle(y,"static")&&x(i).position("relative"),x(r).clearPositioning("auto"),x(i).clip(),i.appendChild(r),s&&x(i).setXY(s)}return i},fxUnwrap:function(e,t,n){var r=this.dom;x(r).clearPositioning(),x(r).setPositioning(t);if(!n.wrap){var i=x(e).dom.parentNode;i.insertBefore(r,e),x(e).remove()}},getFxRestore:function(){var e=this.dom.style;return{pos:this.getPositioning(),width:e.width,height:e.height}},afterFx:function(e){var t=this.dom,r=t.id;e.afterStyle&&x(t).setStyle(e.afterStyle),e.afterCls&&x(t).addClass(e.afterCls),e.remove==n&&x(t).remove(),e.callback&&e.callback.call(e.scope,x(t)),e.concurrent||(T(r).shift(),x(t).nextFx())},fxanim:function(e,t,n,r,i,s){n=n||"run",t=t||{};var o=Ext.lib.Anim[n](this.dom,e,t.duration||r||.35,t.easing||i||b,s,this);return t.anim=o,o}},Ext.Fx.resize=Ext.Fx.scale,Ext.Element.addMethods(Ext.Fx)}(),Ext.CompositeElementLite=function(e,t){this.elements=[],this.add(e,t),this.el=new Ext.Element.Flyweight},Ext.CompositeElementLite.prototype={isComposite:!0,getElement:function(e){var t=this.el;return t.dom=e,t.id=e.id,t},transformElement:function(e){return Ext.getDom(e)},getCount:function(){return this.elements.length},add:function(e,t){var n=this,r=n.elements;if(!e)return this;Ext.isString(e)?e=Ext.Element.selectorFunction(e,t):e.isComposite?e=e.elements:Ext.isIterable(e)||(e=[e]);for(var i=0,s=e.length;i<s;++i)r.push(n.transformElement(e[i]));return n},invoke:function(e,t){var n=this,r=n.elements,i=r.length,s,o;for(o=0;o<i;o++)s=r[o],s&&Ext.Element.prototype[e].apply(n.getElement(s),t);return n},item:function(e){var t=this,n=t.elements[e],r=null;return n&&(r=t.getElement(n)),r},addListener:function(e,t,n,r){var i=this.elements,s=i.length,o,u;for(o=0;o<s;o++)u=i[o],u&&Ext.EventManager.on(u,e,t,n||u,r);return this},each:function(e,t){var n=this,r=n.elements,i=r.length,s,o;for(s=0;s<i;s++){o=r[s];if(o){o=this.getElement(o);if(e.call(t||o,o,n,s))break}}return n},fill:function(e){var t=this;return t.elements=[],t.add(e),t},filter:function(e){var t=[],n=this,r=n.elements,i=Ext.isFunction(e)?e:function(t){return t.is(e)};return n.each(function(e,r,s){i(e,s)!==!1&&(t[t.length]=n.transformElement(e))}),n.elements=t,n},indexOf:function(e){return this.elements.indexOf(this.transformElement(e))},replaceElement:function(e,t,n){var r=isNaN(e)?this.indexOf(e):e,i;return r>-1&&(t=Ext.getDom(t),n&&(i=this.elements[r],i.parentNode.insertBefore(t,i),Ext.removeNode(i)),this.elements.splice(r,1,t)),this},clear:function(){this.elements=[]}},Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener,function(){var e,t=Ext.Element.prototype,n=Ext.CompositeElementLite.prototype;for(e in t)Ext.isFunction(t[e])&&function(e){n[e]=n[e]||function(){return this.invoke(e,arguments)}}.call(n,e)}(),Ext.DomQuery&&(Ext.Element.selectorFunction=Ext.DomQuery.select),Ext.Element.select=function(e,t){var n;if(typeof e=="string")n=Ext.Element.selectorFunction(e,t);else{if(e.length===undefined)throw"Invalid selector";n=e}return new Ext.CompositeElementLite(n)},Ext.select=Ext.Element.select,function(){var e="beforerequest",t="requestcomplete",n="requestexception",r=undefined,i="load",s="POST",o="GET",u=window;Ext.data.Connection=function(r){Ext.apply(this,r),this.addEvents(e,t,n),Ext.data.Connection.superclass.constructor.call(this)},Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:3e4,autoAbort:!1,disableCaching:!0,disableCachingParam:"_dc",request:function(t){var n=this;if(n.fireEvent(e,n,t)){t.el&&(Ext.isEmpty(t.indicatorText)||(n.indicatorText='<div class="loading-indicator">'+t.indicatorText+"</div>"),n.indicatorText&&(Ext.getDom(t.el).innerHTML=n.indicatorText),t.success=(Ext.isFunction(t.success)?t.success:function(){}).createInterceptor(function(e){Ext.getDom(t.el).innerHTML=e.responseText}));var i=t.params,f=t.url||n.url,l,c={success:n.handleResponse,failure:n.handleFailure,scope:n,argument:{options:t},timeout:t.timeout||n.timeout},p,d;Ext.isFunction(i)&&(i=i.call(t.scope||u,t)),i=Ext.urlEncode(n.extraParams,Ext.isObject(i)?Ext.urlEncode(i):i),Ext.isFunction(f)&&(f=f.call(t.scope||u,t));if(p=Ext.getDom(t.form)){f=f||p.action;if(t.isUpload||/multipart\/form-data/i.test(p.getAttribute("enctype")))return n.doFormUpload.call(n,t,i,f);d=Ext.lib.Ajax.serializeForm(p),i=i?i+"&"+d:d}l=t.method||n.method||(i||t.xmlData||t.jsonData?s:o);if(l===o&&n.disableCaching&&t.disableCaching!==!1||t.disableCaching===!0){var v=t.disableCachingParam||n.disableCachingParam;f=Ext.urlAppend(f,v+"="+(new Date).getTime())}return t.headers=Ext.apply(t.headers||{},n.defaultHeaders||{}),(t.autoAbort===!0||n.autoAbort)&&n.abort(),(l==o||t.xmlData||t.jsonData)&&i&&(f=Ext.urlAppend(f,i),i=""),n.transId=Ext.lib.Ajax.request(l,f,c,i,t)}return t.callback?t.callback.apply(t.scope,[t,r,r]):null},isLoading:function(e){return e?Ext.lib.Ajax.isCallInProgress(e):!!this.transId},abort:function(e){(e||this.isLoading())&&Ext.lib.Ajax.abort(e||this.transId)},handleResponse:function(e){this.transId=!1;var n=e.argument.options;e.argument=n?n.argument:null,this.fireEvent(t,this,e,n),n.success&&n.success.call(n.scope,e,n),n.callback&&n.callback.call(n.scope,n,!0,e)},handleFailure:function(e,t){this.transId=!1;var r=e.argument.options;e.argument=r?r.argument:null,this.fireEvent(n,this,e,r,t),r.failure&&r.failure.call(r.scope,e,r),r.callback&&r.callback.call(r.scope,r,!1,e)},doFormUpload:function(e,n,r){function m(){function h(e,t,n){Ext.isFunction(e)&&e.apply(t,n)}var n=this,r={responseText:"",responseXML:null,argument:e.argument},s,a;try{s=f.contentWindow.document||f.contentDocument||u.frames[o].document,s&&(s.body&&(/textarea/i.test((a=s.body.firstChild||{}).tagName)?r.responseText=a.value:r.responseText=s.body.innerHTML),r.responseXML=s.XMLDocument||s)}catch(l){}Ext.EventManager.removeListener(f,i,m,n),n.fireEvent(t,n,r,e),h(e.success,e.scope,[r,e]),h(e.callback,e.scope,[e,!0,r]),n.debugUploads||setTimeout(function(){Ext.removeNode(f)},100)}var o=Ext.id(),a=document,f=a.createElement("iframe"),l=Ext.getDom(e.form),h=[],p,d="multipart/form-data",v={target:l.target,method:l.method,encoding:l.encoding,enctype:l.enctype,action:l.action};Ext.fly(f).set({id:o,name:o,cls:"x-hidden"}),a.body.appendChild(f),Ext.fly(f).set({src:Ext.SSL_SECURE_URL}),Ext.isIE&&(document.frames[o].name=o),Ext.fly(l).set({target:o,method:s,enctype:d,encoding:d,action:r||v.action}),Ext.iterate(Ext.urlDecode(n,!1),function(e,t){p=a.createElement("input"),Ext.fly(p).set({type:"hidden",value:t,name:e}),l.appendChild(p),h.push(p)}),Ext.EventManager.on(f,i,m,this),l.submit(),Ext.fly(l).set(v),Ext.each(h,function(e){Ext.removeNode(e)})}})}(),Ext.Ajax=new Ext.data.Connection({autoAbort:!1,serializeForm:function(e){return Ext.lib.Ajax.serializeForm(e)}}),Ext.util.JSON=new function(){var useHasOwn=!!{}.hasOwnProperty,isNative=function(){var e=null;return function(){return e===null&&(e=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"),e}}(),pad=function(e){return e<10?"0"+e:e},doDecode=function(json){return eval("("+json+")")},doEncode=function(e){if(!Ext.isDefined(e)||e===null)return"null";if(Ext.isArray(e))return encodeArray(e);if(Ext.isDate(e))return Ext.util.JSON.encodeDate(e);if(Ext.isString(e))return encodeString(e);if(typeof e=="number")return isFinite(e)?String(e):"null";if(Ext.isBoolean(e))return String(e);var t=["{"],n,r,i;for(r in e)if(!e.getElementsByTagName)if(!useHasOwn||e.hasOwnProperty(r)){i=e[r];switch(typeof i){case"undefined":case"function":case"unknown":break;default:n&&t.push(","),t.push(doEncode(r),":",i===null?"null":doEncode(i)),n=!0}}return t.push("}"),t.join("")},m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},encodeString=function(e){return/["\\\x00-\x1f]/.test(e)?'"'+e.replace(/([\x00-\x1f\\"])/g,function(e,t){var n=m[t];return n?n:(n=t.charCodeAt(),"\\u00"+Math.floor(n/16).toString(16)+(n%16).toString(16))})+'"':'"'+e+'"'},encodeArray=function(e){var t=["["],n,r,i=e.length,s;for(r=0;r<i;r+=1){s=e[r];switch(typeof s){case"undefined":case"function":case"unknown":break;default:n&&t.push(","),t.push(s===null?"null":Ext.util.JSON.encode(s)),n=!0}}return t.push("]"),t.join("")};this.encodeDate=function(e){return'"'+e.getFullYear()+"-"+pad(e.getMonth()+1)+"-"+pad(e.getDate())+"T"+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())+'"'},this.encode=function(){var e;return function(t){return e||(e=isNative()?JSON.stringify:doEncode),e(t)}}(),this.decode=function(){var e;return function(t){return e||(e=isNative()?JSON.parse:doDecode),e(t)}}()},Ext.encode=Ext.util.JSON.encode,Ext.decode=Ext.util.JSON.decode,function(){var e,t=[].slice;e=this,e.EcEditor=function(){function n(t,n){var r,i;this.editor_obj=t,this.dir=n,$.cookie("project",n),$(window).resize(this.windowResize).keydown(this.windowKeyDown),i={root:this.dir},this.refreshTree(i),$("#folder").contextmenu({target:"#context_menu",before:function(e,t){if($(e.target).attr("rel").length>0)return $("#context_menu").data("rel",$(e.target).attr("rel")),$("#context_menu").data("is_dir",$(e.target).parent().hasClass("dir")),$("#context_menu li").hide(),$(e.target).parent().hasClass("dir")?$("#context_menu .cm_dir").show():$("#context_menu .cm_file").show(),!0},onItem:function(t,n){return e.ec_editor["file"+$(n).attr("action")]($(this).data("rel"))}}),$("#project select").change(function(e){return window.location.href="index?dir="+$(e.target).val()}),r=function(){return e.ec_editor.modalAction($("#filename .modal-footer .btn-primary").attr("action"),$('#filename input[type="text"]').val(),$('#filename input[type="hidden"]').val())},$("#filename .modal-body form").submit(r),$("#filename .modal-footer .btn-primary").click(r)}return n.prototype.fileChange=function(e){var t;return t=$('#navTab li>a[ref="'+e+'"]').parent(),t.length>0?this.changedTab(t):this.addTab(e)},n.prototype.fileSave=function(e,t){return this.modalAction("save",e,t)},n.prototype.fileRemove=function(e){return this.modalAction("remove",e)},n.prototype.fileRename=function(e){return this.openModal("文件改名","rename",e,e)},n.prototype.fileDupe=function(e){var n,r,i,s;return s=e.split("."),r=2<=s.length?t.call(s,0,i=s.length-1):(i=0,[]),n=s[i++],this.openModal("复制文件","dupe",r+"_copy."+n,e)},n.prototype.newProj=function(){return this.openModal("新建项目","newproj","","")},n.prototype.fileNewfile=function(e){var t;return t=$("#folder .dir > a[rel='"+e+"']").length>0?e+"/":e.split("/").slice(0,-1).join("/")+"/",this.openModal("新建文件","newfile",t,e)},n.prototype.fileNewfolder=function(e){var t;return t=$("#folder .dir > a[rel='"+e+"']").length>0?e+"/":e.split("/").slice(0,-1).join("/")+"/",this.openModal("新建文件夹","newfolder",t,e)},n.prototype.openModal=function(e,t,n,r){return $("#filename .modal-header h3").html(e),$("#filename").on("shown",function(){return $('#filename input[type="hidden"]').val(r),$('#filename input[type="text"]').focus().val(n)}).modal({show:!0}),$("#filename .modal-footer .btn-primary").attr("action",t)},n.prototype.modalAction=function(t,n,r){var i,s,o,u,a;this.loading("show","正在处理..."),i={},a="",o=!1,u=function(){},s=function(){return alert("操作失败，请重试")},$("#filename").modal("hide");switch(t){case"remove":a="fileRemove.json",i={filename:n},u=function(t){return $('#folder li>a[rel="'+n+'"]').parent().remove(),e.ec_editor.removeTab($('#navTab li>a[ref="'+n+'"]').parent())};break;case"save":a="fileSave.json",i={filename:n,str:r},u=function(t){return e.ec_editor.savedTab($('#navTab li>a[ref="'+n+'"]').parent())};break;case"rename":a="fileRename.json",i={newname:n,filename:r},u=function(t){if(n!==r)return $('#folder li>a[rel="'+r+'"]').parent().remove(),e.ec_editor.removeTab($('#navTab li>a[ref="'+r+'"]').parent()),e.ec_editor.refreshFileFolder(n)};break;case"dupe":a="fileDupe.json",i={newname:n,filename:r},u=function(t){if(n!==r)return e.ec_editor.refreshFileFolder(n)};break;case"newfile":a="fileNewfile.json",i={newname:n,filename:r},u=function(t){if(t.success)return e.ec_editor.refreshFileFolder(n)};break;case"newfolder":a="fileNewfolder.json",i={newname:n,filename:r},u=function(t){if(t.success)return e.ec_editor.refreshFileFolder(n)};break;case"newproj":a="newProj.json",i={newname:n,filename:r},u=function(e){return window.location.href="index?dir="+n}}return $.post(a,i,u).fail(s),this.loading("hide")},n.prototype.refreshFileFolder=function(t){var n,r;n=t.split("/"),$('#folder .dir.expanded > a[rel="'+n.slice(0,-1).join("/")+'"]').click().click(),$('#folder .dir.collapsed > a[rel="'+n.slice(0,-1).join("/")+'"]').click();if(n.length===2)return r={root:e.ec_editor.dir},e.ec_editor.refreshTree(r)},n.prototype.refreshTree=function(t){return $(".jqueryFileTree",this.editor_obj).fileTree(t,function(t){return $('#navTab a[href="#'+t.replace(/\//g,"-").replace(/\./g,"-")+'"]').length>0?e.ec_editor.goTab($('#navTab a[href="#'+t.replace(/\//g,"-").replace(/\./g,"-")+'"]').parent()):(e.ec_editor.goTab(0),$("#__default_frame iframe").attr("src")!=="editor?file="+t&&$("#__default_frame iframe").attr("src","editor?file="+t)),setTimeout(function(){return $("#folder li > a").removeClass("active"),$('#folder li > a[rel="'+t+'"]').addClass("active")},100)},function(t){return e.ec_editor.addTab(t)})},n.prototype.addTab=function(n){var r,i,s,o,u,a,f;return f=n.split("/"),i=2<=f.length?t.call(f,0,a=f.length-1):(a=0,[]),s=f[a++],o=n.replace(/\//g,"-").replace(/\./g,"-"),u=$('#navTab a[href="#'+o+'"]').parent(),u.length===0&&(r=$('<div class="tab-pane active" id="'+o+'"><iframe src="editor?file='+n+'" frameborder="no" scrolling="auto"></iframe></div>'),$("#tabContent").append(r),u=$('<li><a href="#'+o+'" ref="'+n+'" data-toggle="tabContent">'+s+'</a><button type="button" class="close" >×</button></li>').click(function(){return e.ec_editor.goTab(u)}).dblclick(function(){return e.ec_editor.removeTab($(this))}),$("button",u).click(function(){return e.ec_editor.removeTab(u)}),$("#navTab").append(u),$(".tab-content").css("top",$(".nav-tabs").height()+"px")),this.saveNowTabs(),this.goTab($(u))},n.prototype.saveNowTabs=function(){var e;return e=[],$("#navTab li>a").each(function(t,n){if($(n).attr("ref")!=null)return e.push($(n).attr("ref"))}),$.cookie("tabs",e.join(","))},n.prototype.changedTab=function(e){var t;t=this.getTab(e);if($("a",t).html().slice(-1)!=="*")return $("a",t).html($("a",t).html()+"*")},n.prototype.savedTab=function(e){var t;t=this.getTab(e);if($("a",t).html().slice(-1)==="*")return $("a",t).html($("a",t).html().slice(0,-1))},n.prototype.removeTab=function(e){var t;return t=this.getTab(e),t.length>0&&(t.remove(),$("#tabContent .tab-pane[id='"+$("a",t).attr("href").substr(1)+"']").remove(),$(".tab-content").css("top",$(".nav-tabs").height()+1+"px")),this.saveNowTabs()},n.prototype.goTab=function(e){var t,n,r,i;r=this.getTab(e);if(r.length>0)return $("a",r).tab("show"),$("#tabContent .tab-pane").removeClass("active"),$("#tabContent .tab-pane[id='"+$("a",r).attr("href").substr(1)+"']").addClass("active"),i=window.location.href.split("#"),n=i[0],t=i[1],window.location.href=n+$("a",r).attr("href"),setTimeout(function(){return $("#folder li > a").removeClass("active"),$('#folder li > a[rel="'+$("a",r).attr("ref")+'"]').addClass("active")},100)},n.prototype.getTab=function(e){var t;return"object"==typeof e?t=e:t=$("#navTab a:eq("+parseInt(e)+")").parent(),t},n.prototype.windowResize=function(t){return e.ec_editor.editor_obj.width(""+$(window).width()+"px"),e.ec_editor.editor_obj.height(""+$(window).height()+"px")},n.prototype.windowKeyDown=function(e){},n.prototype.buildProjJs=function(){return $("#build_btn").html("building..."),$.post("build_proj_js",{project:$("#project select").val()},function(){return $("#build_btn").html("build")}).fail(function(){return $("#build_btn").html("build fail")})},n.prototype.loading=function(e,t){$("#loading")[e]();if(t!=null)return $("#loading").html(t)},n}(),$(function(){var t,n,r,i,s;e.ec_editor=new EcEditor($("#main"),$("#project select").val()),e.ec_editor.windowResize(),i=$.cookie("tabs").split(","),s=[];for(n=0,r=i.length;n<r;n++)t=i[n],s.push(e.ec_editor.addTab(t));return s})}.call(this),jQuery.cookie=function(e,t,n){if(typeof t=="undefined"){var a=null;if(document.cookie&&document.cookie!=""){var f=document.cookie.split(";");for(var l=0;l<f.length;l++){var c=jQuery.trim(f[l]);if(c.substring(0,e.length+1)==e+"="){a=decodeURIComponent(c.substring(e.length+1));break}}}return a}n=n||{},t===null&&(t="",n.expires=-1);var r="";if(n.expires&&(typeof n.expires=="number"||n.expires.toUTCString)){var i;typeof n.expires=="number"?(i=new Date,i.setTime(i.getTime()+n.expires*24*60*60*1e3)):i=n.expires,r="; expires="+i.toUTCString()}var s=n.path?"; path="+n.path:"",o=n.domain?"; domain="+n.domain:"",u=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),r,s,o,u].join("")},jQuery&&function(e){e.extend(e.fn,{fileTree:function(t,n,r){var i={script:"file.json",expandSpeed:500,expandEasing:null,collapseSpeed:500,collapseEasing:null,root:"/",loadingMessage:"Loading..."};t=e.extend(i,t),e(this).each(function(){function i(n,r){e(n).addClass("wait"),e(".jqueryFileTree.start").remove(),e.get(t.script,{dir:r},function(i){var u='<ul class="jqueryFileTree" style="display:none">';e.each(i,function(e,t){t.isdir&&(u+='<li class="dir directory collapsed"><a href="#" rel="'+t.path+'">'+t.name+"</li>")}),e.each(i,function(e,t){t.isdir||(u+='<li class="file ext_'+t.ext+'"><a href="#" rel="'+t.path+'">'+t.name+"</li>")}),u+="</ul>",e(n).find(".start").html(""),e(n).removeClass("wait").append(u),t.root==r?e(n).find("UL:hidden").show():e(n).find("UL:hidden").slideDown({duration:t.expandSpeed,easing:t.expandEasing}),s(n)},"json")}function s(s){e(s).find("LI A").bind("click",function(){return e(this).parent().hasClass("directory")&&(e(this).parent().hasClass("collapsed")?(e(this).parent().find("UL").remove(),i(e(this).parent(),e(this).attr("rel")),e(this).parent().removeClass("collapsed").addClass("expanded")):(e(this).parent().find("UL").slideUp({duration:t.collapseSpeed,easing:t.collapseEasing}),e(this).parent().removeClass("expanded").addClass("collapsed"))),!1}),e(s).find("LI A").bind("dblclick",function(){e(this).parent().hasClass("directory")||r(e(this).attr("rel"))}),e(s).find("LI A").bind("mousedown",function(t){3==t.which&&!e(this).parent().hasClass("directory")&&n(e(this).attr("rel"))})}function u(){}e(this).html('<ul class="jqueryFileTree start"><li class="wait">'+t.loadingMessage+"<li></ul>"),i(e(this),escape(t.root))})}})}(jQuery);var PageSetConfig={};PageSetConfig.MethodList=[],PageSetConfig.XTypeConfig=[{xtype:"ECButtonWidget",setEvent:[{name:"buttonClick"},{name:"buttonLongClick"}]},{xtype:"ActionBarWidget",setEvent:[{name:"optionItemClick"},{name:"navItemClick"},{name:"queryText"},{name:"channelTabChanged"},{name:"customItemClick"}]},{xtype:"ListViewWidget",setEvent:[{name:"itemClick"},{name:"refresh"},{name:"loadMore"}]},{xtype:"MapWidget",setEvent:[{name:"mapPopupClicked"},{name:"myLocationOverlayClicked"}]},{xtype:"ItemNewsWidget",setEvent:[{name:"click"},{name:"buttonClick"}]},{xtype:"GroupWidget",setEvent:[{name:"groupItemClick"}]}],PageSetConfig.KeyValObj=[{name:"key",type:"string",cls:"input-mini"},{name:"value",type:"string",cls:"input-medium"},{name:"defaultValue",type:"string",cls:"input-mini"}],PageSetConfig.datasource={name:"datasource",type:"object",data:"json",fields:[{name:"method",type:"string",cls:"data-method"},{name:"data",type:"json",cls:"ace_json"},{name:"params",type:"array",mode:"column",fields:PageSetConfig.KeyValObj},{name:"adapter",type:"array",mode:"column",fields:PageSetConfig.KeyValObj}]},PageSetConfig.setEvent={name:"setEvent",type:"array",member:{type:"object",fields:[{name:"name",type:"string",cls:"live-event"},{name:"id",type:"string"},{name:"params",type:"array",mode:"column",fields:PageSetConfig.KeyValObj},{name:"javascript",type:"text",cls:"ace_javascript"}]}},PageSetConfig.FieldSetConfig=[{name:"control_id",cls:"input-xxlarge live-controlid"},{name:"xtype",cls:"live-xtype input-xxlarge"},{name:"layout",cls:"input-xxlarge"},PageSetConfig.datasource,PageSetConfig.setEvent,{name:"position",type:"array",member:{mode:"column",type:"object",fields:PageSetConfig.KeyValObj}},{name:"attr",type:"array",member:{type:"object",mode:"column",fields:PageSetConfig.KeyValObj}},{name:"configs",type:"array",member:{mode:"column",fields:PageSetConfig.KeyValObj}}],PageSetConfig.PageSetConfig=[{name:"name",type:"string",cls:"input-xxlarge"},{name:"page_id",type:"string",cls:"input-xxlarge"},PageSetConfig.datasource,PageSetConfig.setEvent,{name:"configs",type:"array",member:{mode:"column",fields:PageSetConfig.KeyValObj}},{name:"auto_start_controls",type:"array",member:{type:"string",cls:"control_sel"}}];var FlyJSONP=function(e){var t,n,r,i,s,o,u,a,f;return n=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},r=function(n,r){t.log("Garbage collecting!"),r.parentNode.removeChild(r),e[n]=void 0;try{delete e[n]}catch(i){}},i=function(e,t){var n="",r,i;for(r in e)e.hasOwnProperty(r)&&(r=t?encodeURIComponent(r):r,i=t?encodeURIComponent(e[r]):e[r],n+=r+"="+i+"&");return n.replace(/&$/,"")},s=function(){for(var e="",e=[],t=0,t=0;t<32;t+=1)e[t]="0123456789ABCDEF".substr(Math.floor(Math.random()*16),1);return e[12]="4",e[16]="0123456789ABCDEF".substr(e[16]&3|8,1),e="flyjsonp_"+e.join("")},o=function(e,n){t.log(n),typeof e!="undefined"&&e(n)},u=function(e,n){t.log("GET success"),typeof e!="undefined"&&e(n),t.log(n)},a=function(e,n){t.log("POST success"),typeof e!="undefined"&&e(n),t.log(n)},f=function(e){t.log("Request complete"),typeof e!="undefined"&&e()},t={options:{debug:!1}},t.init=function(e){var n;t.log("Initializing!");for(n in e)e.hasOwnProperty(n)&&(t.options[n]=e[n]);return t.log("Initialization options"),t.log(t.options),!0},t.log=function(n){e.console&&t.options.debug&&e.console.log(n)},t.get=function(h){var h=h||{},p=h.url,d=h.callbackParameter||"callback",v=h.parameters||{},y=e.document.createElement("script"),b=s(),w="?";if(!p)throw Error("URL must be specified!");v[d]=b,p.indexOf("?")>=0&&(w="&"),p+=w+i(v,!0),e[b]=function(e){typeof e=="undefined"?o(h.error,"Invalid JSON data returned"):h.httpMethod==="post"?(e=e.query.results,!e||!e.postresult?o(h.error,"Invalid JSON data returned"):(e=e.postresult.json?e.postresult.json:e.postresult,a(h.success,e))):u(h.success,e),r(b,y),f(h.complete)},t.log("Getting JSONP data"),y.setAttribute("src",p),e.document.getElementsByTagName("head")[0].appendChild(y),n(y,"error",function(){r(b,y),f(h.complete),o(h.error,"Error while trying to access the URL")})},t.post=function(e){var e=e||{},n=e.url,r=e.parameters||{},s={};if(!n)throw Error("URL must be specified!");n="http://query.yahooapis.com/v1/public/yql?q="+encodeURIComponent('select * from jsonpost where url="'+n+'" and postdata="'+i(r,!1)+'"')+"&format=json&env="+encodeURIComponent("store://datatables.org/alltableswithkeys"),s.url=n,s.httpMethod="post",typeof e.success!="undefined"&&(s.success=e.success),typeof e.error!="undefined"&&(s.error=e.error),typeof e.complete!="undefined"&&(s.complete=e.complete),t.get(s)},t}(this);(function(){}).call(this),function(e,t){function n(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=p[e[c]];return t||(t={},h++,e[c]=h,p[h]=t),t}function i(e,n,i){return n||(n=t),d?n.createElement(e):(i||(i=r(n)),n=i.cache[e]?i.cache[e].cloneNode():f.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),n.canHaveChildren&&!a.test(e)?i.frag.appendChild(n):n)}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return v.shivMethods?i(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function o(e){e||(e=t);var n=r(e);if(v.shivCSS&&!l&&!n.hasCSS){var i,o=e;i=o.createElement("p"),o=o.getElementsByTagName("head")[0]||o.documentElement,i.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}</style>",i=o.insertBefore(i.lastChild,o.firstChild),n.hasCSS=!!i}return d||s(e,n),e}var u=e.html5||{},a=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,l,c="_html5shiv",h=0,p={},d;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",l="hidden"in e;var n;if(!(n=1==e.childNodes.length)){t.createElement("a");var r=t.createDocumentFragment();n="undefined"==typeof r.cloneNode||"undefined"==typeof r.createDocumentFragment||"undefined"==typeof r.createElement}d=n}catch(i){d=l=!0}})();var v={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video",version:"3.6.2pre",shivCSS:!1!==u.shivCSS,supportsUnknownElements:d,shivMethods:!1!==u.shivMethods,type:"default",shivDocument:o,createElement:i,createDocumentFragment:function(e,i){e||(e=t);if(d)return e.createDocumentFragment();for(var i=i||r(e),s=i.frag.cloneNode(),o=0,u=n(),a=u.length;o<a;o++)s.createElement(u[o]);return s}};e.html5=v,o(t)}(this,document);if(!window.af||typeof 
af!="function"){var af=function(e){"use strict";function g(e,t){return typeof t=="number"&&!v[e.toLowerCase()]?t+"px":t}function y(e,t,r){var i=n.createDocumentFragment();if(r){for(var s=e.length-1;s>=0;s--)i.insertBefore(e[s],i.firstChild);t.insertBefore(i,t.firstChild)}else{for(var o=0;o<e.length;o++)i.appendChild(e[o]);t.appendChild(i)}i=null}function b(e){return e in s?s[e]:s[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function w(e){for(var t=0;t<e.length;t++)e.indexOf(e[t])!=t&&(e.splice(t,1),t--);return e}function E(e,n){var r=[];if(e==t)return r;for(;e;e=e.nextSibling)e.nodeType==1&&e!==n&&r.push(e);return r}function T(e,t){try{return t.querySelectorAll(e)}catch(n){return[]}}function N(e,t){e=e.trim();if(e[0]==="#"&&e.indexOf(".")==-1&&e.indexOf(",")==-1&&e.indexOf(" ")===-1&&e.indexOf(">")===-1)t==n?C(t.getElementById(e.replace("#","")),this):C(T(e,t),this);else if(e[0]==="<"&&e[e.length-1]===">"||e.indexOf("<")!==-1&&e.indexOf(">")!==-1){var r=n.createElement("div");m?MSApp.execUnsafeLocalFunction(function(){r.innerHTML=e.trim()}):r.innerHTML=e.trim(),C(r.childNodes,this)}else C(T(e,t),this);return this}function C(e,t){if(!e)return;if(e.nodeType){t[t.length++]=e;return}for(var n=0,r=e.length;n<r;n++)t[t.length++]=e[n]}function k(){}function L(t,r){t.os={},t.os.webkit=r.match(/WebKit\/([\d.]+)/)?!0:!1,t.os.android=r.match(/(Android)\s+([\d.]+)/)||r.match(/Silk-Accelerated/)?!0:!1,t.os.androidICS=t.os.android&&r.match(/(Android)\s4/)?!0:!1,t.os.ipad=r.match(/(iPad).*OS\s([\d_]+)/)?!0:!1,t.os.iphone=!t.os.ipad&&r.match(/(iPhone\sOS)\s([\d_]+)/)?!0:!1,t.os.ios7=r.match(/(iPhone\sOS)\s([7_]+)/)?!0:!1,t.os.webos=r.match(/(webOS|hpwOS)[\s\/]([\d.]+)/)?!0:!1,t.os.touchpad=t.os.webos&&r.match(/TouchPad/)?!0:!1,t.os.ios=t.os.ipad||t.os.iphone,t.os.playbook=r.match(/PlayBook/)?!0:!1,t.os.blackberry10=r.match(/BB10/)?!0:!1,t.os.blackberry=t.os.playbook||t.os.blackberry10||r.match(/BlackBerry/)?!0:!1,t.os.chrome=r.match(/Chrome/)?!0:!1,t.os.opera=r.match(/Opera/)?!0:!1,t.os.fennec=r.match(/fennec/i)?!0:r.match(/Firefox/)?!0:!1,t.os.ie=r.match(/MSIE 10.0/i)?!0:!1,t.os.ieTouch=t.os.ie&&r.toLowerCase().match(/touch/i)?!0:!1,t.os.supportsTouch=e.DocumentTouch&&n instanceof e.DocumentTouch||"ontouchstart"in e,t.feat={};var i=n.documentElement.getElementsByTagName("head")[0];t.feat.nativeTouchScroll=typeof i.style["-webkit-overflow-scrolling"]!="undefined"&&(t.os.ios||t.os.blackberry10),t.feat.cssPrefix=t.os.webkit?"Webkit":t.os.fennec?"Moz":t.os.ie?"ms":t.os.opera?"O":"",t.feat.cssTransformStart=t.os.opera?"(":"3d(",t.feat.cssTransformEnd=t.os.opera?")":",0)",t.os.android&&!t.os.webkit&&(t.os.android=!1)}function M(e){return e._afmid||(e._afmid=O++)}function _(e,t,n,r){t=D(t);if(t.ns)var i=P(t.ns);return(A[M(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||i.test(e.ns))&&(!n||e.fn==n||typeof e.fn=="function"&&typeof n=="function"&&e.fn===n)&&(!r||e.sel==r)})}function D(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function P(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function H(e,t,n){x.isObject(e)?x.each(e,n):e.split(/\s/).forEach(function(e){n(e,t)})}function B(e,t,n,r,i){var s=M(e),o=A[s]||(A[s]=[]);H(t,n,function(t,n){var s=i&&i(n,t),u=s||n,a=function(t){var n=u.apply(e,[t].concat(t.data));return n===!1&&t.preventDefault(),n},f=x.extend(D(t),{fn:n,proxy:a,sel:r,del:s,i:o.length});o.push(f),e.addEventListener(f.e,a,!1)})}function j(e,t,n,r){var i=M(e);H(t||"",n,function(t,n){_(e,t,n,r).forEach(function(t){delete A[i][t.i],e.removeEventListener(t.e,t.proxy,!1)})})}function R(e){var t=x.extend({originalEvent:e},e);return x.each(q,function(n,r){t[n]=function(){this[r]=F;if(n=="stopImmediatePropagation"||n=="stopPropagation"){e.cancelBubble=!0;if(!e[n])return}return e[n].apply(e,arguments)},t[r]=I}),t}function U(e,t,n,r){B(e,t,n,r,function(t){return function(n){var i,s=x(n.target).closest(r,e).get(0);if(s)return i=x.extend(R(n),{currentTarget:s,liveFired:e}),t.apply(s,[i].concat([].slice.call(arguments,1)))}})}function z(e,t){if(t&&e.dispatchEvent){var n=x.Event("destroy",{bubbles:!1});e.dispatchEvent(n)}var r=M(e);if(r&&A[r]){for(var i in A[r])e.removeEventListener(A[r][i].e,A[r][i].proxy,!1);delete A[r]}}function W(e,t){if(!e)return;var n=e.childNodes;if(n&&n.length>0)for(var r;r<n.length;r++)W(n[r],t);z(e,t)}var t,n=e.document,r=[],i=r.slice,s={},o=[],u=1,a=[],f=1,l=/<(\w+)[^>]*>/,c=/^\.([\w-]+)$/,h=/^[\w-]+$/,p={},d={},v={columncount:!0,fontweight:!0,lineheight:!0,"column-count":!0,"font-weight":!0,"line-height":!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,"z-index":!0,zoom:!0},m=typeof MSApp=="object",S=function(e,r){this.length=0;if(!e)return this;if(e instanceof S&&r==t)return e;if(af.isFunction(e))return af(n).ready(e);if(af.isArray(e)&&e.length!=t){for(var i=0;i<e.length;i++)this[this.length++]=e[i];return this}if(af.isObject(e)&&af.isObject(r)){if(e.length==t)e.parentNode==r&&(this[this.length++]=e);else for(var s=0;s<e.length;s++)e[s].parentNode==r&&(this[this.length++]=e[s]);return this}if(af.isObject(e)&&r==t)return this[this.length++]=e,this;if(r!==t){if(r instanceof S)return r.find(e)}else r=n;return this.selector(e,r)},x=function(e,t){return new S(e,t)};x.is$=function(e){return e instanceof S},x.map=function(e,n){var r,i=[],s,o;if(x.isArray(e))for(s=0;s<e.length;s++)r=n.apply(e[s],[s,e[s]]),r!==t&&i.push(r);else if(x.isObject(e))for(o in e){if(!e.hasOwnProperty(o)||o=="length")continue;r=n(e[o],[o,e[o]]),r!==t&&i.push(r)}return af(i)},x.each=function(e,t){var n,r;if(x.isArray(e)){for(n=0;n<e.length;n++)if(t(n,e[n])===!1)return e}else if(x.isObject(e))for(r in e){if(!e.hasOwnProperty(r)||r=="length")continue;if(t(r,e[r])===!1)return e}return e},x.extend=function(e){e==t&&(e=this);if(arguments.length===1){for(var n in e)this[n]=e[n];return this}return i.call(arguments,1).forEach(function(t){for(var n in t)e[n]=t[n]}),e},x.isArray=function(e){return e instanceof Array&&e.push!=t},x.isFunction=function(e){return typeof e=="function"&&!(e instanceof RegExp)},x.isObject=function(e){return typeof e=="object"&&e!==null},x.fn=S.prototype={constructor:S,forEach:r.forEach,reduce:r.reduce,push:r.push,indexOf:r.indexOf,concat:r.concat,selector:N,oldElement:undefined,slice:r.slice,length:0,setupOld:function(e){return e==t?x():(e.oldElement=this,e)},map:function(e){var n,r=[],i;for(i=0;i<this.length;i++)n=e.apply(this[i],[i,this[i]]),n!==t&&r.push(n);return x(r)},each:function(e){return this.forEach(function(t,n){e.call(t,n,t)}),this},ready:function(e){return n.readyState==="complete"||n.readyState==="loaded"||!x.os.ie&&n.readyState==="interactive"?e():n.addEventListener("DOMContentLoaded",e,!1),this},find:function(e){if(this.length===0)return this;var t=[],n;for(var r=0;r<this.length;r++){n=x(e,this[r]);for(var i=0;i<n.length;i++)t.push(n[i])}return x(w(t))},html:function(e,n){if(this.length===0)return this;if(e===t)return this[0].innerHTML;for(var r=0;r<this.length;r++){n!==!1&&x.cleanUpContent(this[r],!1,!0);if(m){var i=this[r];MSApp.execUnsafeLocalFunction(function(){i.innerHTML=e})}else this[r].innerHTML=e}return this},text:function(e){if(this.length===0)return this;if(e===t)return this[0].textContent;for(var n=0;n<this.length;n++)this[n].textContent=e;return this},css:function(n,r,i){var s=i!=t?i:this[0];if(this.length===0)return this;if(r==t&&typeof n=="string"){var o=e.getComputedStyle(s);return s.style[n]?s.style[n]:e.getComputedStyle(s)[n]}for(var u=0;u<this.length;u++)if(x.isObject(n))for(var a in n)this[u].style[a]=g(a,n[a]);else this[u].style[n]=g(n,r);return this},vendorCss:function(e,t,n){return this.css(x.feat.cssPrefix+e,t,n)},cssTranslate:function(e){return this.vendorCss("Transform","translate"+x.feat.cssTransformStart+e+x.feat.cssTransformEnd)},computedStyle:function(n){if(this.length===0||n==t)return;return e.getComputedStyle(this[0],"")[n]},empty:function(){for(var e=0;e<this.length;e++)x.cleanUpContent(this[e],!1,!0),this[e].textContent="";return this},hide:function(){if(this.length===0)return this;for(var e=0;e<this.length;e++)this.css("display",null,this[e])!="none"&&(this[e].setAttribute("afmOldStyle",this.css("display",null,this[e])),this[e].style.display="none");return this},show:function(){if(this.length===0)return this;for(var e=0;e<this.length;e++)this.css("display",null,this[e])=="none"&&(this[e].style.display=this[e].getAttribute("afmOldStyle")?this[e].getAttribute("afmOldStyle"):"block",this[e].removeAttribute("afmOldStyle"));return this},toggle:function(e){if(this.length===0)return this;var n=e===!0;for(var r=0;r<this.length;r++)this.css("display",null,this[r])=="none"||e!=t&&n!==!1?this.css("display",null,this[r])=="none"&&(e==t||n===!0)&&(this[r].style.display=this[r].getAttribute("afmOldStyle")?this[r].getAttribute("afmOldStyle"):"block",this[r].removeAttribute("afmOldStyle")):(this[r].setAttribute("afmOldStyle",this.css("display",null,this[r])),this[r].style.display="none");return this},val:function(e){if(this.length===0)return e===t?undefined:this;if(e==t)return this[0].value;for(var n=0;n<this.length;n++)this[n].value=e;return this},attr:function(e,n){if(this.length===0)return n===t?undefined:this;if(n===t&&!x.isObject(e)){var r=this[0].afmCacheId&&p[this[0].afmCacheId][e]?this[0].afmCacheId&&p[this[0].afmCacheId][e]:this[0].getAttribute(e);return r}for(var i=0;i<this.length;i++)if(x.isObject(e))for(var s in e)x(this[i]).attr(s,e[s]);else x.isArray(n)||x.isObject(n)||x.isFunction(n)?(this[i].afmCacheId||(this[i].afmCacheId=x.uuid()),p[this[i].afmCacheId]||(p[this[i].afmCacheId]={}),p[this[i].afmCacheId][e]=n):n===null?(this[i].removeAttribute(e),this[i].afmCacheId&&p[this[i].afmCacheId][e]&&delete p[this[i].afmCacheId][e]):this[i].setAttribute(e,n);return this},removeAttr:function(e){var t=this;for(var n=0;n<this.length;n++)e.split(/\s+/g).forEach(function(r){t[n].removeAttribute(r),t[n].afmCacheId&&p[t[n].afmCacheId][e]&&delete p[t[n].afmCacheId][e]});return this},prop:function(e,n){if(this.length===0)return n===t?undefined:this;if(n===t&&!x.isObject(e)){var r,i=this[0].afmCacheId&&d[this[0].afmCacheId][e]?this[0].afmCacheId&&d[this[0].afmCacheId][e]:!(r=this[0][e])&&e in this[0]?this[0][e]:r;return i}for(var s=0;s<this.length;s++)if(x.isObject(e))for(var o in e)x(this[s]).prop(o,e[o]);else x.isArray(n)||x.isObject(n)||x.isFunction(n)?(this[s].afmCacheId||(this[s].afmCacheId=x.uuid()),d[this[s].afmCacheId]||(d[this[s].afmCacheId]={}),d[this[s].afmCacheId][e]=n):n===null&&n!==undefined?x(this[s]).removeProp(e):this[s][e]=n;return this},removeProp:function(e){var t=this;for(var n=0;n<this.length;n++)e.split(/\s+/g).forEach(function(r){t[n][r]&&(t[n][r]=undefined),t[n].afmCacheId&&d[t[n].afmCacheId][e]&&delete d[t[n].afmCacheId][e]});return this},remove:function(e){var n=x(this).filter(e);if(n==t)return this;for(var r=0;r<n.length;r++)x.cleanUpContent(n[r],!0,!0),n[r]&&n[r].parentNode&&n[r].parentNode.removeChild(n[r]);return this},addClass:function(e){if(e==t)return this;for(var n=0;n<this.length;n++){var r=this[n].className,i=[],s=this;e.split(/\s+/g).forEach(function(e){s.hasClass(e,s[n])||i.push(e)}),this[n].className+=(r?" ":"")+i.join(" "),this[n].className=this[n].className.trim()}return this},removeClass:function(e){if(e==t)return this;for(var n=0;n<this.length;n++){if(e==t)return this[n].className="",this;var r=this[n].className;typeof this[n].className=="object"&&(r=" "),e.split(/\s+/g).forEach(function(e){r=r.replace(b(e)," ")}),r.length>0?this[n].className=r.trim():this[n].className=""}return this},toggleClass:function(e,n){if(e==t)return this;for(var r=0;r<this.length;r++)typeof n!="boolean"&&(n=this.hasClass(e,this[r])),x(this[r])[n?"removeClass":"addClass"](e);return this},replaceClass:function(e,n){if(e==t||n==t)return this;for(var r=0;r<this.length;r++){if(e==t){this[r].className=n;continue}var i=this[r].className;e.split(/\s+/g).concat(n.split(/\s+/g)).forEach(function(e){i=i.replace(b(e)," ")}),i=i.trim(),i.length>0?this[r].className=(i+" "+n).trim():this[r].className=n}return this},hasClass:function(e,t){return this.length===0?!1:(t||(t=this[0]),b(e).test(t.className))},append:function(r,i){if(r&&r.length!=t&&r.length===0)return this;if(x.isArray(r)||x.isObject(r))r=x(r);var s;for(s=0;s<this.length;s++)if(r.length&&typeof r!="string")r=x(r),y(r,this[s],i);else{var o=l.test(r)?x(r):undefined;if(o==t||o.length===0)o=n.createTextNode(r);o.nodeName==t||o.nodeName.toLowerCase()!="script"||!!o.type&&o.type.toLowerCase()!=="text/javascript"?o instanceof S?y(o,this[s],i):i!=t?this[s].insertBefore(o,this[s].firstChild):this[s].appendChild(o):e.eval(o.innerHTML)}return this},appendTo:function(e,t){var n=x(e);return n.append(this),this},prependTo:function(e){var t=x(e);return t.append(this,!0),this},prepend:function(e){return this.append(e,1)},insertBefore:function(e,t){if(this.length===0)return this;e=x(e).get(0);if(!e)return this;for(var n=0;n<this.length;n++)t?e.parentNode.insertBefore(this[n],e.nextSibling):e.parentNode.insertBefore(this[n],e);return this},insertAfter:function(e){this.insertBefore(e,!0)},get:function(e){return e=e==t?0:e,e<0&&(e+=this.length),this[e]?this[e]:undefined},offset:function(){var t;return this.length===0?this:this[0]==e?{left:0,top:0,right:0,bottom:0,width:e.innerWidth,height:e.innerHeight}:(t=this[0].getBoundingClientRect(),{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,right:t.right+e.pageXOffset,bottom:t.bottom+e.pageYOffset,width:t.right-t.left,height:t.bottom-t.top})},height:function(n){if(this.length===0)return this;if(n!=t)return this.css("height",n);if(this[0]==this[0].window)return e.innerHeight;if(this[0].nodeType==this[0].DOCUMENT_NODE)return this[0].documentElement.offsetheight;var r=this.css("height").replace("px","");return r?r:this.offset().height},width:function(n){if(this.length===0)return this;if(n!=t)return this.css("width",n);if(this[0]==this[0].window)return e.innerWidth;if(this[0].nodeType==this[0].DOCUMENT_NODE)return this[0].documentElement.offsetwidth;var r=this.css("width").replace("px","");return r?r:this.offset().width},parent:function(e,t){if(this.length===0)return this;var r=[];for(var i=0;i<this.length;i++){var s=this[i];while(s.parentNode&&s.parentNode!=n){r.push(s.parentNode),s.parentNode&&(s=s.parentNode);if(!t)break}}return this.setupOld(x(w(r)).filter(e))},parents:function(e){return this.parent(e,!0)},children:function(e){if(this.length===0)return this;var t=[];for(var n=0;n<this.length;n++)t=t.concat(E(this[n].firstChild));return this.setupOld(x(t).filter(e))},siblings:function(e){if(this.length===0)return this;var t=[];for(var n=0;n<this.length;n++)this[n].parentNode&&(t=t.concat(E(this[n].parentNode.firstChild,this[n])));return this.setupOld(x(t).filter(e))},closest:function(e,t){if(this.length===0)return this;var r=[],i=this[0],s=x(e,t);if(s.length===0)return x();while(i&&s.indexOf(i)==-1)i=i!==t&&i!==n&&i.parentNode;return x(i)},filter:function(e){if(this.length===0)return this;if(e==t)return this;var n=[];for(var r=0;r<this.length;r++){var i=this[r];i.parentNode&&x(e,i.parentNode).indexOf(i)>=0&&n.push(i)}return this.setupOld(x(w(n)))},not:function(e){if(this.length===0)return this;var t=[];for(var n=0;n<this.length;n++){var r=this[n];r.parentNode&&x(e,r.parentNode).indexOf(r)==-1&&t.push(r)}return this.setupOld(x(w(t)))},data:function(e,t){return this.attr("data-"+e,t)},end:function(){return this.oldElement!=t?this.oldElement:x()},clone:function(e){e=e===!1?!1:!0;if(this.length===0)return this;var t=[];for(var n=0;n<this.length;n++)t.push(this[n].cloneNode(e));return x(t)},size:function(){return this.length},serialize:function(){if(this.length===0)return"";var e=[];for(var t=0;t<this.length;t++)this.slice.call(this[t].elements).forEach(function(t){var n=t.getAttribute("type");if(t.nodeName.toLowerCase()!="fieldset"&&!t.disabled&&n!="submit"&&n!="reset"&&n!="button"&&(n!="radio"&&n!="checkbox"||t.checked)&&t.getAttribute("name"))if(t.type=="select-multiple")for(var r=0;r<t.options.length;r++)t.options[r].selected&&e.push(t.getAttribute("name")+"="+encodeURIComponent(t.options[r].value));else e.push(t.getAttribute("name")+"="+encodeURIComponent(t.value))});return e.join("&")},eq:function(e){return x(this.get(e))},index:function(e){return e?this.indexOf(x(e)[0]):this.parent().children().indexOf(this[0])},is:function(e){return!!e&&this.filter(e).length>0}},x.ajaxSettings={type:"GET",beforeSend:k,success:k,error:k,complete:k,context:undefined,timeout:0,crossDomain:null},x.jsonP=function(t){if(m)return t.type="get",t.dataType=null,x.get(t);var r="jsonp_callback"+ ++f,i="",s,o=n.createElement("script"),u=function(){x(o).remove(),e[r]&&(e[r]=k)};return e[r]=function(n){clearTimeout(i),x(o).remove(),delete e[r],t.success.call(s,n)},o.src=t.url.replace(/=\?/,"="+r),t.error&&(o.onerror=function(){clearTimeout(i),t.error.call(s,"","error")}),x("head").append(o),t.timeout>0&&(i=setTimeout(function(){t.error.call(s,"","timeout")},t.timeout)),{}},x.ajax=function(t){var n;try{var r=t||{};for(var i in x.ajaxSettings)typeof r[i]=="undefined"&&(r[i]=x.ajaxSettings[i]);r.url||(r.url=e.location),r.contentType||(r.contentType="application/x-www-form-urlencoded"),r.headers||(r.headers={});if(!("async"in r)||r.async!==!1)r.async=!0;if(!r.dataType)r.dataType="text/html";else switch(r.dataType){case"script":r.dataType="text/javascript, application/javascript";break;case"json":r.dataType="application/json";break;case"xml":r.dataType="application/xml, text/xml";break;case"html":r.dataType="text/html";break;case"text":r.dataType="text/plain";break;default:r.dataType="text/html";break;case"jsonp":return x.jsonP(t)}x.isObject(r.data)&&(r.data=x.param(r.data)),r.type.toLowerCase()==="get"&&r.data&&(r.url.indexOf("?")===-1?r.url+="?"+r.data:r.url+="&"+r.data);if(/=\?/.test(r.url))return x.jsonP(r);r.crossDomain===null&&(r.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(r.url)&&RegExp.$2!=e.location.host),r.crossDomain||(r.headers=x.extend({"X-Requested-With":"XMLHttpRequest"},r.headers));var s,o=r.context,u=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:e.location.protocol;n=new e.XMLHttpRequest,n.onreadystatechange=function(){var e=r.dataType;if(n.readyState===4){clearTimeout(s);var t,i=!1;if(n.status>=200&&n.status<300||n.status===0&&u=="file:"){if(e==="application/json"&&!/^\s*$/.test(n.responseText))try{t=JSON.parse(n.responseText)}catch(a){i=a}else e==="application/xml, text/xml"?t=n.responseXML:e=="text/html"?(t=n.responseText,x.parseJS(t)):t=n.responseText;n.status===0&&t.length===0&&(i=!0),i?r.error.call(o,n,"parsererror",i):r.success.call(o,t,"success",n)}else i=!0,r.error.call(o,n,"error");r.complete.call(o,n,i?"error":"success")}},n.open(r.type,r.url,r.async),r.withCredentials&&(n.withCredentials=!0),r.contentType&&(r.headers["Content-Type"]=r.contentType);for(var a in r.headers)typeof r.headers[a]=="string"&&n.setRequestHeader(a,r.headers[a]);if(r.beforeSend.call(o,n,r)===!1)return n.abort(),!1;r.timeout>0&&(s=setTimeout(function(){n.onreadystatechange=k,n.abort(),r.error.call(o,n,"timeout")},r.timeout)),n.send(r.data)}catch(f){console.log(f),r.error.call(o,n,"error",f)}return n},x.get=function(e,t){return this.ajax({url:e,success:t})},x.post=function(e,n,r,i){return typeof n=="function"&&(r=n,n={}),i===t&&(i="html"),this.ajax({url:e,type:"POST",data:n,dataType:i,success:r})},x.getJSON=function(e,t,n){return typeof t=="function"&&(n=t,t={}),this.ajax({url:e,data:t,success:n,dataType:"json"})},x.param=function(e,t){var n=[];if(e instanceof S)e.each(function(){var e=t?t+"["+this.id+"]":this.id,r=this.value;n.push(e+"="+encodeURIComponent(r))});else for(var r in e){if(x.isFunction(e[r]))continue;var i=t?t+"["+r+"]":r,s=e[r];n.push(x.isObject(s)?x.param(s,i):i+"="+encodeURIComponent(s))}return n.join("&")},x.parseJSON=function(e){return JSON.parse(e)},x.parseXML=function(e){if(!m)return(new DOMParser).parseFromString(e,"text/xml");MSApp.execUnsafeLocalFunction(function(){return(new DOMParser).parseFromString(e,"text/xml")})},L(x,navigator.userAgent),x.__detectUA=L,x.uuid=function(){var e=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},x.getCssMatrix=function(n){x.is$(n)&&(n=n.get(0));var r=e.WebKitCSSMatrix||e.MSCSSMatrix;if(n===t)return r?new r:{a:0,b:0,c:0,d:0,e:0,f:0};var i=e.getComputedStyle(n),s=i.webkitTransform||i.transform||i[x.feat.cssPrefix+"Transform"];if(r)return new r(s);if(s){var o=s.replace(/[^0-9\-.,]/g,"").split(",");return{a:+o[0],b:+o[1],c:+o[2],d:+o[3],e:+o[4],f:+o[5]}}return{a:0,b:0,c:0,d:0,e:0,f:0}},x.create=function(e,t){var r,i=new S;if(t||e[0]!=="<"){t.html&&(t.innerHTML=t.html,delete t.html),r=n.createElement(e);for(var s in t)r[s]=t[s];i[i.length++]=r}else r=n.createElement("div"),m?MSApp.execUnsafeLocalFunction(function(){r.innerHTML=selector.trim()}):r.innerHTML=e,C(r.childNodes,i);return i},x.query=function(e,t){if(!e)return new S;t=t||n;var r=new S;return r.selector(e,t)};var A={},O=1;x.event={add:B,remove:j},x.fn.bind=function(e,t){for(var n=0;n<this.length;n++)B(this[n],e,t);return this},x.fn.unbind=function(e,t){for(var n=0;n<this.length;n++)j(this[n],e,t);return this},x.fn.one=function(e,t){return this.each(function(n,r){B(this,e,t,null,function(e,t){return function(){j(r,t,e);var n=e.apply(r,arguments);return n}})})};var F=function(){return!0},I=function(){return!1},q={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};x.fn.delegate=function(e,t,n){for(var r=0;r<this.length;r++)U(this[r],t,n,e);return this},x.fn.undelegate=function(e,t,n){for(var r=0;r<this.length;r++)j(this[r],t,n,e);return this},x.fn.on=function(e,n,r){return n===t||x.isFunction(n)?this.bind(e,n):this.delegate(n,e,r)},x.fn.off=function(e,n,r){return n===t||x.isFunction(n)?this.unbind(e,n):this.undelegate(n,e,r)},x.fn.trigger=function(e,t,n){typeof e=="string"&&(e=x.Event(e,n)),e.data=t;for(var r=0;r<this.length;r++)this[r].dispatchEvent(e);return this},x.Event=function(e,t){var r=n.createEvent("Events"),i=!0;if(t)for(var s in t)s=="bubbles"?i=!!t[s]:r[s]=t[s];return r.initEvent(e,i,!0,null,null,null,null,null,null,null,null,null,null,null,null),r},x.bind=function(e,t,n){if(!e)return;e.__events||(e.__events={}),x.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++)e.__events[t[r]]||(e.__events[t[r]]=[]),e.__events[t[r]].push(n)},x.trigger=function(e,t,n){if(!e)return;var r=!0;if(!e.__events)return r;x.isArray(t)||(t=[t]),x.isArray(n)||(n=[]);for(var i=0;i<t.length;i++)if(e.__events[t[i]]){var s=e.__events[t[i]].slice(0);for(var o=0;o<s.length;o++)x.isFunction(s[o])&&s[o].apply(e,n)===!1&&(r=!1)}return r},x.unbind=function(e,n,r){if(!e.__events)return;x.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++)if(e.__events[n[i]]){var s=e.__events[n[i]];for(var o=0;o<s.length;o++){r==t&&delete s[o];if(s[o]==r){s.splice(o,1);break}}}},x.proxy=function(e,t,n){return function(){return n?e.apply(t,n):e.apply(t,arguments)}};var X=function(e,t){for(var n=0;n<e.length;n++)W(e[n],t)};x.cleanUpContent=function(e,t,n){if(!e)return;var r=e.childNodes;r&&r.length>0&&x.asap(X,{},[i.apply(r,[0]),n]),t&&z(e,n)};var V=[],$=[],J=[];x.asap=function(t,n,r){if(!x.isFunction(t))throw"$.asap - argument is not a valid function";V.push(t),$.push(n?n:{}),J.push(r?r:[]),e.postMessage("afm-asap","*")},e.addEventListener("message",function(t){t.source==e&&t.data=="afm-asap"&&(t.stopPropagation(),V.length>0&&V.shift().apply($.shift(),J.shift()))},!0);var K={};return x.parseJS=function(t){if(!t)return;if(typeof t=="string"){var r=n.createElement("div");m?MSApp.execUnsafeLocalFunction(function(){r.innerHTML=t}):r.innerHTML=t,t=r}var i=t.getElementsByTagName("script");t=null;for(var s=0;s<i.length;s++)if(i[s].src.length>0&&!K[i[s].src]&&!m){var o=n.createElement("script");o.type=i[s].type,o.src=i[s].src,n.getElementsByTagName("head")[0].appendChild(o),K[i[s].src]=1,o=null}else e.eval(i[s].innerHTML)},["click","keydown","keyup","keypress","submit","load","resize","change","select","error"].forEach(function(e){x.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){x.fn[e]=function(t){if(this.length===0)return;if(t)this.bind(e,t);else for(var n=0;n<this.length;n++)try{this[n][e]()}catch(r){}return this}}),x}(window);window.jq=af,"$"in window||(window.$=af),typeof define=="function"&&define.amd?define("appframework",[],function(){return af}):typeof module!="undefined"&&module.exports&&(module.exports.af=af,module.exports.$=af),window.numOnly||(window.numOnly=function(t){if(t===undefined||t==="")return 0;if(isNaN(parseFloat(t))){if(!t.replace)return 0;t=t.replace(/[^0-9.-]/g,"")}return parseFloat(t)})}(function(e){e.fn.actionsheet=function(e){var n;for(var r=0;r<this.length;r++)n=new t(this[r],e);return this.length==1?n:this};var t=function(){var t=function(n,r){typeof n=="string"||n instanceof String?this.el=document.getElementById(n):this.el=n;if(!this.el){alert("Could not find element for actionsheet "+n);return}if(!(this instanceof t))return new t(n,r);if(typeof r=="object")for(var i in r)this[i]=r[i];var s=this,o='<div id="af_actionsheet"><div style="width:100%">',u="</div></div>",a;if(typeof r=="string")a=e(o+r+"<a href='javascript:;' class='cancel'>Cancel</a>"+u);else if(typeof r=="object"){a=e(o+u);var f=e(a.children().get(0));r.push({text:"Cancel",cssClasses:"cancel"});for(var l=0;l<r.length;l++){var c=e('<a href="javascript:;" >'+(r[l].text||"TEXT NOT ENTERED")+"</a>");c[0].onclick=r[l].handler||function(){},r[l].cssClasses&&r[l].cssClasses.length>0&&c.addClass(r[l].cssClasses),f.append(c)}}e(n).find("#af_actionsheet").remove(),e(n).find("#af_action_mask").remove(),actionsheetEl=e(n).append(a),a.vendorCss("Transition","all 0ms"),a.cssTranslate("0,0"),a.css("top",window.innerHeight+"px"),this.el.style.overflow="hidden",a.on("click","a",function(){return s.hideSheet(),!1}),this.activeSheet=a,e(n).append('<div id="af_action_mask" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)"/>'),setTimeout(function(){a.vendorCss("Transition","all 300ms"),a.cssTranslate("0,"+ -a.height()+"px")},10)};return t.prototype={activeSheet:null,hideSheet:function(){var t=this;this.activeSheet.off("click","a",function(){t.hideSheet()}),e(this.el).find("#af_action_mask").remove(),this.activeSheet.vendorCss("Transition","all 0ms");var n=this.activeSheet,r=this.el;setTimeout(function(){n.vendorCss("Transition","all 300ms"),n.cssTranslate("0,0px"),setTimeout(function(){n.remove(),n=null,r.style.overflow="none"},500)},10)}},t}()})(af),function(e){var t=[],n=function(t){return t.afCSS3AnimateId||(t.afCSS3AnimateId=e.uuid()),t.afCSS3AnimateId},r=function(t){return typeof t=="string"||t instanceof String?document.getElementById(t):e.is$(t)?t[0]:t},i=function(e,i){var s,o,u=r(e);return o=n(u),t[o]?(t[o].animate(i),s=t[o]):(s=a(u,i),t[o]=s),s};e.fn.css3Animate=function(e){!e.complete&&e.callback&&(e.complete=e.callback);var t=i(this[0],e);e.complete=null,e.sucess=null,e.failure=null;for(var n=1;n<this.length;n++)t.link(this[n],e);return t},e.css3AnimateQueue=function(){return new a.queue};var s=e.feat.cssTransformStart,o=e.feat.cssTransformEnd,u=e.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd";u=e.os.fennec||e.feat.cssPrefix===""||e.os.ie?"transitionend":u,u=u.replace(u.charAt(0),u.charAt(0).toLowerCase());var a=function(){var n=function(r,i){if(!(this instanceof n))return new n(r,i);this.callbacksStack=[],this.activeEvent=null,this.countStack=0,this.isActive=!1,this.el=r,this.linkFinishedProxy_=e.proxy(this.linkFinished,this);if(!this.el)return;this.animate(i);var s=this;af(this.el).bind("destroy",function(){var e=s.el.afCSS3AnimateId;s.callbacksStack=[],t[e]&&delete t[e]})};return n.prototype={animate:function(t){this.isActive&&this.cancel(),this.isActive=!0;if(!t){alert("Please provide configuration options for animation of "+this.el.id);return}var n=!!t.addClass,r,i,a=numOnly(t.time);if(n)t.removeClass?af(this.el).replaceClass(t.removeClass,t.addClass):af(this.el).addClass(t.addClass);else{a===0&&(t.time=0),t.y||(t.y=0),t.x||(t.x=0);if(t.previous){var f=new e.getCssMatrix(this.el);t.y+=numOnly(f.f),t.x+=numOnly(f.e)}t.origin||(t.origin="0% 0%"),t.scale||(t.scale="1"),t.rotateY||(t.rotateY="0"),t.rotateX||(t.rotateX="0"),t.skewY||(t.skewY="0"),t.skewX||(t.skewX="0"),t.timingFunction||(t.timingFunction="linear");if(typeof t.x=="number"||t.x.indexOf("%")==-1&&t.x.toLowerCase().indexOf("px")==-1&&t.x.toLowerCase().indexOf("deg")==-1)t.x=parseInt(t.x,10)+"px";if(typeof t.y=="number"||t.y.indexOf("%")==-1&&t.y.toLowerCase().indexOf("px")==-1&&t.y.toLowerCase().indexOf("deg")==-1)t.y=parseInt(t.y,10)+"px";var l="translate"+s+t.x+","+t.y+o+" scale("+parseFloat(t.scale)+") rotate("+t.rotateX+")";e.os.opera||(l+=" rotateY("+t.rotateY+")"),l+=" skew("+t.skewX+","+t.skewY+")",this.el.style[e.feat.cssPrefix+"Transform"]=l,this.el.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden";var c=e.feat.cssPrefix+"Transform";t.opacity!==undefined&&(this.el.style.opacity=t.opacity,c+=", opacity"),t.width&&(this.el.style.width=t.width,c="all"),t.height&&(this.el.style.height=t.height,c="all"),this.el.style[e.feat.cssPrefix+"TransitionProperty"]="all",(""+t.time).indexOf("s")===-1?(r="ms",i=t.time+r):t.time.indexOf("ms")!==-1?(r="ms",i=t.time):(r="s",i=t.time+r),t.delay&&(this.el.style[e.feat.cssPrefix+"TransitionDelay"]=t.delay),this.el.style[e.feat.cssPrefix+"TransitionDuration"]=i,this.el.style[e.feat.cssPrefix+"TransitionTimingFunction"]=t.timingFunction,this.el.style[e.feat.cssPrefix+"TransformOrigin"]=t.origin}this.callbacksStack.push({complete:t.complete,success:t.success,failure:t.failure}),this.countStack++;var h=this,p,d=window.getComputedStyle(this.el);n&&(p=d[e.feat.cssPrefix+"TransitionDuration"],a=numOnly(p),t.time=a,p.indexOf("ms")!==-1?r="ms":(r="s",t.time*=1e3)),a===0||r=="ms"&&a<5||d.display=="none"?e.asap(e.proxy(this.finishAnimation,this,[!1])):(this.activeEvent=function(e){clearTimeout(h.timeout),h.finishAnimation(e),h.el.removeEventListener(u,h.activeEvent,!1)},h.timeout=setTimeout(this.activeEvent,numOnly(t.time)+50),this.el.addEventListener(u,this.activeEvent,!1))},addCallbackHook:function(e){return e&&this.callbacksStack.push(e),this.countStack++,this.linkFinishedProxy_},linkFinished:function(e){e?this.cancel():this.finishAnimation()},finishAnimation:function(e){e&&e.preventDefault&&e.preventDefault();if(!this.isActive)return;this.countStack--,this.countStack===0&&this.fireCallbacks(!1)},fireCallbacks:function(e){this.clearEvents();var t=this.callbacksStack;this.cleanup();for(var n=0;n<t.length;n++){var r=t[n].complete,i=t[n].success,s=t[n].failure;r&&typeof r=="function"&&r(e),e&&s&&typeof s=="function"?s():i&&typeof i=="function"&&i()}},cancel:function(){if(!this.isActive)return;this.fireCallbacks(!0)},cleanup:function(){this.callbacksStack=[],this.isActive=!1,this.countStack=0},clearEvents:function(){this.activeEvent&&this.el.removeEventListener(u,this.activeEvent,!1),this.activeEvent=null},link:function(e,t){var n={complete:t.complete,success:t.success,failure:t.failure};return t.complete=this.addCallbackHook(n),t.success=null,t.failure=null,i(e,t),t.complete=n.complete,t.success=n.success,t.failure=n.failure,this}},n}();a.queue=function(){return{elements:[],push:function(e){this.elements.push(e)},pop:function(){return this.elements.pop()},run:function(){var e=this;if(this.elements.length===0)return;if(typeof this.elements[0]=="function"){var t=this.shift();t()}if(this.elements.length===0)return;var n=this.shift();this.elements.length>0&&(n.complete=function(t){t||e.run()}),a(document.getElementById(n.id),n)},shift:function(){return this.elements.shift()}}}}(af),function(e){e.passwordBox=function(){return new t};var t=function(){this.oldPasswords={}};t.prototype={showPasswordPlainText:!1,getOldPasswords:function(t){var n=t&&document.getElementById(t)?document.getElementById(t):document;if(!n){alert("Could not find container element for passwordBox "+t);return}var r=n.getElementsByTagName("input"),i=this;for(var s=0;s<r.length;s++){if(r[s].type!="password")continue;e.os.webkit&&(r[s].type="text",e(r[s]).vendorCss("TextSecurity","disc"))}},changePasswordVisiblity:function(t,n){t=parseInt(t,10);var r=document.getElementById(n);t==1?e(r).vendorCss("TextSecurity","none"):e(r).vendorCss("TextSecurity","disc"),e.os.webkit||(t==1?r.type="text":r.type="password"),r=null}}}(af),function(e){function s(e){return n[e].el?!0:(delete n[e],!1)}function o(){if(af.os.android&&!af.os.chrome&&af.os.webkit){var t=!1;e.bind(e.touchLayer,["cancel-enter-edit","exit-edit"],function(e){if(t){t=!1;for(var r in n)s(r)&&n[r].androidFormsMode&&n[r].stopFormsMode()}})}i=!0}var t=75,n=[],r=function(t){return t.afScrollerId||(t.afScrollerId=
e.uuid()),t.afScrollerId};e.fn.scroller=function(t){var i,s;for(var o=0;o<this.length;o++)s=r(this[o]),n[s]?i=n[s]:(t||(t={}),e.feat.nativeTouchScroll||(t.useJsScroll=!0),i=u(this[o],t),n[s]=i);return this.length==1?i:this};var i=!1,u=function(){function c(t,n){var r=document.createElement("div");return r.style.position="absolute",r.style.width=t+"px",r.style.height=n+"px",r.style[e.feat.cssPrefix+"BorderRadius"]="2px",r.style.borderRadius="2px",r.style.display="none",r.className="scrollBar",r.style.background="black",r}var r=e.feat.cssTransformStart,s=e.feat.cssTransformEnd,u,a,f=function(t,n){var r;if(!i&&e.touchLayer&&e.isObject(e.touchLayer))o();else if(!e.touchLayer||!e.isObject(e.touchLayer))e.touchLayer={};typeof t=="string"||t instanceof String?r=document.getElementById(t):r=t;if(!r){alert("Could not find element for scroller "+t);return}return af.os.desktop?new l(r,n):n.useJsScroll?new u(r,n):new a(r,n)},l=function(t,n){this.el=t,this.afEl=e(this.el);for(var r in n)this[r]=n[r]};return l.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,bubbles:!0,lockBounce:!1,_scrollTo:function(e,t){t=parseInt(t,10);if(t===0||isNaN(t)){this.el.scrollTop=Math.abs(e.y),this.el.scrollLeft=Math.abs(e.x);return}var n=10,r=(this.el.scrollTop-e.y)/Math.ceil(t/n),i=(this.el.scrollLeft-e.x)/Math.ceil(t/n),s=this,o=Math.ceil(this.el.scrollTop-e.y)/r,u=Math.ceil(this.el.scrollLeft-e.x)/r,a=0,f=0;s.scrollTopInterval=window.setInterval(function(){s.el.scrollTop-=r,f++,f>=o&&(s.el.scrollTop=e.y,clearInterval(s.scrollTopInterval))},n),s.scrollLeftInterval=window.setInterval(function(){s.el.scrollLeft-=i,a++,a>=u&&(s.el.scrollLeft=e.x,clearInterval(s.scrollLeftInterval))},n)},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(e){this._scrollTo({x:0,y:0},e)},_scrollToBottom:function(e){this._scrollTo({x:0,y:this.el.scrollHeight-this.el.offsetHeight},e)},scrollToBottom:function(e){return this._scrollToBottom(e)},scrollToTop:function(e){return this._scrollToTop(e)},init:function(t,r){this.el=t,this.afEl=e(this.el),this.defaultProperties();for(var i in r)this[i]=r[i];var s=this,o=function(){s.eventsActive&&s.adjustScroll()};this.afEl.bind("destroy",function(){s.disable(!0);var t=s.el.afScrollerId;n[t]&&delete n[t],e.unbind(e.touchLayer,"orientationchange-reshape",o)}),e.bind(e.touchLayer,"orientationchange-reshape",o)},needsFormsFix:function(t){return this.useJsScroll&&this.isEnabled()&&this.el.style.display!="none"&&e(t).closest(this.afEl).size()>0},handleEvent:function(e){if(!this.scrollingLocked)switch(e.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(e),this.bubbles||e.stopPropagation();break;case"touchmove":this.onTouchMove(e),this.bubbles||e.stopPropagation();break;case"touchend":this.onTouchEnd(e),this.bubbles||e.stopPropagation();break;case"scroll":this.onScroll(e)}},coreAddPullToRefresh:function(t){t&&(this.refreshElement=t);var n;if(this.refreshElement===null){var r=document.getElementById(this.container.id+"_pulldown");r!==null?n=af(r):n=af("<div id='"+this.container.id+"_pulldown' class='afscroll_refresh' style='border-radius:.6em;border: 1px solid #2A2A2A;background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,#666666),color-stop(1,#222222));background:#222222;margin:0px;height:60px;position:relative;text-align:center;line-height:60px;color:white;width:100%;'>"+this.refreshContent+"</div>")}else n=af(this.refreshElement);var i=n.get(0);this.refreshContainer=af('<div style="overflow:hidden;width:100%;height:0;margin:0;padding:0;padding-left:5px;padding-right:5px;display:none;"></div>'),e(this.el).prepend(this.refreshContainer.append(i,"top")),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(t,n){if(!this.refresh||!t)return;var r=e.trigger(this,"refresh-release",[t])!==!1;this.preventHideRefresh=!1,this.refreshRunning=!0;if(r){var i=this;this.refreshHangTimeout>0&&(this.refreshCancelCB=setTimeout(function(){i.hideRefresh()},this.refreshHangTimeout))}},setRefreshContent:function(e){af(this.container).find(".afscroll_refresh").html(e)},lock:function(){if(this.scrollingLocked)return;this.scrollingLocked=!0,this.rememberEventsActive=this.eventsActive,this.eventsActive&&this.disable()},unlock:function(){if(!this.scrollingLocked)return;this.scrollingLocked=!1,this.rememberEventsActive&&this.enable()},scrollToItem:function(t,n){e.is$(t)||(t=e(t));var r,i,s,o;n=="bottom"?(i=t.offset(),r=i.top-this.afEl.offset().bottom+i.height,r+=4):(o=t.offset().top,r=o-document.body.scrollTop,s=this.afEl.offset().top,document.body.scrollTop<s&&(r-=s),r-=4),this.scrollBy({y:r,x:0},0)},setPaddings:function(t,n){var r=e(this.el),i=numOnly(r.css("paddingTop"));r.css("paddingTop",t+"px").css("paddingBottom",n+"px"),this.scrollBy({y:t-i,x:0})},divide:function(e,t){return t!==0?e/t:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0}},u=function(t,n){this.init(t,n),this.container=this.el.parentNode,this.container.afScrollerId=t.afScrollerId,this.afEl=e(this.container),this.container.style.overflow!="hidden"&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),this.autoEnable&&this.enable(!0);var r;this.verticalScroll&&this.verticalScroll===!0&&this.scrollBars===!0&&(r=c(5,20),r.style.top="0px",this.vScrollCSS&&(r.className=this.vScrollCSS),r.style.display="none",this.container.appendChild(r),this.vscrollBar=r,r=null),this.horizontalScroll&&this.horizontalScroll===!0&&this.scrollBars===!0&&(r=c(20,5),r.style.bottom="0px",this.hScrollCSS&&(r.className=this.hScrollCSS),r.style.display="none",this.container.appendChild(r),this.hscrollBar=r,r=null),this.horizontalScroll&&(this.el.style["float"]="left"),this.el.hasScroller=!0},a=function(t,n){n.nativeParent&&(t=t.parentNode),this.init(t,n);var r=e(t);if(n.noParent!==!0){var i=r.parent();r.css("height",i.height()).css("width",i.width()),r.insertBefore(r.parent()),i.remove()}this.container=this.el,r.css("-webkit-overflow-scrolling","touch"),n.autoEnable&&this.enable()},a.prototype=new l,u.prototype=new l,a.prototype.defaultProperties=function(){this.refreshContainer=null,this.dY=this.cY=0,this.dX=this.cX=0,this.cancelPropagation=!1,this.loggedPcentY=0,this.loggedPcentX=0;var e=this;this.adjustScrollOverflowProxy_=function(){e.afEl.css("overflow","auto"),e.afEl.parent().css("overflow","hidden")}},a.prototype.enable=function(e){if(this.eventsActive)return;this.eventsActive=!0,this.el.style.overflow="auto",this.el.parentNode.style.overflow="hidden",e||this.adjustScroll(),this.el.addEventListener("touchstart",this,!1),this.el.addEventListener("scroll",this,!1)},a.prototype.disable=function(e){if(!this.eventsActive)return;this.logPos(this.el.scrollLeft,this.el.scrollTop),e||(this.el.style.overflow="hidden"),this.el.removeEventListener("touchstart",this,!1),this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("scroll",this,!1),this.eventsActive=!1},a.prototype.addPullToRefresh=function(e,t){this.el.removeEventListener("touchstart",this,!1),this.el.addEventListener("touchstart",this,!1),t||(this.refresh=!0),this.refresh&&this.refresh===!0&&(this.coreAddPullToRefresh(e),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block")},a.prototype.onTouchStart=function(e){this.el.scrollTop===0&&(this.el.scrollTop=1),this.el.scrollTop===this.el.scrollHeight-this.el.clientHeight&&(this.el.scrollTop-=1),this.horizontalScroll&&(this.el.scrollLeft===0&&(this.el.scrollLeft=1),this.el.scrollLeft===this.el.scrollWidth-this.el.clientWidth&&(this.el.scrollLeft-=1)),this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.el.addEventListener("touchmove",this,!1),this.dY=e.touches[0].pageY,(this.refresh||this.infinite)&&this.refresh&&this.dY<0&&this.showRefresh()},a.prototype.onTouchMove=function(t){var n=t.touches[0].pageY-this.dY,r=t.touches[0].pageX-this.dX;this.hasVertScroll&&this.el.clientHeight==this.el.scrollHeight&&t.preventDefault(),this.hasHorScroll&&this.el.clientWidth==this.el.scrollWidth&&t.preventDefault(),this.moved||(e.trigger(this,"scrollstart",[this.el]),e.trigger(e.touchLayer,"scrollstart",[this.el]),this.el.addEventListener("touchend",this,!1),this.moved=!0);var i=n-this.cY,s=r-this.cX;this.refresh&&this.el.scrollTop<0?this.showRefresh():this.refreshTriggered&&this.refresh&&this.el.scrollTop>this.refreshHeight&&(this.refreshTriggered=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),e.trigger(this,"refresh-cancel")),this.cY=n,this.cX=r},a.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger"))},a.prototype.onTouchEnd=function(t){var n=this.el.scrollTop<=-this.refreshHeight;this.fireRefreshRelease(n,!0),n&&this.refresh&&(this.refreshContainer.style.position="relative",this.refreshContainer.style.top="0px"),this.dY=this.cY=0,this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0;var r=200,i=this,s={top:this.el.scrollTop,left:this.el.scrollLeft},o=0;i.nativePolling=setInterval(function(){o++;if(o>=r){clearInterval(i.nativePolling);return}if(i.el.scrollTop!=s.top||i.el.scrollLeft!=s.left)clearInterval(i.nativePolling),e.trigger(e.touchLayer,"scrollend",[i.el]),e.trigger(i,"scrollend",[i.el])},20)},a.prototype.hideRefresh=function(n){if(this.preventHideRefresh)return;var r=this,i=function(t){t||(r.el.style[e.feat.cssPrefix+"Transform"]="none",r.el.style[e.feat.cssPrefix+"TransitionProperty"]="none",r.el.scrollTop=0,r.logPos(r.el.scrollLeft,0)),r.refreshContainer.style.top="-60px",r.refreshContainer.style.position="absolute",r.dY=r.cY=0,e.trigger(r,"refresh-finish")};n===!1||!r.afEl.css3Animate?i():r.afEl.css3Animate({y:r.el.scrollTop-r.refreshHeight+"px",x:"0%",time:t+"ms",complete:i}),this.refreshTriggered=!1},a.prototype.hideScrollbars=function(){},a.prototype.scrollTo=function(e,t){return this.logPos(e.x,e.y),e.x*=-1,e.y*=-1,this._scrollTo(e,t)},a.prototype.scrollBy=function(e,t){return e.x+=this.el.scrollLeft,e.y+=this.el.scrollTop,this.logPos(this.el.scrollLeft,this.el.scrollTop),this._scrollTo(e,t)},a.prototype.scrollToBottom=function(e){this._scrollToBottom(e),this.logPos(this.el.scrollLeft,this.el.scrollTop)},a.prototype.onScroll=function(t){if(this.infinite&&this.touchEndFired){this.touchEndFired=!1;return}if(this.scrollSkip){this.scrollSkip=!1;return}this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0);var n=this;this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,e.trigger(n,"infinite-scroll-end"))},a.prototype.logPos=function(e,t){this.loggedPcentX=this.divide(e,this.el.scrollWidth),this.loggedPcentY=this.divide(t,this.el.scrollHeight),this.scrollLeft=e,this.scrollTop=t,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},a.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy_(),this.el.scrollLeft=this.loggedPcentX*this.el.scrollWidth,this.el.scrollTop=this.loggedPcentY*this.el.scrollHeight,this.logPos(this.el.scrollLeft,this.el.scrollTop)},u.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.currentScrollingObject=null,this.elementInfo=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.vscrollBar=null,this.hscrollBar=null,this.hScrollCSS="scrollBar",this.vScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.isScrolling=!1,this.androidFormsMode=!1,this.refreshSafeKeep=!1,this.lastScrollbar="",this.finishScrollingObject=null,this.container=null,this.scrollingFinishCB=null,this.loggedPcentY=0,this.loggedPcentX=0},u.prototype.enable=function(e){if(this.eventsActive)return;this.eventsActive=!0,e?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1)},u.prototype.adjustScroll=function(){var e=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.el.clientWidth-e.w)),y:Math.round(this.loggedPcentY*(this.el.clientHeight-e.h))},0)},u.prototype.disable=function(){if(!this.eventsActive)return;var e=this.getCSSMatrix(this.el);this.logPos(numOnly(e.e)-numOnly(this.container.scrollLeft),numOnly(e.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1},u.prototype.addPullToRefresh=function(e,t){t||(this.refresh=!0),this.refresh&&this.refresh===!0&&(this.coreAddPullToRefresh(e),this.el.style.overflow="visible")},u.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.display="none",this.hscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.display="none",this.vscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms")},u.prototype.getViewportSize=function(){var e=window.getComputedStyle(this.container);return isNaN(numOnly(e.paddingTop))&&alert(typeof e.paddingTop+"::"+e.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(e.paddingTop)-numOnly(e.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(e.paddingLeft)-numOnly(e.paddingRight)}},u.prototype.onTouchStart=function(t){this.moved=!1,this.currentScrollingObject=null;if(!this.container)return;this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null);if(t.touches.length!=1||this.boolScrollLock)return;if(t.touches[0].target&&t.touches[0].target.type!==undefined){var n=t.touches[0].target.tagName.toLowerCase(),r=t.touches[0].target.type.toLowerCase();if(n=="select")return}var i={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};this.elementInfo={};var s=this.getViewportSize();this.elementInfo.bottomMargin=s.h,this.elementInfo.maxTop=this.el.clientHeight-this.elementInfo.bottomMargin,this.elementInfo.maxTop<0&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.el.clientHeight,this.elementInfo.rightMargin=s.w,this.elementInfo.maxLeft=this.el.clientWidth-this.elementInfo.rightMargin,this.elementInfo.maxLeft<0&&(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.el.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0,this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(t),this.saveFirstEventInfo(t);var o=this.getCSSMatrix(this.el);i.top=numOnly(o.f)-numOnly(this.container.scrollTop),i.left=numOnly(o.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.el,this.refresh&&i.top===0?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):i.top<0&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),i.x=i.left,i.y=i.top,this.setVScrollBar(i,0,0)&&(this.container.clientWidth>window.innerWidth?this.vscrollBar.style.right="0px":this.vscrollBar.style.right="0px",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.setHScrollBar(i,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.lastScrollInfo=i,this.hasMoved=!1,this.elementInfo.maxTop==0&&this.elementInfo.maxLeft==0?this.currentScrollingObject=null:this.scrollerMoveCSS(this.lastScrollInfo,0)},u.prototype.getCSSMatrix=function(t){if(this.androidFormsMode){var n=parseInt(t.style.marginTop,10),r=parseInt(t.style.marginLeft,10);return isNaN(n)&&(n=0),isNaN(r)&&(r=0),{f:n,e:r}}var i=e.getCssMatrix(t);return i},u.prototype.saveEventInfo=function(e){this.lastEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},u.prototype.saveFirstEventInfo=function(e){this.firstEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},u.prototype.setVScrollBar=function(e,t,n){if(!this.elementInfo.requiresVScrollBar)return!1;var r=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px";numOnly(r)>this.elementInfo.bottomMargin&&(r=this.elementInfo.bottomMargin+"px"),r!=this.vscrollBar.style.height&&(this.vscrollBar.style.height=r);var i=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+e.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height));return i>this.elementInfo.bottomMargin&&(i=this.elementInfo.bottomMargin),i<0&&(i=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:i},t,n),!0},u.prototype.setHScrollBar=function(e,t,n){if(!this.elementInfo.requiresHScrollBar)return!1;var r=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px";r!=this.hscrollBar.style.width&&(this.hscrollBar.style.width=r);var i=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+e.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width));return i>this.elementInfo.rightMargin&&(i=this.elementInfo.rightMargin),i<0&&(i=0),this.scrollbarMoveCSS(this.hscrollBar,{x:i,y:0},t,n),!0},u.prototype.onTouchMove=function(t){if(this.currentScrollingObject===null)return;var n=this.calculateMovement(t);this.calculateTarget(n),this.lastScrollInfo=n,this.moved||(e.trigger(this,"scrollstart"),e.trigger(e.touchLayer,"scrollstart",[this.el]),this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.display="block"),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.display="block")),this.moved=!0,this.refresh&&n.top===0?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):n.top<0&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(t),this.isScrolling===!1&&(this.isScrolling=!0,this.onScrollStart&&this.onScrollStart());var r=this.getCSSMatrix(this.el);this.lastScrollInfo.top=numOnly(r.f),this.lastScrollInfo.left=numOnly(r.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo);var i=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0,s=this.lastScrollInfo.y<-this.elementInfo.maxTop&&this.lastScrollInfo.deltaY<0;if(i||s){var o=i?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,u=(this.container.clientHeight-o)/this.container.clientHeight;u<.5&&(u=.5);var a=0;i&&this.lastScrollInfo.top>0||s&&this.lastScrollInfo.top<-this.elementInfo.maxTop?a=this.lastScrollInfo.top:s&&(a=-this.elementInfo.maxTop);var f=this.lastScrollInfo.deltaY*u,l=Math.abs(this.lastScrollInfo.deltaY*u);l<1&&(f=i?1:-1),this.lastScrollInfo.y=a+f}if(this.elementInfo.hasHorScroll){i=this.lastScrollInfo.x>0&&this.lastScrollInfo.deltaX>0,s=this.lastScrollInfo.x<-this.elementInfo.maxLeft&&this.lastScrollInfo.deltaX<0;if(i||s){var o=i?this.lastScrollInfo.x:-this.lastScrollInfo.x-this.elementInfo.maxLeft,u=(this.container.clientWidth-o)/this.container.clientWidth;u<.5&&(u=.5);var a=0;i&&this.lastScrollInfo.left>0||s&&this.lastScrollInfo.left<-this.elementInfo.maxLeft?a=this.lastScrollInfo.left:s&&(a=-this.elementInfo.maxLeft);var c=this.lastScrollInfo.deltaX*u,h=Math.abs(this.lastScrollInfo.deltaX*u);h<1&&(c=i?1:-1),this.lastScrollInfo.x=a+c}}this.lockBounce&&(this.lastScrollInfo.x>0?this.lastScrollInfo.x=0:this.lastScrollInfo.x*-1>this.elementInfo.maxLeft&&(this.lastScrollInfo.x=this.elementInfo.maxLeft*-1),this.lastScrollInfo.y>0?this.lastScrollInfo.y=0:this.lastScrollInfo.y*-1>this.elementInfo.maxTop&&(this.lastScrollInfo.y=this.elementInfo.maxTop*-1)),this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,e.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))},u.prototype.calculateMovement=function(e,t){var n={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},r=t?this.firstEventInfo:this.lastEventInfo,i=t?e.pageX:e.touches[0].pageX,s=t?e.pageY:e.touches[0].pageY,o=t?e.time:e.timeStamp;return n.deltaY=this.elementInfo.hasVertScroll?s-r.pageY:0,n.deltaX=this.elementInfo.hasHorScroll?i-r.pageX:0,n.time=o,n.duration=o-r.time,n},u.prototype.calculateTarget=function(e){e.y=this.lastScrollInfo.y+e.deltaY,e.x=this.lastScrollInfo.x+e.deltaX},u.prototype.checkYboundary=function(e){var t=this.container.clientHeight/2,n=this.elementInfo.maxTop+t;if(e.y>t)e.y=t;else{if(!(-e.y>n))return;e.y=-n}this.recalculateDeltaY(e)},u.prototype.checkXboundary=function(e){var t=this.container.clientWidth/2,n=this.elementInfo.maxLeft+t;if(e.x>t)e.x=t;else{if(!(-e.x>n))return;e.x=-n}this.recalculateDeltaX(e)},u.prototype.recalculateDeltaY=function(e){var t=Math.abs(e.deltaY);e.deltaY=e.y-e.top,newAbsDeltaY=Math.abs(e.deltaY),e.duration=e.duration*newAbsDeltaY/t},u.prototype.recalculateDeltaX=function(e){var t=Math.abs(e.deltaX);e.deltaX=e.x-e.left,newAbsDeltaX=Math.abs(e.deltaX),e.duration=e.duration*newAbsDeltaX/t},u.prototype.hideRefresh=function(n){var r=this;if(this.preventHideRefresh)return;this.scrollerMoveCSS({x:0,y:0,complete:function(){e.trigger(r,"refresh-finish")}},t),this.refreshTriggered=!1},u.prototype.setMomentum=function(e){var t=.0012;e.speedY=this.divide(e.deltaY,e.duration),e.speedX=this.divide(e.deltaX,e.duration),e.absSpeedY=Math.abs(e.speedY),e.absSpeedX=Math.abs(e.speedX),e.absDeltaY=Math.abs(e.deltaY),e.absDeltaX=Math.abs(e.deltaX);if(e.absDeltaY>0){e.deltaY=(e.deltaY<0?-1:1)*e.absSpeedY*e.absSpeedY/(2*t),e.absDeltaY=Math.abs(e.deltaY),e.duration=e.absSpeedY/t,e.speedY=e.deltaY/e.duration,e.absSpeedY=Math.abs(e.speedY);if(e.absSpeedY<t*100||e.absDeltaY<5)e.deltaY=e.absDeltaY=e.duration=e.speedY=e.absSpeedY=0}else if(e.absDeltaX){e.deltaX=(e.deltaX<0?-1:1)*e.absSpeedX*e.absSpeedX/(2*t),e.absDeltaX=Math.abs(e.deltaX),e.duration=e.absSpeedX/t,e.speedX=e.deltaX/e.duration,e.absSpeedX=Math.abs(e.speedX);if(e.absSpeedX<t*100||e.absDeltaX<5)e.deltaX=e.absDeltaX=e.duration=e.speedX=e.absSpeedX=0}else e.duration=0},u.prototype.onTouchEnd=function(n){if(this.currentScrollingObject===null||!this.moved)return;this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null;var r=this.calculateMovement(this.lastEventInfo,!0);this.androidFormsMode||this.setMomentum(r),this.calculateTarget(r);var i=this.getCSSMatrix(this.el);r.top=numOnly(i.f),r.left=numOnly(i.e),this.checkYboundary(r),this.elementInfo.hasHorScroll&&this.checkXboundary(r);var s=!this.preventPullToRefresh&&(r.top>this.refreshHeight||r.y>this.refreshHeight);this.fireRefreshRelease(s,r.top>0);if(this.refresh&&s)r.y=this.refreshHeight,r.duration=t;else if(r.y>=0)r.y=0,r.top>=0&&(r.duration=t);else if(-r.y>this.elementInfo.maxTop||this.elementInfo.maxTop===0)r.y=-this.elementInfo.maxTop,-r.top>this.elementInfo.maxTop&&(r.duration=t);if(this.elementInfo.hasHorScroll)if(r.x>=0)r.x=0,r.left>=0&&(r.duration=t);else if(-r.x>this.elementInfo.maxLeft||this.elementInfo.maxLeft===0)r.x=-this.elementInfo.maxLeft,-r.left>this.elementInfo.maxLeft&&(r.duration=t);this.androidFormsMode&&(r.duration=0),this.scrollerMoveCSS(r,r.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(r,r.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(r,r.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(r.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(r.y)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))},u.prototype.setFinishCalback=function(t){var n=this;this.scrollingFinishCB=setTimeout(function(){n.hideScrollbars(),e.trigger(e.touchLayer,"scrollend",[n.el]),e.trigger(n,"scrollend",[n.el]),n.isScrolling=!1,n.elementInfo=null,n.infinite&&e.trigger(n,"infinite-scroll-end")},t)},u.prototype.startFormsMode=function(){if(this.blockFormsFix)return;var t=this.getCSSMatrix(this.el);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.el.style[e.feat.cssPrefix+"Transform"]="none",this.el.style[e.feat.cssPrefix+"Transition"]="none",this.el.style[e.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]="none",this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible")},u.prototype.stopFormsMode=function(){if(this.blockFormsFix)return;var t=this.getCSSMatrix(this.el);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.el.style[e.feat.cssPrefix+"Perspective"]=1e3,this.el.style.marginTop=0,this.el.style.marginLeft=0,this.el.style[e.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]=1e3,this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden")},u.prototype.scrollerMoveCSS=function(t,n,i){n||(n=0),i||(i="linear"),n=numOnly(n),this.el&&this.el.style&&(this.eventsActive&&(this.androidFormsMode?(this.el.style.marginTop=Math.round(t.y)+"px",this.el.style.marginLeft=Math.round(t.x)+"px"):(this.el.style[e.feat.cssPrefix+"Transform"]="translate"+r+t.x+"px,"+t.y+"px"+s,this.el.style[e.feat.cssPrefix+"TransitionDuration"]=n+"ms",this.el.style[e.feat.cssPrefix+"TransitionTimingFunction"]=i)),this.logPos(t.x,t.y))},u.prototype.logPos=function(e,t){var n;this.elementInfo?n={h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin}:n=this.getViewportSize(),this.loggedPcentX=this.divide(e,this.el.clientWidth-n.w),this.loggedPcentY=this.divide(t,this.el.clientHeight-n.h),this.scrollTop=t,this.scrollLeft=e},u.prototype.scrollbarMoveCSS=function(t,n,i,o){i||(i=0),o||(o="linear"),t&&t.style&&(this.androidFormsMode?(t.style.marginTop=Math.round(n.y)+"px",t.style.marginLeft=Math.round(n.x)+"px"):(t.style[e.feat.cssPrefix+"Transform"]="translate"+r+n.x+"px,"+n.y+"px"+s,t.style[e.feat.cssPrefix+"TransitionDuration"]=i+"ms",t.style[e.feat.cssPrefix+"TransitionTimingFunction"]=o))},u.prototype.scrollTo=function(e,t){t||(t=0),this.scrollerMoveCSS(e,t)},u.prototype.scrollBy=function(e,t){var n=this.getCSSMatrix(this.el),r=numOnly(n.f),i=numOnly(n.e);this.scrollTo({y:r-e.y,x:i-e.x},t)},u.prototype.scrollToBottom=function(e){this.scrollTo({y:-1*(this.el.clientHeight-this.container.clientHeight),x:0},e)},u.prototype.scrollToTop=function(e){this.scrollTo({x:0,y:0},e)},f}()}(af),function(e){function t(t,n,r){return r===!0&&(this.getAttribute("multiple")||e.selectBox.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),r}function n(t,n,r){return this.options[r]&&(this.getAttribute("multiple")||e.selectBox.updateMaskValue(this.linker,this.options[r].value,this.options[r].text),this.value=this.options[r].value),r}function r(t){var n=t.target;e(n.linker).remove(),delete n.linker,t.stopPropagation()}e.selectBox={scroller:null,currLinker:null,getOldSelects:function(i){if(!e.os.android||e.os.androidICS)return;if(!e.fn.scroller){alert("This library requires af.scroller");return}var s=i&&document.getElementById(i)?document.getElementById(i):document;if(!s){alert("Could not find container element for af.selectBox "+i);return}var o=s.getElementsByTagName("select"),u=this;for(var a=0;a<o.length;a++){var f=o[a];f.style.display="none";var l=e.create("div",{className:"afFakeSelect"});l.get(0).linker=o[a],f.linker=l.get(0),l.insertAfter(o[a]),f.watch("selectedIndex",n);for(var c=0;c<f.options.length;c++){var h=c;f.options[c].watch("selected",t),f.options[c].selected&&l.html(f.options[c].text)}e(f).one("destroy",r)}u.createHtml()},updateDropdown:function(e){if(!e)return;for(var t=0;t<e.options.length;t++)e.options[t].selected&&(e.linker.innerHTML=e.options[t].text);e=null},initDropDown:function(n){var r=this;if(n.disabled)return;if(!n||!n.options||n.options.length===0)return;var i="",s=0,o=e("#afSelectBoxfix");o.html("<ul></ul>");var u=o.find("ul");for(var a=0;a<n.options.length;a++){var f=a;n.options[a].watch("selected",t);var l=n.options[a].selected?"selected":"";l&&(s=a+1);var c=e.create("li",{html:n.options[a].text,className:l});c.data("ind",a),u.append(c)}e("#afModalMask").show();try{if(s>0&&n.getAttribute("multiple")!="multiple"){var h=0,p=numOnly(u.find("li").computedStyle("height")),d=numOnly(e("#afSelectBoxContainer").computedStyle("height"));s*p>=d&&(h=(s-1)*-p),this.scroller.scrollTo({x:0,y:h})}}catch(v){console.log("error init dropdown"+v)}var m=e("#afSelectClose").css("display")=="block"?numOnly(e("#afSelectClose").height()):0;e("#afSelectWrapper").height(numOnly(e("#afSelectBoxContainer").height())-m+"px")},updateMaskValue:function(t,n,r){e(t).html(r)},setDropDownValue:function(t,n){if(!t)return;var r=e(t);n=parseInt(n,10);if(!t.getAttribute("multiple"))t.selectedIndex=n,r.find("option").prop("selected",!1),r.find("option:nth-child("+(n+1)+")").prop("selected",!0),this.scroller.scrollTo({x:0,y:0}),this.hideDropDown();else{var i=e("#afSelectBoxfix li:nth-child("+(n+1)+")");i.hasClass("selected")?i.removeClass("selected"):i.addClass("selected")}e(t).trigger("change"),t=null},hideDropDown:function(){e("#afModalMask").hide(),e("#afSelectBoxfix").html("")},createHtml:function(){var t=this;if(document.getElementById("afSelectBoxfix"))return;e(document).ready(function(){e(document).on("click",".afFakeSelect",function(n){if(this.linker
.disabled)return;t.currLinker=this,this.linker.getAttribute("multiple")=="multiple"?e("#afSelectClose").show():e("#afSelectClose").hide(),t.initDropDown(this.linker)});var n=e.create("div",{id:"afSelectBoxContainer"}),r=e.create("div",{id:"afSelectBoxfix"}),i=e.create("div",{id:"afSelectWrapper"});i.css("position","relative"),i.append(r);var s=e.create("div",{id:"afSelectClose",html:"<a id='afSelectDone'>Done</a> <a id='afSelectCancel'>Cancel</a>"}),o=e.create("div",{id:"afModalMask"}),u=e("#afui");n.prepend(s).append(i),o.append(n),u.length>0?u.append(o):document.body.appendChild(o.get(0)),t.scroller=e.query("#afSelectBoxfix").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"jqselectscrollBarV"}),e("#afModalMask").on("click",function(n){var r=e(n.target);r.closest("#afSelectBoxContainer").length===0&&t.hideDropDown()}),e("#afSelectBoxfix").on("click","li",function(n){var r=e(n.target);t.setDropDownValue(t.currLinker.linker,r.data("ind"))}),e("#afSelectBoxContainer").on("click","a",function(n){if(n.target.id=="afSelectCancel")return t.hideDropDown();var r=e(t.currLinker.linker);return r.find("option").prop("selected",!1),e("#afSelectBoxfix li").each(function(n){var i=e(this);if(i.hasClass("selected")){var s=parseInt(i.data("ind"),10);r.find("option:nth-child("+(s+1)+")").prop("selected",!0),t.currLinker.innerHTML=i.html()}}),t.hideDropDown(),n.stopPropagation(),n.preventDefault(),!1})})}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(e,t){var n=this[e],r=n,i=function(){return r},s=function(i){return n=r,r=t.call(this,e,n,i),r};delete this[e]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,e,{get:i,set:s,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,e,i),HTMLElement.prototype.__defineSetter__.call(this,e,s)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(e){var t=this[e];delete this[e],this[e]=t})}(af),function(e){function r(e){return"tagName"in e?e:e.parentNode}function i(e,t,n,r){var i=Math.abs(e-t),s=Math.abs(n-r);return i>=s?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function o(){t.last&&Date.now()-t.last>=s&&(t.el.trigger("longTap"),t={})}var t={},n,s=750,u;e(document).ready(function(){var a;e(document.body).bind("touchstart",function(i){i.originalEvent&&(i=i.originalEvent);if(!i.touches||i.touches.length===0)return;var f=Date.now(),l=f-(t.last||f);if(!i.touches||i.touches.length===0)return;t.el=e(r(i.touches[0].target)),n&&clearTimeout(n),t.x1=i.touches[0].pageX,t.y1=i.touches[0].pageY,t.x2=t.y2=0,l>0&&l<=250&&(t.isDoubleTap=!0),t.last=f,u=setTimeout(o,s),e.ui.useAutoPressed&&!t.el.data("ignore-pressed")&&t.el.addClass("pressed"),a&&e.ui.useAutoPressed&&!a.data("ignore-pressed")&&a.removeClass("pressed"),a=t.el}).bind("touchmove",function(e){e.originalEvent&&(e=e.originalEvent),t.x2=e.touches[0].pageX,t.y2=e.touches[0].pageY,clearTimeout(u)}).bind("touchend",function(r){r.originalEvent&&(r=r.originalEvent);if(!t.el)return;e.ui.useAutoPressed&&!t.el.data("ignore-pressed")&&t.el.removeClass("pressed"),t.isDoubleTap?(t.el.trigger("doubleTap"),t={}):t.x2>0||t.y2>0?((Math.abs(t.x1-t.x2)>30||Math.abs(t.y1-t.y2)>30)&&t.el.trigger("swipe")&&t.el.trigger("swipe"+i(t.x1,t.x2,t.y1,t.y2)),t.x1=t.x2=t.y1=t.y2=t.last=0):"last"in t&&(t.el.trigger("tap"),n=setTimeout(function(){n=null,t.el&&t.el.trigger("singleTap"),t={}},250))}).bind("touchcancel",function(){t.el&&e.ui.useAutoPressed&&!t.el.data("ignore-pressed")&&t.el.removeClass("pressed"),t={},clearTimeout(u)})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}(jq),function(e){function p(){var e=new Date,t=e.getTime();return t}e.touchLayer=function(t){return e.touchLayer=new d(t),e.touchLayer};var t=["input","select","textarea"],n=["button","radio","checkbox","range","date"],r=e.os.ios,i=e.os.blackberry,s=e.os.blackberry||e.os.android&&!e.os.chrome,o=e.os.blackberry||e.os.android&&!e.os.chrome,u=e.os.ios,a=e.os.ios,f=.97,l=2,c=!1,h=!1,d=function(t){this.clearTouchVars(),t.addEventListener("touchstart",this,!1),t.addEventListener("touchmove",this,!1),t.addEventListener("touchend",this,!1),t.addEventListener("click",this,!1),t.addEventListener("focusin",this,!1),document.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),this.layer=t,this.scrollEndedProxy_=e.proxy(this.scrollEnded,this),this.exitEditProxy_=e.proxy(this.exitExit,this,[]),this.launchFixUIProxy_=e.proxy(this.launchFixUI,this);var n=this;this.scrollTimeoutExpireProxy_=function(){n.scrollTimeout_=null,n.scrollTimeoutEl_.addEventListener("scroll",n.scrollEndedProxy_,!1)},this.retestAndFixUIProxy_=function(){af.os.android&&(n.layer.style.height="100%"),e.asap(n.testAndFixUI,n,arguments)},document.addEventListener("click",function(e){if(h)return e.preventDefault(),e.stopPropagation(),!1;e.clientX!==undefined&&n.lastTouchStartX!=null&&2>Math.abs(n.lastTouchStartX-e.clientX)&&2>Math.abs(n.lastTouchStartY-e.clientY)&&(e.preventDefault(),e.stopPropagation())},!0),e.bind(this,"scrollstart",function(t){n.isScrolling=!0,n.scrollingEl_=t,e.feat.nativeTouchScroll||(n.scrollerIsScrolling=!0),n.fireEvent("UIEvents","scrollstart",t,!1,!1)}),e.bind(this,"scrollend",function(t){n.isScrolling=!1,e.feat.nativeTouchScroll||(n.scrollerIsScrolling=!1),n.fireEvent("UIEvents","scrollend",t,!1,!1)}),this.launchFixUI(5)};d.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:!1,allowDocumentScroll_:!1,ignoreNextResize_:!1,blockPossibleClick_:!1,isScrolling:!1,isScrollingVertical_:!1,wasPanning_:!1,isPanning_:!1,isFocused_:!1,justBlurred_:!1,requiresNativeTap:!1,holdingReshapeType_:null,trackingClick:!1,scrollerIsScrolling:!1,handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"click":this.onClick(e);break;case"blur":this.onBlur(e);break;case"scroll":this.onScroll(e);break;case"orientationchange":this.onOrientationChange(e);break;case"resize":this.onResize(e);break;case"focusin":this.onFocusIn(e)}},launchFixUI:function(e){e||(e=l);if(this.reHideAddressBarTimeout_===null)return this.testAndFixUI(0,e)},resetFixUI:function(){this.reHideAddressBarTimeout_&&clearTimeout(this.reHideAddressBarTimeout_),this.reHideAddressBarTimeout_=null},testAndFixUI:function(e,t){var n=this.getReferenceHeight(),r=this.getCurrentHeight();return n==r||r*f<n&&n*f<r?(af.os.android&&this.resetFixUI(),!1):(this.hideAddressBar(e,t),!0)},hideAddressBar:function(e,t){if(af.ui&&af.ui.isIntel)return;if(e>=t){this.resetFixUI();return}if(af.os.desktop||af.os.chrome)this.layer.style.height="100%";else if(af.os.android){window.scrollTo(1,1),this.layer.style.height=this.isFocused_||window.innerHeight>window.outerHeight?window.innerHeight+"px":window.outerHeight/window.devicePixelRatio+"px",that=this;var n=e+1;this.reHideAddressBarTimeout_=setTimeout(this.retestAndFixUIProxy_,250*n,[n,t])}else this.isFocused_||(document.documentElement.style.height="5000px",window.scrollTo(0,0),document.documentElement.style.height=window.innerHeight+"px",this.layer.style.height=window.innerHeight+"px")},getReferenceHeight:function(){return af.os.android?Math.ceil(window.outerHeight/window.devicePixelRatio):window.innerHeight},getCurrentHeight:function(){return af.os.android?window.innerHeight:numOnly(document.documentElement.style.height)},onOrientationChange:function(e){!this.holdingReshapeType_&&this.reshapeTimeout_?this.fireReshapeEvent("orientationchange"):this.previewReshapeEvent("orientationchange")},onResize:function(e){if(this.ignoreNextResize_){this.ignoreNextResize_=!1;return}this.launchFixUI()&&this.reshapeAction()},onClick:function(i){var s=i.target&&i.target.tagName!==undefined?i.target.tagName.toLowerCase():"";if(t.indexOf(s)===-1||!!this.isFocused_&&i.target===this.focusedElement)e.os.blackberry10&&this.isFocused_&&this.focusedElement.blur();else{var o=i.target&&i.target.type!==undefined?i.target.type.toLowerCase():"",u=n.indexOf(o)!==-1;if(!u){this.isFocused_&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=i.target,this.focusedElement.addEventListener("blur",this,!1);if(!this.isFocused_&&!this.justBlurred_){e.trigger(this,"enter-edit",[i.target]);if(e.os.ios){var a=this;setTimeout(function(){a.fireReshapeEvent("enter-edit")},300)}else this.previewReshapeEvent("enter-edit")}this.isFocused_=!0}else this.isFocused_=!1;this.justBlurred_=!1,this.allowDocumentScroll_=!0,r&&i.target.focus()}},previewReshapeEvent:function(e){that=this,this.reshapeTimeout_=setTimeout(function(){that.fireReshapeEvent(e),that.reshapeTimeout_=null,that.holdingReshapeType_=null},750),this.holdingReshapeType_=e},fireReshapeEvent:function(t){e.trigger(this,"reshape"),e.trigger(this,t?t+"-reshape":"unknown-reshape")},reshapeAction:function(){this.reshapeTimeout_?(clearTimeout(this.reshapeTimeout_),this.fireReshapeEvent(this.holdingReshapeType_),this.holdingReshapeType_=null,this.reshapeTimeout_=null):this.previewReshapeEvent()},onFocusIn:function(e){this.isFocused_||this.onClick(e)},onBlur:function(t){if(af.os.android&&t.target==window)return;this.isFocused_=!1,this.focusedElement&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=null,this.justBlurred_=!0,e.asap(this.exitEditProxy_,this,[t.target])},exitExit:function(t){this.justBlurred_=!1;if(!this.isFocused_){e.trigger(this,"exit-edit",[t]),this.allowDocumentScroll_=!1;if(e.os.ios){var n=this;setTimeout(function(){n.fireReshapeEvent("exit-edit")},300)}else this.previewReshapeEvent("exit-edit")}},onScroll:function(e){!this.allowDocumentScroll_&&!this.isPanning_&&e.target==document&&(this.allowDocumentScroll_=!0,this.wasPanning_?(this.wasPanning_=!1,setTimeout(this.launchFixUIProxy_,2e3,[l])):this.launchFixUI())},onTouchStart:function(n){this.dX=n.touches[0].pageX,this.dY=n.touches[0].pageY,this.lastTimestamp=n.timeStamp,this.lastTouchStartX=this.lastTouchStartY=null;if(e.os.ios){if(c===n.touches[0].identifier)return h=!0,n.preventDefault(),!1;c=n.touches[0].identifier,h=!1}if(this.scrollerIsScrolling)return this.moved=!0,this.scrollerIsScrolling=!1,n.preventDefault(),!1;this.trackingClick=!0,(a||e.feat.nativeTouchScroll)&&this.checkDOMTree(n.target,this.layer),this.isScrolling&&(this.scrollTimeout_!==null?(clearTimeout(this.scrollTimeout_),this.scrollTimeout_=null,this.scrollTimeoutEl_!=this.scrollingEl_?this.scrollEnded(!1):this.blockPossibleClick_=!0):this.scrollTimeoutEl_&&(this.scrollEnded(!0),this.blockPossibleClick_=!0));var r=af.os.android&&n&&n.target&&n.target.getAttribute&&n.target.getAttribute("data-touchlayer")=="ignore";if(r||this.isFocused_&&!e.os.blackberry10)this.requiresNativeTap=!0,this.allowDocumentScroll_=!0;else if(s&&n.target&&n.target.tagName!==undefined){var i=n.target.tagName.toLowerCase();t.indexOf(i)!==-1&&(this.requiresNativeTap=!0)}else n.target&&n.target.tagName!==undefined&&n.target.tagName.toLowerCase()=="input"&&n.target.type=="range"&&(this.requiresNativeTap=!0);!this.isPanning_&&!this.requiresNativeTap?(this.isScrolling&&!e.feat.nativeTouchScroll||!this.isScrolling)&&n.preventDefault():this.isScrollingVertical_&&this.demandVerticalScroll()},demandVerticalScroll:function(){var e=this.scrollingEl_.scrollTop<=0;if(e)this.scrollingEl_.scrollTop=1;else{var t=this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight,n=t>=this.scrollingEl_.scrollHeight;n&&(this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1)}},ignoreScrolling:function(e){return e.scrollWidth===undefined||e.clientWidth===undefined?!0:e.scrollHeight===undefined||e.clientHeight===undefined?!0:!1},allowsVerticalScroll:function(e,t){var n=t.overflowY;return n=="scroll"?!0:n=="auto"&&e.scrollHeight>e.clientHeight?!0:!1},allowsHorizontalScroll:function(e,t){var n=t.overflowX;return n=="scroll"?!0:n=="auto"&&e.scrollWidth>e.clientWidth?!0:!1},checkDOMTree:function(t,n){if(a&&this.panElementId==t.id){this.isPanning_=!0;return}if(e.feat.nativeTouchScroll){if(this.ignoreScrolling(t))return;var r=window.getComputedStyle(t);if(this.allowsVerticalScroll(t,r)){this.isScrollingVertical_=!0,this.scrollingEl_=t,this.isScrolling=!0;return}this.allowsHorizontalScroll(t,r)&&(this.isScrollingVertical_=!1,this.scrollingEl_=null,this.isScrolling=!0)}var i=t==n;!i&&t.parentNode&&this.checkDOMTree(t.parentNode,n)},scrollEnded:function(e){if(this.scrollTimeoutEl_===null)return;e&&this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,!1),this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,!1,!1),this.scrollTimeoutEl_=null},onTouchMove:function(t){var n=this.moved;this.moved=!0,i&&(this.cY=t.touches[0].pageY-this.dY,this.cX=t.touches[0].pageX-this.dX);if(this.isPanning_)return;this.isScrolling&&(n||this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,!1,!1),this.speedY=(this.lastY-t.touches[0].pageY)/(t.timeStamp-this.lastTimestamp),this.lastY=t.touches[0].pageY,this.lastX=t.touches[0].pageX,this.lastTimestamp=t.timeStamp);if(!e.os.blackberry10){(!this.isScrolling||!e.feat.nativeTouchScroll)&&t.preventDefault();return}},onTouchEnd:function(t){var n=this.moved;i&&(n=n&&!(Math.abs(this.cX)<10&&Math.abs(this.cY)<10));if(!af.os.ios||!this.requiresNativeTap)this.allowDocumentScroll_=!1;if(this.isPanning_&&n)this.wasPanning_=!0;else if(!n&&!this.requiresNativeTap){this.scrollerIsScrolling=!1;if(!this.trackingClick)return;t.preventDefault();if(!this.blockClicks&&!this.blockPossibleClick_){var r=t.target;r.nodeType==3&&(r=r.parentNode),this.fireEvent("Event","click",r,!0,t.mouseToTouch,t.changedTouches[0]),this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY}}else n&&(this.isScrolling&&(this.scrollTimeoutEl_=this.scrollingEl_,Math.abs(this.speedY)<.01?this.scrollEnded(!1):this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30)),this.requiresNativeTap&&(this.isFocused_||e.trigger(this,"cancel-enter-edit",[t.target])));e.os.blackberry10&&(this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY),this.clearTouchVars()},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0,this.moved=!1,this.isPanning_=!1,this.isScrolling=!1,this.isScrollingVertical_=!1,this.requiresNativeTap=!1,this.blockPossibleClick_=!1,this.trackingClick=!1},fireEvent:function(t,n,r,i,s,o){var u=document.createEvent(t);u.initEvent(n,i,!0),u.target=r,o&&e.each(o,function(e,t){u[e]=t}),s&&(u.mouseToTouch=!0),r.dispatchEvent(u)}}}(af),function(e){e.fn.popup=function(e){return new n(this[0],e)};var t=[],n=function(){var n=function(n,r){typeof n=="string"||n instanceof String?this.container=document.getElementById(n):this.container=n;if(!this.container){alert("Error finding container for popup "+n);return}try{if(typeof r=="string"||typeof r=="number")r={message:r,cancelOnly:"true",cancelText:"OK"};this.id=id=r.id=r.id||e.uuid();var i=this;this.addCssClass=r.addCssClass?r.addCssClass:"",this.title=r.suppressTitle?"":r.title||"Alert",this.message=r.message||"",this.cancelText=r.cancelText||"Cancel",this.cancelCallback=r.cancelCallback||function(){},this.cancelClass=r.cancelClass||"button",this.doneText=r.doneText||"Done",this.doneCallback=r.doneCallback||function(e){},this.doneClass=r.doneClass||"button",this.cancelOnly=r.cancelOnly||!1,this.onShow=r.onShow||function(){},this.autoCloseDone=r.autoCloseDone!==undefined?r.autoCloseDone:!0,t.push(this),t.length==1&&this.show()}catch(s){console.log("error adding popup "+s)}};return n.prototype={id:null,addCssClass:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,supressTitle:!1,show:function(){var t=this,n='<div id="'+this.id+'" class="afPopup hidden '+this.addCssClass+'">'+"<header>"+this.title+"</header>"+"<div>"+this.message+"</div>"+'<footer style="clear:both;">'+'<a href="javascript:;" class="'+this.cancelClass+'" id="cancel">'+this.cancelText+"</a>"+'<a href="javascript:;" class="'+this.doneClass+'" id="action">'+this.doneText+"</a>"+" </footer>"+"</div></div>";e(this.container).append(e(n));var r=e.query("#"+this.id);r.bind("close",function(){t.hide()}),this.cancelOnly&&(r.find("A#action").hide(),r.find("A#cancel").addClass("center")),r.find("A").each(function(){var n=e(this);n.bind("click",function(e){n.attr("id")=="cancel"?(t.cancelCallback.call(t.cancelCallback,t),t.hide()):(t.doneCallback.call(t.doneCallback,t),t.autoCloseDone&&t.hide()),e.preventDefault()})}),t.positionPopup(),e.blockUI(.5),r.bind("orientationchange",function(){t.positionPopup()}),r.find("header").show(),r.find("footer").show(),setTimeout(function(){r.removeClass("hidden"),t.onShow(t)},50)},hide:function(){var t=this;e.query("#"+t.id).addClass("hidden"),e.unblockUI(),!e.os.ie&&!e.os.android?setTimeout(function(){t.remove()},250):t.remove()},remove:function(){var n=this,r=e.query("#"+n.id);r.unbind("close"),r.find("BUTTON#action").unbind("click"),r.find("BUTTON#cancel").unbind("click"),r.unbind("orientationchange").remove(),t.splice(0,1),t.length>0&&t[0].show()},positionPopup:function(){var t=e.query("#"+this.id);t.css("top",window.innerHeight/2.5+window.pageYOffset-t[0].clientHeight/2+"px"),t.css("left",window.innerWidth/2-t[0].clientWidth/2+"px")}},n}(),r=!1;e.blockUI=function(t){if(r)return;t=t?" style='opacity:"+t+";'":"",e.query("BODY").prepend(e("<div id='mask'"+t+"></div>")),e.query("BODY DIV#mask").bind("touchstart",function(e){e.preventDefault()}),e.query("BODY DIV#mask").bind("touchmove",function(e){e.preventDefault()}),r=!0},e.unblockUI=function(){r=!1,e.query("BODY DIV#mask").unbind("touchstart"),e.query("BODY DIV#mask").unbind("touchmove"),e("BODY DIV#mask").remove()}}(af),function(e){"use strict";var t=!1,n=window.location.pathname+window.location.search,r=window.location.hash,i=r,s=function(){function n(t){t.target.id==="afui"&&(r(),e(document).unbind("DOMNodeInserted",n))}function r(){t.useOSThemes&&(e.os.android?e("#afui").addClass("android"):e.os.ie?(e("#afui").addClass("win8"),e("head").append(e.create("script",{src:"plugins/af.8tiles.js"}))):e.os.blackberry||e.os.blackberry10||e.os.playbook?(e("#afui").addClass("bb"),t.backButtonText="Back"):e.os.ios7?e("#afui").addClass("ios7"):e.os.ios&&e("#afui").addClass("ios")),e.os.blackberry||e.os.blackberry10||e.os.playbook?(e("head").find("#bb10VisibilityHack").remove(),e("head").append("<style id='bb10VisibilityHack'>#afui .panel {-webkit-backface-visibility:visible  !important}</style>")):e.os.ios7&&(e("head").find("#ios7BlurrHack").remove(),e("head").append("<style id='ios7BlurrHack'>#afui .panel {-webkit-perspective:0  !important}</style>"))}var t=this;this.availableTransitions={},this.availableTransitions["default"]=this.availableTransitions.none=this.noTransition,e(document).ready(function(){var t=document.getElementById("afui");if(t===null){t=document.createElement("div"),t.id="afui";var n=document.body;while(n.firstChild)t.appendChild(n.firstChild);e(document.body).prepend(t)}e.os.supportsTouch&&e.touchLayer(t),r()}),e("#afui").length===1?r():e(document).bind("DOMNodeInserted",n),"AppMobi"in window?document.addEventListener("appMobi.device.ready",function(){t.autoBoot()}):document.readyState=="complete"||document.readyState=="loaded"?t.init?t.autoBoot():e(window).one("afui:init",function(){t.autoBoot()}):e(document).ready(function(){t.init?t.autoBoot():e(window).one("afui:init",function(){t.autoBoot()})},!1),"AppMobi"in window||(window.AppMobi={},window.AppMobi.webRoot=""),window.addEventListener("popstate",function(){var e=t.getPanelId(document.location.hash),n=document.location.href.replace(document.location.origin+"/","");if(n=="#")return;e===""&&t.history.length===1&&(e="#"+t.firstDiv.id);if(e==="")return;if(af(e).filter(".panel").length===0)return;e!="#"+t.activeDiv.id&&t.goBack()},!1)};s.prototype={init:!1,transitionTime:"230ms",showLoading:!0,loadingText:"加载中，请稍等...",loadContentQueue:[],isIntel:!1,titlebar:"",navbar:"",header:"",viewportContainer:"",remotePages:{},history:[],homeDiv:"",screenWidth:"",content:"",modalWindow:"",customFooter:!1,defaultFooter:"",defaultHeader:null,customMenu:!1,defaultMenu:"",_readyFunc:null,doingTransition:!1,passwordBox:e.passwordBox?new e.passwordBox:!1,selectBox:e.selectBox?e.selectBox:!1,ajaxUrl:"",transitionType:"slide",scrollingDivs:{},firstDiv:"",hasLaunched:!1,launchCompleted:!1,activeDiv:"",customClickHandler:"",menuAnimation:null,togglingSideMenu:!1,sideMenuWidth:"200px",trimBackButtonText:!0,useOSThemes:!0,lockPageBounce:!1,animateHeaders:!0,useAutoPressed:!0,horizontalScroll:!1,_currentHeaderID:"defaultHeader",autoBoot:function(){this.hasLaunched=!0,this.autoLaunch&&this.launch()},css3animate:function(t,n){return t=e(t),t.css3Animate(n)},setSideMenuWidth:function(t){this.sideMenuWidth=t,t+="",t=t.replace("px","")+"px",e("head").find("#styleWidth").remove(),e("head").append("<style id='styleWidth'>#afui #menu {width:"+t+"  !important}</style>")},disableNativeScrolling:function(){e.feat.nativeTouchScroll=!1},manageHistory:!0,loadDefaultHash:!0,useAjaxCacheBuster:!1,actionsheet:function(t){return e.query("#afui").actionsheet(t)},popup:function(t){return e.query("#afui").popup(t)},blockUI:function(t){e.blockUI(t)},unblockUI:function(){e.unblockUI()},removeFooterMenu:function(){e.query("#navbar").hide(),e.query("#content").css("bottom","0px"),this.showNavMenu=!1},showNavMenu:!0,autoLaunch:!0,showBackbutton:!0,showBackButton:!0,backButtonText:"",resetScrollers:!0,ready:function(t){this.launchCompleted?t():e(document).on("afui:ready",function(e){t()})},setBackButtonStyle:function(t){e.query("#backButton").replaceClass(null,t)},goBack:function(e){e=Math.min(Math.abs(~~e||1),this.history.length);if(e){var t=this.history.splice(-e).shift();this.loadContent(t.target+"",0,1,t.transition),this.transitionType=t.transition,this.updateHash(t.target)}},clearHistory:function(){this.history=[],this.setBackButtonVisibility(!1)},pushHistory:function(t,r,i,s){this.history.push({target:t,transition:i});try{if(!this.manageHistory)return;window.history.pushState(r,r,n+"#"+r+s),e(window).trigger("hashchange",null,{newUrl:n+"#"+r+s,oldURL:n+t})}catch(o){}},updateHash:function(t){if(!this.manageHistory)return;t=t.indexOf("#")==-1?"#"+t:t,i=t;var r=window.location.hash,s=this.getPanelId(t).substring(1);try{window.history.replaceState(s,s,n+t),e(window).trigger("hashchange",null,{newUrl:n+t,oldUrl:n+r})}catch(o){}},getPanelId:function(e){var t=e.indexOf("/");return t==-1?e:e.substring(0,t)},updateBadge:function(t,n,r,i){r===undefined&&(r="");var s=e(t),o=s.find("span.af-badge");o.length===0?(s.css("position")!="absolute"&&s.css("position","relative"),o=e.create("span",{className:"af-badge "+r,html:n}),s.append(o)):o.html(n),o.removeClass("tl bl br tr"),o.addClass(r),i===undefined&&(i="red"),e.isObject(i)?o.css(i):i&&o.css("background",i),o.data("ignore-pressed","true")},removeBadge:function(t){e(t).find("span.af-badge").remove()},toggleNavMenu:function(t){if(!this.showNavMenu)return;if(e.query("#navbar").css("display")!="none"&&(t!==undefined&&t!==!0||t===undefined))e.query("#content").css("bottom","0px"),e.query("#navbar").hide();else if(t===undefined||t!==undefined&&t===!0)e.query("#navbar").show(),e.query("#content").css("bottom",e.query("#navbar").css("height"))},toggleHeaderMenu:function(t){if(e.query("#header").css("display")!="none"&&(t!==undefined&&t!==!0||t===undefined))e.query("#content").css("top","0px"),e.query("#header").hide();else if(t===undefined||t!==undefined&&t===!0)e.query("#header").show(),e.query("#content").css("top",e.query("#header").css("height"))},toggleSideMenu:function(t,n,r){if(!this.isSideMenuEnabled()||this.togglingSideMenu)return;var i=this,s=e.query("#menu"),o=e.query("#content,  #header, #navbar");r=r||this.transitionTime;var u=this.isSideMenuOn();if(t===2||!u&&(t!==undefined&&t!==!1||t===undefined))this.togglingSideMenu=!0,s.show(),i.css3animate(o,{x:i.sideMenuWidth,time:r,complete:function(e){i.togglingSideMenu=!1,o.vendorCss("Transition",""),n&&n(e)}});else if(t===undefined||t!==undefined&&t===!1)this.togglingSideMenu=!0,i.css3animate(o,{x:"0px",time:r,complete:function(e){o.vendorCss("Transition",""),o.vendorCss("Transform",""),i.togglingSideMenu=!1,n&&n(e),s.hide()}})},disableSideMenu:function(){var t=this,n=e.query("#content, #header, #navbar");this.isSideMenuOn()?this.toggleSideMenu(!1,function(e){e||n.removeClass("hasMenu")}):n.removeClass("hasMenu"),e.query("#menu").removeClass("tabletMenu")},enableSideMenu:function(){e.query("#content, #header, #navbar").addClass("hasMenu"),e.query("#menu").addClass("tabletMenu")},isSideMenuEnabled:function(){return e.query("#content").hasClass("hasMenu")},isSideMenuOn:function(){var t=parseInt(e.getCssMatrix(e("#content")).e)>1?!0:!1;return this.isSideMenuEnabled()&&t},prevFooter:null,updateNavbarElements:function(t){this.prevFooter&&(this.prevFooter.data("parent")?this.prevFooter.appendTo("#"+this.prevFooter.data("parent")):this.prevFooter.appendTo("#afui")),e.is$(t)||(t=e.query("#"+t)),e.query("#navbar").append(t),this.prevFooter=t;var n=e.query("#navbar a");if(n.length>0){n.data("ignore-pressed","true").data("resetHistory","true");var r=parseFloat(100/n.length);n.css("width",r+"%")}var i=e.query("#navbar footer");if(i.length===0)return;i=i.get(0).childNodes;for(var s=0;s<i.length;s++)i[s].nodeType===3&&i[s].parentNode.removeChild(i[s])},prevHeader:null,updateHeaderElements:function(t,n){var r=this;e.is$(t)||(t=e.query("#"+t));if(t==this.prevHeader)return;this._currentHeaderID=t.prop("id");if(this.prevHeader){e.query("#header").append(t);if(!e.ui.animateHeaders){r.prevHeader.data("parent")?r.prevHeader.appendTo("#"+r.prevHeader.data("parent")):r.prevHeader.appendTo("#afui"),r.prevHeader=t;return}var i=n?"100px":"-100px",s=n?"-100px":"100px";r.prevHeader.addClass("ignore"),r.css3animate(t,{x:s,opacity:.3,time:"1ms"}),r.css3animate(r.prevHeader,{x:i,y:0,opacity:.3,time:r.transitionTime,delay:numOnly(r.transitionTime)/5+"ms",complete:function(){r.prevHeader.data("parent")?r.prevHeader.appendTo("#"+r.prevHeader.data("parent")):r.prevHeader.appendTo("#afui"),r.prevHeader.removeClass("ignore"),r.css3animate(r.prevHeader,{x:s,opacity:1,time:"1ms"}),r.prevHeader=t}}),r.css3animate(t,{x:"0px",opacity:1,time:r.transitionTime})}else e.query("#header").append(t),this.prevHeader=t},updateSideMenu:function(e){return this.updateSideMenuElements(e)},updateSideMenuElements:function(t){var n=this;if(t===undefined||t===null)return;var r=e.query("#menu_scroller");this.prevMenu&&(this.prevMenu.insertBefore("#afui #menu"),this.prevMenu=null),e.is$(t)||(t=e.query("#"+t)),r.html(""),r.append(t),this.prevMenu=t,this.scrollingDivs.menu_scroller.hideScrollbars(),this.scrollingDivs.menu_scroller.scrollToTop()},setTitle:function(t){if(this._currentHeaderID!=="defaultHeader")return;e.query("#header header:not(.ignore)  #pageTitle").html(t)},setBackButtonText:function(t){if(this._currentHeaderID!=="defaultHeader")return;this.trimBackButtonText&&(t=t.substring(0,5)+"..."),this.backButtonText.length>0?e.query("#header header:not(.ignore) #backButton").html(this.backButtonText):e.query("#header header:not(.ignore)  #backButton").html(t)},setBackButtonVisibility:function(t){t?e.query("#header #backButton").css("visibility","visible"):e.query("#header #backButton").css("visibility","hidden")},showMask:function(t){t||(t=this.loadingText||""),e.query("#afui_mask>h1").html(t),e.query("#afui_mask").show()},hideMask:function(){e.query("#afui_mask").hide()},showModal:function(t,n){var r=this;this.modalTransition=n||"up";var i=e.query("#modalContainer");typeof t=="string"&&(t="#"+t.replace("#",""));var s=e.query(t);if(s.length){var o=this.scrollingDivs.hasOwnProperty(s.attr("id"));i.html(e.feat.nativeTouchScroll||!o?e.query(t).html():e.query(t).get(0).childNodes[0].innerHTML+"",!0),i.append("<a onclick='$.ui.hideModal();' class='closebutton modalbutton'></a>"),r.modalWindow.style.display="block",this.runTransition(this.modalTransition,r.modalTransContainer,r.modalWindow,!1),o?this.scrollingDivs.modal_container.enable(r.resetScrollers):this.scrollingDivs.modal_container.disable(),this.scrollToTop("modal"),i.data("panel",t);var u=s.get(0),a=u.getAttribute("data-load");typeof a=="string"&&window[a]&&window[a](u),s.trigger("loadpanel")}},hideModal:function(){var t=this;e.query("#modalContainer").html("",!0),this.runTransition(t.modalTransition,t.modalWindow,t.modalTransContainer,!0),this.scrollingDivs.modal_container.disable();var n=e.query(e.query("#modalContainer").data("panel")),r=n.data("unload");typeof r=="string"&&window[r]&&window[r](n.get(0)),n.trigger("unloadpanel")},updatePanel:function(t,n){t="#"+t.replace("#","");var r=e.query(t).get(0);if(!r)return;var i=e.create("div",{html:n});i.children(".panel")&&i.children(".panel").length>0?i=i.children(".panel").get(0):i=i.get(0),!r.getAttribute("js-scrolling")||r.getAttribute("js-scrolling").toLowerCase()!="yes"&&r.getAttribute("js-scrolling").toLowerCase()!="true"?(e.cleanUpContent(r,!1,!0),e(r).html(n)):(e.cleanUpContent(r.childNodes[0],!1,!0),e(r.childNodes[0]).html(n)),i.getAttribute("data-title")&&r.setAttribute("data-title",i.getAttribute("data-title"))},updateContentDiv:function(e,t){return this.updatePanel(e,t)},addContentDiv:function(t,n,r,i,s){t=typeof t!="string"?t:t.indexOf("#")==-1?"#"+t:t;var o=e.query(t).get(0),u,a;return o?u=o:(u=e.create("div",{html:n}),u.children(".panel")&&u.children(".panel").length>0?u=u.children(".panel").get(0):u=u.get(0),!u.getAttribute("data-title")&&r&&u.setAttribute("data-title",r),a=u.id?u.id:t.replace("#",""),u.id=a,u.id!=t&&u.setAttribute("data-crc",t.replace("#",""))),u.className="panel",a=u.id,this.addDivAndScroll(u,i,s),o=null,u=null,a},addDivAndScroll:function(t,n,r,i){var s=this,o=!1,u,a=t.style.overflow,f=a!="hidden"&&a!="visible";i=i||this.content,!e.feat.nativeTouchScroll&&f&&t.setAttribute("js-scrolling","true"),t.getAttribute("js-scrolling")&&(t.getAttribute("js-scrolling").toLowerCase()=="yes"||t.getAttribute("js-scrolling").toLowerCase()=="true")&&(o=!0,f=!0);var l=t.title;t.title="",t.setAttribute("data-title",l),t.getAttribute("scrolling")&&t.getAttribute("scrolling")=="no"&&(f=!1,o=!1,t.removeAttribute("js-scrolling"));if(!o)i.appendChild(t),u=t,t.style["-webkit-overflow-scrolling"]="none";else{u=t.cloneNode(!1),t.title=null,t.id=null;var c=e(t);c.removeAttr("data-footer data-aside data-nav data-header selected data-load data-unload data-tab data-crc title data-title"),c.replaceClass("panel","afScrollPanel"),u.appendChild(t),i.appendChild(u),this.selectBox!==!1&&this.selectBox.getOldSelects(u.id),this.passwordBox!==!1&&this.passwordBox.getOldPasswords(u.id)}f&&(this.scrollingDivs[u.id]=e(t).scroller({scrollBars:!0,verticalScroll:!0,horizontalScroll:s.horizontalScroll,vScrollCSS:"afScrollbar",refresh:n,useJsScroll:o,noParent:!o,lockBounce:this.lockPageBounce,autoEnable:!1}),r&&e.bind(this.scrollingDivs[u.id],"refresh-release",function(e){e&&r()})),t=null,u=null},scrollToTop:function(e,t){t=t||"300ms",e=e.replace("#",""),this.scrollingDivs[e]&&this.scrollingDivs[e].scrollToTop(t)},scrollToBottom:function(e,t){e=e.replace("#",""),this.scrollingDivs[e]&&this.scrollingDivs[e].scrollToBottom(t)},parsePanelFunctions:function(t,n,r){var i=this,s=t.getAttribute("data-footer"),o=t.getAttribute("data-header");s&&s.toLowerCase()=="none"?(i.toggleNavMenu(!1),s=!1):i.toggleNavMenu(!0),s&&i.customFooter!=s?(i.customFooter=s,i.updateNavbarElements(s)):s!=i.customFooter&&(i.customFooter&&i.updateNavbarElements(i.defaultFooter),i.customFooter=!1),o&&o.toLowerCase()=="none"?(i.toggleHeaderMenu(!1),o=!1):i.toggleHeaderMenu(!0),o&&i.customHeader!=o?(i.customHeader=o,i.updateHeaderElements(o,r)):o!=i.customHeader&&(i.customHeader&&i.updateHeaderElements(i.defaultHeader,r),i.customHeader=!1);var u=e(t).find("footer");u.length>0&&(i.customFooter=t.id,u.data("parent",t.id),i.updateNavbarElements(u));var a=e(t).find("header");a.length>0&&(i.customHeader=t.id,a.data("parent",t.id),i.updateHeaderElements(a,r)),t.getAttribute("data-tab")&&(e.query("#navbar a").removeClass("pressed"),e.query("#navbar #"+t.getAttribute("data-tab")).addClass("pressed"));var f=t.getAttribute("data-nav");f&&this.customMenu!=f?(this.customMenu=f,this.updateSideMenuElements(f)):f!=this.customMenu&&(this.customMenu&&this.updateSideMenuElements
(this.defaultMenu),this.customMenu=!1),n&&(l=n.getAttribute("data-unload"),typeof l=="string"&&window[l]&&window[l](n),e(n).trigger("unloadpanel"));var l=t.getAttribute("data-load");typeof l=="string"&&window[l]&&window[l](t),e(t).trigger("loadpanel");if(this.isSideMenuOn()){var i=this;i.toggleSideMenu(!1)}},parseScriptTags:function(t){if(!t)return;e.parseJS(t)},loadContent:function(t,n,r,i,s){if(this.doingTransition){var o=this;this.loadContentQueue.push([t,n,r,i,s]);return}if(t.length===0)return;var u=null,f=!0;s=s||document.createElement("a");if(t.indexOf("#")==-1){var l="url"+a(t),c=e.query("div.panel[data-crc='"+l+"']");e.query("#"+t).length>0?f=!1:c.length>0?(f=!1,s.getAttribute("data-refresh-ajax")==="true"||s.refresh&&s.refresh===!0||this.isAjaxApp?f=!0:t="#"+c.get(0).id):e.query("#"+l).length>0&&(f=!1,s.getAttribute("data-refresh-ajax")==="true"||s.refresh&&s.refresh===!0||this.isAjaxApp?f=!0:t="#"+l)}t.indexOf("#")==-1&&f?this.loadAjax(t,n,r,i,s):this.loadDiv(t,n,r,i)},loadDiv:function(t,n,r,s){var o=this,u=t.replace("#",""),a=u.indexOf("/"),f="";a!=-1&&(f=u.substr(a),u=u.substr(0,a)),u=e.query("#"+u).get(0);if(!u){e(document).trigger("missingpanel",null,{missingTarget:t});return}if(u==this.activeDiv&&!r){this.isSideMenuOn()&&this.toggleSideMenu(!1);return}this.transitionType=s;var l=this.activeDiv,c=u;if(u.getAttribute("data-modal")=="true"||u.getAttribute("modal")=="true")return this.showModal(u.id);if(l==c)return;n?(this.clearHistory(),this.pushHistory("#"+this.firstDiv.id,u.id,s,f)):r||this.pushHistory(i,u.id,s,f),i="#"+u.id+f,this.doingTransition=!0,l.style.display="block",c.style.display="block",this.runTransition(s,l,c,r),this.parsePanelFunctions(u,l,r),this.loadContentData(u,n,r,s),setTimeout(function(){o.scrollingDivs[l.id]&&o.scrollingDivs[l.id].disable()},numOnly(o.transitionTime)+50)},loadContentData:function(t,n,r,i){var s,o,u,a;r?this.history.length>0&&(u=this.history[this.history.length-1],a=u.target.indexOf("/"),a!=-1?s=u.target.substr(0,a):s=u.target,o=e.query(s).get(0),o?this.setBackButtonText(o.getAttribute("data-title")):this.setBackButtonText("Back")):this.activeDiv.getAttribute("data-title")?this.setBackButtonText(this.activeDiv.getAttribute("data-title")):this.setBackButtonText("Back"),t.getAttribute("data-title")&&this.setTitle(t.getAttribute("data-title")),n&&(this.setBackButtonText(this.firstDiv.getAttribute("data-title")),t==this.firstDiv&&(this.history.length=0)),e("#header #menubadge").css("float","right"),this.history.length===0?(this.setBackButtonVisibility(!1),this.history=[],e("#header #menubadge").css("float","left")):this.showBackButton&&this.showBackbutton&&this.setBackButtonVisibility(!0),this.activeDiv=t,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable(this.resetScrollers)},loadAjax:function(t,n,r,i,s){if(this.activeDiv.id=="afui_ajax"&&t==this.ajaxUrl)return;var o="url"+a(t),u=this;t.indexOf("http")==-1&&(t=AppMobi.webRoot+t);var f=new XMLHttpRequest;s&&typeof s!="object"&&(s=document.createElement("a"),s.setAttribute("data-persist-ajax",!0)),s=s||document.createElement("a"),f.onreadystatechange=function(){if(f.readyState==4&&f.status==200){this.doingTransition=!1;var a,l=!1,c=e.query("#"+o);if(c.length>0)u.updatePanel(o,f.responseText),c.get(0).setAttribute("data-title",s.title?s.title:t);else if(s.getAttribute("data-persist-ajax")||u.isAjaxApp){var h=s.getAttribute("data-pull-scroller")==="true"?!0:!1;a=h?function(){s.refresh=!0,u.loadContent(t,n,r,i,s),s.refresh=!1}:null;var p=e(f.responseText);p.hasClass("panel")?(o=p.attr("id"),p=p.get(0).innerHTML):p=p.html(),e("#"+o).length>0?u.updatePanel("#"+o,p):e("div.panel[data-crc='"+o+"']").length>0?(u.updatePanel(e("div.panel[data-crc='"+o+"']").get(0).id,p),o=e("div.panel[data-crc='"+o+"']").get(0).id):o=u.addContentDiv(o,f.responseText,s.title?s.title:t,h,a)}else u.updatePanel("afui_ajax",f.responseText),e.query("#afui_ajax").get(0).setAttribute("data-title",s.title?s.title:t),u.loadContent("#afui_ajax",n,r),l=!0;var d=document.createElement("div");e(d).html(f.responseText),u.parseScriptTags(d);if(l){u.showLoading&&u.hideMask();return}return u.loadContent("#"+o),u.showLoading&&u.hideMask(),null}},this.ajaxUrl=t;var l=this.useAjaxCacheBuster?t+(t.split("?")[1]?"&":"?")+"cache="+Math.random()*1e16:t;f.open("GET",l,!0),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.send(),this.showLoading&&this.showMask()},runTransition:function(e,t,n,r){this.availableTransitions[e]||(e="default"),this.availableTransitions[e].call(this,t,n,r)},launch:function(){if(this.hasLaunched===!1||this.launchCompleted){this.hasLaunched=!0;return}var t=this;this.isIntel=window.AppMobi&&typeof AppMobi=="object"&&AppMobi.app!==undefined?!0:!1,this.viewportContainer=af.query("#afui"),this.navbar=af.query("#navbar").get(0),this.content=af.query("#content").get(0),this.header=af.query("#header").get(0),this.menu=af.query("#menu").get(0),this.viewportContainer.on("click","a",function(e){o(e,e.currentTarget)});var n=null;e.bind(e.touchLayer,"enter-edit",function(e){n=e}),e.bind(e.touchLayer,"enter-edit-reshape",function(){var r=e(n),i=r.closest(t.activeDiv);if(i&&i.size()>0)if(e.os.ios||e.os.chrome){var s,o;document.body.scrollTop?s=document.body.scrollTop-i.offset().top:s=0,o=i.offset().bottom-r.offset().bottom,t.scrollingDivs[t.activeDiv.id].setPaddings(s,o)}else if(e.os.android||e.os.blackberry){var u=r.offset(),a=i.offset();u.bottom>a.bottom&&u.height<a.height&&t.scrollingDivs[t.activeDiv.id].scrollToItem(r,"bottom")}}),e.os.ios&&e.bind(e.touchLayer,"exit-edit-reshape",function(){t.activeDiv&&t.activeDiv.id&&t.scrollingDivs.hasOwnProperty(t.activeDiv.id)&&t.scrollingDivs[t.activeDiv.id].setPaddings(0,0)}),this.navbar||(this.navbar=e.create("div",{id:"navbar"}).get(0),this.viewportContainer.append(this.navbar)),this.header||(this.header=e.create("div",{id:"header"}).get(0),this.viewportContainer.prepend(this.header)),this.menu||(this.menu=e.create("div",{id:"menu",html:'<div id="menu_scroller"></div>'}).get(0),this.viewportContainer.append(this.menu),this.menu.style.overflow="hidden",this.scrollingDivs.menu_scroller=e.query("#menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"afScrollbar",useJsScroll:!e.feat.nativeTouchScroll,noParent:e.feat.nativeTouchScroll,autoEnable:!0,lockBounce:this.lockPageBounce}),e.feat.nativeTouchScroll&&e.query("#menu_scroller").css("height","100%"),this.asideMenu=e.create("div",{id:"aside_menu",html:'<div id="aside_menu_scroller"></div>'}).get(0),this.viewportContainer.append(this.asideMenu),this.asideMenu.style.overflow="hidden",this.scrollingDivs.menu_scroller=e.query("#aside_menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"afScrollbar",useJsScroll:!e.feat.nativeTouchScroll,noParent:e.feat.nativeTouchScroll,autoEnable:!0,lockBounce:this.lockPageBounce}),e.feat.nativeTouchScroll&&e.query("#aside_menu_scroller").css("height","100%")),this.content||(this.content=e.create("div",{id:"content"}).get(0),this.viewportContainer.append(this.content)),e(this.header).html('<a id="backButton" class="button"></a> <h1 id="pageTitle"></h1>'+header.innerHTML),this.backButton=e.query("#header #backButton").css("visibility","hidden"),e(document).on("click","#header #backButton",function(e){e.preventDefault(),t.goBack()}),this.titleBar=e.query("#header #pageTitle").get(0),this.addContentDiv("afui_ajax","");var s=e.create("div",{id:"afui_mask",className:"ui-loader",html:"<span class='ui-icon ui-icon-loading spin'></span><h1>Loading Content</h1>"}).css({"z-index":2e4,display:"none"});document.body.appendChild(s.get(0));var u=e.create("div",{id:"afui_modal"}).get(0);u.appendChild(e.create("div",{id:"modalContainer"}).get(0)),this.modalTransContainer=e.create("div",{id:"modalTransContainer"}).appendTo(u).get(0),this.viewportContainer.append(u),this.scrollingDivs.modal_container=e.query("#modalContainer").scroller({scrollBars:!0,vertical:!0,vScrollCSS:"afScrollbar",noParent:!0,lockBounce:this.lockPageBounce}),this.modalWindow=u;var a={},f=this.viewportContainer.get(0).querySelectorAll(".panel");for(var l=0;l<f.length;l++){var c=f[l],h=c,p,d=c.previousSibling;c.parentNode&&c.parentNode.id!="content"?(c.parentNode.removeChild(c),p=c.id,h.getAttribute("selected")&&(this.firstDiv=e.query("#"+p).get(0)),this.addDivAndScroll(h),e.query("#"+p).insertAfter(d)):c.parsedContent||(c.parsedContent=1,c.parentNode.removeChild(c),p=c.id,h.getAttribute("selected")&&(this.firstDiv=e.query("#"+p).get(0)),this.addDivAndScroll(h),e.query("#"+p).insertAfter(d)),c.getAttribute("data-defer")&&(a[p]=c.getAttribute("data-defer")),this.firstDiv||(this.firstDiv=e.query("#"+p).get(0)),c=null}f=null;var v=!1,m=Object.keys(a).length;if(m>0){v=!0;var g=0;for(var y in a)(function(n){e.ajax({url:AppMobi.webRoot+a[n],success:function(r){if(r.length===0)return;t.updatePanel(n,r),t.parseScriptTags(e.query("#"+n).get(0)),g++,g>=m&&(e(document).trigger("defer:loaded"),v=!1)},error:function(t){console.log("Error with deferred load "+AppMobi.webRoot+a[n]),g++,g>=m&&(e(document).trigger("defer:loaded"),v=!1)}})})(y)}if(this.firstDiv){this.activeDiv=this.firstDiv,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable();var b=function(){e.query("#navbar").append(e.create("footer",{id:"defaultNav"}).append(e.query("#navbar").children())),t.defaultFooter="defaultNav",t.prevFooter=e.query("#defaultNav"),t.updateNavbarElements(t.prevFooter);var n=e.query("nav").get(0);n&&(t.defaultMenu=e(n),t.updateSideMenuElements(t.defaultMenu),t.prevMenu=t.defaultMenu),t.defaultHeader="defaultHeader",e.query("#header").append(e.create("header",{id:"defaultHeader"}).append(e.query("#header").children())),t.prevHeader=e.query("#defaultHeader"),e.query("#navbar").on("click","a",function(t){e.query("#navbar a").not(t.currentTarget).removeClass("pressed"),e(t.currentTarget).addClass("pressed")});var s=e.query("#navbar a");s.length>0&&s.css("width",100/s.length+"%"),e.query("nav").length>0&&(e.query("#afui #header").addClass("hasMenu"),e.query("#afui #content").addClass("hasMenu"),e.query("#afui #navbar").addClass("hasMenu"),e.query("#afui #menu").addClass("tabletMenu"));var o=t.getPanelId(r),u=o=="#"+t.firstDiv.id;o.length>0&&t.loadDefaultHash&&!u?t.loadContent(r,!0,!1,"none"):(i="#"+t.firstDiv.id,t.firstDiv.style.display="block",t.parsePanelFunctions(t.firstDiv),t.loadContentData(t.firstDiv),e.query("#header #backButton").css("visibility","hidden"),(t.firstDiv.getAttribute("data-modal")=="true"||t.firstDiv.getAttribute("modal")=="true")&&t.showModal(t.firstDiv.id)),t.launchCompleted=!0,e(document).trigger("afui:ready"),e.query("#afui #splashscreen").remove()};v?e(document).one("defer:loaded",b):b()}e.bind(t,"content-loaded",function(){if(t.loadContentQueue.length>0){var e=t.loadContentQueue.splice(0,1)[0];t.loadContent(e[0],e[1],e[2],e[3],e[4])}}),(window.navigator.standalone||this.isIntel)&&this.blockPageScroll(),this.topClickScroll()},topClickScroll:function(){var e=this;document.getElementById("header").addEventListener("click",function(t){t.clientY<=15&&t.target.nodeName.toLowerCase()=="h1"&&e.scrollingDivs[e.activeDiv.id].scrollToTop("100")})},blockPageScroll:function(){e.query("#afui #header").bind("touchmove",function(e){e.preventDefault()})},noTransition:function(e,t,n){t.style.display="block",e.style.display="block";var r=this;r.clearAnimations(t),r.css3animate(e,{x:"0%",y:0}),r.finishTransition(e),t.style.zIndex=2,e.style.zIndex=1},finishTransition:function(t,n){t.style.display="none",this.doingTransition=!1,n&&this.clearAnimations(n),t&&this.clearAnimations(t),e.trigger(this,"content-loaded")},clearAnimations:function(t){t.style[e.feat.cssPrefix+"Transform"]="none",t.style[e.feat.cssPrefix+"Transition"]="none"}};var o=function(t,n){if(n==afui)return;if(n.tagName.toLowerCase()!="a"&&n.parentNode)return o(t,n.parentNode);if(n.tagName!=="undefined"&&n.tagName.toLowerCase()=="a"){var r=typeof e.ui.customClickHandler=="function"?e.ui.customClickHandler:!1;if(r!==!1&&e.ui.customClickHandler(n,t))return t.preventDefault();if(n.href.toLowerCase().indexOf("javascript:")!==-1||n.getAttribute("data-ignore"))return;if(n.href.indexOf("tel:")===0)return!1;if(n.hash.indexOf("#")===-1&&n.target.length>0){n.href.toLowerCase().indexOf("javascript:")!==0&&(e.ui.isIntel?(t.preventDefault(),AppMobi.device.launchExternal(n.href)):e.os.desktop||(t.target.target="_blank"));return}var i=n.href,s=location.protocol+"//"+location.hostname+":"+location.port+location.pathname;i.indexOf(s)===0&&(i=i.substring(s.length));if(i=="#"||i.indexOf("#")===i.length-1||i.length===0&&n.hash.length===0)return;t.preventDefault();var u=n.getAttribute("data-transition"),a=n.getAttribute("data-resetHistory");a=a&&a.toLowerCase()=="true"?!0:!1,i=n.hash.length>0?n.hash:i,e.ui.loadContent(i,a,0,u,n);return}},u="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",a=function(e,t){t===undefined&&(t=0);var n=0,r=0;t^=-1;for(var i=0,s=e.length;i<s;i++)n=(t^e.charCodeAt(i))&255,r="0x"+u.substr(n*9,8),t=t>>>8^r;return t^-1};e.ui=new s,e.ui.init=!0,e(window).trigger("afui:preinit"),e(window).trigger("afui:init")}(af),function(){$(document).one("appMobi.device.ready",function(){setTimeout(function(){document.getElementById("afui").style.height="100%",document.body.style.height="100%",document.documentElement.style.minHeight=window.innerHeight},300),$.ui.ready(function(){$.ui.blockPageScroll()})}),$.feat.nativeTouchScroll&&document.addEventListener("orientationchange",function(e){if($.ui.scrollingDivs[$.ui.activeDiv.id]){var t=$.ui.scrollingDivs[$.ui.activeDiv.id];t.el.scrollTop===0&&(t.disable(),setTimeout(function(){t.enable()},300))}})}(),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?i.css3animate(t,{x:"0%",y:"0%",complete:function(){i.css3animate(t,{x:"100%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}}).link(n,{x:"0%",time:e.transitionTime})}}).link(n,{x:"-100%",y:"0%"}):i.css3animate(t,{x:"0%",y:"0%",complete:function(){i.css3animate(t,{x:"-100%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}}).link(n,{x:"0%",time:e.transitionTime})}}).link(n,{x:"100%",y:"0%"})}e.availableTransitions.slide=t,e.availableTransitions["default"]=t}(af.ui),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(n.style.zIndex=1,t.style.zIndex=2,i.clearAnimations(n),i.css3animate(t,{x:"0%",time:e.transitionTime,opacity:.1,scale:.2,origin:"50% 50%",complete:function(e){if(e){i.finishTransition(t);return}i.css3animate(t,{x:"-100%",complete:function(){i.finishTransition(t)}}),n.style.zIndex=2,t.style.zIndex=1}})):(t.style.zIndex=1,n.style.zIndex=2,i.css3animate(n,{x:"0%",scale:.2,origin:"50% 50%",opacity:.1,time:"0ms",complete:function(){i.css3animate(n,{x:"0%",time:e.transitionTime,scale:1,opacity:1,origin:"0% 0%",complete:function(e){if(e){i.finishTransition(t,n);return}i.clearAnimations(n),i.css3animate(t,{x:"100%",y:0,complete:function(){i.finishTransition(t)}})}})}}))}e.availableTransitions.pop=t}(af.ui),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(t.style.zIndex=2,n.style.zIndex=1,i.css3animate(t,{y:"0%",x:"0%",complete:function(){i.css3animate(t,{y:"-100%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}})}})):(t.style.zIndex=1,n.style.zIndex=2,i.css3animate(n,{y:"-100%",x:"0%",time:"10ms",complete:function(){i.css3animate(n,{y:"0%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}})}}))}e.availableTransitions.down=t}(af.ui),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(t.style.zIndex=2,n.style.zIndex=1,i.css3animate(t,{y:"0%",x:"0%",complete:function(){i.css3animate(t,{y:"100%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}})}})):(t.style.zIndex=1,n.style.zIndex=2,i.css3animate(n,{y:"100%",x:"0%",time:"10ms",complete:function(){i.css3animate(n,{y:"0%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}})}}))}e.availableTransitions.up=t}(af.ui),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(n.style.zIndex=1,t.style.zIndex=2,i.clearAnimations(n),i.css3animate(t,{x:"0%",time:e.transitionTime,opacity:.1,complete:function(e){if(e){i.finishTransition(t,n);return}i.css3animate(t,{x:"-100%",opacity:1,complete:function(){i.finishTransition(t)}}),n.style.zIndex=2,t.style.zIndex=1}})):(t.style.zIndex=1,n.style.zIndex=2,n.style.opacity=0,i.css3animate(n,{x:"0%",opacity:.1,complete:function(){i.css3animate(n,{x:"0%",time:e.transitionTime,opacity:1,complete:function(e){if(e){i.finishTransition(t,n);return}i.clearAnimations(n),i.css3animate(t,{x:"-100%",y:0,complete:function(){i.finishTransition(t)}})}})}}))}e.availableTransitions.fade=t}(af.ui),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(i.css3animate(n,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){i.css3animate(n,{x:"0%",scale:1,time:e.transitionTime,rotateY:"0deg",complete:function(){i.clearAnimations(n)}})}}),i.css3animate(t,{x:"100%",time:e.transitionTime,scale:.8,rotateY:"180deg",complete:function(){i.css3animate(t,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){i.finishTransition(t)}}),n.style.zIndex=2,t.style.zIndex=1}})):(t.style.zIndex=1,n.style.zIndex=2,i.css3animate(n,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){i.css3animate(n,{x:"0%",scale:1,time:e.transitionTime,rotateY:"0deg",complete:function(){i.clearAnimations(n)}})}}),i.css3animate(t,{x:"100%",time:e.transitionTime,scale:.8,rotateY:"180deg",complete:function(){i.css3animate(t,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){i.finishTransition(t)}}),n.style.zIndex=2,t.style.zIndex=1}}))}e.availableTransitions.flip=t}(af.ui),function(){}.call(this),function(){var e,t,n,r,i;e=this.af,n={},t=_appcfg_url||"./",r={control_id:null,configs:null,current_page:null},e.fn.widgetActionBarWidget=function(t){var s,o,u,a,f;if(this.length===0)return;o=e.extend({},r,t);for(a=0,f=this.length;a<f;a++)s=this[a],s._plugin_id=s._plugin_id||e.uuid(),n[s._plugin_id]=new i(s,o),u=n[s._plugin_id];return this.length===1?u:this},i=function(t,r){var i;return i=this,i.el=t,i.$el=e(t),i.current_page=r.current_page,i.configs=r.configs,i.params=e.ecParams(i.configs.configs),e(i.$el).one("destroy",function(e){if(n[i._plugin_id])return delete n[i._plugin_id]}),i.configs=r.configs,console.log("initWidget : "+r.configs.control_id),r.configs.control_id!==null&&i.init(r.configs.control_id),i},i.prototype={name:null,current_page:null,widget_type:null,el:null,$el:null,configs:null,params:null,init:function(e){var t;return t=this,t.name=e,t.widget_type=t.configs.xtype},setData:function(){var t;t=e.parseParams(this.configs.datasource.data,this),t.withActionBar==="true"?this.showBar():t.withActionBar!==""&&this.hideBar(),t.title!==""&&this.setTitle(t.title);if(t.withHomeItem==="true")return this.showHomeItem();if(t.withHomeItem!=="")return this.hideHomeItem()},showHomeItem:function(){return e.ui.showBackButton=!0},hideHomeItem:function(){return e.ui.showBackButton=!1},showBar:function(){return e.ui.toggleHeaderMenu(!0)},hideBar:function(){return e.ui.toggleHeaderMenu(!1)},setTitle:function(t){if(t!=="")return e.ui.setTitle(t)},getTitle:function(t){return e("#pageTitle").html()}}}.call(this),function(){var $,baseurl,cache,opts,widgetFormWidget;$=this.af,cache={},baseurl=_appcfg_url||"./",opts={control_id:null,configs:null,current_page:null,tpl:'<style>\n	#afui.ios7 label{height:26px;overflow:hidden;width:39%}\n	#afui.ios7 label+input,#afui.ios7 label+select,#afui.ios7 label+textarea{width:60%}\n	#afui.ios7 .input-group{padding:5px;}\n</style>\n<form style="margin:10px;">\n	<% for ( var i=0 ; i < input.input_list.length ; i++) { %>\n		<% item = input.input_list[i] ; if ( item.default_layout == "number" ) { %>\n			<label for="<%= item.name %>"><%= item.text %></label><input id="<%= item.name %>" name="<%= item.name %>" type="number" value="<%= item.default_value %>" placeholder="<%= item.text %>">\n		<% } else if ( item.default_layout == "text" ) { %>\n			<label for="<%= item.name %>"><%= item.text %></label><input id="<%= item.name %>" name="<%= item.name %>" type="text" value="<%= item.default_value %>" placeholder="<%= item.text %>">\n		<% } else if ( item.default_layout == "label" ) { %>\n			<label for="<%= item.name %>"><%= item.text %></label><input id="<%= item.name %>" name="<%= item.name %>" type="text" readonly value="<%= item.default_value %>" placeholder="<%= item.text %>">\n		<% } else if ( item.default_layout == "hidden" ) { %>\n			<input id="<%= item.name %>" name="<%= item.name %>" value="<%= item.default_value %>" type="hidden">\n		<% } else if ( item.default_layout == "password" ) { %>\n			<label for="<%= item.name %>"><%= item.text %></label><input id="<%= item.name %>" value="<%= item.default_value %>" name="<%= item.name %>" type="password" placeholder="<%= item.text %>">\n		<% } else if ( item.default_layout == "textarea" ) { %>\n			<label for="<%= item.name %>"><%= item.text %></label><textarea rows="3" id="<%= item.name %>" name="<%= item.name %>" type="text" placeholder="<%= item.text %>"><%= item.default_value %></textarea>\n		<% } else if ( item.default_layout == "select" ) { %>\n			<label for="<%= item.name %>"><%= item.text %></label><select id="<%= item.name %>" name="<%= item.name %>">\n				<% for ( var j=0 ; j < item.selectlist.options.length ; j++) { %>\n					<% option = item.selectlist.options[j] ;%>\n					<option value="<%= option.value %>" <%= option.value == item.default_value ? \'selected\': \'\' %>><%= option.text %></option>\n				<% } %>\n			</select>\n		<% } %>\n	<% } %>\n	<div style="display:inline-block;width:100%">\n		<input type="button" class="button gray" value="取消" style="float:left;" onclick="$.ui.goBack();">\n		<input type="submit" class="button" value="<%= input.button_submit %>" style="float:right;">\n	</div>\n</form>'},$.fn.widgetFormWidget=function(e){var t,n,r,i,s;if(this.length===0)return;n=$.extend({},opts,e);for(i=0,s=this.length;i<s;i++)t=this[i],t._plugin_id=t._plugin_id||$.uuid(),cache[t._plugin_id]?cache[t._plugin_id].onResume(e):(cache[t._plugin_id]=new widgetFormWidget(t,n),r=cache[t._plugin_id]);return this.length===1?r:this},widgetFormWidget=function(e,t){var n,r,i,s,o;r=this,r.el=e,r.$el=$(e),r.current_page=t.current_page,r.configs=t.configs,r.params=$.ecParams(r.configs.configs),o=r.configs.setEvent;for(i=0,s=o.length;i<s;i++)n=o[i],r.events[n.name]=n;$(r.$el).one("destroy",function(e){if(cache[r._plugin_id])return delete cache[r._plugin_id]}),r.tpl=t.tpl,console.log("initWidget : "+t.configs.control_id);if(t.configs.control_id!==null)return r.init(t.configs.control_id)},widgetFormWidget.prototype={name:null,current_page:null,widget_type:null,el:null,$el:null,tpl:null,configs:null,params:null,events:{submit:{javascript:"",params:[]}},init:function(e){var t;return t=this,t.name=e,t.widget_type=t.configs.xtype,$.template_set("widgetFormWidget",t.tpl)},setData:function(){var e,t;return t=this,e=t.configs.datasource.data,t.showContent(e,t)},showContent:function(e,t){var n,r,i,s,o,u,a;console.log("showdontent:#"+t.el.id),u=t.current_page.params;for(r in u){i=u[r],a=e.input_list;for(s=0,o=a.length;s<o;s++)n=a[s],n.name===r&&n.default_value===""&&(n.default_value=i)}return $("._page"+t.current_page.id).find("#"+t.el.id).html($.template("widgetFormWidget",{input:e})),$("._page"+t.current_page.id).find("#"+t.el.id).find("form").submit(function(){return t.submitEvent(t),!1})},submitEvent:function(self){var input,inputs,params,_i,_len;inputs={},params=self.$el.find("form select,form textarea,form input[type=text],form input[type=password],form input[type=number],form input[type=hidden]");for(_i=0,_len=params.length;_i<_len;_i++){input=params[_i];if($(input).val()===""){alert("请完整填写表单！");return}inputs[$(input).attr("name")]=$(input).val()}return $.ui.showMask(),$.callApi(self.configs.datasource.data.post_uri,inputs,function(res){var k,str,v,_ref;$.ui.hideMask(),console.log("res : "+Object.toJSON(res)),str="params = {};",_ref=$.ecParams(self.events.submit.params,self);for(k in _ref)v=_ref[k],str+="params."+k+" = '"+v+"';";return str+="params.input = "+Object.toJSON(inputs)+";",str+="params.result = "+Object.toJSON(res)+";",str+=""+self.events.submit.javascript,console.log("submitEvent - eval : "+str),eval(str)}),console.log("form input : "+Object.toJSON(inputs))}}}.call(this),function(){}.call(this),function(){}.call(this),function(){var $,baseurl,cache,opts,widgetItemNewsWidget;$=this.af,cache={},baseurl=_appcfg_url||"./",opts={control_id:null,configs:null,current_page:null,tpl:'<div class="div-news" style="padding: 10px;">\n  <h3><%= input.title %></h3>\n  <div class="des"><%= input.abstracts %></div>\n  <hr/>\n  <center class="well"><img class="left-img" style="width:95%" src="<%= $.getISUrl(input.image_cover , \'600\') %>" /></center>\n  <div><pre><%= input.content%></pre></div>\n</div>'},$.fn.widgetItemNewsWidget=function(e){var t,n,r,i,s;if(this.length===0)return;n=$.extend({},opts,e);for(i=0,s=this.length;i<s;i++)t=this[i],t._plugin_id=t._plugin_id||$.uuid(),cache[t._plugin_id]?cache[t._plugin_id].onResume(e):(cache[t._plugin_id]=new widgetItemNewsWidget(t,n),r=cache[t._plugin_id]);return this.length===1?r:this},widgetItemNewsWidget=function(e,t){var n,r,i,s,o;r=this,r.el=e,r.$el=$(e),r.current_page=t.current_page,r.configs=t.configs,r.params=$.ecParams(r.configs.configs),o=r.configs.setEvent;for(i=0,s=o.length;i<s;i++)n=o[i],r.events[n.name]=n;$(r.$el).one("destroy",function(e){if(cache[r._plugin_id])return delete cache[r._plugin_id]}),r.tpl=t.tpl,console.log("initWidget : "+t.configs.control_id);if(t.configs.control_id!==null)return r.init(t.configs.control_id)},widgetItemNewsWidget.prototype={name:null,current_page:null,widget_type:null,el:null,$el:null,tpl:null,configs:null,params:null,events:{itemLoad:{javascript:"",params:[]}},init:function(e){var t;return t=this,t.name=e,t.widget_type=t.configs.xtype,$.template_set("widgetItemNewsWidget",t.tpl)},setData:function(){var e,t,n;return n=this,e=n.configs.datasource.data,Object.toQueryString(e)===""?(t=this.configs.datasource.method,$.ui.showMask(),$.callApi(t,$.ecParams(n.configs.datasource.params,n,1),function(e){return $.ui.hideMask(),e.data.error?alert("请求出错："+e.data.error.errordes):n.showContent(e,n),n.itemLoadEvent(n.$el,n)})):n.showContent(e,n)},showContent:function(e,t){var n;return n=$.adapter(e.data,t.configs.datasource.adapter),t.configs.datasource.data=n,console.log(""+t.el.id+":",n),$("._page"+t.current_page.id).find("#"+t.el.id).html($.template("widgetItemNewsWidget",{input:n}))},itemLoadEvent:function(ele,self){var k,str,v,_ref;str="params = {};",_ref=$.ecParams(self.events.itemLoad.params,self);for(k in _ref)v=_ref[k],str+="params."+k+" = '"+v+"';";return str+=""+self.events.itemLoad.javascript,console.log("itemLoadEvent: eval -  "+str),eval(str)}}}.call(this),function(){var $,baseurl,cache,opts,widgetItemProductWidget;$=this.af,cache={},baseurl=_appcfg_url||"./",opts={control_id:null,configs:null,current_page:null,tpl:'<div class="div-news" style="padding: 10px;">\n  <h3><%= input.title %></h3>\n  <div class="des"><%= input.abstract %></div>\n  <hr/>\n  <center class="well"><img class="left-img" style="width:95%" src="<%= $.getISUrl(input.image_cover , \'600\') %>" /></center>\n  \n  <div class="rel-div">\n  	<div class="rel-title">产地</div>\n  	<div class="rel-items">\n	  	<% for (var i=0 ; i< input.shop_contents.length ; i++) {%>\n	  		<div class="rel-item" onclick="$.openURL(\'page_news_item?contentid=<%= input.shop_contents[i].id %>&title=<%= input.shop_contents[i].title %>\')">\n	  			<div class="rel-item-img"><img src="<%= $.getISUrl(input.shop_contents[i].image_cover , \'100\') %>" /></div>\n	  			<div class="rel-item-title"><%= input.shop_contents[i].title %></div>\n	  		</div>\n	  	<% } %>\n  	</div>\n  </div>\n\n  <div class="rel-div">\n  	<div class="rel-title">搭配产品</div>\n  	<div class="rel-items">\n	  	<% for (var i=0 ; i< input.relproduct_contents.length ; i++) {%>\n	  		<div class="rel-item" onclick="$.openURL(\'page_news_item?contentid=<%= input.relproduct_contents[i].id %>&title=<%= input.relproduct_contents[i].title %>\')">\n	  			<div class="rel-item-img"><img src="<%= $.getISUrl(input.relproduct_contents[i].image_cover , \'100\') %>" /></div>\n	  			<div class="rel-item-title"><%= input.relproduct_contents[i].title %></div>\n	  		</div>\n	  	<% } %>\n  	</div>\n  </div>\n\n  <div><pre><%= input.content%></pre></div>\n</div>'},$.fn.widgetItemProductWidget=function(e){var t,n,r,i,s;if(this.length===0)return;n=$.extend({},opts,e);for(i=0,s=this.length;i<s;i++)t=this[i],t._plugin_id=t._plugin_id||$.uuid(),cache[t._plugin_id]?cache[t._plugin_id].onResume(e):(cache[t._plugin_id]=new widgetItemProductWidget(t,n),r=cache[t._plugin_id]);return this.length===1?r:this},widgetItemProductWidget=function(e,t){var n,r,i,s,o;r=this,r.el=e,r.$el=$(e),r.current_page=t.current_page,r.configs=t.configs,r.params=$.ecParams(r.configs.configs),o=r.configs.setEvent;for(i=0,s=o.length;i<s;i++)n=o[i],r.events[n.name]=n;$(r.$el).one("destroy",function(e){if(cache[r._plugin_id])return delete cache[r._plugin_id]}),r.tpl=t.tpl,console.log("initWidget : "+t.configs.control_id);if(t.configs.control_id!==null)return r.init(t.configs.control_id)},widgetItemProductWidget.prototype={name:null,current_page:null,widget_type:null,el:null,$el:null,tpl:null,configs:null,params:null,events:{itemLoad:{javascript:"",params:[]}},init:function(e){var t;return t=this,t.name=e,t.widget_type=t.configs.xtype,$.template_set("widgetItemProductWidget",t.tpl)},setData:function(){var e,t,n;return n=this,e=n.configs.datasource.data,Object.toQueryString(e)===""?(t=this.configs.datasource.method,$.ui.showMask(),$.callApi(t,$.ecParams(n.configs.datasource.params,n,1),function(e){return $.ui.hideMask(),e.data.error?alert("请求出错："+e.data.error.errordes):n.showContent(e,n),n.itemLoadEvent(n.$el,n)})):n.showContent(e,n)},showContent:function(e,t){var n;return console.log("adapter input:",e),n=$.adapter(e.data,t.configs.datasource.adapter),t.configs.datasource.data=n,console.log("adapter output:",n),console.log("showContent : "+t.el.id+":",n),$("._page"+t.current_page.id).find("#"+t.el.id).html($.template("widgetItemProductWidget",{input:n}))},itemLoadEvent:function(ele,self){var k,str,v,_ref;str="params = {};"
,_ref=$.ecParams(self.events.itemLoad.params,self);for(k in _ref)v=_ref[k],str+="params."+k+" = '"+v+"';";return str+=""+self.events.itemLoad.javascript,console.log("itemLoadEvent: eval -  "+str),eval(str)}}}.call(this),function(){var $,baseurl,cache,opts,widgetListViewWidget;$=this.af,cache={},baseurl=_appcfg_url||"./",opts={control_id:null,configs:null,current_page:null,tpl:'<ul class="list">\n	<% for (var i=0 ; i< input.ListByType.length ; i++) {%>\n		<li class="listview-twoline" pos="<%= i %>">\n			<% if ( input.ListByType[i].image_cover ){ %>\n				<img class="left-img" src="<%= $.getISUrl(input.ListByType[i].image_cover , \'100\') %>" />\n			<% } %>\n			<div class="right-div">\n				<% if ( input.ListByType[i].title ){ %>\n					<div class="title"><%= input.ListByType[i].title %></div>\n				<% } %>\n				<% if ( input.ListByType[i].abstracts ){ %>\n					<div class="des"><%= input.ListByType[i].abstracts %></div>\n				<% } %>\n			</div>\n			<div class="badge">\n				<% if ( input.ListByType[i].date ){ %>\n					<div class="date"><%= input.ListByType[i].date %></div>\n				<% } %>\n				<% if ( input.ListByType[i].label ){ %>\n					<div class="label"><%= input.ListByType[i].label %></div>\n				<% } %>\n			</div>\n			<div style="clear:both;"></div>\n		</li>\n	<% } %>\n</ul>'},$.fn.widgetListViewWidget=function(e){var t,n,r,i,s;if(this.length===0)return;n=$.extend({},opts,e);for(i=0,s=this.length;i<s;i++)t=this[i],t._plugin_id=t._plugin_id||$.uuid(),cache[t._plugin_id]=new widgetListViewWidget(t,n),r=cache[t._plugin_id];return this.length===1?r:this},widgetListViewWidget=function(e,t){var n,r,i,s,o;r=this,r.el=e,r.$el=$(e),r.current_page=t.current_page,r.configs=t.configs,r.params=$.ecParams(r.configs.configs),o=r.configs.setEvent;for(i=0,s=o.length;i<s;i++)n=o[i],r.events[n.name]=n;return $(r.$el).one("destroy",function(e){if(cache[r._plugin_id])return delete cache[r._plugin_id]}),r.tpl=t.tpl,console.log("initWidget : "+t.configs.control_id),t.configs.control_id!==null&&r.init(t.configs.control_id),r},widgetListViewWidget.prototype={name:null,current_page:null,widget_type:null,el:null,$el:null,tpl:null,configs:null,params:null,events:{itemClick:{javascript:"",params:[]}},init:function(e){var t;return t=this,t.name=e,t.widget_type=t.configs.xtype,$.template_set("widgetListViewWidget",t.tpl)},setData:function(){var e,t,n;return n=this,e=n.configs.datasource.data,Object.toQueryString(e)===""?(t=this.configs.datasource.method,$.ui.showMask(),$.callApi(t,$.ecParams(n.configs.datasource.params,n,1),function(e){return $.ui.hideMask(),e.data.error?alert("请求出错："+e.data.error.errordes):n.showList(e,n)})):n.showList(e,n)},onResume:function(e){var t,n,r,i,s,o;n=this;if(n.params!=null&&Object.toJSON(n.params)!==Object.toJSON(e.params)){n.params=e.params,console.log("apppage : renew - "+n.id),s=data.auto_start_controls,o=[];for(r=0,i=s.length;r<i;r++){t=s[r];if("undefined"==typeof n.controls[t])continue;o.push(n.startControl(t))}return o}},showList:function(e,t){var n;return n=$.adapter(e.data,t.configs.datasource.adapter),t.configs.datasource.data=n,console.log("adapter output to #"+t.current_page.id+" #"+t.el.id+":",$.template("widgetListViewWidget",{input:n})),$("._page"+t.current_page.id+" #"+t.el.id).html($.template("widgetListViewWidget",{input:n})),$("._page"+t.current_page.id+" ul.list>li").each(function(e,n){return $(n).bind("click",function(r){return t.itemClickEvent(e,n,t)})})},itemClickEvent:function(index,ele,self){var k,str,v,_ref;str="params = {};",_ref=$.ecParams(self.events.itemClick.params,self,index);for(k in _ref)v=_ref[k],str+="params."+k+" = '"+v+"';";return str+=""+self.events.itemClick.javascript,console.log("itemClickEvent: eval = "+str),eval(str)}}}.call(this),function(){var $,baseurl,cache,load_script,opts,translate,widgetMapWidget;$=this.af,cache={},baseurl=_appcfg_url||"./",opts={control_id:null,configs:null,current_page:null,tpl:'<div id="<%= input.page_id %>shop_map" style="height:100%;"></div>'},$.fn.widgetMapWidget=function(e){var t,n,r,i,s;if(this.length===0)return;n=$.extend({},opts,e);for(i=0,s=this.length;i<s;i++)t=this[i],t._plugin_id=t._plugin_id||$.uuid(),cache[t._plugin_id]?cache[t._plugin_id].onResume(e):(cache[t._plugin_id]=new widgetMapWidget(t,n),r=cache[t._plugin_id]);return this.length===1?r:this},widgetMapWidget=function(e,t){var n,r,i,s,o;r=this,r.el=e,r.$el=$(e),r.current_page=t.current_page,r.configs=t.configs,r.params=$.ecParams(r.configs.configs),o=r.configs.setEvent;for(i=0,s=o.length;i<s;i++)n=o[i],r.events[n.name]=n;$(r.$el).one("destroy",function(e){if(cache[r._plugin_id])return delete cache[r._plugin_id]}),r.tpl=t.tpl,console.log("initWidget : "+t.configs.control_id);if(t.configs.control_id!==null)return r.init(t.configs.control_id)},widgetMapWidget.prototype={name:null,current_page:null,widget_type:null,el:null,$el:null,tpl:null,configs:null,params:null,events:{itemLoad:{javascript:"",params:[]}},init:function(e){var t;return t=this,t.name=e,t.widget_type=t.configs.xtype,$.template_set("widgetMapWidget",t.tpl)},setData:function(){var e,t,n;return n=this,e=n.configs.datasource.data,Object.toQueryString(e)===""?(t=this.configs.datasource.method,$.ui.showMask(),$.callApi(t,$.ecParams(n.configs.datasource.params,n,1),function(e){return $.ui.hideMask(),e.data.error?alert("请求出错："+e.data.error.errordes):n.showContent(e,n)})):n.showContent(e,n)},showContent:function(e,t){var n;return console.log("adapter input:",e),n=$.adapter(e.data,t.configs.datasource.adapter),t.configs.datasource.data=n,console.log("adapter output:",n),console.log(""+t.el.id+":",$.template("widgetMapWidget",{input:n})),n.page_id=t.current_page.id,$("._page"+t.current_page.id+" #"+t.el.id).html($.template("widgetMapWidget",{input:n})),t.showMap(n.title,n.address,n.phone_num,n.longitude,n.latitude)},showMap:function(e,t,n,r,i){var s,o;return o=this,window.BMap=window.BMap||{},BMap.Convertor={},BMap.Convertor.translate=translate,s=new BMap.Point(r,i),setTimeout(function(){return BMap.Convertor.translate(s,2,function(r){var i,s;return i=new BMap.Map(""+o.current_page.id+"shop_map"),i.centerAndZoom(r,18),i.addControl(new BMap.NavigationControl),opts={width:200,height:100,enableMessage:!1,title:e},s=new BMap.InfoWindow("地址："+t+"<br />电话：<a href='tel://"+n+"'>"+n+"</a>",opts),i.openInfoWindow(s,r)})},500),o.itemLoadEvent(o)},itemLoadEvent:function(self){var k,str,v,_ref;str="params = {};",_ref=$.ecParams(self.events.itemLoad.params,self);for(k in _ref)v=_ref[k],str+="params."+k+" = '"+v+"';";return str+=""+self.events.itemLoad.javascript,console.log("itemLoadEvent: eval = "+str),eval(str)}},load_script=function(e,t){var n,r;return console.log("load_script",e),n=document.getElementsByTagName("head")[0],r=document.createElement("script"),r.type="text/javascript",r.src=e,r.onload=r.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){t&&t(),r.onload=r.onreadystatechange=null;if(n&&r.parentNode)return n.removeChild(r)}},n.insertBefore(r,n.firstChild)},translate=function(e,t,n){var r,i;return r="cbk_"+Math.round(Math.random()*1e4),i="http://api.map.baidu.com/ag/coord/convert?from="+t+"&to=4&x="+e.lng+"&y="+e.lat+"&callback=BMap.Convertor."+r,load_script(i),BMap.Convertor[r]=function(t){return delete BMap.Convertor[r],e=new BMap.Point(t.x,t.y),n&&n(e)}}}.call(this),function(){var e,t,n,r,i;e=this.af,n={},t=_appcfg_url||"./",r={control_id:null,configs:null,current_page:null},e.fn.widgetTabWidget=function(t){var s,o,u,a,f,l;if(this.length===0)return;u=e.extend({},r,t),s=e("#navbar");for(f=0,l=s.length;f<l;f++)o=s[f],o._plugin_id=o._plugin_id||e.uuid(),n[o._plugin_id]?n[o._plugin_id].onResume(t):(n[o._plugin_id]=new i(o,u),a=n[o._plugin_id]);return this.length===1?a:this},i=function(t,r){var i;return i=this,this.el=t,this.$el=e(t),this.current_page=r.current_page,i.configs=r.configs,i.params=e.ecParams(i.configs.configs),e(this.$el).one("destroy",function(e){if(n[i._plugin_id])return delete n[i._plugin_id]}),i.configs=r.configs,console.log("initWidget : "+r.configs.control_id),r.configs.control_id!==null&&i.init(r.configs.control_id),i},i.prototype={name:null,current_page:null,widget_type:null,el:null,$el:null,configs:null,params:null,init:function(e){var t;return t=this,t.name=e,t.widget_type=t.configs.xtype},setData:function(){var t,n,r,i,s,o,u;n=this.configs.datasource.data,u=n.tabDataList;for(s=0,o=u.length;s<o;s++)r=u[s],r.fragmentString,t='<a href="#'+r.fragmentString+"\" id='navbar_"+r.fragmentString+'\' data-ignore-pressed="true" onclick="$.openURL(\''+r.fragmentString+"')\" class=''>"+r.title+"</a>",this.$el.append(e(t));return e("#navbar>a").css("width",Math.floor(100/n.tabDataList.length)+"%"),i=location.href.split("#"),i[1]!=null?(console.log("urlpara1 = "+decodeURIComponent(i[1])),e.openURL(decodeURIComponent(i[1]))):(console.log("urlpara2"),e("#navbar_"+n.tabDataList[0].fragmentString).click())}}}.call(this),function(){var e,t,n,r,i,s,o,u;e=this.af,r={},o={},u=e.uuid(),n=_appcfg_url||"./",s={page_id:null},i=["TabWidget","ActionBarWidget"],e.fn.appPage=function(n){var i,o,u,a,f;if(this.length===0)return;o=e.extend({},s,n);for(a=0,f=this.length;a<f;a++)i=this[a],i._plugin_id=i._plugin_id||e.uuid(),r[i._plugin_id]=new t(i,o),u=r[i._plugin_id];return this.length===1?u:this},t=function(t,n){var i;return i=this,this.el=t,this.$el=e(t),e(this.$el).one("destroy",function(e){if(r[i._plugin_id])return delete r[i._plugin_id]}),i.params=n.params,console.log("initpage : "+n.page_id+" ; params: "+Object.toJSON(i.params)),n.page_id!==null&&i.init(n.page_id),i},t.prototype={name:null,id:null,el:null,$el:null,params:null,configs:null,sets:null,controls:null,widgets:{},current_page:null,init:function(t){var n;return n=this,this.current_page=n,n.url=t,n.id=e.getPageID(t),n.name=t.split("?")[0],e.ui.showMask(),e.ui.updateContentDiv("._page"+n.id,""),e.ui.setTitle(""),e.getJSON("page_config?name="+n.name+".json&session="+u,{},function(t){var r,i,s,o,u;e.ui.hideMask(),n.configs=t,n.sets=e.ecParams(t.configs,n),n.params!=null&&n.params.title!=null&&e.ui.setTitle(n.params.title),n.sets.layout!=null&&e("._page"+n.id).html(n.sets.layout),n.controls={},t.controls.map(function(e){return n.controls[n.name+e.control_id]=e}),o=t.auto_start_controls,u=[];for(i=0,s=o.length;i<s;i++){r=o[i];if("undefined"==typeof n.controls[n.name+r])continue;u.push(n.startControl(n.name+r))}return u})},onResume:function(t){var n,r,i,s,o,u;r=this,t.params.title&&e.ui.setTitle(t.params.title);if(r.params!=null&&Object.toJSON(r.params)!==Object.toJSON(t.params)){r.params=t.params,console.log("apppage : renew - "+r.name),o=data.auto_start_controls,u=[];for(i=0,s=o.length;i<s;i++){n=o[i];if("undefined"==typeof r.controls[r.name+n])continue;u.push(r.startControl(r.name+n))}return u}},startControl:function(t){var n,r,s,o;return o=this,r=o.controls[t],s={},r.position.length>0&&r.position.map(function(e){return s[e.key]=e.value||e.defaultValue}),s.parent&&s.location&&-1===i.indexOf(r.xtype)?(n='<div id="'+r.control_id+'" class="insert-type-'+s.insertType+'"></div>',e("._page"+o.id+" #"+s.parent).children().length>=parseInt(s.location)+1?(console.log("insert control"),e(n).insertBefore(e("._page"+o.id+" #"+s.parent).children().get(s.location))):(console.log("append control"),e("._page"+o.id+" #"+s.parent).append(e(n))),console.log("._page"+o.id+" #"+s.parent,"#"+r.control_id),o.runControl(e("._page"+o.id+" #"+r.control_id),r)):o.runControl(e("#widgets"),r)},runControl:function(e,t){var n,r;return n=this,e["widget"+t.xtype]!=null?(r=e["widget"+t.xtype]({current_page:n,configs:t}),r.setData(),n.widgets[t.control_id]=r):console.log("widget"+t.xtype+" not found")}}}.call(this),function(e){self=this,self._tpl={},e.template=function(e,n){return t(e,n)},e.tmpl=function(n,r){return e(t(n,r))},e.template_set=function(e,t){self._tpl[e]=t},e.template_get=function(e){return self._tpl[e]};var t=function(e,t){return t||(t={}),tmpl(e,t)};(function(){var t={};this.tmpl=function n(r,i){var s=/\W/.test(r)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+r.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"	").split("'").join("\\'").split("	").join("'").replace(/<%=(.+?)%>/g,"',$1,'").split("<%").join("');").split("%>").join("p.push('")+"');}return p.join('');"):t[r]=t[r]||n(e.template_get(r));return i?s(i):s}})()}(jq),function(){var $,apibaseurl,self;$=this.af,self=this,apibaseurl="/webapis/wiki/",$.callApi=function(e,t,n,r){var i;return i={method:e,version:t.version||"1.0"},$.extend(i,t),$.post(apibaseurl+"call_api",$.extend(i,t),n,"json")},$.ecParams=function(e,t,n){var r;return r={},e.map(function(e){return r[e.key]=e.value||e.defaultValue,r[e.key]==="null"?r[e.key]="":r[e.key]=self._getParam(r[e.key],t,n)}),r},$.parseParams=function(e,t){var n,r;for(r in e)n=e[r],e[r]=self._getParam(n,t);return e},this._getParam=function(input,control,position){return input.gsub(/\{(_widgetConfig|_widgetData|_pageData|_pageConfig|_page)([^{]+)\}/,function(match){var str;switch(match[1]){case"_widgetConfig":str="control.params";break;case"_widgetData":str="control.configs.datasource.data";break;case"_page":str="control.current_page.params";break;case"_pageData":str="control.current_page.configs.datasource.data"}return str+=match[2],position!=null&&(str=str.replace("[position]","["+position+"]")),eval(str)})},$.getISUrl=function(e,t,n){var r;return typeof e!="string"&&(e=e.url.split("/")[e.url.split("/").length-1]),r="",t?n?r="_"+t+"x"+n:r="_"+t:n&&(r="_x"+n),"http://is.hudongka.com/"+e.split(".")[0]+r+"."+e.split(".")[1]},$.postEvent=function(e,t,n,r){var i;return i=[],i.push(t),i.push(n),i.push(r),console.log("postEvent: "+e+" ; params - "+i),$[e]==null?console.log("postEvent: "+e+" faild , not found "):$[e](i)},$.ShowConfirm=function(e,t,n){return $.ui.popup({title:"完成",message:e,cancelText:"返回",cancelCallback:function(){if(t!=null)return t()},cancelOnly:n==null,doneText:"完成",doneCallback:function(){return n()}})},$.openURL=function(e){var t,n;return t=[],n=e.split("?"),n[1]==null&&(n[1]=""),$.openPage(e,decodeURIComponent(n[1]).toQueryParams())},$.openActivity=function(e){var t;return e[2]=e[2].evalJSON(),t=e[2].title,$.openPage(e[1]+("?"+$H(e[2]).toQueryString()),e[2])},$.openPage=function(e,t){var n,r;return r=$.getPageID(e),t.title==null&&(t.title=""),console.log("openactivity :#"+e+" ( ._page"+r+" ); title: "+t.title+" ;"),n="<div title='"+t.title+"' id=\""+e+'" class="panel _page _page'+r+'" ></div>',$("._page"+r).length===0&&($.ui.addContentDiv(e,n,t.title),$($("#content>div").eq($("#content>div").length-1)).find(".afScrollPanel").addClass("_page"+r)),$.ui.loadContent("#"+e,!0,!0),$("._page"+r).appPage({page_id:e,params:t})},$.getPageID=function(e){return encodeURIComponent(e).replace(/[\&|\%|\?]/ig,"_")},this.alert=function(){return $.ui.showMask(),setTimeout(function(){return $.ui.hideMask(),$.ui.popup({title:"成功",message:"信息提交成功，我们的工作人员会第一时间处理您的预约!",cancelText:"返回",cancelCallback:function(){return $.ui.goBack()},cancelOnly:!0,doneCallback:function(){return $.ui.goBack()}})},500)}}.call(this),function(){var Adapter;$.adapter=function(e,t){return new Adapter(e,t)},Adapter=function(e,t){var n;return n=this,n.input=e,n.config=t,n.init()},Adapter.prototype={input:null,config:null,init:function(){var e,t,n,r,i,s,o;i=this,t=Object.clone(i.input),r={},e=i.config;if(e.length===0)return t;for(s=0,o=e.length;s<o;s++){n=e[s];if(n.key==="model")continue;r=$.extend(r,i.getNewOutput(t,n.key,n.value))}return r},getNewOutput:function(input,from,to){var fromarray,fromitems,item,k,matchArray,matchStr,newobj,newoutput,toarray,toitems,v,_i,_j,_len,_len1;newoutput={},matchStr=!1,from.gsub(/\{\$(.*)\}/,function(match){return eval("newoutput."+to+" = match[1]"),matchStr=!0});if(matchStr)return newoutput;matchArray=!1,fromarray=[],fromitems="",toarray=[],toitems="",from.gsub(/(.*)\[\]\{(.*)\}/,function(e){return matchArray=!0,fromarray=e[1],fromitems=e[2].split(",")});if(matchArray){eval("inpuitArray = input."+fromarray),to.gsub(/(.*)\[\]\{(.*)\}/,function(e){return toarray=e[1],toitems=e[2].split(",")}),eval("newoutput."+toarray+" = []");for(_i=0,_len=inpuitArray.length;_i<_len;_i++){item=inpuitArray[_i],newobj={};for(k=_j=0,_len1=fromitems.length;_j<_len1;k=++_j)v=fromitems[k],newobj[toitems[k]]=item[fromitems[k]];eval("newoutput."+toarray+".push( newobj )")}return newoutput}return from=from.replace("[]",""),to=to.replace("[]",""),eval("newoutput."+to+" = input."+from),newoutput}}}.call(this),function(){var e,t,n;n=this,n.webRoot="./",t=_appnum,e="/webapis/wiki/",$.ui.autoLaunch=!1,this.init=function(){return $.post(e+"init_api",{appnum:t},function(){return $.ui.backButtonText="返回",$.ui.launch()})},document.addEventListener("DOMContentLoaded",n.init,!1),this.onDeviceReady=function(){return AppMobi.device.setRotateOrientation("portrait"),AppMobi.device.setAutoRotate(!1),n.webRoot=AppMobi.webRoot+"/",AppMobi.device.hideSplashScreen()},document.addEventListener("appMobi.device.ready",n.onDeviceReady,!1),$.ui.ready(function(){return $.ui.disableSideMenu(),$.ui.disableNativeScrolling(),$("#content").appPage({page_id:"page_index_tab"})})}.call(this),function(){}.call(this),function(e){"use strict";function t(){e.ui.isWin8=!0;if(!e.os.ie)return;e.ui.ready(function(){e.ui.slideSideMenu&&(e.ui.slideSideMenu=!1),e.query("#afui #navbar footer").append("<a id='metroMenu' onclick='$.ui.toggleSideMenu()'>•••</a>");var t=e.query("#afui #navbar").find("a");if(t.length>0){t.data("ignore-pressed","true").data("resetHistory","true");var n=parseFloat(100/t.length);t.css("width",n+"%")}var r=e.ui.updateNavbarElements;e.ui.updateNavbarElements=function(){r.apply(e.ui,arguments);if(e.query("#afui #navbar #metroMenu").length==1)return;e.query("#afui #navbar footer").append("<a id='metroMenu' onclick='$.ui.toggleSideMenu()'>•••</a>")};var i=e.ui.toggleSideMenu;e.ui.isSideMenuOn=function(){var t=parseInt(e.getCssMatrix(e("#navbar")).f)<0?!0:!1;return this.isSideMenuEnabled()&&t},e.ui.toggleSideMenu=function(t,n){if(!this.isSideMenuEnabled()||this.togglingSideMenu)return;this.togglingSideMenu=!0;var r=this,i=e.query("#menu"),s=e.query("#navbar"),o=this.isSideMenuOn();if(t===2||!o&&(t!==undefined&&t!==!1||t===undefined))i.show(),r.css3animate(s,{y:"-150px",time:e.ui.transitionTime,complete:function(e){r.togglingSideMenu=!1,n&&n(!0)}}),r.css3animate(i,{y:"0px",time:e.ui.transitionTime});else if(t===undefined||t!==undefined&&t===!1)r.css3animate(s,{y:"0",time:e.ui.transitionTime,complete:function(e){r.togglingSideMenu=!1,n&&n(!0),i.hide()}}),r.css3animate(i,{y:"150px",time:e.ui.transitionTime})}})}if(!e)throw"This plugin requires jqUi";e.ui?t():e(document).ready(function(){t()})}(af),function($){var cancelClickMove=!1,preventAll=function(e){e.preventDefault(),e.stopPropagation()},redirectMouseToTouch=function(type,originalEvent,newTarget){var theTarget=newTarget?newTarget:originalEvent.target;theTarget.tagName.toUpperCase().indexOf("SELECT")==-1&&theTarget.tagName.toUpperCase().indexOf("TEXTAREA")==-1&&theTarget.tagName.toUpperCase().indexOf("INPUT")==-1&&preventAll(originalEvent);var touchevt=document.createEvent("MouseEvent");touchevt.initEvent(type,!0,!0),touchevt.initMouseEvent(type,!0,!0,window,originalEvent.detail,originalEvent.screenX,originalEvent.screenY,originalEvent.clientX,originalEvent.clientY,originalEvent.ctrlKey,originalEvent.shiftKey,originalEvent.altKey,originalEvent.metaKey,originalEvent.button,originalEvent.relatedTarget),type!="touchend"&&(touchevt.touches=[],touchevt.touches[0]={},touchevt.touches[0].pageX=originalEvent.pageX,touchevt.touches[0].pageY=originalEvent.pageY,touchevt.touches[0].target=theTarget,touchevt.changedTouches=touchevt.touches,touchevt.targetTouches=touchevt.touches),touchevt.mouseToTouch=!0;if($.os.ie){var elem=originalEvent.target;while(elem!==null)elem.hasAttribute("on"+type)&&eval(elem.getAttribute("on"+type)),elem=elem.parentElement}theTarget.dispatchEvent(touchevt)},mouseDown=!1,lastTarget=null,firstMove=!1;prevX=0,prevY=0,window.navigator.msPointerEnabled?(document.addEventListener("MSPointerDown",function(e){mouseDown=!0,lastTarget=e.target,e.target.nodeName.toLowerCase()=="a"&&e.target.href.toLowerCase()=="javascript:;"&&(e.target.href=""),redirectMouseToTouch("touchstart",e),cancelClickMove=!1,prevX=e.clientX,prevY=e.clientY},!0),document.addEventListener("MSPointerUp",function(e){if(!mouseDown)return;redirectMouseToTouch("touchend",e,lastTarget),lastTarget=null,mouseDown=!1},!0),document.addEventListener("MSPointerMove",function(e){if(e.clientX==prevX&&e.clientY==prevY)return;if(!mouseDown)return;redirectMouseToTouch("touchmove",e,lastTarget),e.preventDefault(),cancelClickMove=!0},!0)):(document.addEventListener("mousedown",function(e){mouseDown=!0,lastTarget=e.target,e.target.nodeName.toLowerCase()=="a"&&e.target.href.toLowerCase()=="javascript:;"&&(e.target.href="#"),redirectMouseToTouch("touchstart",e),cancelClickMove=!1,prevX=e.clientX,prevY=e.clientY},!0),document.addEventListener("mouseup",function(e){if(!mouseDown)return;redirectMouseToTouch("touchend",e,lastTarget),lastTarget=null,mouseDown=!1},!0),document.addEventListener("mousemove",function(e){if(e.clientX==prevX&&e.clientY==prevY)return;if(!mouseDown)return;redirectMouseToTouch("touchmove",e,lastTarget),e.preventDefault(),cancelClickMove=!0},!0)),document.addEventListener("drag",preventAll,!0),document.addEventListener("dragstart",preventAll,!0),document.addEventListener("dragenter",preventAll,!0),document.addEventListener("dragover",preventAll,!0),document.addEventListener("dragleave",preventAll,!0),document.addEventListener("dragend",preventAll,!0),document.addEventListener("drop",preventAll,!0),document.addEventListener("selectstart",preventAll,!0),document.addEventListener("click",function(e){!e.mouseToTouch&&e.target==lastTarget&&preventAll(e),cancelClickMove&&(preventAll(e),cancelClickMove=!1)},!0),window.addEventListener("resize",function(){var e=document.createEvent("Event");e.initEvent("orientationchange",!0,!0),document.dispatchEvent(e)},!1)}(jq),function(e){var t,n,r,i,s=!1,o=!1,u=!0,a=!1;e.ui.slideSideMenu=!0,e.ui.fixedSideMenuWidth=768;var f=!1;e.ui.ready(function(){if(e.os.ie)return;var s=e("#content, #header, #navbar"),l=e("#menu"),c=e("#menu").width(),h=c/3,p,d=e.ui.transitionTime;window.addEventListener("resize",function(t){c=e("#menu").width()}),e("#afui").bind("touchstart",function(r){t=r.touches[0].pageX,n=r.touches[0].pageY,o=!1,u=!1,f=!1,window.innerWidth>=e.ui.fixedSideMenuWidth?(u=!1,f=!0):u=!0,c=e("#menu").width(),p=l.css("display")=="block"}),e("#afui").bind("touchmove",function(l){if(!e.ui.slideSideMenu||f)return!0;if(!o)return o=!0,u=!1,!0;u=!0;if(!u)return;r=l.touches[0].pageX,i=l.touches[0].pageY;if(!p&&r<t)return;if(p&&r>t)return;if(Math.abs(i-n)>Math.abs(r-t))return u=!1,!0;if(r>c)return!0;a=r-t>0?2:!1;var v=Math.abs(r-t);a?d=(c-v)/c*numOnly(e.ui.transitionTime):(v=c-v,d=v/c*numOnly(e.ui.transitionTime)),s.cssTranslate(v+"px,0"),l.preventDefault(),l.stopPropagation(),Math.abs(r-t)<h&&(a=a?!1:2)}),e("#afui").bind("touchend",function(t){u&&o&&!f&&e.ui.toggleSideMenu(a,null,d),o=!1,u=!1,f=!1})})}(af),function(){var e,t,n,r,i;e=this.af,n={},t=_appcfg_url||"./",r={control_id:null,configs:null,current_page:null},e.fn.widgetActionBarWidget=function(t){var s,o,u,a,f;if(this.length===0)return;o=e.extend({},r,t);for(a=0,f=this.length;a<f;a++)s=this[a],s._plugin_id=s._plugin_id||e.uuid(),n[s._plugin_id]||(n[s._plugin_id]=new i(s,o),u=n[s._plugin_id]);return this.length===1?u:this},i=function(t,r){var i;i=this,this.el=t,this.$el=e(t),this.current_page=r.current_page,e(this.$el).one("destroy",function(e){if(n[i._plugin_id])return delete n[i._plugin_id]}),i.configs=r.configs,console.log("initWidget : "+r.configs.control_id);if(r.configs.control_id!==null)return i.init(r.configs.control_id)},i.prototype={name:null,current_page:null,widget_type:null,el:null,$el:null,configs:null,init:function(e){var t;return t=this,t.name=e,t.widget_type=t.configs.xtype,t.setData(t.configs.datasource.data)},setData:function(e){if(e.title!=="")return this.setTitle(e.title)},setTitle:function(t){if(t!=="")return e.ui.setTitle(t)},getTitle:function(t){return e("#pageTitle").html()}}}.call(this),function(e){var t=[],n=function(t){return t.afCSS3AnimateId||(t.afCSS3AnimateId=e.uuid()),t.afCSS3AnimateId},r=function(t){return typeof t=="string"||t instanceof String?document.getElementById(t):e.is$(t)?t[0]:t},i=function(e,i){var s,o,u=r(e);return o=n(u),t[o]?(t[o].animate(i),s=t[o]):(s=a(u,i),t[o]=s),s};e.fn.css3Animate=function(e){!e.complete&&e.callback&&(e.complete=e.callback);var t=i(this[0],e);e.complete=null,e.sucess=null,e.failure=null;for(var n=1;n<this.length;n++)t.link(this[n],e);return t},e.css3AnimateQueue=function(){return new a.queue};var s=e.feat.cssTransformStart,o=e.feat.cssTransformEnd,u=e.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd";u=e.os.fennec||e.feat.cssPrefix===""||e.os.ie?"transitionend":u,u=u.replace(u.charAt(0),u.charAt(0).toLowerCase());var a=function(){var n=function(r,i){if(!(this instanceof n))return new n(r,i);this.callbacksStack=[],this.activeEvent=null,this.countStack=0,this.isActive=!1,this.el=r,this.linkFinishedProxy_=e.proxy(this.linkFinished,this);if(!this.el)return;this.animate(i);var s=this;af(this.el).bind("destroy",function(){var e=s.el.afCSS3AnimateId;s.callbacksStack=[],t[e]&&delete t[e]})};return n.prototype={animate:function(t){this.isActive&&this.cancel(),this.isActive=!0;if(!t){alert("Please provide configuration options for animation of "+this.el.id);return}var n=!!t.addClass,r,i,a=numOnly(t.time);if(n)t.removeClass?af(this.el).replaceClass(t.removeClass,t.addClass):af(this.el).addClass(t.addClass);else{a===0&&(t.time=0),t.y||(t.y=0),t.x||(t.x=0);if(t.previous){var f=new e.getCssMatrix(this.el);t.y+=numOnly(f.f),t.x+=numOnly(f.e)}t.origin||(t.origin="0% 0%"),t.scale||(t.scale="1"),t.rotateY||(t.rotateY="0"),t.rotateX||(t.rotateX="0"),t.skewY||(t.skewY="0"),t.skewX||(t.skewX="0"),t.timingFunction||(t.timingFunction="linear");if(typeof t.x=="number"||t.x.indexOf("%")==-1&&t.x.toLowerCase().indexOf("px")==-1&&t.x.toLowerCase().indexOf("deg")==-1)t.x=parseInt(t.x,10)+"px";if(typeof t.y=="number"||t.y.indexOf("%")==-1&&t.y.toLowerCase().indexOf("px")==-1&&t.y.toLowerCase().indexOf("deg")==-1)t.y=parseInt(t.y,10)+"px";var l="translate"+s+t.x+","+t.y+o+" scale("+parseFloat(t.scale)+") rotate("+t.rotateX+")";e.os.opera||(l+=" rotateY("+t.rotateY+")"),l+=" skew("+t.skewX+","+t.skewY+")",this.el.style[e.feat.cssPrefix+"Transform"]=l,this.el.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden";var c=e.feat.cssPrefix+"Transform";t.opacity!==undefined&&(this.el.style.opacity=t.opacity,c+=", opacity"),t.width&&(this.el.style.width=t.width,c="all"),t.height&&(this.el.style.height=t.height,c="all"),this.el.style[e.feat.cssPrefix+"TransitionProperty"]="all",(""+t.time).indexOf("s")===-1?(r="ms",i=t.time+r):t.time.indexOf("ms")!==-1?(r="ms",i=t.time):(r="s",i=t.time+r),t.delay&&(this.el.style[e.feat.cssPrefix+"TransitionDelay"]=t.delay),this.el.style[e.feat.cssPrefix+"TransitionDuration"]=i,this.el.style[e.feat.cssPrefix+"TransitionTimingFunction"]=t.timingFunction,this.el.style[e.feat.cssPrefix+"TransformOrigin"]=t.origin}this.callbacksStack.push({complete:t.complete,success:t.success,failure:t.failure}),this.countStack++;var h=this,p,d=window.getComputedStyle(this.el);n&&(p=d[e.feat.cssPrefix+"TransitionDuration"],a=numOnly(p),t.time=a,p.indexOf("ms")!==-1?r="ms":(r="s",t.time*=1e3)),a===0||r=="ms"&&a<5||d.display=="none"?e.asap(e.proxy(this.finishAnimation,this,[!1])):(this.activeEvent=function(e){clearTimeout(h.timeout),h.finishAnimation(e),h.el.removeEventListener(u,h.activeEvent,!1)},h.timeout=setTimeout(this.activeEvent,numOnly(t.time)+50),this.el.addEventListener(u,this.activeEvent,!1))},addCallbackHook:function(e){return e&&this.callbacksStack.push(e),this.countStack++,this.linkFinishedProxy_},linkFinished:function(e){e?this.cancel():this.finishAnimation()},finishAnimation:function(e){e&&e.preventDefault&&e.preventDefault();if(!this.isActive)return;this.countStack--,this.countStack===0&&this.fireCallbacks(!1)},fireCallbacks:function(e){this.clearEvents();var t=this.callbacksStack;this.cleanup();for(var n=0;n<t.length;n++){var r=t[n].complete,i=t[n].success,s=t[n].failure;r&&typeof r=="function"&&r(e),e&&s&&typeof s=="function"?s():i&&typeof i=="function"&&i()}},cancel:function(){if(!this.isActive)return;this.fireCallbacks(!0)},cleanup:function(){this.callbacksStack=[],this.isActive=!1,this.countStack=0},clearEvents:function(){this.activeEvent&&this.el.removeEventListener(u,this.activeEvent,!1),this.activeEvent=null},link:function(e,t){var n={complete:t.complete,success:t.success,failure:t.failure};return t.complete=this.addCallbackHook(n),t.success=null,t.failure=null,i(e,t),t.complete=n.complete,t.success=n.success,t.failure=n.failure,this}},n}();a.queue=function(){return{elements:[],push:function(e){this.elements.push(e)},pop:function(){return this.elements.pop()},run:function(){var e=this;if(this.elements.length===0)return;if(typeof this.elements[0]=="function"){var t=this.shift();t()}if(this.elements.length===0)return;var n=this.shift();this.elements.length>0&&(n.complete=function(t){t||e.run()}),a(document.getElementById(n.id),n)},shift:function(){return this.elements.shift()}}}}(af),function(e){function s(e){return n[e].el?!0:(delete n[e],!1)}function o(){if(af.os.android&&!af.os.chrome&&af.os.webkit){var t=!1;e.bind(e.touchLayer,["cancel-enter-edit","exit-edit"],function(e){if(t){t=!1;for(var r in n)s(r)&&n[r].androidFormsMode&&n[r].stopFormsMode()}})}i=!0}var t=75,n=[],r=function(t){return t.afScrollerId||(t.afScrollerId=e.uuid()),t.afScrollerId};e.fn.scroller=function(t){var i,s;for(var o=0;o<this.length;o++)s=r(this[o]),n[s]?i=n[s]:(t||(t={}),e.feat.nativeTouchScroll||(t.useJsScroll=!0),i=u(this[o],t),n[s]=i);return this.length==1?i:this};var i=!1,u=function(){function c(t,n){var r=document.createElement("div");return r.style.position="absolute",r.style.width=t+"px",r.style.height=n+"px",r.style[e.feat.cssPrefix+"BorderRadius"]="2px",r.style.borderRadius="2px",r.style.display="none",r.className="scrollBar",r.style.background="black",r}var r=e.feat.cssTransformStart,s=e.feat.cssTransformEnd,u,a,f=function(t,n){var r;if(!i&&e.touchLayer&&e.isObject(e.touchLayer))o();else if(!e.touchLayer||!e.isObject(e.touchLayer))e.touchLayer={};typeof t=="string"||t instanceof String?r=document.getElementById(t):r=t;if(!r){alert("Could not find element for scroller "+t);return}return af.os.desktop?new l(r,n):n.useJsScroll?new u(r,n):new a(r,n)},l=function(t,n){this.el=t,this.afEl=e(this.el);for(var r in n)this[r]=n[r]};return l.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,bubbles:!0,lockBounce:!1,_scrollTo:function(e,t){t=parseInt(t,10);if(t===0||isNaN(t)){this.el.scrollTop=Math.abs(e.y),this.el.scrollLeft=Math.abs(e.x);return}var n=10,r=(this.el.scrollTop-e.y)/Math.ceil(t/n),i=(this.el.scrollLeft-e.x)/Math.ceil(t/n),s=this,o=Math.ceil(this.el.scrollTop-e.y)/r,u=Math.ceil(this.el.scrollLeft-e.x)/r,a=0,f=0;s.scrollTopInterval=window.setInterval(function(){s.el.scrollTop-=r,f++,f>=o&&(s.el.scrollTop=e.y,clearInterval(s.scrollTopInterval))},n),s.scrollLeftInterval=window.setInterval(function(){s.el.scrollLeft-=i,a++,a>=u&&(s.el.scrollLeft=e.x,clearInterval(s.scrollLeftInterval))},n)},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(e){this._scrollTo({x:0,y:0},e)},_scrollToBottom:function(e){this._scrollTo({x:0,y:this.el.scrollHeight-this.el.offsetHeight},e)},scrollToBottom:function(e){return this._scrollToBottom(e)},scrollToTop:function(e){return this._scrollToTop(e)},init:function(t,r){this.el=t,this.afEl=e(this.el),this.defaultProperties();for(var i in r)this[i]=r[i];var s=this,o=function(){s.eventsActive&&s.adjustScroll()};this.afEl.bind("destroy",function(){s.disable(!0);var t=s.el.afScrollerId;n[t]&&delete n[t],e.unbind(e.touchLayer,"orientationchange-reshape",o)}),e.bind(e.touchLayer,"orientationchange-reshape",o)},needsFormsFix:function(t){return this.useJsScroll&&this.isEnabled()&&this.el.style.display!="none"&&e(t).closest(this.afEl).size()>0},handleEvent:function(e){if(!this.scrollingLocked)switch(
e.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(e),this.bubbles||e.stopPropagation();break;case"touchmove":this.onTouchMove(e),this.bubbles||e.stopPropagation();break;case"touchend":this.onTouchEnd(e),this.bubbles||e.stopPropagation();break;case"scroll":this.onScroll(e)}},coreAddPullToRefresh:function(t){t&&(this.refreshElement=t);var n;if(this.refreshElement===null){var r=document.getElementById(this.container.id+"_pulldown");r!==null?n=af(r):n=af("<div id='"+this.container.id+"_pulldown' class='afscroll_refresh' style='border-radius:.6em;border: 1px solid #2A2A2A;background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,#666666),color-stop(1,#222222));background:#222222;margin:0px;height:60px;position:relative;text-align:center;line-height:60px;color:white;width:100%;'>"+this.refreshContent+"</div>")}else n=af(this.refreshElement);var i=n.get(0);this.refreshContainer=af('<div style="overflow:hidden;width:100%;height:0;margin:0;padding:0;padding-left:5px;padding-right:5px;display:none;"></div>'),e(this.el).prepend(this.refreshContainer.append(i,"top")),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(t,n){if(!this.refresh||!t)return;var r=e.trigger(this,"refresh-release",[t])!==!1;this.preventHideRefresh=!1,this.refreshRunning=!0;if(r){var i=this;this.refreshHangTimeout>0&&(this.refreshCancelCB=setTimeout(function(){i.hideRefresh()},this.refreshHangTimeout))}},setRefreshContent:function(e){af(this.container).find(".afscroll_refresh").html(e)},lock:function(){if(this.scrollingLocked)return;this.scrollingLocked=!0,this.rememberEventsActive=this.eventsActive,this.eventsActive&&this.disable()},unlock:function(){if(!this.scrollingLocked)return;this.scrollingLocked=!1,this.rememberEventsActive&&this.enable()},scrollToItem:function(t,n){e.is$(t)||(t=e(t));var r,i,s,o;n=="bottom"?(i=t.offset(),r=i.top-this.afEl.offset().bottom+i.height,r+=4):(o=t.offset().top,r=o-document.body.scrollTop,s=this.afEl.offset().top,document.body.scrollTop<s&&(r-=s),r-=4),this.scrollBy({y:r,x:0},0)},setPaddings:function(t,n){var r=e(this.el),i=numOnly(r.css("paddingTop"));r.css("paddingTop",t+"px").css("paddingBottom",n+"px"),this.scrollBy({y:t-i,x:0})},divide:function(e,t){return t!==0?e/t:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0}},u=function(t,n){this.init(t,n),this.container=this.el.parentNode,this.container.afScrollerId=t.afScrollerId,this.afEl=e(this.container),this.container.style.overflow!="hidden"&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),this.autoEnable&&this.enable(!0);var r;this.verticalScroll&&this.verticalScroll===!0&&this.scrollBars===!0&&(r=c(5,20),r.style.top="0px",this.vScrollCSS&&(r.className=this.vScrollCSS),r.style.display="none",this.container.appendChild(r),this.vscrollBar=r,r=null),this.horizontalScroll&&this.horizontalScroll===!0&&this.scrollBars===!0&&(r=c(20,5),r.style.bottom="0px",this.hScrollCSS&&(r.className=this.hScrollCSS),r.style.display="none",this.container.appendChild(r),this.hscrollBar=r,r=null),this.horizontalScroll&&(this.el.style["float"]="left"),this.el.hasScroller=!0},a=function(t,n){n.nativeParent&&(t=t.parentNode),this.init(t,n);var r=e(t);if(n.noParent!==!0){var i=r.parent();r.css("height",i.height()).css("width",i.width()),r.insertBefore(r.parent()),i.remove()}this.container=this.el,r.css("-webkit-overflow-scrolling","touch"),n.autoEnable&&this.enable()},a.prototype=new l,u.prototype=new l,a.prototype.defaultProperties=function(){this.refreshContainer=null,this.dY=this.cY=0,this.dX=this.cX=0,this.cancelPropagation=!1,this.loggedPcentY=0,this.loggedPcentX=0;var e=this;this.adjustScrollOverflowProxy_=function(){e.afEl.css("overflow","auto"),e.afEl.parent().css("overflow","hidden")}},a.prototype.enable=function(e){if(this.eventsActive)return;this.eventsActive=!0,this.el.style.overflow="auto",this.el.parentNode.style.overflow="hidden",e||this.adjustScroll(),this.el.addEventListener("touchstart",this,!1),this.el.addEventListener("scroll",this,!1)},a.prototype.disable=function(e){if(!this.eventsActive)return;this.logPos(this.el.scrollLeft,this.el.scrollTop),e||(this.el.style.overflow="hidden"),this.el.removeEventListener("touchstart",this,!1),this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("scroll",this,!1),this.eventsActive=!1},a.prototype.addPullToRefresh=function(e,t){this.el.removeEventListener("touchstart",this,!1),this.el.addEventListener("touchstart",this,!1),t||(this.refresh=!0),this.refresh&&this.refresh===!0&&(this.coreAddPullToRefresh(e),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block")},a.prototype.onTouchStart=function(e){this.el.scrollTop===0&&(this.el.scrollTop=1),this.el.scrollTop===this.el.scrollHeight-this.el.clientHeight&&(this.el.scrollTop-=1),this.horizontalScroll&&(this.el.scrollLeft===0&&(this.el.scrollLeft=1),this.el.scrollLeft===this.el.scrollWidth-this.el.clientWidth&&(this.el.scrollLeft-=1)),this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.el.addEventListener("touchmove",this,!1),this.dY=e.touches[0].pageY,(this.refresh||this.infinite)&&this.refresh&&this.dY<0&&this.showRefresh()},a.prototype.onTouchMove=function(t){var n=t.touches[0].pageY-this.dY,r=t.touches[0].pageX-this.dX;this.hasVertScroll&&this.el.clientHeight==this.el.scrollHeight&&t.preventDefault(),this.hasHorScroll&&this.el.clientWidth==this.el.scrollWidth&&t.preventDefault(),this.moved||(e.trigger(this,"scrollstart",[this.el]),e.trigger(e.touchLayer,"scrollstart",[this.el]),this.el.addEventListener("touchend",this,!1),this.moved=!0);var i=n-this.cY,s=r-this.cX;this.refresh&&this.el.scrollTop<0?this.showRefresh():this.refreshTriggered&&this.refresh&&this.el.scrollTop>this.refreshHeight&&(this.refreshTriggered=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),e.trigger(this,"refresh-cancel")),this.cY=n,this.cX=r},a.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger"))},a.prototype.onTouchEnd=function(t){var n=this.el.scrollTop<=-this.refreshHeight;this.fireRefreshRelease(n,!0),n&&this.refresh&&(this.refreshContainer.style.position="relative",this.refreshContainer.style.top="0px"),this.dY=this.cY=0,this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0;var r=200,i=this,s={top:this.el.scrollTop,left:this.el.scrollLeft},o=0;i.nativePolling=setInterval(function(){o++;if(o>=r){clearInterval(i.nativePolling);return}if(i.el.scrollTop!=s.top||i.el.scrollLeft!=s.left)clearInterval(i.nativePolling),e.trigger(e.touchLayer,"scrollend",[i.el]),e.trigger(i,"scrollend",[i.el])},20)},a.prototype.hideRefresh=function(n){if(this.preventHideRefresh)return;var r=this,i=function(t){t||(r.el.style[e.feat.cssPrefix+"Transform"]="none",r.el.style[e.feat.cssPrefix+"TransitionProperty"]="none",r.el.scrollTop=0,r.logPos(r.el.scrollLeft,0)),r.refreshContainer.style.top="-60px",r.refreshContainer.style.position="absolute",r.dY=r.cY=0,e.trigger(r,"refresh-finish")};n===!1||!r.afEl.css3Animate?i():r.afEl.css3Animate({y:r.el.scrollTop-r.refreshHeight+"px",x:"0%",time:t+"ms",complete:i}),this.refreshTriggered=!1},a.prototype.hideScrollbars=function(){},a.prototype.scrollTo=function(e,t){return this.logPos(e.x,e.y),e.x*=-1,e.y*=-1,this._scrollTo(e,t)},a.prototype.scrollBy=function(e,t){return e.x+=this.el.scrollLeft,e.y+=this.el.scrollTop,this.logPos(this.el.scrollLeft,this.el.scrollTop),this._scrollTo(e,t)},a.prototype.scrollToBottom=function(e){this._scrollToBottom(e),this.logPos(this.el.scrollLeft,this.el.scrollTop)},a.prototype.onScroll=function(t){if(this.infinite&&this.touchEndFired){this.touchEndFired=!1;return}if(this.scrollSkip){this.scrollSkip=!1;return}this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0);var n=this;this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,e.trigger(n,"infinite-scroll-end"))},a.prototype.logPos=function(e,t){this.loggedPcentX=this.divide(e,this.el.scrollWidth),this.loggedPcentY=this.divide(t,this.el.scrollHeight),this.scrollLeft=e,this.scrollTop=t,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},a.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy_(),this.el.scrollLeft=this.loggedPcentX*this.el.scrollWidth,this.el.scrollTop=this.loggedPcentY*this.el.scrollHeight,this.logPos(this.el.scrollLeft,this.el.scrollTop)},u.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.currentScrollingObject=null,this.elementInfo=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.vscrollBar=null,this.hscrollBar=null,this.hScrollCSS="scrollBar",this.vScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.isScrolling=!1,this.androidFormsMode=!1,this.refreshSafeKeep=!1,this.lastScrollbar="",this.finishScrollingObject=null,this.container=null,this.scrollingFinishCB=null,this.loggedPcentY=0,this.loggedPcentX=0},u.prototype.enable=function(e){if(this.eventsActive)return;this.eventsActive=!0,e?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1)},u.prototype.adjustScroll=function(){var e=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.el.clientWidth-e.w)),y:Math.round(this.loggedPcentY*(this.el.clientHeight-e.h))},0)},u.prototype.disable=function(){if(!this.eventsActive)return;var e=this.getCSSMatrix(this.el);this.logPos(numOnly(e.e)-numOnly(this.container.scrollLeft),numOnly(e.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1},u.prototype.addPullToRefresh=function(e,t){t||(this.refresh=!0),this.refresh&&this.refresh===!0&&(this.coreAddPullToRefresh(e),this.el.style.overflow="visible")},u.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.display="none",this.hscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.display="none",this.vscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms")},u.prototype.getViewportSize=function(){var e=window.getComputedStyle(this.container);return isNaN(numOnly(e.paddingTop))&&alert(typeof e.paddingTop+"::"+e.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(e.paddingTop)-numOnly(e.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(e.paddingLeft)-numOnly(e.paddingRight)}},u.prototype.onTouchStart=function(t){this.moved=!1,this.currentScrollingObject=null;if(!this.container)return;this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null);if(t.touches.length!=1||this.boolScrollLock)return;if(t.touches[0].target&&t.touches[0].target.type!==undefined){var n=t.touches[0].target.tagName.toLowerCase(),r=t.touches[0].target.type.toLowerCase();if(n=="select")return}var i={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};this.elementInfo={};var s=this.getViewportSize();this.elementInfo.bottomMargin=s.h,this.elementInfo.maxTop=this.el.clientHeight-this.elementInfo.bottomMargin,this.elementInfo.maxTop<0&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.el.clientHeight,this.elementInfo.rightMargin=s.w,this.elementInfo.maxLeft=this.el.clientWidth-this.elementInfo.rightMargin,this.elementInfo.maxLeft<0&&(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.el.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0,this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(t),this.saveFirstEventInfo(t);var o=this.getCSSMatrix(this.el);i.top=numOnly(o.f)-numOnly(this.container.scrollTop),i.left=numOnly(o.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.el,this.refresh&&i.top===0?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):i.top<0&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),i.x=i.left,i.y=i.top,this.setVScrollBar(i,0,0)&&(this.container.clientWidth>window.innerWidth?this.vscrollBar.style.right="0px":this.vscrollBar.style.right="0px",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.setHScrollBar(i,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.lastScrollInfo=i,this.hasMoved=!1,this.elementInfo.maxTop==0&&this.elementInfo.maxLeft==0?this.currentScrollingObject=null:this.scrollerMoveCSS(this.lastScrollInfo,0)},u.prototype.getCSSMatrix=function(t){if(this.androidFormsMode){var n=parseInt(t.style.marginTop,10),r=parseInt(t.style.marginLeft,10);return isNaN(n)&&(n=0),isNaN(r)&&(r=0),{f:n,e:r}}var i=e.getCssMatrix(t);return i},u.prototype.saveEventInfo=function(e){this.lastEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},u.prototype.saveFirstEventInfo=function(e){this.firstEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},u.prototype.setVScrollBar=function(e,t,n){if(!this.elementInfo.requiresVScrollBar)return!1;var r=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px";numOnly(r)>this.elementInfo.bottomMargin&&(r=this.elementInfo.bottomMargin+"px"),r!=this.vscrollBar.style.height&&(this.vscrollBar.style.height=r);var i=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+e.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height));return i>this.elementInfo.bottomMargin&&(i=this.elementInfo.bottomMargin),i<0&&(i=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:i},t,n),!0},u.prototype.setHScrollBar=function(e,t,n){if(!this.elementInfo.requiresHScrollBar)return!1;var r=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px";r!=this.hscrollBar.style.width&&(this.hscrollBar.style.width=r);var i=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+e.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width));return i>this.elementInfo.rightMargin&&(i=this.elementInfo.rightMargin),i<0&&(i=0),this.scrollbarMoveCSS(this.hscrollBar,{x:i,y:0},t,n),!0},u.prototype.onTouchMove=function(t){if(this.currentScrollingObject===null)return;var n=this.calculateMovement(t);this.calculateTarget(n),this.lastScrollInfo=n,this.moved||(e.trigger(this,"scrollstart"),e.trigger(e.touchLayer,"scrollstart",[this.el]),this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.display="block"),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.display="block")),this.moved=!0,this.refresh&&n.top===0?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):n.top<0&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(t),this.isScrolling===!1&&(this.isScrolling=!0,this.onScrollStart&&this.onScrollStart());var r=this.getCSSMatrix(this.el);this.lastScrollInfo.top=numOnly(r.f),this.lastScrollInfo.left=numOnly(r.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo);var i=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0,s=this.lastScrollInfo.y<-this.elementInfo.maxTop&&this.lastScrollInfo.deltaY<0;if(i||s){var o=i?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,u=(this.container.clientHeight-o)/this.container.clientHeight;u<.5&&(u=.5);var a=0;i&&this.lastScrollInfo.top>0||s&&this.lastScrollInfo.top<-this.elementInfo.maxTop?a=this.lastScrollInfo.top:s&&(a=-this.elementInfo.maxTop);var f=this.lastScrollInfo.deltaY*u,l=Math.abs(this.lastScrollInfo.deltaY*u);l<1&&(f=i?1:-1),this.lastScrollInfo.y=a+f}if(this.elementInfo.hasHorScroll){i=this.lastScrollInfo.x>0&&this.lastScrollInfo.deltaX>0,s=this.lastScrollInfo.x<-this.elementInfo.maxLeft&&this.lastScrollInfo.deltaX<0;if(i||s){var o=i?this.lastScrollInfo.x:-this.lastScrollInfo.x-this.elementInfo.maxLeft,u=(this.container.clientWidth-o)/this.container.clientWidth;u<.5&&(u=.5);var a=0;i&&this.lastScrollInfo.left>0||s&&this.lastScrollInfo.left<-this.elementInfo.maxLeft?a=this.lastScrollInfo.left:s&&(a=-this.elementInfo.maxLeft);var c=this.lastScrollInfo.deltaX*u,h=Math.abs(this.lastScrollInfo.deltaX*u);h<1&&(c=i?1:-1),this.lastScrollInfo.x=a+c}}this.lockBounce&&(this.lastScrollInfo.x>0?this.lastScrollInfo.x=0:this.lastScrollInfo.x*-1>this.elementInfo.maxLeft&&(this.lastScrollInfo.x=this.elementInfo.maxLeft*-1),this.lastScrollInfo.y>0?this.lastScrollInfo.y=0:this.lastScrollInfo.y*-1>this.elementInfo.maxTop&&(this.lastScrollInfo.y=this.elementInfo.maxTop*-1)),this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,e.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))},u.prototype.calculateMovement=function(e,t){var n={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},r=t?this.firstEventInfo:this.lastEventInfo,i=t?e.pageX:e.touches[0].pageX,s=t?e.pageY:e.touches[0].pageY,o=t?e.time:e.timeStamp;return n.deltaY=this.elementInfo.hasVertScroll?s-r.pageY:0,n.deltaX=this.elementInfo.hasHorScroll?i-r.pageX:0,n.time=o,n.duration=o-r.time,n},u.prototype.calculateTarget=function(e){e.y=this.lastScrollInfo.y+e.deltaY,e.x=this.lastScrollInfo.x+e.deltaX},u.prototype.checkYboundary=function(e){var t=this.container.clientHeight/2,n=this.elementInfo.maxTop+t;if(e.y>t)e.y=t;else{if(!(-e.y>n))return;e.y=-n}this.recalculateDeltaY(e)},u.prototype.checkXboundary=function(e){var t=this.container.clientWidth/2,n=this.elementInfo.maxLeft+t;if(e.x>t)e.x=t;else{if(!(-e.x>n))return;e.x=-n}this.recalculateDeltaX(e)},u.prototype.recalculateDeltaY=function(e){var t=Math.abs(e.deltaY);e.deltaY=e.y-e.top,newAbsDeltaY=Math.abs(e.deltaY),e.duration=e.duration*newAbsDeltaY/t},u.prototype.recalculateDeltaX=function(e){var t=Math.abs(e.deltaX);e.deltaX=e.x-e.left,newAbsDeltaX=Math.abs(e.deltaX),e.duration=e.duration*newAbsDeltaX/t},u.prototype.hideRefresh=function(n){var r=this;if(this.preventHideRefresh)return;this.scrollerMoveCSS({x:0,y:0,complete:function(){e.trigger(r,"refresh-finish")}},t),this.refreshTriggered=!1},u.prototype.setMomentum=function(e){var t=.0012;e.speedY=this.divide(e.deltaY,e.duration),e.speedX=this.divide(e.deltaX,e.duration),e.absSpeedY=Math.abs(e.speedY),e.absSpeedX=Math.abs(e.speedX),e.absDeltaY=Math.abs(e.deltaY),e.absDeltaX=Math.abs(e.deltaX);if(e.absDeltaY>0){e.deltaY=(e.deltaY<0?-1:1)*e.absSpeedY*e.absSpeedY/(2*t),e.absDeltaY=Math.abs(e.deltaY),e.duration=e.absSpeedY/t,e.speedY=e.deltaY/e.duration,e.absSpeedY=Math.abs(e.speedY);if(e.absSpeedY<t*100||e.absDeltaY<5)e.deltaY=e.absDeltaY=e.duration=e.speedY=e.absSpeedY=0}else if(e.absDeltaX){e.deltaX=(e.deltaX<0?-1:1)*e.absSpeedX*e.absSpeedX/(2*t),e.absDeltaX=Math.abs(e.deltaX),e.duration=e.absSpeedX/t,e.speedX=e.deltaX/e.duration,e.absSpeedX=Math.abs(e.speedX);if(e.absSpeedX<t*100||e.absDeltaX<5)e.deltaX=e.absDeltaX=e.duration=e.speedX=e.absSpeedX=0}else e.duration=0},u.prototype.onTouchEnd=function(n){if(this.currentScrollingObject===null||!this.moved)return;this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null;var r=this.calculateMovement(this.lastEventInfo,!0);this.androidFormsMode||this.setMomentum(r),this.calculateTarget(r);var i=this.getCSSMatrix(this.el);r.top=numOnly(i.f),r.left=numOnly(i.e),this.checkYboundary(r),this.elementInfo.hasHorScroll&&this.checkXboundary(r);var s=!this.preventPullToRefresh&&(r.top>this.refreshHeight||r.y>this.refreshHeight);this.fireRefreshRelease(s,r.top>0);if(this.refresh&&s)r.y=this.refreshHeight,r.duration=t;else if(r.y>=0)r.y=0,r.top>=0&&(r.duration=t);else if(-r.y>this.elementInfo.maxTop||this.elementInfo.maxTop===0)r.y=-this.elementInfo.maxTop,-r.top>this.elementInfo.maxTop&&(r.duration=t);if(this.elementInfo.hasHorScroll)if(r.x>=0)r.x=0,r.left>=0&&(r.duration=t);else if(-r.x>this.elementInfo.maxLeft||this.elementInfo.maxLeft===0)r.x=-this.elementInfo.maxLeft,-r.left>this.elementInfo.maxLeft&&(r.duration=t);this.androidFormsMode&&(r.duration=0),this.scrollerMoveCSS(r,r.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(r,r.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(r,r.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(r.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(r.y)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))},u.prototype.setFinishCalback=function(t){var n=this;this.scrollingFinishCB=setTimeout(function(){n.hideScrollbars(),e.trigger(e.touchLayer,"scrollend",[n.el]),e.trigger(n,"scrollend",[n.el]),n.isScrolling=!1,n.elementInfo=null,n.infinite&&e.trigger(n,"infinite-scroll-end")},t)},u.prototype.startFormsMode=function(){if(this.blockFormsFix)return;var t=this.getCSSMatrix(this.el);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.el.style[e.feat.cssPrefix+"Transform"]="none",this.el.style[e.feat.cssPrefix+"Transition"]="none",this.el.style[e.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]="none",this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible")},u.prototype.stopFormsMode=function(){if(this.blockFormsFix)return;var t=this.getCSSMatrix(this.el);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.el.style[e.feat.cssPrefix+"Perspective"]=1e3,this.el.style.marginTop=0,this.el.style.marginLeft=0,this.el.style[e.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]=1e3,this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden")},u.prototype.scrollerMoveCSS=function(t,n,i){n||(n=0),i||(i="linear"),n=numOnly(n),this.el&&this.el.style&&(this.eventsActive&&(this.androidFormsMode?(this.el.style.marginTop=Math.round(t.y)+"px",this.el.style.marginLeft=Math.round(t.x)+"px"):(this.el.style[e.feat.cssPrefix+"Transform"]="translate"+r+t.x+"px,"+t.y+"px"+s,this.el.style[e.feat.cssPrefix+"TransitionDuration"]=n+"ms",this.el.style[e.feat.cssPrefix+"TransitionTimingFunction"]=i)),this.logPos(t.x,t.y))},u.prototype.logPos=function(e,t){var n;this.elementInfo?n={h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin}:n=this.getViewportSize(),this.loggedPcentX=this.divide(e,this.el.clientWidth-n.w),this.loggedPcentY=this.divide(t,this.el.clientHeight-n.h),this.scrollTop=t,this.scrollLeft=e},u.prototype.scrollbarMoveCSS=function(t,n,i,o){i||(i=0),o||(o="linear"),t&&t.style&&(this.androidFormsMode?(t.style.marginTop=Math.round(n.y)+"px",t.style.marginLeft=Math.round(n.x)+"px"):(t.style[e.feat.cssPrefix+"Transform"]="translate"+r+n.x+"px,"+n.y+"px"+s,t.style[e.feat.cssPrefix+"TransitionDuration"]=i+"ms",t.style[e.feat.cssPrefix+"TransitionTimingFunction"]=o))},u.prototype.scrollTo=function(e,t){t||(t=0),this.scrollerMoveCSS(e,t)},u.prototype.scrollBy=function(e,t){var n=this.getCSSMatrix(this.el),r=numOnly(n.f),i=numOnly(n.e);this.scrollTo({y:r-e.y,x:i-e.x},t)},u.prototype.scrollToBottom=function(e){this.scrollTo({y:-1*(this.el.clientHeight-this.container.clientHeight),x:0},e)},u.prototype.scrollToTop=function(e){this.scrollTo({x:0,y:0},e)},f}()}(af),function(e){e.fn.popup=function(e){return new n(this[0],e)};var t=[],n=function(){var n=function(n,r){typeof n=="string"||n instanceof String?this.container=document.getElementById(n):this.container=n;if(!this.container){alert("Error finding container for popup "+n);return}try{if(typeof r=="string"||typeof r=="number")r={message:r,cancelOnly:"true",cancelText:"OK"};this.id=id=r.id=r.id||e.uuid();var i=this;this.addCssClass=r.addCssClass?r.addCssClass:"",this.title=r.suppressTitle?"":r.title||"Alert",this.message=r.message||"",this.cancelText=r.cancelText||"Cancel",this.cancelCallback=r.cancelCallback||function(){},this.cancelClass=r.cancelClass||"button",this.doneText=r.doneText||"Done",this.doneCallback=r.doneCallback||function(e){},this.doneClass=r.doneClass||"button",this.cancelOnly=r.cancelOnly||!1,this.onShow=r.onShow||function(){},this.autoCloseDone=r.autoCloseDone!==undefined?r.autoCloseDone:!0,t.push(this),t.length==1&&this.show()}catch(s){console.log("error adding popup "+s)}};return n.prototype={id:null,addCssClass:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,supressTitle:!1,show:function(){var t=this,n='<div id="'+this.id+'" class="afPopup hidden '+this.addCssClass+'">'+"<header>"+this.title+"</header>"+"<div>"+this.message+"</div>"+'<footer style="clear:both;">'+'<a href="javascript:;" class="'+this.cancelClass+'" id="cancel">'+this.cancelText+"</a>"+'<a href="javascript:;" class="'+this.doneClass+'" id="action">'+this.doneText+"</a>"+" </footer>"+"</div></div>";e(this.container).append(e(n));var r=e.query("#"+this.id);r.bind("close",function(){t.hide()}),this.cancelOnly&&(r.find("A#action").hide(),r.find("A#cancel").addClass("center")),r.find("A").each(function(){var n=e(this);n.bind("click",function(e){n.attr("id")=="cancel"?(t.cancelCallback.call(t.cancelCallback,t),t.hide()):(t.doneCallback.call(t.doneCallback,t),t.autoCloseDone&&t.hide()),e.preventDefault()})}),t.positionPopup(),e.blockUI(.5),r.bind("orientationchange",function(){t.positionPopup()}),r.find("header").show(),r.find("footer").show(),setTimeout(function(){r.removeClass("hidden"),t.onShow(t)},50)},hide:function(){var t=this;e.query("#"+t.id).addClass("hidden"),e.unblockUI(),!e.os.ie&&!e.os.android?setTimeout(function(){t.remove()},250):t.remove()},remove:function(){var n=this,r=e.query("#"+n.id);r.unbind("close"),r.find("BUTTON#action").unbind("click"),r.find("BUTTON#cancel").unbind("click"),r.unbind("orientationchange").remove(),t.splice(0,1),t.length>0&&t[0].show()},positionPopup:function(){var t=e.query("#"+this.id);t.css("top",window.innerHeight/2.5+window.pageYOffset-t[0].clientHeight/2+"px"),t.css("left",window.innerWidth/2-t[0].clientWidth/2+"px")}},n}(),r=!1;e.blockUI=function(t){if(r)return;t=t?" style='opacity:"+t+";'":"",e.query("BODY").prepend(e("<div id='mask'"+t+"></div>")),e.query("BODY DIV#mask").bind("touchstart",function(e){e.preventDefault()}),e.query("BODY DIV#mask").bind("touchmove",function(e){e.preventDefault()}),r=!0},e.unblockUI=function(){r=!1,e.query("BODY DIV#mask").unbind("touchstart"),e.query("BODY DIV#mask").unbind("touchmove"),e("BODY DIV#mask").remove()}}(af),function(e){e.fn.actionsheet=function(e){var n;for(var r=0;r<this.length;r++)n=new t(this[r],e);return this.length==1?n:this};var t=function(){var t=function(n,r){typeof n=="string"||n instanceof String?this.el=document.getElementById(n):this.el=n;if(!this.el){alert("Could not find element for actionsheet "+n);return}if(!(this instanceof t))return new t(n,r);if(typeof r=="object")for(var i in r)this[i]=r[i];var s=this,o='<div id="af_actionsheet"><div style="width:100%">',u="</div></div>",a;if(typeof r=="string")a=e(o+r+"<a href='javascript:;' class='cancel'>Cancel</a>"+u);else if(typeof r=="object"){a=e(o+u);var f=e(a.children().get(0));r.push({text:"Cancel",cssClasses:"cancel"});for(var l=0;l<r.length;l++){var c=e('<a href="javascript:;" >'+(r[l].text||"TEXT NOT ENTERED")+"</a>");c[0].onclick=r[l].handler||function(){},r[l].cssClasses&&r[l].cssClasses.length>0&&c.addClass(r[l].cssClasses),f.append(c)}}e(n).find("#af_actionsheet").remove(),e(n).find("#af_action_mask").remove(),actionsheetEl=e(n).append(a),a.vendorCss("Transition","all 0ms"),a.cssTranslate("0,0"),a.css("top",window.innerHeight+"px"),this.el.style.overflow="hidden",a.on("click","a",function(){return s.hideSheet(),!1}),this.activeSheet=a,e(n).append('<div id="af_action_mask" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)"/>'),setTimeout(function(){a.vendorCss("Transition","all 300ms"),a.cssTranslate("0,"+ -a.height()+"px")},10)};return t.prototype={activeSheet:null,hideSheet:function(){var t=this;this.activeSheet.off("click","a",function(){t.hideSheet()}),e(this.el).find("#af_action_mask").remove(),this.activeSheet.vendorCss("Transition","all 0ms");var n=this.activeSheet,r=this.el;setTimeout(function(){n.vendorCss("Transition","all 300ms"),n.cssTranslate("0,0px"),setTimeout(function(){n.remove(),n=null,r.style.overflow="none"},500)},10)}},t}()}(af),function(e){e.passwordBox=function(){return new t};var t=function(){this.oldPasswords={}};t.prototype={showPasswordPlainText:!1,getOldPasswords:function(t){var n=t&&document.getElementById(t)?document.getElementById(t):document;if(!n){alert("Could not find container element for passwordBox "+t);return}var r=n.getElementsByTagName("input"),i=this;for(var s=0;s<r.length;s++){if(r[s].type!="password")continue;e.os.webkit&&(r[s].type="text",e(r[s]).vendorCss("TextSecurity","disc"))}},changePasswordVisiblity:function(t,n){t=parseInt(t,10);var r=document.getElementById(n);t==1?e(r).vendorCss("TextSecurity","none"):e(r).vendorCss("TextSecurity","disc"),e.os.webkit||(t==1?r.type="text":r.type="password"),r=null}}}(af),function(e){function t(t,n,r){return r===!0&&(this.getAttribute("multiple")||e.selectBox.updateMaskValue(this.
parentNode.id,this.text,this.value),this.parentNode.value=this.value),r}function n(t,n,r){return this.options[r]&&(this.getAttribute("multiple")||e.selectBox.updateMaskValue(this.linker,this.options[r].value,this.options[r].text),this.value=this.options[r].value),r}function r(t){var n=t.target;e(n.linker).remove(),delete n.linker,t.stopPropagation()}e.selectBox={scroller:null,currLinker:null,getOldSelects:function(i){if(!e.os.android||e.os.androidICS)return;if(!e.fn.scroller){alert("This library requires af.scroller");return}var s=i&&document.getElementById(i)?document.getElementById(i):document;if(!s){alert("Could not find container element for af.selectBox "+i);return}var o=s.getElementsByTagName("select"),u=this;for(var a=0;a<o.length;a++){var f=o[a];f.style.display="none";var l=e.create("div",{className:"afFakeSelect"});l.get(0).linker=o[a],f.linker=l.get(0),l.insertAfter(o[a]),f.watch("selectedIndex",n);for(var c=0;c<f.options.length;c++){var h=c;f.options[c].watch("selected",t),f.options[c].selected&&l.html(f.options[c].text)}e(f).one("destroy",r)}u.createHtml()},updateDropdown:function(e){if(!e)return;for(var t=0;t<e.options.length;t++)e.options[t].selected&&(e.linker.innerHTML=e.options[t].text);e=null},initDropDown:function(n){var r=this;if(n.disabled)return;if(!n||!n.options||n.options.length===0)return;var i="",s=0,o=e("#afSelectBoxfix");o.html("<ul></ul>");var u=o.find("ul");for(var a=0;a<n.options.length;a++){var f=a;n.options[a].watch("selected",t);var l=n.options[a].selected?"selected":"";l&&(s=a+1);var c=e.create("li",{html:n.options[a].text,className:l});c.data("ind",a),u.append(c)}e("#afModalMask").show();try{if(s>0&&n.getAttribute("multiple")!="multiple"){var h=0,p=numOnly(u.find("li").computedStyle("height")),d=numOnly(e("#afSelectBoxContainer").computedStyle("height"));s*p>=d&&(h=(s-1)*-p),this.scroller.scrollTo({x:0,y:h})}}catch(v){console.log("error init dropdown"+v)}var m=e("#afSelectClose").css("display")=="block"?numOnly(e("#afSelectClose").height()):0;e("#afSelectWrapper").height(numOnly(e("#afSelectBoxContainer").height())-m+"px")},updateMaskValue:function(t,n,r){e(t).html(r)},setDropDownValue:function(t,n){if(!t)return;var r=e(t);n=parseInt(n,10);if(!t.getAttribute("multiple"))t.selectedIndex=n,r.find("option").prop("selected",!1),r.find("option:nth-child("+(n+1)+")").prop("selected",!0),this.scroller.scrollTo({x:0,y:0}),this.hideDropDown();else{var i=e("#afSelectBoxfix li:nth-child("+(n+1)+")");i.hasClass("selected")?i.removeClass("selected"):i.addClass("selected")}e(t).trigger("change"),t=null},hideDropDown:function(){e("#afModalMask").hide(),e("#afSelectBoxfix").html("")},createHtml:function(){var t=this;if(document.getElementById("afSelectBoxfix"))return;e(document).ready(function(){e(document).on("click",".afFakeSelect",function(n){if(this.linker.disabled)return;t.currLinker=this,this.linker.getAttribute("multiple")=="multiple"?e("#afSelectClose").show():e("#afSelectClose").hide(),t.initDropDown(this.linker)});var n=e.create("div",{id:"afSelectBoxContainer"}),r=e.create("div",{id:"afSelectBoxfix"}),i=e.create("div",{id:"afSelectWrapper"});i.css("position","relative"),i.append(r);var s=e.create("div",{id:"afSelectClose",html:"<a id='afSelectDone'>Done</a> <a id='afSelectCancel'>Cancel</a>"}),o=e.create("div",{id:"afModalMask"}),u=e("#afui");n.prepend(s).append(i),o.append(n),u.length>0?u.append(o):document.body.appendChild(o.get(0)),t.scroller=e.query("#afSelectBoxfix").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"jqselectscrollBarV"}),e("#afModalMask").on("click",function(n){var r=e(n.target);r.closest("#afSelectBoxContainer").length===0&&t.hideDropDown()}),e("#afSelectBoxfix").on("click","li",function(n){var r=e(n.target);t.setDropDownValue(t.currLinker.linker,r.data("ind"))}),e("#afSelectBoxContainer").on("click","a",function(n){if(n.target.id=="afSelectCancel")return t.hideDropDown();var r=e(t.currLinker.linker);return r.find("option").prop("selected",!1),e("#afSelectBoxfix li").each(function(n){var i=e(this);if(i.hasClass("selected")){var s=parseInt(i.data("ind"),10);r.find("option:nth-child("+(s+1)+")").prop("selected",!0),t.currLinker.innerHTML=i.html()}}),t.hideDropDown(),n.stopPropagation(),n.preventDefault(),!1})})}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(e,t){var n=this[e],r=n,i=function(){return r},s=function(i){return n=r,r=t.call(this,e,n,i),r};delete this[e]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,e,{get:i,set:s,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,e,i),HTMLElement.prototype.__defineSetter__.call(this,e,s)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(e){var t=this[e];delete this[e],this[e]=t})}(af),function(e){function r(e){return"tagName"in e?e:e.parentNode}function i(e,t,n,r){var i=Math.abs(e-t),s=Math.abs(n-r);return i>=s?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function o(){t.last&&Date.now()-t.last>=s&&(t.el.trigger("longTap"),t={})}var t={},n,s=750,u;e(document).ready(function(){var a;e(document.body).bind("touchstart",function(i){i.originalEvent&&(i=i.originalEvent);if(!i.touches||i.touches.length===0)return;var f=Date.now(),l=f-(t.last||f);if(!i.touches||i.touches.length===0)return;t.el=e(r(i.touches[0].target)),n&&clearTimeout(n),t.x1=i.touches[0].pageX,t.y1=i.touches[0].pageY,t.x2=t.y2=0,l>0&&l<=250&&(t.isDoubleTap=!0),t.last=f,u=setTimeout(o,s),e.ui.useAutoPressed&&!t.el.data("ignore-pressed")&&t.el.addClass("pressed"),a&&e.ui.useAutoPressed&&!a.data("ignore-pressed")&&a.removeClass("pressed"),a=t.el}).bind("touchmove",function(e){e.originalEvent&&(e=e.originalEvent),t.x2=e.touches[0].pageX,t.y2=e.touches[0].pageY,clearTimeout(u)}).bind("touchend",function(r){r.originalEvent&&(r=r.originalEvent);if(!t.el)return;e.ui.useAutoPressed&&!t.el.data("ignore-pressed")&&t.el.removeClass("pressed"),t.isDoubleTap?(t.el.trigger("doubleTap"),t={}):t.x2>0||t.y2>0?((Math.abs(t.x1-t.x2)>30||Math.abs(t.y1-t.y2)>30)&&t.el.trigger("swipe")&&t.el.trigger("swipe"+i(t.x1,t.x2,t.y1,t.y2)),t.x1=t.x2=t.y1=t.y2=t.last=0):"last"in t&&(t.el.trigger("tap"),n=setTimeout(function(){n=null,t.el&&t.el.trigger("singleTap"),t={}},250))}).bind("touchcancel",function(){t.el&&e.ui.useAutoPressed&&!t.el.data("ignore-pressed")&&t.el.removeClass("pressed"),t={},clearTimeout(u)})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}(jq),function(e){function p(){var e=new Date,t=e.getTime();return t}e.touchLayer=function(t){return e.touchLayer=new d(t),e.touchLayer};var t=["input","select","textarea"],n=["button","radio","checkbox","range","date"],r=e.os.ios,i=e.os.blackberry,s=e.os.blackberry||e.os.android&&!e.os.chrome,o=e.os.blackberry||e.os.android&&!e.os.chrome,u=e.os.ios,a=e.os.ios,f=.97,l=2,c=!1,h=!1,d=function(t){this.clearTouchVars(),t.addEventListener("touchstart",this,!1),t.addEventListener("touchmove",this,!1),t.addEventListener("touchend",this,!1),t.addEventListener("click",this,!1),t.addEventListener("focusin",this,!1),document.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),this.layer=t,this.scrollEndedProxy_=e.proxy(this.scrollEnded,this),this.exitEditProxy_=e.proxy(this.exitExit,this,[]),this.launchFixUIProxy_=e.proxy(this.launchFixUI,this);var n=this;this.scrollTimeoutExpireProxy_=function(){n.scrollTimeout_=null,n.scrollTimeoutEl_.addEventListener("scroll",n.scrollEndedProxy_,!1)},this.retestAndFixUIProxy_=function(){af.os.android&&(n.layer.style.height="100%"),e.asap(n.testAndFixUI,n,arguments)},document.addEventListener("click",function(e){if(h)return e.preventDefault(),e.stopPropagation(),!1;e.clientX!==undefined&&n.lastTouchStartX!=null&&2>Math.abs(n.lastTouchStartX-e.clientX)&&2>Math.abs(n.lastTouchStartY-e.clientY)&&(e.preventDefault(),e.stopPropagation())},!0),e.bind(this,"scrollstart",function(t){n.isScrolling=!0,n.scrollingEl_=t,e.feat.nativeTouchScroll||(n.scrollerIsScrolling=!0),n.fireEvent("UIEvents","scrollstart",t,!1,!1)}),e.bind(this,"scrollend",function(t){n.isScrolling=!1,e.feat.nativeTouchScroll||(n.scrollerIsScrolling=!1),n.fireEvent("UIEvents","scrollend",t,!1,!1)}),this.launchFixUI(5)};d.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:!1,allowDocumentScroll_:!1,ignoreNextResize_:!1,blockPossibleClick_:!1,isScrolling:!1,isScrollingVertical_:!1,wasPanning_:!1,isPanning_:!1,isFocused_:!1,justBlurred_:!1,requiresNativeTap:!1,holdingReshapeType_:null,trackingClick:!1,scrollerIsScrolling:!1,handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"click":this.onClick(e);break;case"blur":this.onBlur(e);break;case"scroll":this.onScroll(e);break;case"orientationchange":this.onOrientationChange(e);break;case"resize":this.onResize(e);break;case"focusin":this.onFocusIn(e)}},launchFixUI:function(e){e||(e=l);if(this.reHideAddressBarTimeout_===null)return this.testAndFixUI(0,e)},resetFixUI:function(){this.reHideAddressBarTimeout_&&clearTimeout(this.reHideAddressBarTimeout_),this.reHideAddressBarTimeout_=null},testAndFixUI:function(e,t){var n=this.getReferenceHeight(),r=this.getCurrentHeight();return n==r||r*f<n&&n*f<r?(af.os.android&&this.resetFixUI(),!1):(this.hideAddressBar(e,t),!0)},hideAddressBar:function(e,t){if(af.ui&&af.ui.isIntel)return;if(e>=t){this.resetFixUI();return}if(af.os.desktop||af.os.chrome)this.layer.style.height="100%";else if(af.os.android){window.scrollTo(1,1),this.layer.style.height=this.isFocused_||window.innerHeight>window.outerHeight?window.innerHeight+"px":window.outerHeight/window.devicePixelRatio+"px",that=this;var n=e+1;this.reHideAddressBarTimeout_=setTimeout(this.retestAndFixUIProxy_,250*n,[n,t])}else this.isFocused_||(document.documentElement.style.height="5000px",window.scrollTo(0,0),document.documentElement.style.height=window.innerHeight+"px",this.layer.style.height=window.innerHeight+"px")},getReferenceHeight:function(){return af.os.android?Math.ceil(window.outerHeight/window.devicePixelRatio):window.innerHeight},getCurrentHeight:function(){return af.os.android?window.innerHeight:numOnly(document.documentElement.style.height)},onOrientationChange:function(e){!this.holdingReshapeType_&&this.reshapeTimeout_?this.fireReshapeEvent("orientationchange"):this.previewReshapeEvent("orientationchange")},onResize:function(e){if(this.ignoreNextResize_){this.ignoreNextResize_=!1;return}this.launchFixUI()&&this.reshapeAction()},onClick:function(i){var s=i.target&&i.target.tagName!==undefined?i.target.tagName.toLowerCase():"";if(t.indexOf(s)===-1||!!this.isFocused_&&i.target===this.focusedElement)e.os.blackberry10&&this.isFocused_&&this.focusedElement.blur();else{var o=i.target&&i.target.type!==undefined?i.target.type.toLowerCase():"",u=n.indexOf(o)!==-1;if(!u){this.isFocused_&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=i.target,this.focusedElement.addEventListener("blur",this,!1);if(!this.isFocused_&&!this.justBlurred_){e.trigger(this,"enter-edit",[i.target]);if(e.os.ios){var a=this;setTimeout(function(){a.fireReshapeEvent("enter-edit")},300)}else this.previewReshapeEvent("enter-edit")}this.isFocused_=!0}else this.isFocused_=!1;this.justBlurred_=!1,this.allowDocumentScroll_=!0,r&&i.target.focus()}},previewReshapeEvent:function(e){that=this,this.reshapeTimeout_=setTimeout(function(){that.fireReshapeEvent(e),that.reshapeTimeout_=null,that.holdingReshapeType_=null},750),this.holdingReshapeType_=e},fireReshapeEvent:function(t){e.trigger(this,"reshape"),e.trigger(this,t?t+"-reshape":"unknown-reshape")},reshapeAction:function(){this.reshapeTimeout_?(clearTimeout(this.reshapeTimeout_),this.fireReshapeEvent(this.holdingReshapeType_),this.holdingReshapeType_=null,this.reshapeTimeout_=null):this.previewReshapeEvent()},onFocusIn:function(e){this.isFocused_||this.onClick(e)},onBlur:function(t){if(af.os.android&&t.target==window)return;this.isFocused_=!1,this.focusedElement&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=null,this.justBlurred_=!0,e.asap(this.exitEditProxy_,this,[t.target])},exitExit:function(t){this.justBlurred_=!1;if(!this.isFocused_){e.trigger(this,"exit-edit",[t]),this.allowDocumentScroll_=!1;if(e.os.ios){var n=this;setTimeout(function(){n.fireReshapeEvent("exit-edit")},300)}else this.previewReshapeEvent("exit-edit")}},onScroll:function(e){!this.allowDocumentScroll_&&!this.isPanning_&&e.target==document&&(this.allowDocumentScroll_=!0,this.wasPanning_?(this.wasPanning_=!1,setTimeout(this.launchFixUIProxy_,2e3,[l])):this.launchFixUI())},onTouchStart:function(n){this.dX=n.touches[0].pageX,this.dY=n.touches[0].pageY,this.lastTimestamp=n.timeStamp,this.lastTouchStartX=this.lastTouchStartY=null;if(e.os.ios){if(c===n.touches[0].identifier)return h=!0,n.preventDefault(),!1;c=n.touches[0].identifier,h=!1}if(this.scrollerIsScrolling)return this.moved=!0,this.scrollerIsScrolling=!1,n.preventDefault(),!1;this.trackingClick=!0,(a||e.feat.nativeTouchScroll)&&this.checkDOMTree(n.target,this.layer),this.isScrolling&&(this.scrollTimeout_!==null?(clearTimeout(this.scrollTimeout_),this.scrollTimeout_=null,this.scrollTimeoutEl_!=this.scrollingEl_?this.scrollEnded(!1):this.blockPossibleClick_=!0):this.scrollTimeoutEl_&&(this.scrollEnded(!0),this.blockPossibleClick_=!0));var r=af.os.android&&n&&n.target&&n.target.getAttribute&&n.target.getAttribute("data-touchlayer")=="ignore";if(r||this.isFocused_&&!e.os.blackberry10)this.requiresNativeTap=!0,this.allowDocumentScroll_=!0;else if(s&&n.target&&n.target.tagName!==undefined){var i=n.target.tagName.toLowerCase();t.indexOf(i)!==-1&&(this.requiresNativeTap=!0)}else n.target&&n.target.tagName!==undefined&&n.target.tagName.toLowerCase()=="input"&&n.target.type=="range"&&(this.requiresNativeTap=!0);!this.isPanning_&&!this.requiresNativeTap?(this.isScrolling&&!e.feat.nativeTouchScroll||!this.isScrolling)&&n.preventDefault():this.isScrollingVertical_&&this.demandVerticalScroll()},demandVerticalScroll:function(){var e=this.scrollingEl_.scrollTop<=0;if(e)this.scrollingEl_.scrollTop=1;else{var t=this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight,n=t>=this.scrollingEl_.scrollHeight;n&&(this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1)}},ignoreScrolling:function(e){return e.scrollWidth===undefined||e.clientWidth===undefined?!0:e.scrollHeight===undefined||e.clientHeight===undefined?!0:!1},allowsVerticalScroll:function(e,t){var n=t.overflowY;return n=="scroll"?!0:n=="auto"&&e.scrollHeight>e.clientHeight?!0:!1},allowsHorizontalScroll:function(e,t){var n=t.overflowX;return n=="scroll"?!0:n=="auto"&&e.scrollWidth>e.clientWidth?!0:!1},checkDOMTree:function(t,n){if(a&&this.panElementId==t.id){this.isPanning_=!0;return}if(e.feat.nativeTouchScroll){if(this.ignoreScrolling(t))return;var r=window.getComputedStyle(t);if(this.allowsVerticalScroll(t,r)){this.isScrollingVertical_=!0,this.scrollingEl_=t,this.isScrolling=!0;return}this.allowsHorizontalScroll(t,r)&&(this.isScrollingVertical_=!1,this.scrollingEl_=null,this.isScrolling=!0)}var i=t==n;!i&&t.parentNode&&this.checkDOMTree(t.parentNode,n)},scrollEnded:function(e){if(this.scrollTimeoutEl_===null)return;e&&this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,!1),this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,!1,!1),this.scrollTimeoutEl_=null},onTouchMove:function(t){var n=this.moved;this.moved=!0,i&&(this.cY=t.touches[0].pageY-this.dY,this.cX=t.touches[0].pageX-this.dX);if(this.isPanning_)return;this.isScrolling&&(n||this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,!1,!1),this.speedY=(this.lastY-t.touches[0].pageY)/(t.timeStamp-this.lastTimestamp),this.lastY=t.touches[0].pageY,this.lastX=t.touches[0].pageX,this.lastTimestamp=t.timeStamp);if(!e.os.blackberry10){(!this.isScrolling||!e.feat.nativeTouchScroll)&&t.preventDefault();return}},onTouchEnd:function(t){var n=this.moved;i&&(n=n&&!(Math.abs(this.cX)<10&&Math.abs(this.cY)<10));if(!af.os.ios||!this.requiresNativeTap)this.allowDocumentScroll_=!1;if(this.isPanning_&&n)this.wasPanning_=!0;else if(!n&&!this.requiresNativeTap){this.scrollerIsScrolling=!1;if(!this.trackingClick)return;t.preventDefault();if(!this.blockClicks&&!this.blockPossibleClick_){var r=t.target;r.nodeType==3&&(r=r.parentNode),this.fireEvent("Event","click",r,!0,t.mouseToTouch,t.changedTouches[0]),this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY}}else n&&(this.isScrolling&&(this.scrollTimeoutEl_=this.scrollingEl_,Math.abs(this.speedY)<.01?this.scrollEnded(!1):this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30)),this.requiresNativeTap&&(this.isFocused_||e.trigger(this,"cancel-enter-edit",[t.target])));e.os.blackberry10&&(this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY),this.clearTouchVars()},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0,this.moved=!1,this.isPanning_=!1,this.isScrolling=!1,this.isScrollingVertical_=!1,this.requiresNativeTap=!1,this.blockPossibleClick_=!1,this.trackingClick=!1},fireEvent:function(t,n,r,i,s,o){var u=document.createEvent(t);u.initEvent(n,i,!0),u.target=r,o&&e.each(o,function(e,t){u[e]=t}),s&&(u.mouseToTouch=!0),r.dispatchEvent(u)}}}(af),function(e){"use strict";var t=!1,n=window.location.pathname+window.location.search,r=window.location.hash,i=r,s=function(){function n(t){t.target.id==="afui"&&(r(),e(document).unbind("DOMNodeInserted",n))}function r(){t.useOSThemes&&(e.os.android?e("#afui").addClass("android"):e.os.ie?(e("#afui").addClass("win8"),e("head").append(e.create("script",{src:"plugins/af.8tiles.js"}))):e.os.blackberry||e.os.blackberry10||e.os.playbook?(e("#afui").addClass("bb"),t.backButtonText="Back"):e.os.ios7?e("#afui").addClass("ios7"):e.os.ios&&e("#afui").addClass("ios")),e.os.blackberry||e.os.blackberry10||e.os.playbook?(e("head").find("#bb10VisibilityHack").remove(),e("head").append("<style id='bb10VisibilityHack'>#afui .panel {-webkit-backface-visibility:visible  !important}</style>")):e.os.ios7&&(e("head").find("#ios7BlurrHack").remove(),e("head").append("<style id='ios7BlurrHack'>#afui .panel {-webkit-perspective:0  !important}</style>"))}var t=this;this.availableTransitions={},this.availableTransitions["default"]=this.availableTransitions.none=this.noTransition,e(document).ready(function(){var t=document.getElementById("afui");if(t===null){t=document.createElement("div"),t.id="afui";var n=document.body;while(n.firstChild)t.appendChild(n.firstChild);e(document.body).prepend(t)}e.os.supportsTouch&&e.touchLayer(t),r()}),e("#afui").length===1?r():e(document).bind("DOMNodeInserted",n),"AppMobi"in window?document.addEventListener("appMobi.device.ready",function(){t.autoBoot()}):document.readyState=="complete"||document.readyState=="loaded"?t.init?t.autoBoot():e(window).one("afui:init",function(){t.autoBoot()}):e(document).ready(function(){t.init?t.autoBoot():e(window).one("afui:init",function(){t.autoBoot()})},!1),"AppMobi"in window||(window.AppMobi={},window.AppMobi.webRoot=""),window.addEventListener("popstate",function(){var e=t.getPanelId(document.location.hash),n=document.location.href.replace(document.location.origin+"/","");if(n=="#")return;e===""&&t.history.length===1&&(e="#"+t.firstDiv.id);if(e==="")return;if(af(e).filter(".panel").length===0)return;e!="#"+t.activeDiv.id&&t.goBack()},!1)};s.prototype={init:!1,transitionTime:"230ms",showLoading:!0,loadingText:"Loading Content",loadContentQueue:[],isIntel:!1,titlebar:"",navbar:"",header:"",viewportContainer:"",remotePages:{},history:[],homeDiv:"",screenWidth:"",content:"",modalWindow:"",customFooter:!1,defaultFooter:"",defaultHeader:null,customMenu:!1,defaultMenu:"",_readyFunc:null,doingTransition:!1,passwordBox:e.passwordBox?new e.passwordBox:!1,selectBox:e.selectBox?e.selectBox:!1,ajaxUrl:"",transitionType:"slide",scrollingDivs:{},firstDiv:"",hasLaunched:!1,launchCompleted:!1,activeDiv:"",customClickHandler:"",menuAnimation:null,togglingSideMenu:!1,sideMenuWidth:"200px",trimBackButtonText:!0,useOSThemes:!0,lockPageBounce:!1,animateHeaders:!0,useAutoPressed:!0,horizontalScroll:!1,_currentHeaderID:"defaultHeader",autoBoot:function(){this.hasLaunched=!0,this.autoLaunch&&this.launch()},css3animate:function(t,n){return t=e(t),t.css3Animate(n)},setSideMenuWidth:function(t){this.sideMenuWidth=t,t+="",t=t.replace("px","")+"px",e("head").find("#styleWidth").remove(),e("head").append("<style id='styleWidth'>#afui #menu {width:"+t+"  !important}</style>")},disableNativeScrolling:function(){e.feat.nativeTouchScroll=!1},manageHistory:!0,loadDefaultHash:!0,useAjaxCacheBuster:!1,actionsheet:function(t){return e.query("#afui").actionsheet(t)},popup:function(t){return e.query("#afui").popup(t)},blockUI:function(t){e.blockUI(t)},unblockUI:function(){e.unblockUI()},removeFooterMenu:function(){e.query("#navbar").hide(),e.query("#content").css("bottom","0px"),this.showNavMenu=!1},showNavMenu:!0,autoLaunch:!0,showBackbutton:!0,showBackButton:!0,backButtonText:"",resetScrollers:!0,ready:function(t){this.launchCompleted?t():e(document).on("afui:ready",function(e){t()})},setBackButtonStyle:function(t){e.query("#backButton").replaceClass(null,t)},goBack:function(e){e=Math.min(Math.abs(~~e||1),this.history.length);if(e){var t=this.history.splice(-e).shift();this.loadContent(t.target+"",0,1,t.transition),this.transitionType=t.transition,this.updateHash(t.target)}},clearHistory:function(){this.history=[],this.setBackButtonVisibility(!1)},pushHistory:function(t,r,i,s){this.history.push({target:t,transition:i});try{if(!this.manageHistory)return;window.history.pushState(r,r,n+"#"+r+s),e(window).trigger("hashchange",null,{newUrl:n+"#"+r+s,oldURL:n+t})}catch(o){}},updateHash:function(t){if(!this.manageHistory)return;t=t.indexOf("#")==-1?"#"+t:t,i=t;var r=window.location.hash,s=this.getPanelId(t).substring(1);try{window.history.replaceState(s,s,n+t),e(window).trigger("hashchange",null,{newUrl:n+t,oldUrl:n+r})}catch(o){}},getPanelId:function(e){var t=e.indexOf("/");return t==-1?e:e.substring(0,t)},updateBadge:function(t,n,r,i){r===undefined&&(r="");var s=e(t),o=s.find("span.af-badge");o.length===0?(s.css("position")!="absolute"&&s.css("position","relative"),o=e.create("span",{className:"af-badge "+r,html:n}),s.append(o)):o.html(n),o.removeClass("tl bl br tr"),o.addClass(r),i===undefined&&(i="red"),e.isObject(i)?o.css(i):i&&o.css("background",i),o.data("ignore-pressed","true")},removeBadge:function(t){e(t).find("span.af-badge").remove()},toggleNavMenu:function(t){if(!this.showNavMenu)return;if(e.query("#navbar").css("display")!="none"&&(t!==undefined&&t!==!0||t===undefined))e.query("#content").css("bottom","0px"),e.query("#navbar").hide();else if(t===undefined||t!==undefined&&t===!0)e.query("#navbar").show(),e.query("#content").css("bottom",e.query("#navbar").css("height"))},toggleHeaderMenu:function(t){if(e.query("#header").css("display")!="none"&&(t!==undefined&&t!==!0||t===undefined))e.query("#content").css("top","0px"),e.query("#header").hide();else if(t===undefined||t!==undefined&&t===!0)e.query("#header").show(),e.query("#content").css("top",e.query("#header").css("height"))},toggleSideMenu:function(t,n,r){if(!this.isSideMenuEnabled()||this.togglingSideMenu)return;var i=this,s=e.query("#menu"),o=e.query("#content,  #header, #navbar");r=r||this.transitionTime;var u=this.isSideMenuOn();if(t===2||!u&&(t!==undefined&&t!==!1||t===undefined))this.togglingSideMenu=!0,s.show(),i.css3animate(o,{x:i.sideMenuWidth,time:r,complete:function(e){i.togglingSideMenu=!1,o.vendorCss("Transition",""),n&&n(e)}});else if(t===undefined||t!==undefined&&t===!1)this.togglingSideMenu=!0,i.css3animate(o,{x:"0px",time:r,complete:function(e){o.vendorCss("Transition",""),o.vendorCss("Transform",""),i.togglingSideMenu=!1,n&&n(e),s.hide()}})},disableSideMenu:function(){var t=this,n=e.query("#content, #header, #navbar");this.isSideMenuOn()?this.toggleSideMenu(!1,function(e){e||n.removeClass("hasMenu")}):n.removeClass("hasMenu"),e.query("#menu").removeClass("tabletMenu")},enableSideMenu:function(){e.query("#content, #header, #navbar").addClass("hasMenu"),e.query("#menu").addClass("tabletMenu")},isSideMenuEnabled:function(){return e.query("#content").hasClass("hasMenu")},isSideMenuOn:function(){var t=parseInt(e.getCssMatrix(e("#content")).e)>1?!0:!1;return this.isSideMenuEnabled()&&t},prevFooter:null,updateNavbarElements:function(t){this.prevFooter&&(this.prevFooter.data("parent")?this.prevFooter.appendTo("#"+this.prevFooter.data("parent")):this.prevFooter.appendTo("#afui")),e.is$(t)||(t=e.query("#"+t)),e.query("#navbar").append(t),this.prevFooter=t;var n=e.query("#navbar a");if(n.length>0){n.data("ignore-pressed","true").data("resetHistory","true");var r=parseFloat(100/n.length);n.css("width",r+"%")}var i=e.query("#navbar footer");if(i.length===0)return;i=i.get(0).childNodes;for(var s=0;s<i.length;s++)i[s].nodeType===3&&i[s].parentNode.removeChild(i[s])},prevHeader:null,updateHeaderElements:function(t,n){var r=this;e.is$(t)||(t=e.query("#"+t));if(t==this.prevHeader)return;this._currentHeaderID=t.prop("id");if(this.prevHeader){e.query("#header").append(t);if(!e.ui.animateHeaders){r.prevHeader.data("parent")?r.prevHeader.appendTo("#"+r.prevHeader.data("parent")):r.prevHeader.appendTo("#afui"),r.prevHeader=t;return}var i=n?"100px":"-100px",s=n?"-100px":"100px";r.prevHeader.addClass("ignore"),r.css3animate(t,{x:s,opacity:.3,time:"1ms"}),r.css3animate(r.prevHeader,{x:i,y:0,opacity:.3,time:r.transitionTime,delay:numOnly(r.transitionTime)/5+"ms",complete:function(){r.prevHeader.data("parent")?r.prevHeader.appendTo("#"+r.prevHeader.data("parent")):r.prevHeader.appendTo("#afui"),r.prevHeader.removeClass("ignore"),r.css3animate(r.prevHeader,{x:s,opacity:1,time:"1ms"}),r.prevHeader=t}}),r.css3animate(t,{x:"0px",opacity:1,time:r.transitionTime})}else e.query("#header").append(t),this.prevHeader=t},updateSideMenu:function(e){return this.updateSideMenuElements(e)},updateSideMenuElements:function(t){var n=this;if(t===undefined||t===null)return;var r=e.query("#menu_scroller");this.prevMenu&&(this.prevMenu.insertBefore("#afui #menu"),this.prevMenu=null),e.is$(t)||(t=e.query("#"+t)),r.html(""),r.append(t),this.prevMenu=t,this.scrollingDivs.menu_scroller.hideScrollbars(),this.scrollingDivs.menu_scroller.scrollToTop()},setTitle:function(t){if(this._currentHeaderID!=="defaultHeader")return;e.query("#header header:not(.ignore)  #pageTitle").html(t)},setBackButtonText:function(t){if(this._currentHeaderID!=="defaultHeader")return;this.trimBackButtonText&&(t=t.substring(0,5)+"..."),this.backButtonText.length>0?e.query("#header header:not(.ignore) #backButton").html(this.backButtonText):e.query("#header header:not(.ignore)  #backButton").html(t)},setBackButtonVisibility:function(t){t?e.query("#header #backButton").css("visibility","visible"):e.query("#header #backButton").css("visibility","hidden")},showMask:function(t){t||(t=this.loadingText||""),e.query("#afui_mask>h1").html(t),e.query("#afui_mask").show()},hideMask:function(){e.query("#afui_mask").hide()},showModal:function(t,n){var r=this;this.modalTransition=n||"up";var i=e.query("#modalContainer");typeof t=="string"&&(t="#"+t.replace("#",""));var s=e.query(t);if(s.length){var o=this.scrollingDivs.hasOwnProperty(s.attr("id"));i.html(e.feat.nativeTouchScroll||!o?e.query(t).html():e.query(t).get(0).childNodes[0].innerHTML+"",!0),i.append("<a onclick='$.ui.hideModal();' class='closebutton modalbutton'></a>"),r.modalWindow.style.display="block",this.runTransition(this.modalTransition,r.modalTransContainer,r.modalWindow,!1),o?this.scrollingDivs.modal_container.enable(r.resetScrollers):this.scrollingDivs.modal_container.disable(),this.scrollToTop("modal"),i.data("panel",t);var u=s.get(0),a=u.getAttribute("data-load");typeof a=="string"&&window[a]&&window[a](u),s.trigger("loadpanel")}},hideModal:function(){var t=this;e.query("#modalContainer").html("",!0),this.runTransition(t.modalTransition,t.modalWindow,t.modalTransContainer,!0),this.scrollingDivs.modal_container.disable();var n=e.query(e.query("#modalContainer").data("panel")),r=n.data("unload");typeof r=="string"&&window[r]&&window[r](n.get(0)),n.trigger("unloadpanel")},updatePanel:function(t,n){t="#"+t.replace("#","");var r=e.query(t).get(0);if(!r)return;var i=e.create("div",{html:n});i.children(".panel")&&i.children(".panel").length>0?i=i.children(".panel").get(0):i=i.get(0),!r.getAttribute("js-scrolling")||r.getAttribute("js-scrolling").toLowerCase()!="yes"&&r.getAttribute("js-scrolling").toLowerCase()!="true"?(e.cleanUpContent(r,!1,!0),e(r).html(n)):(e.cleanUpContent(r.childNodes[0],!1,!0),e(r.childNodes[0]).html(n)),i.getAttribute("data-title")&&r.setAttribute("data-title",i.getAttribute("data-title"))},updateContentDiv:function(e,t){return this.updatePanel(e,t)},addContentDiv:function(t,n,r,i,s){t=typeof t!="string"?t:t.indexOf("#")==-1?"#"+t:t;var o=e.query(t).get(0),u,a;return o?u=o:(u=e.create("div",{html:n}),u.children(".panel")&&u.children(".panel").length>0?u=u.children(".panel").get(0):u=u.get(0),!u.getAttribute("data-title")&&r&&u.setAttribute("data-title",r),a=u.id?u.id:t.replace("#",""),u.id=a,u.id!=t&&u.setAttribute("data-crc",t.replace("#",""))),u.className="panel",a=u.id,this.addDivAndScroll(u,i,s),o=null,u=null,a},addDivAndScroll:function(t,n,r,i){var s=this,o=!1,u,a=t.style.overflow,f=a!="hidden"&&a!="visible";i=i||this.content,!e.feat.nativeTouchScroll&&f&&t.setAttribute("js-scrolling","true"),t.getAttribute("js-scrolling")&&(t.getAttribute("js-scrolling").toLowerCase()=="yes"||t.getAttribute("js-scrolling").toLowerCase()=="true")&&(o=!0,f=!0);var l=t.title;t.title="",t.setAttribute("data-title",l),t.getAttribute("scrolling")&&t.getAttribute("scrolling")=="no"&&(f=!1,o=!1,t.removeAttribute("js-scrolling"));if(!o)i.appendChild(t),u=t,t.style["-webkit-overflow-scrolling"]="none";else{u=t.cloneNode(!1),t.title=null,t.id=null;var c=e(t);c.removeAttr("data-footer data-aside data-nav data-header selected data-load data-unload data-tab data-crc title data-title"),c.replaceClass("panel","afScrollPanel"),u.appendChild(t),i.appendChild(u),this.selectBox!==!1&&this.selectBox.getOldSelects(u.id),this.passwordBox!==!1&&this.passwordBox.getOldPasswords(u.id)}f&&(this.scrollingDivs[u.id]=e(t).scroller({scrollBars:!0,verticalScroll:!0,horizontalScroll:s.horizontalScroll,vScrollCSS:"afScrollbar",refresh:n,useJsScroll:o,noParent:!o,lockBounce:this.lockPageBounce,autoEnable:!1}),r&&e.bind(this.scrollingDivs[u.id],"refresh-release",function(e){e&&r()})),t=null,u=null},scrollToTop:function(e,t){t=t||"300ms",e=e.replace("#",""),this.scrollingDivs[e]&&this.scrollingDivs[e].scrollToTop(t)},scrollToBottom:function(e,t){e=e.replace("#",""),this.scrollingDivs[e]&&this.scrollingDivs[e].scrollToBottom(t)},parsePanelFunctions:function(t,n,r){var i=this,s=t.getAttribute("data-footer"),o=t.getAttribute("data-header");s&&s.toLowerCase()=="none"?(i.toggleNavMenu(!1),s=!1):i.toggleNavMenu(!0),s&&i.customFooter!=s?(i.customFooter=s,i.updateNavbarElements(s)):s!=i.customFooter&&(i.customFooter&&i.updateNavbarElements(i.defaultFooter),i.customFooter=!1),o&&o.toLowerCase()=="none"?(i.toggleHeaderMenu(!1),o=!1):i.toggleHeaderMenu(!0),o&&i.customHeader!=o?(i.customHeader=o,i.updateHeaderElements(o,r)):o!=i.customHeader&&(i.customHeader&&i.updateHeaderElements(i.defaultHeader,r),i.customHeader=!1);var u=e(t).find("footer");u.length>0&&(i.customFooter=t.id,u.data("parent",t.id),i.updateNavbarElements(u));var a=e(t).find("header");a.length>0&&(i.customHeader=t.id,a.data("parent",t.id),i.updateHeaderElements(a,r)),t.getAttribute("data-tab")&&(e.query("#navbar a").removeClass("pressed"),e.query("#navbar #"+t.getAttribute("data-tab")).addClass("pressed"));var f=t.getAttribute("data-nav");f&&this.customMenu!=f?(this.customMenu=f,this.updateSideMenuElements(f)):f!=this.customMenu&&(this.customMenu&&this.updateSideMenuElements(this.defaultMenu),this.customMenu=!1),n&&(l=n.getAttribute("data-unload"),typeof l=="string"&&window[l]&&window[l](n),e(n).trigger("unloadpanel"));var l=t.getAttribute("data-load");typeof l=="string"&&window[l]&&window[l](t),e(t).trigger("loadpanel");if(this.isSideMenuOn()){var i=this;i.toggleSideMenu(!1)}},parseScriptTags:function(t){if(!t)return;e.parseJS(t)},loadContent:function(t,n,r,i,s){if(this
.doingTransition){var o=this;this.loadContentQueue.push([t,n,r,i,s]);return}if(t.length===0)return;var u=null,f=!0;s=s||document.createElement("a");if(t.indexOf("#")==-1){var l="url"+a(t),c=e.query("div.panel[data-crc='"+l+"']");e.query("#"+t).length>0?f=!1:c.length>0?(f=!1,s.getAttribute("data-refresh-ajax")==="true"||s.refresh&&s.refresh===!0||this.isAjaxApp?f=!0:t="#"+c.get(0).id):e.query("#"+l).length>0&&(f=!1,s.getAttribute("data-refresh-ajax")==="true"||s.refresh&&s.refresh===!0||this.isAjaxApp?f=!0:t="#"+l)}t.indexOf("#")==-1&&f?this.loadAjax(t,n,r,i,s):this.loadDiv(t,n,r,i)},loadDiv:function(t,n,r,s){var o=this,u=t.replace("#",""),a=u.indexOf("/"),f="";a!=-1&&(f=u.substr(a),u=u.substr(0,a)),u=e.query("#"+u).get(0);if(!u){e(document).trigger("missingpanel",null,{missingTarget:t});return}if(u==this.activeDiv&&!r){this.isSideMenuOn()&&this.toggleSideMenu(!1);return}this.transitionType=s;var l=this.activeDiv,c=u;if(u.getAttribute("data-modal")=="true"||u.getAttribute("modal")=="true")return this.showModal(u.id);if(l==c)return;n?(this.clearHistory(),this.pushHistory("#"+this.firstDiv.id,u.id,s,f)):r||this.pushHistory(i,u.id,s,f),i="#"+u.id+f,this.doingTransition=!0,l.style.display="block",c.style.display="block",this.runTransition(s,l,c,r),this.parsePanelFunctions(u,l,r),this.loadContentData(u,n,r,s),setTimeout(function(){o.scrollingDivs[l.id]&&o.scrollingDivs[l.id].disable()},numOnly(o.transitionTime)+50)},loadContentData:function(t,n,r,i){var s,o,u,a;r?this.history.length>0&&(u=this.history[this.history.length-1],a=u.target.indexOf("/"),a!=-1?s=u.target.substr(0,a):s=u.target,o=e.query(s).get(0),o?this.setBackButtonText(o.getAttribute("data-title")):this.setBackButtonText("Back")):this.activeDiv.getAttribute("data-title")?this.setBackButtonText(this.activeDiv.getAttribute("data-title")):this.setBackButtonText("Back"),t.getAttribute("data-title")&&this.setTitle(t.getAttribute("data-title")),n&&(this.setBackButtonText(this.firstDiv.getAttribute("data-title")),t==this.firstDiv&&(this.history.length=0)),e("#header #menubadge").css("float","right"),this.history.length===0?(this.setBackButtonVisibility(!1),this.history=[],e("#header #menubadge").css("float","left")):this.showBackButton&&this.showBackbutton&&this.setBackButtonVisibility(!0),this.activeDiv=t,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable(this.resetScrollers)},loadAjax:function(t,n,r,i,s){if(this.activeDiv.id=="afui_ajax"&&t==this.ajaxUrl)return;var o="url"+a(t),u=this;t.indexOf("http")==-1&&(t=AppMobi.webRoot+t);var f=new XMLHttpRequest;s&&typeof s!="object"&&(s=document.createElement("a"),s.setAttribute("data-persist-ajax",!0)),s=s||document.createElement("a"),f.onreadystatechange=function(){if(f.readyState==4&&f.status==200){this.doingTransition=!1;var a,l=!1,c=e.query("#"+o);if(c.length>0)u.updatePanel(o,f.responseText),c.get(0).setAttribute("data-title",s.title?s.title:t);else if(s.getAttribute("data-persist-ajax")||u.isAjaxApp){var h=s.getAttribute("data-pull-scroller")==="true"?!0:!1;a=h?function(){s.refresh=!0,u.loadContent(t,n,r,i,s),s.refresh=!1}:null;var p=e(f.responseText);p.hasClass("panel")?(o=p.attr("id"),p=p.get(0).innerHTML):p=p.html(),e("#"+o).length>0?u.updatePanel("#"+o,p):e("div.panel[data-crc='"+o+"']").length>0?(u.updatePanel(e("div.panel[data-crc='"+o+"']").get(0).id,p),o=e("div.panel[data-crc='"+o+"']").get(0).id):o=u.addContentDiv(o,f.responseText,s.title?s.title:t,h,a)}else u.updatePanel("afui_ajax",f.responseText),e.query("#afui_ajax").get(0).setAttribute("data-title",s.title?s.title:t),u.loadContent("#afui_ajax",n,r),l=!0;var d=document.createElement("div");e(d).html(f.responseText),u.parseScriptTags(d);if(l){u.showLoading&&u.hideMask();return}return u.loadContent("#"+o),u.showLoading&&u.hideMask(),null}},this.ajaxUrl=t;var l=this.useAjaxCacheBuster?t+(t.split("?")[1]?"&":"?")+"cache="+Math.random()*1e16:t;f.open("GET",l,!0),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.send(),this.showLoading&&this.showMask()},runTransition:function(e,t,n,r){this.availableTransitions[e]||(e="default"),this.availableTransitions[e].call(this,t,n,r)},launch:function(){if(this.hasLaunched===!1||this.launchCompleted){this.hasLaunched=!0;return}var t=this;this.isIntel=window.AppMobi&&typeof AppMobi=="object"&&AppMobi.app!==undefined?!0:!1,this.viewportContainer=af.query("#afui"),this.navbar=af.query("#navbar").get(0),this.content=af.query("#content").get(0),this.header=af.query("#header").get(0),this.menu=af.query("#menu").get(0),this.viewportContainer.on("click","a",function(e){o(e,e.currentTarget)});var n=null;e.bind(e.touchLayer,"enter-edit",function(e){n=e}),e.bind(e.touchLayer,"enter-edit-reshape",function(){var r=e(n),i=r.closest(t.activeDiv);if(i&&i.size()>0)if(e.os.ios||e.os.chrome){var s,o;document.body.scrollTop?s=document.body.scrollTop-i.offset().top:s=0,o=i.offset().bottom-r.offset().bottom,t.scrollingDivs[t.activeDiv.id].setPaddings(s,o)}else if(e.os.android||e.os.blackberry){var u=r.offset(),a=i.offset();u.bottom>a.bottom&&u.height<a.height&&t.scrollingDivs[t.activeDiv.id].scrollToItem(r,"bottom")}}),e.os.ios&&e.bind(e.touchLayer,"exit-edit-reshape",function(){t.activeDiv&&t.activeDiv.id&&t.scrollingDivs.hasOwnProperty(t.activeDiv.id)&&t.scrollingDivs[t.activeDiv.id].setPaddings(0,0)}),this.navbar||(this.navbar=e.create("div",{id:"navbar"}).get(0),this.viewportContainer.append(this.navbar)),this.header||(this.header=e.create("div",{id:"header"}).get(0),this.viewportContainer.prepend(this.header)),this.menu||(this.menu=e.create("div",{id:"menu",html:'<div id="menu_scroller"></div>'}).get(0),this.viewportContainer.append(this.menu),this.menu.style.overflow="hidden",this.scrollingDivs.menu_scroller=e.query("#menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"afScrollbar",useJsScroll:!e.feat.nativeTouchScroll,noParent:e.feat.nativeTouchScroll,autoEnable:!0,lockBounce:this.lockPageBounce}),e.feat.nativeTouchScroll&&e.query("#menu_scroller").css("height","100%"),this.asideMenu=e.create("div",{id:"aside_menu",html:'<div id="aside_menu_scroller"></div>'}).get(0),this.viewportContainer.append(this.asideMenu),this.asideMenu.style.overflow="hidden",this.scrollingDivs.menu_scroller=e.query("#aside_menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"afScrollbar",useJsScroll:!e.feat.nativeTouchScroll,noParent:e.feat.nativeTouchScroll,autoEnable:!0,lockBounce:this.lockPageBounce}),e.feat.nativeTouchScroll&&e.query("#aside_menu_scroller").css("height","100%")),this.content||(this.content=e.create("div",{id:"content"}).get(0),this.viewportContainer.append(this.content)),e(this.header).html('<a id="backButton" class="button"></a> <h1 id="pageTitle"></h1>'+header.innerHTML),this.backButton=e.query("#header #backButton").css("visibility","hidden"),e(document).on("click","#header #backButton",function(e){e.preventDefault(),t.goBack()}),this.titleBar=e.query("#header #pageTitle").get(0),this.addContentDiv("afui_ajax","");var s=e.create("div",{id:"afui_mask",className:"ui-loader",html:"<span class='ui-icon ui-icon-loading spin'></span><h1>Loading Content</h1>"}).css({"z-index":2e4,display:"none"});document.body.appendChild(s.get(0));var u=e.create("div",{id:"afui_modal"}).get(0);u.appendChild(e.create("div",{id:"modalContainer"}).get(0)),this.modalTransContainer=e.create("div",{id:"modalTransContainer"}).appendTo(u).get(0),this.viewportContainer.append(u),this.scrollingDivs.modal_container=e.query("#modalContainer").scroller({scrollBars:!0,vertical:!0,vScrollCSS:"afScrollbar",noParent:!0,lockBounce:this.lockPageBounce}),this.modalWindow=u;var a={},f=this.viewportContainer.get(0).querySelectorAll(".panel");for(var l=0;l<f.length;l++){var c=f[l],h=c,p,d=c.previousSibling;c.parentNode&&c.parentNode.id!="content"?(c.parentNode.removeChild(c),p=c.id,h.getAttribute("selected")&&(this.firstDiv=e.query("#"+p).get(0)),this.addDivAndScroll(h),e.query("#"+p).insertAfter(d)):c.parsedContent||(c.parsedContent=1,c.parentNode.removeChild(c),p=c.id,h.getAttribute("selected")&&(this.firstDiv=e.query("#"+p).get(0)),this.addDivAndScroll(h),e.query("#"+p).insertAfter(d)),c.getAttribute("data-defer")&&(a[p]=c.getAttribute("data-defer")),this.firstDiv||(this.firstDiv=e.query("#"+p).get(0)),c=null}f=null;var v=!1,m=Object.keys(a).length;if(m>0){v=!0;var g=0;for(var y in a)(function(n){e.ajax({url:AppMobi.webRoot+a[n],success:function(r){if(r.length===0)return;t.updatePanel(n,r),t.parseScriptTags(e.query("#"+n).get(0)),g++,g>=m&&(e(document).trigger("defer:loaded"),v=!1)},error:function(t){console.log("Error with deferred load "+AppMobi.webRoot+a[n]),g++,g>=m&&(e(document).trigger("defer:loaded"),v=!1)}})})(y)}if(this.firstDiv){this.activeDiv=this.firstDiv,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable();var b=function(){e.query("#navbar").append(e.create("footer",{id:"defaultNav"}).append(e.query("#navbar").children())),t.defaultFooter="defaultNav",t.prevFooter=e.query("#defaultNav"),t.updateNavbarElements(t.prevFooter);var n=e.query("nav").get(0);n&&(t.defaultMenu=e(n),t.updateSideMenuElements(t.defaultMenu),t.prevMenu=t.defaultMenu),t.defaultHeader="defaultHeader",e.query("#header").append(e.create("header",{id:"defaultHeader"}).append(e.query("#header").children())),t.prevHeader=e.query("#defaultHeader"),e.query("#navbar").on("click","a",function(t){e.query("#navbar a").not(t.currentTarget).removeClass("pressed"),e(t.currentTarget).addClass("pressed")});var s=e.query("#navbar a");s.length>0&&s.css("width",100/s.length+"%"),e.query("nav").length>0&&(e.query("#afui #header").addClass("hasMenu"),e.query("#afui #content").addClass("hasMenu"),e.query("#afui #navbar").addClass("hasMenu"),e.query("#afui #menu").addClass("tabletMenu"));var o=t.getPanelId(r),u=o=="#"+t.firstDiv.id;o.length>0&&t.loadDefaultHash&&!u?t.loadContent(r,!0,!1,"none"):(i="#"+t.firstDiv.id,t.firstDiv.style.display="block",t.parsePanelFunctions(t.firstDiv),t.loadContentData(t.firstDiv),e.query("#header #backButton").css("visibility","hidden"),(t.firstDiv.getAttribute("data-modal")=="true"||t.firstDiv.getAttribute("modal")=="true")&&t.showModal(t.firstDiv.id)),t.launchCompleted=!0,e(document).trigger("afui:ready"),e.query("#afui #splashscreen").remove()};v?e(document).one("defer:loaded",b):b()}e.bind(t,"content-loaded",function(){if(t.loadContentQueue.length>0){var e=t.loadContentQueue.splice(0,1)[0];t.loadContent(e[0],e[1],e[2],e[3],e[4])}}),(window.navigator.standalone||this.isIntel)&&this.blockPageScroll(),this.topClickScroll()},topClickScroll:function(){var e=this;document.getElementById("header").addEventListener("click",function(t){t.clientY<=15&&t.target.nodeName.toLowerCase()=="h1"&&e.scrollingDivs[e.activeDiv.id].scrollToTop("100")})},blockPageScroll:function(){e.query("#afui #header").bind("touchmove",function(e){e.preventDefault()})},noTransition:function(e,t,n){t.style.display="block",e.style.display="block";var r=this;r.clearAnimations(t),r.css3animate(e,{x:"0%",y:0}),r.finishTransition(e),t.style.zIndex=2,e.style.zIndex=1},finishTransition:function(t,n){t.style.display="none",this.doingTransition=!1,n&&this.clearAnimations(n),t&&this.clearAnimations(t),e.trigger(this,"content-loaded")},clearAnimations:function(t){t.style[e.feat.cssPrefix+"Transform"]="none",t.style[e.feat.cssPrefix+"Transition"]="none"}};var o=function(t,n){if(n==afui)return;if(n.tagName.toLowerCase()!="a"&&n.parentNode)return o(t,n.parentNode);if(n.tagName!=="undefined"&&n.tagName.toLowerCase()=="a"){var r=typeof e.ui.customClickHandler=="function"?e.ui.customClickHandler:!1;if(r!==!1&&e.ui.customClickHandler(n,t))return t.preventDefault();if(n.href.toLowerCase().indexOf("javascript:")!==-1||n.getAttribute("data-ignore"))return;if(n.href.indexOf("tel:")===0)return!1;if(n.hash.indexOf("#")===-1&&n.target.length>0){n.href.toLowerCase().indexOf("javascript:")!==0&&(e.ui.isIntel?(t.preventDefault(),AppMobi.device.launchExternal(n.href)):e.os.desktop||(t.target.target="_blank"));return}var i=n.href,s=location.protocol+"//"+location.hostname+":"+location.port+location.pathname;i.indexOf(s)===0&&(i=i.substring(s.length));if(i=="#"||i.indexOf("#")===i.length-1||i.length===0&&n.hash.length===0)return;t.preventDefault();var u=n.getAttribute("data-transition"),a=n.getAttribute("data-resetHistory");a=a&&a.toLowerCase()=="true"?!0:!1,i=n.hash.length>0?n.hash:i,e.ui.loadContent(i,a,0,u,n);return}},u="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",a=function(e,t){t===undefined&&(t=0);var n=0,r=0;t^=-1;for(var i=0,s=e.length;i<s;i++)n=(t^e.charCodeAt(i))&255,r="0x"+u.substr(n*9,8),t=t>>>8^r;return t^-1};e.ui=new s,e.ui.init=!0,e(window).trigger("afui:preinit"),e(window).trigger("afui:init")}(af),function(){$(document).one("appMobi.device.ready",function(){setTimeout(function(){document.getElementById("afui").style.height="100%",document.body.style.height="100%",document.documentElement.style.minHeight=window.innerHeight},300),$.ui.ready(function(){$.ui.blockPageScroll()})}),$.feat.nativeTouchScroll&&document.addEventListener("orientationchange",function(e){if($.ui.scrollingDivs[$.ui.activeDiv.id]){var t=$.ui.scrollingDivs[$.ui.activeDiv.id];t.el.scrollTop===0&&(t.disable(),setTimeout(function(){t.enable()},300))}})}(),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(n.style.zIndex=1,t.style.zIndex=2,i.clearAnimations(n),i.css3animate(t,{x:"0%",time:e.transitionTime,opacity:.1,complete:function(e){if(e){i.finishTransition(t,n);return}i.css3animate(t,{x:"-100%",opacity:1,complete:function(){i.finishTransition(t)}}),n.style.zIndex=2,t.style.zIndex=1}})):(t.style.zIndex=1,n.style.zIndex=2,n.style.opacity=0,i.css3animate(n,{x:"0%",opacity:.1,complete:function(){i.css3animate(n,{x:"0%",time:e.transitionTime,opacity:1,complete:function(e){if(e){i.finishTransition(t,n);return}i.clearAnimations(n),i.css3animate(t,{x:"-100%",y:0,complete:function(){i.finishTransition(t)}})}})}}))}e.availableTransitions.fade=t}(af.ui),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(i.css3animate(n,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){i.css3animate(n,{x:"0%",scale:1,time:e.transitionTime,rotateY:"0deg",complete:function(){i.clearAnimations(n)}})}}),i.css3animate(t,{x:"100%",time:e.transitionTime,scale:.8,rotateY:"180deg",complete:function(){i.css3animate(t,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){i.finishTransition(t)}}),n.style.zIndex=2,t.style.zIndex=1}})):(t.style.zIndex=1,n.style.zIndex=2,i.css3animate(n,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){i.css3animate(n,{x:"0%",scale:1,time:e.transitionTime,rotateY:"0deg",complete:function(){i.clearAnimations(n)}})}}),i.css3animate(t,{x:"100%",time:e.transitionTime,scale:.8,rotateY:"180deg",complete:function(){i.css3animate(t,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){i.finishTransition(t)}}),n.style.zIndex=2,t.style.zIndex=1}}))}e.availableTransitions.flip=t}(af.ui),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(n.style.zIndex=1,t.style.zIndex=2,i.clearAnimations(n),i.css3animate(t,{x:"0%",time:e.transitionTime,opacity:.1,scale:.2,origin:"50% 50%",complete:function(e){if(e){i.finishTransition(t);return}i.css3animate(t,{x:"-100%",complete:function(){i.finishTransition(t)}}),n.style.zIndex=2,t.style.zIndex=1}})):(t.style.zIndex=1,n.style.zIndex=2,i.css3animate(n,{x:"0%",scale:.2,origin:"50% 50%",opacity:.1,time:"0ms",complete:function(){i.css3animate(n,{x:"0%",time:e.transitionTime,scale:1,opacity:1,origin:"0% 0%",complete:function(e){if(e){i.finishTransition(t,n);return}i.clearAnimations(n),i.css3animate(t,{x:"100%",y:0,complete:function(){i.finishTransition(t)}})}})}}))}e.availableTransitions.pop=t}(af.ui),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?i.css3animate(t,{x:"0%",y:"0%",complete:function(){i.css3animate(t,{x:"100%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}}).link(n,{x:"0%",time:e.transitionTime})}}).link(n,{x:"-100%",y:"0%"}):i.css3animate(t,{x:"0%",y:"0%",complete:function(){i.css3animate(t,{x:"-100%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}}).link(n,{x:"0%",time:e.transitionTime})}}).link(n,{x:"100%",y:"0%"})}e.availableTransitions.slide=t,e.availableTransitions["default"]=t}(af.ui),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(t.style.zIndex=2,n.style.zIndex=1,i.css3animate(t,{y:"0%",x:"0%",complete:function(){i.css3animate(t,{y:"-100%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}})}})):(t.style.zIndex=1,n.style.zIndex=2,i.css3animate(n,{y:"-100%",x:"0%",time:"10ms",complete:function(){i.css3animate(n,{y:"0%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}})}}))}e.availableTransitions.down=t}(af.ui),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(t.style.zIndex=2,n.style.zIndex=1,i.css3animate(t,{y:"0%",x:"0%",complete:function(){i.css3animate(t,{y:"100%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}})}})):(t.style.zIndex=1,n.style.zIndex=2,i.css3animate(n,{y:"100%",x:"0%",time:"10ms",complete:function(){i.css3animate(n,{y:"0%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}})}}))}e.availableTransitions.up=t}(af.ui),function(e){"use strict";function t(){e.ui.isWin8=!0;if(!e.os.ie)return;e.ui.ready(function(){e.ui.slideSideMenu&&(e.ui.slideSideMenu=!1),e.query("#afui #navbar footer").append("<a id='metroMenu' onclick='$.ui.toggleSideMenu()'>•••</a>");var t=e.query("#afui #navbar").find("a");if(t.length>0){t.data("ignore-pressed","true").data("resetHistory","true");var n=parseFloat(100/t.length);t.css("width",n+"%")}var r=e.ui.updateNavbarElements;e.ui.updateNavbarElements=function(){r.apply(e.ui,arguments);if(e.query("#afui #navbar #metroMenu").length==1)return;e.query("#afui #navbar footer").append("<a id='metroMenu' onclick='$.ui.toggleSideMenu()'>•••</a>")};var i=e.ui.toggleSideMenu;e.ui.isSideMenuOn=function(){var t=parseInt(e.getCssMatrix(e("#navbar")).f)<0?!0:!1;return this.isSideMenuEnabled()&&t},e.ui.toggleSideMenu=function(t,n){if(!this.isSideMenuEnabled()||this.togglingSideMenu)return;this.togglingSideMenu=!0;var r=this,i=e.query("#menu"),s=e.query("#navbar"),o=this.isSideMenuOn();if(t===2||!o&&(t!==undefined&&t!==!1||t===undefined))i.show(),r.css3animate(s,{y:"-150px",time:e.ui.transitionTime,complete:function(e){r.togglingSideMenu=!1,n&&n(!0)}}),r.css3animate(i,{y:"0px",time:e.ui.transitionTime});else if(t===undefined||t!==undefined&&t===!1)r.css3animate(s,{y:"0",time:e.ui.transitionTime,complete:function(e){r.togglingSideMenu=!1,n&&n(!0),i.hide()}}),r.css3animate(i,{y:"150px",time:e.ui.transitionTime})}})}if(!e)throw"This plugin requires jqUi";e.ui?t():e(document).ready(function(){t()})}(af);if(!window.af||"function"!=typeof af){var af=function(e){function t(e,t,n){var r=w.createDocumentFragment();if(n){for(n=e.length-1;0<=n;n--)r.insertBefore(e[n],r.firstChild);t.insertBefore(r,t.firstChild)}else{for(n=0;n<e.length;n++)r.appendChild(e[n]);t.appendChild(r)}}function n(e){return e in x?x[e]:x[e]=RegExp("(^|\\s)"+e+"(\\s|$)")}function r(e){for(var t=0;t<e.length;t++)e.indexOf(e[t])!=t&&(e.splice(t,1),t--);return e}function i(e,t){var n=[];if(e==b)return n;for(;e;e=e.nextSibling)1==e.nodeType&&e!==t&&n.push(e);return n}function s(e,t){try{return t.querySelectorAll(e)}catch(n){return[]}}function o(e,t){if(e)if(e.nodeType)t[t.length++]=e;else for(var n=0,r=e.length;n<r;n++)t[t.length++]=e[n]}function u(){}function a(t,n){t.os={},t.os.webkit=n.match(/WebKit\/([\d.]+)/)?!0:!1,t.os.android=n.match(/(Android)\s+([\d.]+)/)||n.match(/Silk-Accelerated/)?!0:!1,t.os.androidICS=t.os.android&&n.match(/(Android)\s4/)?!0:!1,t.os.ipad=n.match(/(iPad).*OS\s([\d_]+)/)?!0:!1,t.os.iphone=!t.os.ipad&&n.match(/(iPhone\sOS)\s([\d_]+)/)?!0:!1,t.os.ios7=n.match(/(iPhone\sOS)\s([7_]+)/)?!0:!1,t.os.webos=n.match(/(webOS|hpwOS)[\s\/]([\d.]+)/)?!0:!1,t.os.touchpad=t.os.webos&&n.match(/TouchPad/)?!0:!1,t.os.ios=t.os.ipad||t.os.iphone,t.os.playbook=n.match(/PlayBook/)?!0:!1,t.os.blackberry10=n.match(/BB10/)?!0:!1,t.os.blackberry=t.os.playbook||t.os.blackberry10||n.match(/BlackBerry/)?!0:!1,t.os.chrome=n.match(/Chrome/)?!0:!1,t.os.opera=n.match(/Opera/)?!0:!1,t.os.fennec=n.match(/fennec/i)?!0:n.match(/Firefox/)?!0:!1,t.os.ie=n.match(/MSIE 10.0/i)?!0:!1,t.os.ieTouch=t.os.ie&&n.toLowerCase().match(/touch/i)?!0:!1,t.os.supportsTouch=e.DocumentTouch&&w instanceof e.DocumentTouch||"ontouchstart"in e,t.feat={};var r=w.documentElement.getElementsByTagName("head")[0];t.feat.nativeTouchScroll="undefined"!=typeof r.style["-webkit-overflow-scrolling"]&&(t.os.ios||t.os.blackberry10),t.feat.cssPrefix=t.os.webkit?"Webkit":t.os.fennec?"Moz":t.os.ie?"ms":t.os.opera?"O":"",t.feat.cssTransformStart=t.os.opera?"(":"3d(",t.feat.cssTransformEnd=t.os.opera?")":",0)",t.os.android&&!t.os.webkit&&(t.os.android=!1)}function f(e){return e._afmid||(e._afmid=D++)}function l(e,t,n,r){t=c(t);if(t.ns)var i=RegExp("(?:^| )"+t.ns.replace(" "," .* ?")+"(?: |$)");return(_[f(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||i.test(e.ns))&&(!n||e.fn==n||"function"==typeof e.fn&&"function"==typeof n&&e.fn===n)&&(!r||e.sel==r)})}function c(e){return e=(""+e).split("."),{e:e[0],ns:e.slice(1).sort().join(" ")}}function h(e,t,n){M.isObject(e)?M.each(e,n):e.split(/\s/).forEach(function(e){n(e,t)})}function p(e,t,n,r,i){var s=f(e),o=_[s]||(_[s]=[]);h(t,n,function(t,n){var s=i&&i(n,t),u=s||n,a=function(t){var n=u.apply(e,[t].concat(t.data));return!1===n&&t.preventDefault(),n},s=M.extend(c(t),{fn:n,proxy:a,sel:r,del:s,i:o.length});o.push(s),e.addEventListener(s.e,a,!1)})}function d(e,t,n,r){var i=f(e);h(t||"",n,function(t,n){l(e,t,n,r).forEach(function(t){delete _[i][t.i],e.removeEventListener(t.e,t.proxy,!1)})})}function v(e){var t=M.extend({originalEvent:e},e);return M.each(B,function(n,r){t[n]=function(){this[r]=P;if("stopImmediatePropagation"==n||"stopPropagation"==n)if(e.cancelBubble=!0,!e[n])return;return e[n].apply(e,arguments)},t[r]=H}),t}function m(e,t,n,r){p(e,t,n,r,function(t){return function(n){var i,s=M(n.target).closest(r,e).get(0);if(s)return i=M.extend(v(n),{currentTarget:s,liveFired:e}),t.apply(s,[i].concat([].slice.call(arguments,1)))}})}function g(e,t){if(t&&e.dispatchEvent){var n=M.Event("destroy",{bubbles:!1});e.dispatchEvent(n)}if((n=f(e))&&_[n]){for(var r in _[n])e.removeEventListener(_[n][r].e,_[n][r].proxy,!1);delete _[n]}}function y(e,t){if(e){var n=e.childNodes;if(n&&0<n.length)for(var r;r<n.length;r++)y(n[r],t);g(e,t)}}var b,w=e.document,E=[],S=E.slice,x={},T=1,N=/<(\w+)[^>]*>/,C={},k={},L={columncount:!0,fontweight:!0,lineheight:!0,"column-count":!0,"font-weight":!0,"line-height":!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,"z-index":!0,zoom:!0},A="object"==typeof MSApp,O=function(e,t){this.length=0;if(!e)return this;if(e instanceof O&&t==b)return e;if(af.isFunction(e))return af(w).ready(e);if(af.isArray(e)&&e.length!=b){for(var n=0;n<e.length;n++)this[this.length++]=e[n];return this}if(af.isObject(e)&&af.isObject(t)){if(e.length==b)e.parentNode==t&&(this[this.length++]=e);else for(n=0;n<e.length;n++)e[n].parentNode==t&&(this[this.length++]=e[n]);return this}if(af.isObject(e)&&t==b)return this[this.length++]=e,this;if(t!==b){if(t instanceof O)return t.find(e)}else t=w;return this.selector(e,t)},M=function(e,t){return new O(e,t)};M.is$=function(e){return e instanceof O},M.map=function(e,t){var n,r=[],i;if(M.isArray(e))for(i=0;i<e.length;i++)n=t.apply(e[i],[i,e[i]]),n!==b&&r.push(n);else if(M.isObject(e))for(i in e)e.hasOwnProperty(i)&&"length"!=i&&(n=t(e[i],[i,e[i]]),n!==b&&r.push(n));return af(r)},M.each=function(e,t){var n;if(M.isArray(e))for(n=0;n<e.length&&!1!==t(n,e[n]);n++);else if(M.isObject(e))for(n in e)if(e.hasOwnProperty(n)&&"length"!=n&&!1===t(n,e[n]))break;return e},M.extend=function(e){e==b&&(e=this);if(1===arguments.length){for(var t in e)this[t]=e[t];return this}return S.call(arguments,1).forEach(function(t){for(var n in t)e[n]=t[n]}),e},M.isArray=function(e){return e instanceof Array&&e.push!=b},M.isFunction=function(e){return"function"==typeof e&&!(e instanceof RegExp)},M.isObject=function(e){return"object"==typeof e&&null!==e},M.fn=O.prototype={constructor:O,forEach:E.forEach,reduce:E.reduce,push:E.push,indexOf:E.indexOf,concat:E.concat,selector:function(e,t){e=e.trim();if("#"===e[0]&&-1==e.indexOf(".")&&-1==e.indexOf(",")&&-1===e.indexOf(" ")&&-1===e.indexOf(">"))t==w?o(t.getElementById(e.replace("#","")),this):o(s(e,t),this);else if("<"===e[0]&&">"===e[e.length-1]||-1!==e.indexOf("<")&&-1!==e.indexOf(">")){var n=w.createElement("div");A?MSApp.execUnsafeLocalFunction(function(){n.innerHTML=e.trim()}):n.innerHTML=e.trim(),o(n.childNodes,this)}else o(s(e,t),this);return this},oldElement:void 0,slice:E.slice,length:0,setupOld:function(e){return e==b?M():(e.oldElement=this,e)},map:function(e){var t,n=[],r;for(r=0;r<this.length;r++)t=e.apply(this[r],[r,this[r]]),t!==b&&n.push(t);return M(n)},each:function(e){return this.forEach(function(t,n){e.call(t,n,t)}),this},ready:function(e){return"complete"===w.readyState||"loaded"===w.readyState||!M.os.ie&&"interactive"===w.readyState?e():w.addEventListener("DOMContentLoaded",e,!1),this},find:function(e){if(0===this.length)return this;for(var t=[],n,i=0;i<this.length;i++){n=M(e,this[i]);for(var s=0;s<n.length;s++)t.push(n[s])}return M(r(t))},html:function(e,t){if(0===this.length)return this;if(e===b)return this[0].innerHTML;for(var n=0;n<this.length;n++)if(!1!==t&&M.cleanUpContent(this[n],!1,!0),A){var r=this[n];MSApp.execUnsafeLocalFunction(function(){r.innerHTML=e})}else this[n].innerHTML=e;return this},text:function(e){if(0===this.length)return this;if(e===b)return this[0].textContent;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},css:function(t,n,r){r=r!=b?r:this[0];if(0===this.length)return this;if(n==b&&"string"==typeof t)return e.getComputedStyle(r),r.style[t]?r.style[t]:e.getComputedStyle(r)[t];for(r=0;r<this.length;r++)if(M.isObject(t))for(var i in t)this[r].style[i]="number"==typeof t[i]&&!L[i.toLowerCase()]?t[i]+"px":t[i];else this[r].style[t]="number"==typeof n&&!L[t.toLowerCase()]?n+"px":n;return this},vendorCss:function(e,t,n){return this.css(M.feat.cssPrefix+e,t,n)},cssTranslate:function(e){return this.vendorCss("Transform","translate"+M.feat.cssTransformStart+e+M.feat.cssTransformEnd)},computedStyle:function(t){if(0!==this.length&&t!=b)return e.getComputedStyle(this[0],"")[t]},empty:function(){for(var e=0;e<this.length;e++)M.cleanUpContent(this[e],!1,!0),this[e].textContent="";return this},hide:function(){if(0===this.length)return this;for(var e=0;e<this.length;e++)"none"!=this.css("display",null,this[e])&&(this[e].setAttribute("afmOldStyle",this.css("display",null,this[e])),this[e].style.display="none");return this},show:function(){if(0===this.length)return this;for(var e=0;e<this.length;e++)"none"==this.css("display",null,this[e])&&(this[e].style.display=this[e].getAttribute("afmOldStyle")?this[e].getAttribute("afmOldStyle"):"block",this[e].removeAttribute("afmOldStyle"));return this},toggle:function(e){if(0===this.length)return this;for(var t=!0===e,n=0;n<this.length;n++)"none"==this.css("display",null,this[n])||e!=b&&!1!==t?"none"==this.css("display",null,this[n])&&(e==b||!0===t)&&(this[n].style.display=this[n].getAttribute("afmOldStyle")?this[n].getAttribute("afmOldStyle"):"block",this[n].removeAttribute("afmOldStyle")):(this[n].setAttribute("afmOldStyle",this.css("display",null,this[n])),this[n].style.display="none");return this},val:function(e){if(0===this.length)return e===b?void 0:this;if(e==b)return this[0].value;for(var t=0;t<this.length;t++)this[t].value=e;return this},attr:function(e,t){if(0===this.length)return t===b?void 0:this;if(t===b&&!M.isObject(e))return this[0].afmCacheId&&C[this[0].afmCacheId][e]?this[0].afmCacheId&&C[this[0].afmCacheId][e]:this[0].getAttribute(e);for(var n=0;n<this.length;n++)if(M.isObject(e))for(var r in e)M(this[n]).attr(r,e[r]);else M.isArray(t)||M.isObject(t)||M.isFunction(t)?(this[n].afmCacheId||(this[n].afmCacheId=M.uuid()),C[this[n].afmCacheId]||(C[this[n].afmCacheId]={}),C[this[n].afmCacheId][e]=t):null===t?(this[n].removeAttribute(e),this[n].afmCacheId&&C[this[n].afmCacheId][e]&&delete C[this[n].afmCacheId][e]):this[n].setAttribute(e,t);return this},removeAttr:function(e){for(var t=this,n=0;n<this.length;n++)e.split(/\s+/g).forEach(function(r){t[n].removeAttribute(r),t[n].afmCacheId&&C[t[n].afmCacheId][e]&&delete C[t[n].afmCacheId][e]});return this},prop:function(e,t){if(0===this.length)return t===b?void 0:this;if(t===b&&!M.isObject(e)){var n;return this[0].afmCacheId&&k[this[0].afmCacheId][e]?this[0].afmCacheId&&k[this[0].afmCacheId][e]:!(n=this[0][e])&&e in this[0]?this[0][e]:n}for(n=0;n<this.length;n++)if(M.isObject(e))for(var r in e)M(this[n]).prop(r,e[r]);else M.isArray(t)||M.isObject(t)||M.isFunction(t)?(this[n].afmCacheId||(this[n].afmCacheId=M.uuid()),k[this[n].afmCacheId]||(k[this[n].afmCacheId]={}),k[this[n].afmCacheId][e]=t):null===t&&void 0!==t?M(this[n]).removeProp(e):this[n][e]=t;return this},removeProp:function(e){for(var t=this,n=0;n<this.length;n++)e.split(/\s+/g).forEach(function(r){t[n][r]&&(t[n][r]=void 0),t[n].afmCacheId&&k[t[n].afmCacheId][e]&&delete k[t[n].afmCacheId][e]});return this},remove:function(e){e=M(this).filter(e);if(e==b)return this;for(var t=0;t<e.length;t++)M.cleanUpContent(e[t],!0,!0),e[t]&&e[t].parentNode&&e[t].parentNode.removeChild(e[t]);return this},addClass:function(e){if(e==b)return this;for(var t=0;t<this.length;t++){var n=this[t].className,r=[],i=this;e.split(/\s+/g).forEach(function(e){i.hasClass(e,i[t])||r.push(e)}),this[t].className+=(n?" ":"")+r.join(" "),this[t].className=this[t].className.trim()}return this},removeClass:function(e){if(e==b)return this;for(var t=0;t<this.length;t++){if(e==b){this[t].className="";break}var r=this[t].className;"object"==typeof this[t].className&&(r=" "),e.split(/\s+/g).forEach(function(e){r=r.replace(n(e)," ")}),this[t].className=0<r.length?r.trim():""}return this},toggleClass:function(e,t){if(e==b)return this;for(var n=0;n<this.length;n++)"boolean"!=typeof t&&(t=this.hasClass(e,this[n])),M(this[n])[t?"removeClass":"addClass"](e);return this},replaceClass:function(e,t){if(e==b||t==b)return this;for(var r=0;r<this.length;r++)if(e==b)this
[r].className=t;else{var i=this[r].className;e.split(/\s+/g).concat(t.split(/\s+/g)).forEach(function(e){i=i.replace(n(e)," ")}),i=i.trim(),this[r].className=0<i.length?(i+" "+t).trim():t}return this},hasClass:function(e,t){return 0===this.length?!1:(t||(t=this[0]),n(e).test(t.className))},append:function(n,r){if(n&&n.length!=b&&0===n.length)return this;if(M.isArray(n)||M.isObject(n))n=M(n);var i;for(i=0;i<this.length;i++)if(n.length&&"string"!=typeof n)n=M(n),t(n,this[i],r);else{var s=N.test(n)?M(n):void 0;if(s==b||0===s.length)s=w.createTextNode(n);s.nodeName==b||"script"!=s.nodeName.toLowerCase()||!!s.type&&"text/javascript"!==s.type.toLowerCase()?s instanceof O?t(s,this[i],r):r!=b?this[i].insertBefore(s,this[i].firstChild):this[i].appendChild(s):e.eval(s.innerHTML)}return this},appendTo:function(e,t){return M(e).append(this),this},prependTo:function(e){return M(e).append(this,!0),this},prepend:function(e){return this.append(e,1)},insertBefore:function(e,t){if(0===this.length)return this;e=M(e).get(0);if(!e)return this;for(var n=0;n<this.length;n++)t?e.parentNode.insertBefore(this[n],e.nextSibling):e.parentNode.insertBefore(this[n],e);return this},insertAfter:function(e){this.insertBefore(e,!0)},get:function(e){return e=e==b?0:e,0>e&&(e+=this.length),this[e]?this[e]:void 0},offset:function(){var t;return 0===this.length?this:this[0]==e?{left:0,top:0,right:0,bottom:0,width:e.innerWidth,height:e.innerHeight}:(t=this[0].getBoundingClientRect(),{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,right:t.right+e.pageXOffset,bottom:t.bottom+e.pageYOffset,width:t.right-t.left,height:t.bottom-t.top})},height:function(t){return 0===this.length?this:t!=b?this.css("height",t):this[0]==this[0].window?e.innerHeight:this[0].nodeType==this[0].DOCUMENT_NODE?this[0].documentElement.offsetheight:(t=this.css("height").replace("px",""))?t:this.offset().height},width:function(t){return 0===this.length?this:t!=b?this.css("width",t):this[0]==this[0].window?e.innerWidth:this[0].nodeType==this[0].DOCUMENT_NODE?this[0].documentElement.offsetwidth:(t=this.css("width").replace("px",""))?t:this.offset().width},parent:function(e,t){if(0===this.length)return this;for(var n=[],i=0;i<this.length;i++)for(var s=this[i];s.parentNode&&s.parentNode!=w&&(n.push(s.parentNode),s.parentNode&&(s=s.parentNode),!!t););return this.setupOld(M(r(n)).filter(e))},parents:function(e){return this.parent(e,!0)},children:function(e){if(0===this.length)return this;for(var t=[],n=0;n<this.length;n++)t=t.concat(i(this[n].firstChild));return this.setupOld(M(t).filter(e))},siblings:function(e){if(0===this.length)return this;for(var t=[],n=0;n<this.length;n++)this[n].parentNode&&(t=t.concat(i(this[n].parentNode.firstChild,this[n])));return this.setupOld(M(t).filter(e))},closest:function(e,t){if(0===this.length)return this;var n=this[0],r=M(e,t);if(0===r.length)return M();for(;n&&-1==r.indexOf(n);)n=n!==t&&n!==w&&n.parentNode;return M(n)},filter:function(e){if(0===this.length||e==b)return this;for(var t=[],n=0;n<this.length;n++){var i=this[n];i.parentNode&&0<=M(e,i.parentNode).indexOf(i)&&t.push(i)}return this.setupOld(M(r(t)))},not:function(e){if(0===this.length)return this;for(var t=[],n=0;n<this.length;n++){var i=this[n];i.parentNode&&-1==M(e,i.parentNode).indexOf(i)&&t.push(i)}return this.setupOld(M(r(t)))},data:function(e,t){return this.attr("data-"+e,t)},end:function(){return this.oldElement!=b?this.oldElement:M()},clone:function(e){e=!1===e?!1:!0;if(0===this.length)return this;for(var t=[],n=0;n<this.length;n++)t.push(this[n].cloneNode(e));return M(t)},size:function(){return this.length},serialize:function(){if(0===this.length)return"";for(var e=[],t=0;t<this.length;t++)this.slice.call(this[t].elements).forEach(function(t){var n=t.getAttribute("type");if("fieldset"!=t.nodeName.toLowerCase()&&!t.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&("radio"!=n&&"checkbox"!=n||t.checked)&&t.getAttribute("name"))if("select-multiple"==t.type)for(n=0;n<t.options.length;n++)t.options[n].selected&&e.push(t.getAttribute("name")+"="+encodeURIComponent(t.options[n].value));else e.push(t.getAttribute("name")+"="+encodeURIComponent(t.value))});return e.join("&")},eq:function(e){return M(this.get(e))},index:function(e){return e?this.indexOf(M(e)[0]):this.parent().children().indexOf(this[0])},is:function(e){return!!e&&0<this.filter(e).length}},M.ajaxSettings={type:"GET",beforeSend:u,success:u,error:u,complete:u,context:void 0,timeout:0,crossDomain:null},M.jsonP=function(t){if(A)return t.type="get",t.dataType=null,M.get(t);var n="jsonp_callback"+ ++T,r="",i=w.createElement("script");return e[n]=function(s){clearTimeout(r),M(i).remove(),delete e[n],t.success.call(void 0,s)},i.src=t.url.replace(/=\?/,"="+n),t.error&&(i.onerror=function(){clearTimeout(r),t.error.call(void 0,"","error")}),M("head").append(i),0<t.timeout&&(r=setTimeout(function(){t.error.call(void 0,"","timeout")},t.timeout)),{}},M.ajax=function(t){var n;try{var r=t||{},i;for(i in M.ajaxSettings)"undefined"==typeof r[i]&&(r[i]=M.ajaxSettings[i]);r.url||(r.url=e.location),r.contentType||(r.contentType="application/x-www-form-urlencoded"),r.headers||(r.headers={});if(!("async"in r)||!1!==r.async)r.async=!0;if(r.dataType)switch(r.dataType){case"script":r.dataType="text/javascript, application/javascript";break;case"json":r.dataType="application/json";break;case"xml":r.dataType="application/xml, text/xml";break;case"html":r.dataType="text/html";break;case"text":r.dataType="text/plain";break;default:r.dataType="text/html";break;case"jsonp":return M.jsonP(t)}else r.dataType="text/html";M.isObject(r.data)&&(r.data=M.param(r.data)),"get"===r.type.toLowerCase()&&r.data&&(-1===r.url.indexOf("?")?r.url+="?"+r.data:r.url+="&"+r.data);if(/=\?/.test(r.url))return M.jsonP(r);null===r.crossDomain&&(r.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(r.url)&&RegExp.$2!=e.location.host),r.crossDomain||(r.headers=M.extend({"X-Requested-With":"XMLHttpRequest"},r.headers));var s,o=r.context,a=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:e.location.protocol;n=new e.XMLHttpRequest,n.onreadystatechange=function(){var e=r.dataType;if(4===n.readyState){clearTimeout(s);var t,i=!1;if(200<=n.status&&300>n.status||0===n.status&&"file:"==a){if("application/json"===e&&!/^\s*$/.test(n.responseText))try{t=JSON.parse(n.responseText)}catch(u){i=u}else"application/xml, text/xml"===e?t=n.responseXML:"text/html"==e?(t=n.responseText,M.parseJS(t)):t=n.responseText;0===n.status&&0===t.length&&(i=!0),i?r.error.call(o,n,"parsererror",i):r.success.call(o,t,"success",n)}else i=!0,r.error.call(o,n,"error");r.complete.call(o,n,i?"error":"success")}},n.open(r.type,r.url,r.async),r.withCredentials&&(n.withCredentials=!0),r.contentType&&(r.headers["Content-Type"]=r.contentType);for(var f in r.headers)"string"==typeof r.headers[f]&&n.setRequestHeader(f,r.headers[f]);if(!1===r.beforeSend.call(o,n,r))return n.abort(),!1;0<r.timeout&&(s=setTimeout(function(){n.onreadystatechange=u,n.abort(),r.error.call(o,n,"timeout")},r.timeout)),n.send(r.data)}catch(l){console.log(l),r.error.call(o,n,"error",l)}return n},M.get=function(e,t){return this.ajax({url:e,success:t})},M.post=function(e,t,n,r){return"function"==typeof t&&(n=t,t={}),r===b&&(r="html"),this.ajax({url:e,type:"POST",data:t,dataType:r,success:n})},M.getJSON=function(e,t,n){return"function"==typeof t&&(n=t,t={}),this.ajax({url:e,data:t,success:n,dataType:"json"})},M.param=function(e,t){var n=[];if(e instanceof O)e.each(function(){n.push((t?t+"["+this.id+"]":this.id)+"="+encodeURIComponent(this.value))});else for(var r in e)if(!M.isFunction(e[r])){var i=t?t+"["+r+"]":r,s=e[r];n.push(M.isObject(s)?M.param(s,i):i+"="+encodeURIComponent(s))}return n.join("&")},M.parseJSON=function(e){return JSON.parse(e)},M.parseXML=function(e){if(!A)return(new DOMParser).parseFromString(e,"text/xml");MSApp.execUnsafeLocalFunction(function(){return(new DOMParser).parseFromString(e,"text/xml")})},a(M,navigator.userAgent),M.__detectUA=a,M.uuid=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},M.getCssMatrix=function(t){M.is$(t)&&(t=t.get(0));var n=e.WebKitCSSMatrix||e.MSCSSMatrix;return t===b?n?new n:{a:0,b:0,c:0,d:0,e:0,f:0}:(t=e.getComputedStyle(t),t=t.webkitTransform||t.transform||t[M.feat.cssPrefix+"Transform"],n?new n(t):t?(n=t.replace(/[^0-9\-.,]/g,"").split(","),{a:+n[0],b:+n[1],c:+n[2],d:+n[3],e:+n[4],f:+n[5]}):{a:0,b:0,c:0,d:0,e:0,f:0})},M.create=function(e,t){var n,r=new O;if(t||"<"!==e[0]){t.html&&(t.innerHTML=t.html,delete t.html),n=w.createElement(e);for(var i in t)n[i]=t[i];r[r.length++]=n}else n=w.createElement("div"),A?MSApp.execUnsafeLocalFunction(function(){n.innerHTML=selector.trim()}):n.innerHTML=e,o(n.childNodes,r);return r},M.query=function(e,t){return e?(t=t||w,(new O).selector(e,t)):new O};var _={},D=1;M.event={add:p,remove:d},M.fn.bind=function(e,t){for(var n=0;n<this.length;n++)p(this[n],e,t);return this},M.fn.unbind=function(e,t){for(var n=0;n<this.length;n++)d(this[n],e,t);return this},M.fn.one=function(e,t){return this.each(function(n,r){p(this,e,t,null,function(e,t){return function(){return d(r,t,e),e.apply(r,arguments)}})})};var P=function(){return!0},H=function(){return!1},B={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};M.fn.delegate=function(e,t,n){for(var r=0;r<this.length;r++)m(this[r],t,n,e);return this},M.fn.undelegate=function(e,t,n){for(var r=0;r<this.length;r++)d(this[r],t,n,e);return this},M.fn.on=function(e,t,n){return t===b||M.isFunction(t)?this.bind(e,t):this.delegate(t,e,n)},M.fn.off=function(e,t,n){return t===b||M.isFunction(t)?this.unbind(e,t):this.undelegate(t,e,n)},M.fn.trigger=function(e,t,n){"string"==typeof e&&(e=M.Event(e,n)),e.data=t;for(t=0;t<this.length;t++)this[t].dispatchEvent(e);return this},M.Event=function(e,t){var n=w.createEvent("Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0,null,null,null,null,null,null,null,null,null,null,null,null),n},M.bind=function(e,t,n){if(e){e.__events||(e.__events={}),M.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++)e.__events[t[r]]||(e.__events[t[r]]=[]),e.__events[t[r]].push(n)}},M.trigger=function(e,t,n){if(e){var r=!0;if(!e.__events)return r;M.isArray(t)||(t=[t]),M.isArray(n)||(n=[]);for(var i=0;i<t.length;i++)if(e.__events[t[i]])for(var s=e.__events[t[i]].slice(0),o=0;o<s.length;o++)M.isFunction(s[o])&&!1===s[o].apply(e,n)&&(r=!1);return r}},M.unbind=function(e,t,n){if(e.__events){M.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++)if(e.__events[t[r]])for(var i=e.__events[t[r]],s=0;s<i.length;s++)if(n==b&&delete i[s],i[s]==n){i.splice(s,1);break}}},M.proxy=function(e,t,n){return function(){return n?e.apply(t,n):e.apply(t,arguments)}};var j=function(e,t){for(var n=0;n<e.length;n++)y(e[n],t)};M.cleanUpContent=function(e,t,n){if(e){var r=e.childNodes;r&&0<r.length&&M.asap(j,{},[S.apply(r,[0]),n]),t&&g(e,n)}};var F=[],I=[],q=[];M.asap=function(t,n,r){if(!M.isFunction(t))throw"$.asap - argument is not a valid function";F.push(t),I.push(n?n:{}),q.push(r?r:[]),e.postMessage("afm-asap","*")},e.addEventListener("message",function(t){t.source==e&&"afm-asap"==t.data&&(t.stopPropagation(),0<F.length&&F.shift().apply(I.shift(),q.shift()))},!0);var R={};return M.parseJS=function(t){if(t){if("string"==typeof t){var n=w.createElement("div");A?MSApp.execUnsafeLocalFunction(function(){n.innerHTML=t}):n.innerHTML=t,t=n}var r=t.getElementsByTagName("script");t=null;for(var i=0;i<r.length;i++)if(0<r[i].src.length&&!R[r[i].src]&&!A){var s=w.createElement("script");s.type=r[i].type,s.src=r[i].src,w.getElementsByTagName("head")[0].appendChild(s),R[r[i].src]=1,s=null}else e.eval(r[i].innerHTML)}},"click keydown keyup keypress submit load resize change select error".split(" ").forEach(function(e){M.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){M.fn[e]=function(t){if(0!==this.length){if(t)this.bind(e,t);else for(t=0;t<this.length;t++)try{this[t][e]()}catch(n){}return this}}}),M}(window);window.jq=af,"$"in window||(window.$=af),"function"==typeof define&&define.amd?define("appframework",[],function(){return af}):"undefined"!=typeof module&&module.exports&&(module.exports.af=af,module.exports.$=af),window.numOnly||(window.numOnly=function(e){if(void 0===e||""===e)return 0;if(isNaN(parseFloat(e))){if(!e.replace)return 0;e=e.replace(/[^0-9.-]/g,"")}return parseFloat(e)})}(function(e){var t=[],n=function(n,r){var i,s;return i="string"==typeof n||n instanceof String?document.getElementById(n):e.is$(n)?n[0]:n,i.afCSS3AnimateId||(i.afCSS3AnimateId=e.uuid()),s=i.afCSS3AnimateId,t[s]?(t[s].animate(r),i=t[s]):(i=o(i,r),t[s]=i),i};e.fn.css3Animate=function(e){!e.complete&&e.callback&&(e.complete=e.callback);var t=n(this[0],e);e.complete=null,e.sucess=null,e.failure=null;for(var r=1;r<this.length;r++)t.link(this[r],e);return t},e.css3AnimateQueue=function(){return new o.queue};var r=e.feat.cssTransformStart,i=e.feat.cssTransformEnd,s=e.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd",s=e.os.fennec||""===e.feat.cssPrefix||e.os.ie?"transitionend":s,s=s.replace(s.charAt(0),s.charAt(0).toLowerCase()),o=function(){var o=function(n,r){if(!(this instanceof o))return new o(n,r);this.callbacksStack=[],this.activeEvent=null,this.countStack=0,this.isActive=!1,this.el=n,this.linkFinishedProxy_=e.proxy(this.linkFinished,this);if(this.el){this.animate(r);var i=this;af(this.el).bind("destroy",function(){var e=i.el.afCSS3AnimateId;i.callbacksStack=[],t[e]&&delete t[e]})}};return o.prototype={animate:function(t){this.isActive&&this.cancel(),this.isActive=!0;if(t){var n=!!t.addClass,o,u,a=numOnly(t.time);if(n)t.removeClass?af(this.el).replaceClass(t.removeClass,t.addClass):af(this.el).addClass(t.addClass);else{0===a&&(t.time=0),t.y||(t.y=0),t.x||(t.x=0),t.previous&&(o=new e.getCssMatrix(this.el),t.y+=numOnly(o.f),t.x+=numOnly(o.e)),t.origin||(t.origin="0% 0%"),t.scale||(t.scale="1"),t.rotateY||(t.rotateY="0"),t.rotateX||(t.rotateX="0"),t.skewY||(t.skewY="0"),t.skewX||(t.skewX="0"),t.timingFunction||(t.timingFunction="linear");if("number"==typeof t.x||-1==t.x.indexOf("%")&&-1==t.x.toLowerCase().indexOf("px")&&-1==t.x.toLowerCase().indexOf("deg"))t.x=parseInt(t.x,10)+"px";if("number"==typeof t.y||-1==t.y.indexOf("%")&&-1==t.y.toLowerCase().indexOf("px")&&-1==t.y.toLowerCase().indexOf("deg"))t.y=parseInt(t.y,10)+"px";o="translate"+r+t.x+","+t.y+i+" scale("+parseFloat(t.scale)+") rotate("+t.rotateX+")",e.os.opera||(o+=" rotateY("+t.rotateY+")"),o+=" skew("+t.skewX+","+t.skewY+")",this.el.style[e.feat.cssPrefix+"Transform"]=o,this.el.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden",void 0!==t.opacity&&(this.el.style.opacity=t.opacity),t.width&&(this.el.style.width=t.width),t.height&&(this.el.style.height=t.height),this.el.style[e.feat.cssPrefix+"TransitionProperty"]="all",-1===(""+t.time).indexOf("s")?(o="ms",u=t.time+o):-1!==t.time.indexOf("ms")?(o="ms",u=t.time):(o="s",u=t.time+o),t.delay&&(this.el.style[e.feat.cssPrefix+"TransitionDelay"]=t.delay),this.el.style[e.feat.cssPrefix+"TransitionDuration"]=u,this.el.style[e.feat.cssPrefix+"TransitionTimingFunction"]=t.timingFunction,this.el.style[e.feat.cssPrefix+"TransformOrigin"]=t.origin}this.callbacksStack.push({complete:t.complete,success:t.success,failure:t.failure}),this.countStack++;var f=this;u=window.getComputedStyle(this.el),n&&(n=u[e.feat.cssPrefix+"TransitionDuration"],a=numOnly(n),t.time=a,-1!==n.indexOf("ms")?o="ms":(o="s",t.time*=1e3)),0===a||"ms"==o&&5>a||"none"==u.display?e.asap(e.proxy(this.finishAnimation,this,[!1])):(this.activeEvent=function(e){clearTimeout(f.timeout),f.finishAnimation(e),f.el.removeEventListener(s,f.activeEvent,!1)},f.timeout=setTimeout(this.activeEvent,numOnly(t.time)+50),this.el.addEventListener(s,this.activeEvent,!1))}else alert("Please provide configuration options for animation of "+this.el.id)},addCallbackHook:function(e){return e&&this.callbacksStack.push(e),this.countStack++,this.linkFinishedProxy_},linkFinished:function(e){e?this.cancel():this.finishAnimation()},finishAnimation:function(e){e&&e.preventDefault&&e.preventDefault(),this.isActive&&(this.countStack--,0===this.countStack&&this.fireCallbacks(!1))},fireCallbacks:function(e){this.clearEvents();var t=this.callbacksStack;this.cleanup();for(var n=0;n<t.length;n++){var r=t[n].complete,i=t[n].success,s=t[n].failure;r&&"function"==typeof r&&r(e),e&&s&&"function"==typeof s?s():i&&"function"==typeof i&&i()}},cancel:function(){this.isActive&&this.fireCallbacks(!0)},cleanup:function(){this.callbacksStack=[],this.isActive=!1,this.countStack=0},clearEvents:function(){this.activeEvent&&this.el.removeEventListener(s,this.activeEvent,!1),this.activeEvent=null},link:function(e,t){var r={complete:t.complete,success:t.success,failure:t.failure};return t.complete=this.addCallbackHook(r),t.success=null,t.failure=null,n(e,t),t.complete=r.complete,t.success=r.success,t.failure=r.failure,this}},o}();o.queue=function(){return{elements:[],push:function(e){this.elements.push(e)},pop:function(){return this.elements.pop()},run:function(){var e=this;if(0!==this.elements.length&&("function"==typeof this.elements[0]&&this.shift()(),0!==this.elements.length)){var t=this.shift();0<this.elements.length&&(t.complete=function(t){t||e.run()}),o(document.getElementById(t.id),t)}},shift:function(){return this.elements.shift()}}}})(af),function(e){function t(){if(af.os.android&&!af.os.chrome&&af.os.webkit){var t=!1;e.bind(e.touchLayer,["cancel-enter-edit","exit-edit"],function(e){if(t){t=!1;for(var r in n)n[r].el?e=!0:(delete n[r],e=!1),e&&n[r].androidFormsMode&&n[r].stopFormsMode()}})}r=!0}var n=[];e.fn.scroller=function(t){for(var r,s,o=0;o<this.length;o++)r=this[o],r.afScrollerId||(r.afScrollerId=e.uuid()),s=r.afScrollerId,n[s]?r=n[s]:(t||(t={}),e.feat.nativeTouchScroll||(t.useJsScroll=!0),r=i(this[o],t),n[s]=r);return 1==this.length?r:this};var r=!1,i=function(){function i(t,n){var r=document.createElement("div");return r.style.position="absolute",r.style.width=t+"px",r.style.height=n+"px",r.style[e.feat.cssPrefix+"BorderRadius"]="2px",r.style.borderRadius="2px",r.style.display="none",r.className="scrollBar",r.style.background="black",r}var s=e.feat.cssTransformStart,o=e.feat.cssTransformEnd,u,a,f=function(t,n){this.el=t,this.afEl=e(this.el);for(var r in n)this[r]=n[r]};return f.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,bubbles:!0,lockBounce:!1,_scrollTo:function(e,t){t=parseInt(t,10);if(0===t||isNaN(t))this.el.scrollTop=Math.abs(e.y),this.el.scrollLeft=Math.abs(e.x);else{var n=(this.el.scrollTop-e.y)/Math.ceil(t/10),r=(this.el.scrollLeft-e.x)/Math.ceil(t/10),i=this,s=Math.ceil(this.el.scrollTop-e.y)/n,o=Math.ceil(this.el.scrollLeft-e.x)/n,u=0,a=0;i.scrollTopInterval=window.setInterval(function(){i.el.scrollTop-=n,a++,a>=s&&(i.el.scrollTop=e.y,clearInterval(i.scrollTopInterval))},10),i.scrollLeftInterval=window.setInterval(function(){i.el.scrollLeft-=r,u++,u>=o&&(i.el.scrollLeft=e.x,clearInterval(i.scrollLeftInterval))},10)}},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(e){this._scrollTo({x:0,y:0},e)},_scrollToBottom:function(e){this._scrollTo({x:0,y:this.el.scrollHeight-this.el.offsetHeight},e)},scrollToBottom:function(e){return this._scrollToBottom(e)},scrollToTop:function(e){return this._scrollToTop(e)},init:function(t,r){this.el=t,this.afEl=e(this.el),this.defaultProperties();for(var i in r)this[i]=r[i];var s=this,o=function(){s.eventsActive&&s.adjustScroll()};this.afEl.bind("destroy",function(){s.disable(!0);var t=s.el.afScrollerId;n[t]&&delete n[t],e.unbind(e.touchLayer,"orientationchange-reshape",o)}),e.bind(e.touchLayer,"orientationchange-reshape",o)},needsFormsFix:function(t){return this.useJsScroll&&this.isEnabled()&&"none"!=this.el.style.display&&0<e(t).closest(this.afEl).size()},handleEvent:function(e){if(!this.scrollingLocked)switch(e.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(e),this.bubbles||e.stopPropagation();break;case"touchmove":this.onTouchMove(e),this.bubbles||e.stopPropagation();break;case"touchend":this.onTouchEnd(e),this.bubbles||e.stopPropagation();break;case"scroll":this.onScroll(e)}},coreAddPullToRefresh:function(t){t&&(this.refreshElement=t),null===this.refreshElement?(t=document.getElementById(this.container.id+"_pulldown"),t=null!==t?af(t):af("<div id='"+this.container.id+"_pulldown' class='afscroll_refresh' style='border-radius:.6em;border: 1px solid #2A2A2A;background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,#666666),color-stop(1,#222222));background:#222222;margin:0px;height:60px;position:relative;text-align:center;line-height:60px;color:white;width:100%;'>"+this.refreshContent+"</div>")):t=af(this.refreshElement),t=t.get(0),this.refreshContainer=af('<div style="overflow:hidden;width:100%;height:0;margin:0;padding:0;padding-left:5px;padding-right:5px;display:none;"></div>'),e(this.el).prepend(this.refreshContainer.append(t,"top")),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(t,n){if(this.refresh&&t){var r=!1!==e.trigger(this,"refresh-release",[t]);this.preventHideRefresh=!1,this.refreshRunning=!0;if(r){var i=this;0<this.refreshHangTimeout&&(this.refreshCancelCB=setTimeout(function(){i.hideRefresh()},this.refreshHangTimeout))}}},setRefreshContent:function(e){af(this.container).find(".afscroll_refresh").html(e)},lock:function(){this.scrollingLocked||(this.scrollingLocked=!0,(this.rememberEventsActive=this.eventsActive)&&this.disable())},unlock:function(){this.scrollingLocked&&(this.scrollingLocked=!1,this.rememberEventsActive&&this.enable())},scrollToItem:function(t,n){e.is$(t)||(t=e(t));var r,i;"bottom"==n?(r=t.offset(),r=r.top-this.afEl.offset().bottom+r.height,r+=4):(r=t.offset().top,r-=document.body.scrollTop,i=this.afEl.offset().top,document.body.scrollTop<i&&(r-=i),r-=4),this.scrollBy({y:r,x:0},0)},setPaddings:function(t,n){var r=e(this.el),i=numOnly(r.css("paddingTop"));r.css("paddingTop",t+"px").css("paddingBottom",n+"px"),this.scrollBy({y:t-i,x:0})},divide:function(e,t){return 0!==t?e/t:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0}},u=function(t,n){this.init(t,n),this.container=this.el.parentNode,this.container.afScrollerId=t.afScrollerId,this.afEl=e(this.container),"hidden"!=this.container.style.overflow&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),this.autoEnable&&this.enable(!0);var r;this.verticalScroll&&!0===this.verticalScroll&&!0===this.scrollBars&&(r=i(5,20),r.style.top="0px",this.vScrollCSS&&(r.className=this.vScrollCSS),r.style.display="none",this.container.appendChild(r),this.vscrollBar=r),this.horizontalScroll&&!0===this.horizontalScroll&&!0===this.scrollBars&&(r=i(20,5),r.style.bottom="0px",this.hScrollCSS&&(r.className=this.hScrollCSS),r.style.display="none",this.container.appendChild(r),this.hscrollBar=r),this.horizontalScroll&&(this.el.style["float"]="left"),this.el.hasScroller=!0},a=function(t,n){n.nativeParent&&(t=t.parentNode),this.init(t,n);var r=e(t);if(!0!==n.noParent){var i=r.parent();r.css("height",i.height()).css("width",i.width()),r.insertBefore(r.parent()),i.remove()}this.container=this.el,r.css("-webkit-overflow-scrolling","touch"),n.autoEnable&&this.enable()},a.prototype=new f,u.prototype=new f,a.prototype.defaultProperties=function(){this.refreshContainer=null,this.dX=this.cX=this.dY=this.cY=0,this.cancelPropagation=!1,this.loggedPcentX=this.loggedPcentY=0;var e=this;this.adjustScrollOverflowProxy_=function(){e.afEl.css("overflow","auto"),e.afEl.parent().css("overflow","hidden")}},a.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,this.el.style.overflow="auto",this.el.parentNode.style.overflow="hidden",e||this.adjustScroll(),this.el.addEventListener("touchstart",this,!1),this.el.addEventListener("scroll",this,!1))},a.prototype.disable=function(e){this.eventsActive&&(this.logPos(this.el.scrollLeft,this.el.scrollTop),e||(this.el.style.overflow="hidden"),this.el.removeEventListener("touchstart",this,!1),this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("scroll",this,!1),this.eventsActive=!1)},a.prototype.addPullToRefresh=function(e,t){this.el.removeEventListener("touchstart",this,!1),this.el.addEventListener("touchstart",this,!1),t||(this.refresh=!0),this.refresh&&!0===this.refresh&&(this.coreAddPullToRefresh(e),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block")},a.prototype.onTouchStart=function(e){0===this.el.scrollTop&&(this.el.scrollTop=1),this.el.scrollTop===this.el.scrollHeight-this.el.clientHeight&&(this.el.scrollTop-=1),this.horizontalScroll&&(0===this.el.scrollLeft&&(this.el.scrollLeft=1),this.el.scrollLeft===this.el.scrollWidth-this.el.clientWidth&&(this.el.scrollLeft-=1)),this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.el.addEventListener("touchmove",this,!1),this.dY=e.touches[0].pageY,(this.refresh||this.infinite)&&this.refresh&&0>this.dY&&this.showRefresh()},a.prototype.onTouchMove=function(t){var n=t.touches[0].pageY-this.dY,r=t.touches[0].pageX-this.dX;this.hasVertScroll&&this.el.clientHeight==this.el.scrollHeight&&t.preventDefault(),this.hasHorScroll&&this.el.clientWidth==this.el.scrollWidth&&t.preventDefault(),this.moved||(e.trigger(this,"scrollstart",[this.el]),e.trigger(e.touchLayer,"scrollstart",[this.el]),this.el.addEventListener("touchend",this,!1),this.moved=!0),this.refresh&&0>this.el.scrollTop?this.showRefresh():this.refreshTriggered&&this.refresh&&this.el.scrollTop>this.refreshHeight&&(this.refreshTriggered=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),e.trigger(this,"refresh-cancel")),this.cY=n,this.cX=r},a.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger"))},a.prototype.onTouchEnd=function(t){t=this.el.scrollTop<=-this.refreshHeight,this.fireRefreshRelease(t,!0),t&&this.refresh&&(this.refreshContainer.style.position="relative",this.refreshContainer.style.top="0px"),this.dY=this.cY=0,this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0;var n=this,r=this.el.scrollTop,i=this.el.scrollLeft,s=0;n.nativePolling=setInterval(function(){s++;if(200<=s)clearInterval(n.nativePolling);else if(n.el.scrollTop!=r||n.el.scrollLeft!=i)clearInterval(n.nativePolling),e.trigger(e.touchLayer,"scrollend",[n.el]),e.trigger(n,"scrollend",[n.el])},20)},a.prototype.hideRefresh=function(t){if(!this.preventHideRefresh){var n=this,r=function(t){t||(n.el.style[e.feat.cssPrefix+"Transform"]="none",n.el.style[e.feat.cssPrefix+"TransitionProperty"]="none",n.el.scrollTop=0,n.logPos(n.el.scrollLeft,0)),n.refreshContainer.style.top="-60px",n.refreshContainer.style.position="absolute",n.dY=n.cY=0,e.trigger(n,"refresh-finish")};!1===t||!n.afEl.css3Animate?r():n.afEl.css3Animate({y:n.el.scrollTop-n.refreshHeight+"px",x:"0%",time:"75ms",complete:r}),this.refreshTriggered=!1}},a.prototype.hideScrollbars=function(){},a.prototype.scrollTo=function(e,t){return this.logPos(e.x,e.y),e.x*=-1,e.y*=-1,this._scrollTo(e,t)},a.prototype.scrollBy=function(e,t){return e.x+=this.el.scrollLeft,e.y+=this.el.scrollTop,this.logPos(this.el.scrollLeft,this.el.scrollTop),this._scrollTo(e,t)},a.prototype.scrollToBottom=function(e){this._scrollToBottom(e),this.logPos(this.el.scrollLeft,this.el.scrollTop)},a.prototype.onScroll=function(t){this.infinite&&this.touchEndFired?this.touchEndFired=!1:this.scrollSkip?this.scrollSkip=!1:(this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,e.trigger(this,"infinite-scroll-end")))},a.prototype.logPos=function(e,t){this.loggedPcentX=this.divide(e,this.el.scrollWidth),this.loggedPcentY=this.divide(t,this.el.scrollHeight),this.scrollLeft=e,this.scrollTop=t,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},a.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy_(),this.el.scrollLeft=this.loggedPcentX*this.el.scrollWidth,this.el.scrollTop=this.loggedPcentY*this.el.scrollHeight,this.logPos(this.el.scrollLeft,this.el.scrollTop)},u.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.elementInfo=this.currentScrollingObject=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.hscrollBar=this.vscrollBar=null,this.vScrollCSS=this.hScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.refreshSafeKeep=this.androidFormsMode=this.isScrolling=!1,this.lastScrollbar="",this.scrollingFinishCB=this.container=this.finishScrollingObject=null,this.loggedPcentX=this.loggedPcentY=0},u.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,e?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1))},u.prototype.adjustScroll=function(){var e=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.el.clientWidth-e.w)),y:Math.round(this.loggedPcentY*(this.el.clientHeight-e.h))},0)},u.prototype.disable=function(){if(this.eventsActive){var e=this.getCSSMatrix(this.el);this.logPos(numOnly(e.e)-numOnly(this.container.scrollLeft),numOnly(e.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1}},u.prototype.addPullToRefresh=function(e,t){t||(this.refresh=!0),this.refresh&&!0===this.refresh&&(this.coreAddPullToRefresh(e),this.el.style.overflow="visible")},u.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.display="none",this.hscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.display="none",this.vscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms")},u.prototype.getViewportSize=function(){var e=window.getComputedStyle(this.container);return isNaN(numOnly(e.paddingTop))&&alert(typeof e.paddingTop+"::"+e.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(e.paddingTop)-numOnly(e.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(e.paddingLeft)-numOnly(e.paddingRight)}},u.prototype.onTouchStart=function(t){this.moved=!1,this.currentScrollingObject=null;if(this.container&&(this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null),1==t.touches.length&&!this.boolScrollLock)){if(t.touches[0].target&&void 0!==t.touches[0].target.type){var n=t.touches[0].target.tagName.toLowerCase();t.touches[0].target.type.toLowerCase();if("select"==n)return}n={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},this.elementInfo={};var r=this.getViewportSize();this.elementInfo.bottomMargin=r.h,this.elementInfo.maxTop=this.el.clientHeight-this.elementInfo.bottomMargin,0>this.elementInfo.maxTop&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.el.clientHeight,this.elementInfo.rightMargin=r.w,this.elementInfo.maxLeft=this.el.clientWidth-this.elementInfo.rightMargin,0>this.elementInfo.maxLeft&&
(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.el.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||0<this.elementInfo.maxTop,this.elementInfo.hasHorScroll=0<this.elementInfo.maxLeft,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(t),this.saveFirstEventInfo(t),t=this.getCSSMatrix(this.el),n.top=numOnly(t.f)-numOnly(this.container.scrollTop),n.left=numOnly(t.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.el,this.refresh&&0===n.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>n.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),n.x=n.left,n.y=n.top,this.setVScrollBar(n,0,0)&&(this.vscrollBar.style.right="0px",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.setHScrollBar(n,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.lastScrollInfo=n,this.hasMoved=!1,0==this.elementInfo.maxTop&&0==this.elementInfo.maxLeft?this.currentScrollingObject=null:this.scrollerMoveCSS(this.lastScrollInfo,0)}},u.prototype.getCSSMatrix=function(t){if(this.androidFormsMode){var n=parseInt(t.style.marginTop,10);return t=parseInt(t.style.marginLeft,10),isNaN(n)&&(n=0),isNaN(t)&&(t=0),{f:n,e:t}}return e.getCssMatrix(t)},u.prototype.saveEventInfo=function(e){this.lastEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},u.prototype.saveFirstEventInfo=function(e){this.firstEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},u.prototype.setVScrollBar=function(e,t,n){if(!this.elementInfo.requiresVScrollBar)return!1;var r=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px";return numOnly(r)>this.elementInfo.bottomMargin&&(r=this.elementInfo.bottomMargin+"px"),r!=this.vscrollBar.style.height&&(this.vscrollBar.style.height=r),e=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+e.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)),e>this.elementInfo.bottomMargin&&(e=this.elementInfo.bottomMargin),0>e&&(e=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:e},t,n),!0},u.prototype.setHScrollBar=function(e,t,n){if(!this.elementInfo.requiresHScrollBar)return!1;var r=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px";return r!=this.hscrollBar.style.width&&(this.hscrollBar.style.width=r),e=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+e.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)),e>this.elementInfo.rightMargin&&(e=this.elementInfo.rightMargin),0>e&&(e=0),this.scrollbarMoveCSS(this.hscrollBar,{x:e,y:0},t,n),!0},u.prototype.onTouchMove=function(t){if(null!==this.currentScrollingObject){var n=this.calculateMovement(t);this.calculateTarget(n),this.lastScrollInfo=n,this.moved||(e.trigger(this,"scrollstart"),e.trigger(e.touchLayer,"scrollstart",[this.el]),this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.display="block"),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.display="block")),this.moved=!0,this.refresh&&0===n.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>n.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(t),!1===this.isScrolling&&(this.isScrolling=!0,this.onScrollStart)&&this.onScrollStart(),t=this.getCSSMatrix(this.el),this.lastScrollInfo.top=numOnly(t.f),this.lastScrollInfo.left=numOnly(t.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo),t=0<this.lastScrollInfo.y&&0<this.lastScrollInfo.deltaY;var r=this.lastScrollInfo.y<-this.elementInfo.maxTop&&0>this.lastScrollInfo.deltaY;if(t||r){n=t?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,n=(this.container.clientHeight-n)/this.container.clientHeight,.5>n&&(n=.5);var i=0;t&&0<this.lastScrollInfo.top||r&&this.lastScrollInfo.top<-this.elementInfo.maxTop?i=this.lastScrollInfo.top:r&&(i=-this.elementInfo.maxTop),r=this.lastScrollInfo.deltaY*n,1>Math.abs(this.lastScrollInfo.deltaY*n)&&(r=t?1:-1),this.lastScrollInfo.y=i+r}this.elementInfo.hasHorScroll&&(t=0<this.lastScrollInfo.x&&0<this.lastScrollInfo.deltaX,r=this.lastScrollInfo.x<-this.elementInfo.maxLeft&&0>this.lastScrollInfo.deltaX,t||r)&&(n=t?this.lastScrollInfo.x:-this.lastScrollInfo.x-this.elementInfo.maxLeft,n=(this.container.clientWidth-n)/this.container.clientWidth,.5>n&&(n=.5),i=0,t&&0<this.lastScrollInfo.left||r&&this.lastScrollInfo.left<-this.elementInfo.maxLeft?i=this.lastScrollInfo.left:r&&(i=-this.elementInfo.maxLeft),r=this.lastScrollInfo.deltaX*n,1>Math.abs(this.lastScrollInfo.deltaX*n)&&(r=t?1:-1),this.lastScrollInfo.x=i+r),this.lockBounce&&(0<this.lastScrollInfo.x?this.lastScrollInfo.x=0:-1*this.lastScrollInfo.x>this.elementInfo.maxLeft&&(this.lastScrollInfo.x=-1*this.elementInfo.maxLeft),0<this.lastScrollInfo.y?this.lastScrollInfo.y=0:-1*this.lastScrollInfo.y>this.elementInfo.maxTop&&(this.lastScrollInfo.y=-1*this.elementInfo.maxTop)),this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,e.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))}},u.prototype.calculateMovement=function(e,t){var n={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},r=t?this.firstEventInfo:this.lastEventInfo,i=t?e.pageX:e.touches[0].pageX,s=t?e.pageY:e.touches[0].pageY,o=t?e.time:e.timeStamp;return n.deltaY=this.elementInfo.hasVertScroll?s-r.pageY:0,n.deltaX=this.elementInfo.hasHorScroll?i-r.pageX:0,n.time=o,n.duration=o-r.time,n},u.prototype.calculateTarget=function(e){e.y=this.lastScrollInfo.y+e.deltaY,e.x=this.lastScrollInfo.x+e.deltaX},u.prototype.checkYboundary=function(e){var t=this.container.clientHeight/2,n=this.elementInfo.maxTop+t;if(e.y>t)e.y=t;else{if(!(-e.y>n))return;e.y=-n}this.recalculateDeltaY(e)},u.prototype.checkXboundary=function(e){var t=this.container.clientWidth/2,n=this.elementInfo.maxLeft+t;if(e.x>t)e.x=t;else{if(!(-e.x>n))return;e.x=-n}this.recalculateDeltaX(e)},u.prototype.recalculateDeltaY=function(e){var t=Math.abs(e.deltaY);e.deltaY=e.y-e.top,newAbsDeltaY=Math.abs(e.deltaY),e.duration=e.duration*newAbsDeltaY/t},u.prototype.recalculateDeltaX=function(e){var t=Math.abs(e.deltaX);e.deltaX=e.x-e.left,newAbsDeltaX=Math.abs(e.deltaX),e.duration=e.duration*newAbsDeltaX/t},u.prototype.hideRefresh=function(t){var n=this;this.preventHideRefresh||(this.scrollerMoveCSS({x:0,y:0,complete:function(){e.trigger(n,"refresh-finish")}},75),this.refreshTriggered=!1)},u.prototype.setMomentum=function(e){e.speedY=this.divide(e.deltaY,e.duration),e.speedX=this.divide(e.deltaX,e.duration),e.absSpeedY=Math.abs(e.speedY),e.absSpeedX=Math.abs(e.speedX),e.absDeltaY=Math.abs(e.deltaY),e.absDeltaX=Math.abs(e.deltaX);if(0<e.absDeltaY){if(e.deltaY=(0>e.deltaY?-1:1)*e.absSpeedY*e.absSpeedY/.0024,e.absDeltaY=Math.abs(e.deltaY),e.duration=e.absSpeedY/.0012,e.speedY=e.deltaY/e.duration,e.absSpeedY=Math.abs(e.speedY),.12>e.absSpeedY||5>e.absDeltaY)e.deltaY=e.absDeltaY=e.duration=e.speedY=e.absSpeedY=0}else if(e.absDeltaX){if(e.deltaX=(0>e.deltaX?-1:1)*e.absSpeedX*e.absSpeedX/.0024,e.absDeltaX=Math.abs(e.deltaX),e.duration=e.absSpeedX/.0012,e.speedX=e.deltaX/e.duration,e.absSpeedX=Math.abs(e.speedX),.12>e.absSpeedX||5>e.absDeltaX)e.deltaX=e.absDeltaX=e.duration=e.speedX=e.absSpeedX=0}else e.duration=0},u.prototype.onTouchEnd=function(t){if(null!==this.currentScrollingObject&&this.moved){this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null,t=this.calculateMovement(this.lastEventInfo,!0),this.androidFormsMode||this.setMomentum(t),this.calculateTarget(t);var n=this.getCSSMatrix(this.el);t.top=numOnly(n.f),t.left=numOnly(n.e),this.checkYboundary(t),this.elementInfo.hasHorScroll&&this.checkXboundary(t),n=!this.preventPullToRefresh&&(t.top>this.refreshHeight||t.y>this.refreshHeight),this.fireRefreshRelease(n,0<t.top);if(this.refresh&&n)t.y=this.refreshHeight,t.duration=75;else if(0<=t.y)t.y=0,0<=t.top&&(t.duration=75);else if(-t.y>this.elementInfo.maxTop||0===this.elementInfo.maxTop)t.y=-this.elementInfo.maxTop,-t.top>this.elementInfo.maxTop&&(t.duration=75);if(this.elementInfo.hasHorScroll)if(0<=t.x)t.x=0,0<=t.left&&(t.duration=75);else if(-t.x>this.elementInfo.maxLeft||0===this.elementInfo.maxLeft)t.x=-this.elementInfo.maxLeft,-t.left>this.elementInfo.maxLeft&&(t.duration=75);this.androidFormsMode&&(t.duration=0),this.scrollerMoveCSS(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(t.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(t.y)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))}},u.prototype.setFinishCalback=function(t){var n=this;this.scrollingFinishCB=setTimeout(function(){n.hideScrollbars(),e.trigger(e.touchLayer,"scrollend",[n.el]),e.trigger(n,"scrollend",[n.el]),n.isScrolling=!1,n.elementInfo=null,n.infinite&&e.trigger(n,"infinite-scroll-end")},t)},u.prototype.startFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.el);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.el.style[e.feat.cssPrefix+"Transform"]="none",this.el.style[e.feat.cssPrefix+"Transition"]="none",this.el.style[e.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]="none",this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible")}},u.prototype.stopFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.el);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.el.style[e.feat.cssPrefix+"Perspective"]=1e3,this.el.style.marginTop=0,this.el.style.marginLeft=0,this.el.style[e.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]=1e3,this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden")}},u.prototype.scrollerMoveCSS=function(t,n,r){n||(n=0),r||(r="linear"),n=numOnly(n),this.el&&this.el.style&&(this.eventsActive&&(this.androidFormsMode?(this.el.style.marginTop=Math.round(t.y)+"px",this.el.style.marginLeft=Math.round(t.x)+"px"):(this.el.style[e.feat.cssPrefix+"Transform"]="translate"+s+t.x+"px,"+t.y+"px"+o,this.el.style[e.feat.cssPrefix+"TransitionDuration"]=n+"ms",this.el.style[e.feat.cssPrefix+"TransitionTimingFunction"]=r)),this.logPos(t.x,t.y))},u.prototype.logPos=function(e,t){var n;n=this.elementInfo?{h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin}:this.getViewportSize(),this.loggedPcentX=this.divide(e,this.el.clientWidth-n.w),this.loggedPcentY=this.divide(t,this.el.clientHeight-n.h),this.scrollTop=t,this.scrollLeft=e},u.prototype.scrollbarMoveCSS=function(t,n,r,i){r||(r=0),i||(i="linear"),t&&t.style&&(this.androidFormsMode?(t.style.marginTop=Math.round(n.y)+"px",t.style.marginLeft=Math.round(n.x)+"px"):(t.style[e.feat.cssPrefix+"Transform"]="translate"+s+n.x+"px,"+n.y+"px"+o,t.style[e.feat.cssPrefix+"TransitionDuration"]=r+"ms",t.style[e.feat.cssPrefix+"TransitionTimingFunction"]=i))},u.prototype.scrollTo=function(e,t){t||(t=0),this.scrollerMoveCSS(e,t)},u.prototype.scrollBy=function(e,t){var n=this.getCSSMatrix(this.el),r=numOnly(n.f),n=numOnly(n.e);this.scrollTo({y:r-e.y,x:n-e.x},t)},u.prototype.scrollToBottom=function(e){this.scrollTo({y:-1*(this.el.clientHeight-this.container.clientHeight),x:0},e)},u.prototype.scrollToTop=function(e){this.scrollTo({x:0,y:0},e)},function(n,i){var s;if(!r&&e.touchLayer&&e.isObject(e.touchLayer))t();else if(!e.touchLayer||!e.isObject(e.touchLayer))e.touchLayer={};if(s="string"==typeof n||n instanceof String?document.getElementById(n):n)return af.os.desktop?new f(s,i):i.useJsScroll?new u(s,i):new a(s,i);alert("Could not find element for scroller "+n)}}()}(af),function(e){e.fn.popup=function(e){return new n(this[0],e)};var t=[],n=function(){var n=function(n,r){if(this.container="string"==typeof n||n instanceof String?document.getElementById(n):n)try{if("string"==typeof r||"number"==typeof r)r={message:r,cancelOnly:"true",cancelText:"OK"};this.id=id=r.id=r.id||e.uuid(),this.addCssClass=r.addCssClass?r.addCssClass:"",this.title=r.suppressTitle?"":r.title||"Alert",this.message=r.message||"",this.cancelText=r.cancelText||"Cancel",this.cancelCallback=r.cancelCallback||function(){},this.cancelClass=r.cancelClass||"button",this.doneText=r.doneText||"Done",this.doneCallback=r.doneCallback||function(e){},this.doneClass=r.doneClass||"button",this.cancelOnly=r.cancelOnly||!1,this.onShow=r.onShow||function(){},this.autoCloseDone=void 0!==r.autoCloseDone?r.autoCloseDone:!0,t.push(this),1==t.length&&this.show()}catch(i){console.log("error adding popup "+i)}else alert("Error finding container for popup "+n)};return n.prototype={id:null,addCssClass:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,supressTitle:!1,show:function(){var t=this,n='<div id="'+this.id+'" class="afPopup hidden '+this.addCssClass+'"><header>'+this.title+"</header><div>"+this.message+'</div><footer style="clear:both;"><a href="javascript:;" class="'+this.cancelClass+'" id="cancel">'+this.cancelText+'</a><a href="javascript:;" class="'+this.doneClass+'" id="action">'+this.doneText+"</a> </footer></div></div>";e(this.container).append(e(n));var r=e.query("#"+this.id);r.bind("close",function(){t.hide()}),this.cancelOnly&&(r.find("A#action").hide(),r.find("A#cancel").addClass("center")),r.find("A").each(function(){var n=e(this);n.bind("click",function(e){"cancel"==n.attr("id")?(t.cancelCallback.call(t.cancelCallback,t),t.hide()):(t.doneCallback.call(t.doneCallback,t),t.autoCloseDone&&t.hide()),e.preventDefault()})}),t.positionPopup(),e.blockUI(.5),r.bind("orientationchange",function(){t.positionPopup()}),r.find("header").show(),r.find("footer").show(),setTimeout(function(){r.removeClass("hidden"),t.onShow(t)},50)},hide:function(){var t=this;e.query("#"+t.id).addClass("hidden"),e.unblockUI(),!e.os.ie&&!e.os.android?setTimeout(function(){t.remove()},250):t.remove()},remove:function(){var n=e.query("#"+this.id);n.unbind("close"),n.find("BUTTON#action").unbind("click"),n.find("BUTTON#cancel").unbind("click"),n.unbind("orientationchange").remove(),t.splice(0,1),0<t.length&&t[0].show()},positionPopup:function(){var t=e.query("#"+this.id);t.css("top",window.innerHeight/2.5+window.pageYOffset-t[0].clientHeight/2+"px"),t.css("left",window.innerWidth/2-t[0].clientWidth/2+"px")}},n}(),r=!1;e.blockUI=function(t){r||(t=t?" style='opacity:"+t+";'":"",e.query("BODY").prepend(e("<div id='mask'"+t+"></div>")),e.query("BODY DIV#mask").bind("touchstart",function(e){e.preventDefault()}),e.query("BODY DIV#mask").bind("touchmove",function(e){e.preventDefault()}),r=!0)},e.unblockUI=function(){r=!1,e.query("BODY DIV#mask").unbind("touchstart"),e.query("BODY DIV#mask").unbind("touchmove"),e("BODY DIV#mask").remove()}}(af),function(e){e.fn.actionsheet=function(e){for(var r,i=0;i<this.length;i++)r=new t(this[i],e);return 1==this.length?r:this};var t=function(){var t=function(n,r){if(this.el="string"==typeof n||n instanceof String?document.getElementById(n):n){if(!(this instanceof t))return new t(n,r);if("object"==typeof r)for(var i in r)this[i]=r[i];var s=this,o;if("string"==typeof r)o=e('<div id="af_actionsheet"><div style="width:100%">'+r+"<a href='javascript:;' class='cancel'>Cancel</a></div></div>");else if("object"==typeof r){o=e('<div id="af_actionsheet"><div style="width:100%"></div></div>'),i=e(o.children().get(0)),r.push({text:"Cancel",cssClasses:"cancel"});for(var u=0;u<r.length;u++){var a=e('<a href="javascript:;" >'+(r[u].text||"TEXT NOT ENTERED")+"</a>");a[0].onclick=r[u].handler||function(){},r[u].cssClasses&&0<r[u].cssClasses.length&&a.addClass(r[u].cssClasses),i.append(a)}}e(n).find("#af_actionsheet").remove(),e(n).find("#af_action_mask").remove(),actionsheetEl=e(n).append(o),o.vendorCss("Transition","all 0ms"),o.cssTranslate("0,0"),o.css("top",window.innerHeight+"px"),this.el.style.overflow="hidden",o.on("click","a",function(){return s.hideSheet(),!1}),this.activeSheet=o,e(n).append('<div id="af_action_mask" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)"/>'),setTimeout(function(){o.vendorCss("Transition","all 300ms"),o.cssTranslate("0,"+ -o.height()+"px")},10)}else alert("Could not find element for actionsheet "+n)};return t.prototype={activeSheet:null,hideSheet:function(){var t=this;this.activeSheet.off("click","a",function(){t.hideSheet()}),e(this.el).find("#af_action_mask").remove(),this.activeSheet.vendorCss("Transition","all 0ms");var n=this.activeSheet,r=this.el;setTimeout(function(){n.vendorCss("Transition","all 300ms"),n.cssTranslate("0,0px"),setTimeout(function(){n.remove(),n=null,r.style.overflow="none"},500)},10)}},t}()}(af),function(e){e.passwordBox=function(){return new t};var t=function(){this.oldPasswords={}};t.prototype={showPasswordPlainText:!1,getOldPasswords:function(t){var n=t&&document.getElementById(t)?document.getElementById(t):document;if(n){t=n.getElementsByTagName("input");for(n=0;n<t.length;n++)"password"==t[n].type&&e.os.webkit&&(t[n].type="text",e(t[n]).vendorCss("TextSecurity","disc"))}else alert("Could not find container element for passwordBox "+t)},changePasswordVisiblity:function(t,n){t=parseInt(t,10);var r=document.getElementById(n);1==t?e(r).vendorCss("TextSecurity","none"):e(r).vendorCss("TextSecurity","disc"),e.os.webkit||(r.type=1==t?"text":"password")}}}(af),function(e){function t(t,n,r){return!0===r&&(this.getAttribute("multiple")||e.selectBox.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),r}function n(t,n,r){return this.options[r]&&(this.getAttribute("multiple")||e.selectBox.updateMaskValue(this.linker,this.options[r].value,this.options[r].text),this.value=this.options[r].value),r}function r(t){var n=t.target;e(n.linker).remove(),delete n.linker,t.stopPropagation()}e.selectBox={scroller:null,currLinker:null,getOldSelects:function(i){if(e.os.android&&!e.os.androidICS)if(e.fn.scroller){var s=i&&document.getElementById(i)?document.getElementById(i):document;if(s){i=s.getElementsByTagName("select");for(s=0;s<i.length;s++){var o=i[s];o.style.display="none";var u=e.create("div",{className:"afFakeSelect"});u.get(0).linker=i[s],o.linker=u.get(0),u.insertAfter(i[s]),o.watch("selectedIndex",n);for(var a=0;a<o.options.length;a++)o.options[a].watch("selected",t),o.options[a].selected&&u.html(o.options[a].text);e(o).one("destroy",r)}this.createHtml()}else alert("Could not find container element for af.selectBox "+i)}else alert("This library requires af.scroller")},updateDropdown:function(e){if(e)for(var t=0;t<e.options.length;t++)e.options[t].selected&&(e.linker.innerHTML=e.options[t].text)},initDropDown:function(n){if(!n.disabled&&n&&n.options&&0!==n.options.length){var r=0,i=e("#afSelectBoxfix");i.html("<ul></ul>");for(var i=i.find("ul"),s=0;s<n.options.length;s++){n.options[s].watch("selected",t);var o=n.options[s].selected?"selected":"";o&&(r=s+1),o=e.create("li",{html:n.options[s].text,className:o}),o.data("ind",s),i.append(o)}e("#afModalMask").show();try{if(0<r&&"multiple"!=n.getAttribute("multiple")){n=0;var u=numOnly(i.find("li").computedStyle("height")),a=numOnly(e("#afSelectBoxContainer").computedStyle("height"));r*u>=a&&(n=(r-1)*-u),this.scroller.scrollTo({x:0,y:n})}}catch(f){console.log("error init dropdown"+f)}r="block"==e("#afSelectClose").css("display")?numOnly(e("#afSelectClose").height()):0,e("#afSelectWrapper").height(numOnly(e("#afSelectBoxContainer").height())-r+"px")}},updateMaskValue:function(t,n,r){e(t).html(r)},setDropDownValue:function(t,n){if(t){var r=e(t);n=parseInt(n,10),t.getAttribute("multiple")?(r=e("#afSelectBoxfix li:nth-child("+(n+1)+")"),r.hasClass("selected")?r.removeClass("selected"):r.addClass("selected")):(t.selectedIndex=n,r.find("option").prop("selected",!1),r.find("option:nth-child("+(n+1)+")").prop("selected",!0),this.scroller.scrollTo({x:0,y:0}),this.hideDropDown()),e(t).trigger("change")}},hideDropDown:function(){e("#afModalMask").hide(),e("#afSelectBoxfix").html("")},createHtml:function(){var t=this;document.getElementById("afSelectBoxfix")||e(document).ready(function(){e(document).on("click",".afFakeSelect",function(n){this.linker.disabled||(t.currLinker=this,"multiple"==this.linker.getAttribute("multiple")?e("#afSelectClose").show():e("#afSelectClose").hide(),t.initDropDown(this.linker))});var n=e.create("div",{id:"afSelectBoxContainer"}),r=e.create("div",{id:"afSelectBoxfix"}),i=e.create("div",{id:"afSelectWrapper"});i.css("position","relative"),i.append(r);var r=e.create("div",{id:"afSelectClose",html:"<a id='afSelectDone'>Done</a> <a id='afSelectCancel'>Cancel</a>"}),s=e.create("div",{id:"afModalMask"}),o=e("#afui");n.prepend(r).append(i),s.append(n),0<o.length?o.append(s):document.body.appendChild(s.get(0)),t.scroller=e.query("#afSelectBoxfix").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"jqselectscrollBarV"}),e("#afModalMask").on("click",function(n){0===e(n.target).closest("#afSelectBoxContainer").length&&t.hideDropDown()}),e("#afSelectBoxfix").on("click","li",function(n){n=e(n.target),t.setDropDownValue(t.currLinker.linker,n.data("ind"))}),e("#afSelectBoxContainer").on("click","a",function(n){if("afSelectCancel"==n.target.id)return t.hideDropDown();var r=e(t.currLinker.linker);return r.find("option").prop("selected",!1),e("#afSelectBoxfix li").each(function(n){n=e(this);if(n.hasClass("selected")){var i=parseInt(n.data("ind"),10);r.find("option:nth-child("+(i+1)+")").prop("selected",!0),t.currLinker.innerHTML=n.html()}}),t.hideDropDown(),n.stopPropagation(),n.preventDefault(),!1})})}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(e,t){var n=this[e],r=n,i=function(){return r},s=function(i){return n=r,r=t.call(this,e,n,i)};delete this[e]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,e,{get:i,set:s,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,e,i),HTMLElement.prototype.__defineSetter__.call(this,e,s)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(e){var t=this[e];delete this[e],this[e]=t})}(af),function(e){function t(e,t,n,r){var i=Math.abs(e-t),s=Math.abs(n-r);return i>=s?0<e-t?"Left":"Right":0<n-r?"Up":"Down"}function n(){r.last&&Date.now()-r.last>=s&&(r.el.trigger("longTap"),r={})}var r={},i,s=750,o;e(document).ready(function(){var u;e(document.body).bind("touchstart",function(t){t.originalEvent&&(t=t.originalEvent);if(t.touches&&0!==t.touches.length){var f=Date.now(),h=f-(r.last||f);t.touches&&0!==t.touches.length&&(r.el=e("tagName"in t.touches[0].target?t.touches[0].target:t.touches[0].target.parentNode),i&&clearTimeout(i),r.x1=t.touches[0].pageX,r.y1=t.touches[0].pageY,r.x2=r.y2=0,0<h&&250>=h&&(r.isDoubleTap=!0),r.last=f,o=setTimeout(n,s),e.ui.useAutoPressed&&!r.el.data("ignore-pressed")&&r.el.addClass("pressed"),u&&e.ui.useAutoPressed&&!u.data("ignore-pressed")&&u.removeClass("pressed"),u=r.el)}}).bind("touchmove",function(e){e.originalEvent&&(e=e.originalEvent),r.x2=e.touches[0].pageX,r.y2=e.touches[0].pageY,clearTimeout(o)}).bind("touchend",function(n){n.originalEvent&&(n=n.originalEvent),r.el&&(e.ui.useAutoPressed&&!r.el.data("ignore-pressed")&&r.el.removeClass("pressed"),r.isDoubleTap?(r.el.trigger("doubleTap"),r={}):0<r.x2||0<r.y2?((30<Math.abs(r.x1-r.x2)||30<Math.abs(r.y1-r.y2))&&r.el.trigger("swipe")&&r.el.trigger("swipe"+t(r.x1,r.x2,r.y1,r.y2)),r.x1=r.x2=r.y1=r.y2=r.last=0):"last"in r&&(r.el.trigger("tap"),i=setTimeout(function(){i=null,r.el&&r.el.trigger("singleTap"),r={}},250)))}).bind("touchcancel",function(){r.el&&e.ui.useAutoPressed&&!r.el.data("ignore-pressed")&&r.el.removeClass("pressed"),r={},clearTimeout(o)})}),"swipe swipeLeft swipeRight swipeUp swipeDown doubleTap tap singleTap longTap".split(" ").forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}(jq),function(e){e.touchLayer=function(t){return e.touchLayer=new f(t),e.touchLayer};var t=["input","select","textarea"],n=["button","radio","checkbox","range","date"],r=e.os.ios,i=e.os.blackberry,s=e.os.blackberry||e.os.android&&!e.os.chrome,o=e.os.ios,u=!1,a=!1,f=function(t){this.clearTouchVars(),t.addEventListener("touchstart",this,!1),t.addEventListener("touchmove",this,!1),t.addEventListener("touchend",this,!1),t.addEventListener("click",this,!1),t.addEventListener("focusin",this,!1),document.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),this.layer=t,this.scrollEndedProxy_=e.proxy(this.scrollEnded,this),this.exitEditProxy_=e.proxy(this.exitExit,this,[]),this.launchFixUIProxy_=e.proxy(this.launchFixUI,this);var n=this;this.scrollTimeoutExpireProxy_=function(){n.scrollTimeout_=null,n.scrollTimeoutEl_.addEventListener("scroll",n.scrollEndedProxy_,!1)},this.retestAndFixUIProxy_=function(){af.os.android&&(n.layer.style.height="100%"),e.asap(n.testAndFixUI,n,arguments)},document.addEventListener("click",function(e){if(a)return e.preventDefault(),e.stopPropagation(),!1;void 0!==e.clientX&&null!=n.lastTouchStartX&&2>Math.abs(n.lastTouchStartX-e.clientX)&&2>Math.abs(n.lastTouchStartY-e.clientY)&&(e.preventDefault(),e.stopPropagation())},!0),e.bind(this,"scrollstart",function(t){n.isScrolling=!0,n.scrollingEl_=t,e.feat.nativeTouchScroll||(n.scrollerIsScrolling=!0),n.fireEvent("UIEvents","scrollstart",t,!1,!1)}),e.bind(this,"scrollend",function(t){n.isScrolling=!1,e.feat.nativeTouchScroll||(n.scrollerIsScrolling=!1),n.fireEvent("UIEvents","scrollend",t,!1,!1)}),this.launchFixUI(5)};f.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:!1,allowDocumentScroll_:!1,ignoreNextResize_:!1,blockPossibleClick_:!1,isScrolling:!1,isScrollingVertical_:!1,wasPanning_:!1,isPanning_:!1,isFocused_:!1,justBlurred_:!1,requiresNativeTap:!1,holdingReshapeType_:null,trackingClick:!1,scrollerIsScrolling:!1,handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"click":this.onClick(e);break;case"blur":this.onBlur(e);break;case"scroll":this.onScroll(e);break;case"orientationchange":this.onOrientationChange(e);break;case"resize":this.onResize(e);break;case"focusin":this.onFocusIn(e)}},launchFixUI:function(e){e||(e=2);if(null===this.reHideAddressBarTimeout_)return this.testAndFixUI(0,e)},resetFixUI:function(){this.reHideAddressBarTimeout_&&clearTimeout(this.reHideAddressBarTimeout_),this.reHideAddressBarTimeout_=null},testAndFixUI:function(e,t){var n=this.getReferenceHeight(),r=this.getCurrentHeight();return n==r||.97*r<n&&.97*n<r?(af.os.android&&this.resetFixUI(),!1):(this.hideAddressBar(e,t),!0)},hideAddressBar:function(e,t){if(!af.ui||!af.ui.isIntel)if(e>=t)this.resetFixUI();else if(af.os.desktop||af.os.chrome)this.layer.style.height="100%";else if(af.os.android){window.scrollTo(1,1),this.layer.style.height=this.isFocused_||window.innerHeight>window.outerHeight?window.innerHeight+"px":window.outerHeight/window.devicePixelRatio+"px",that=this;var n=e+1;this.reHideAddressBarTimeout_=setTimeout(this.retestAndFixUIProxy_,250*n,[n,t])}else this.isFocused_||(document.documentElement.style.height="5000px",window.scrollTo(0,0),document.documentElement.style.height=window.innerHeight+"px",this.layer.style.height=window.innerHeight+"px")},getReferenceHeight:function(){return af.os.android?Math.ceil(window.outerHeight/window.devicePixelRatio):window.innerHeight},getCurrentHeight:function(){return af.os.android?window.innerHeight:numOnly(document.documentElement.style.height)},onOrientationChange:function(e){!this.holdingReshapeType_&&this.reshapeTimeout_?this.fireReshapeEvent("orientationchange"):this.previewReshapeEvent("orientationchange")},onResize:function(e){this.ignoreNextResize_?this.ignoreNextResize_=!1:this.launchFixUI()&&this.reshapeAction()},onClick:function(i){var s=i.target&&void 0!==i.target.tagName?i.target.tagName.toLowerCase():"";if(-1===t.indexOf(s)||!!this.isFocused_&&i.target===this.focusedElement)e.os.blackberry10&&this.isFocused_&&this.focusedElement.blur();else{s=i.target&&void 0!==i.target.type?i.target.type.toLowerCase():"";if(-1===n.indexOf(s)){this.isFocused_&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=i.target,this.focusedElement.addEventListener("blur",this,!1);if(!this.isFocused_&&!this.justBlurred_)if(e.trigger(this,"enter-edit",[i.target]),e.os.ios){var o=this;setTimeout(function(){o.fireReshapeEvent("enter-edit")},300)}else this.previewReshapeEvent("enter-edit");this.isFocused_=!0}else this.isFocused_=!1;this.justBlurred_=!1,this.allowDocumentScroll_=!0,r&&i.target.focus()}},previewReshapeEvent:function(e){that=this,this.reshapeTimeout_=setTimeout(function(){that.fireReshapeEvent(e),that.reshapeTimeout_=null,that.holdingReshapeType_=null},750),this.holdingReshapeType_=e},fireReshapeEvent:function(t){e.trigger(this,"reshape"),e.trigger(this,t?t+"-reshape":"unknown-reshape")},reshapeAction:function(){this.reshapeTimeout_?(clearTimeout(this.reshapeTimeout_),this.fireReshapeEvent(this.holdingReshapeType_),this.reshapeTimeout_=this.holdingReshapeType_=null):this.previewReshapeEvent()},onFocusIn:function(e){this.isFocused_||this.onClick(e)},onBlur:function(t){af.os.android&&t.target==window||(this.isFocused_=!1,this.focusedElement&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=null,this.justBlurred_=!0,e.asap(this.exitEditProxy_,this,[t.target]))},exitExit:function(t){this.justBlurred_=!1;if(!this.isFocused_)if(e.trigger(this,"exit-edit",[t]),this.allowDocumentScroll_=!1,e.os.ios){var n=this;setTimeout(function(){n.fireReshapeEvent("exit-edit")},300)}else this.previewReshapeEvent("exit-edit")},onScroll:function(e
){!this.allowDocumentScroll_&&!this.isPanning_&&e.target==document&&(this.allowDocumentScroll_=!0,this.wasPanning_?(this.wasPanning_=!1,setTimeout(this.launchFixUIProxy_,2e3,[2])):this.launchFixUI())},onTouchStart:function(n){this.dX=n.touches[0].pageX,this.dY=n.touches[0].pageY,this.lastTimestamp=n.timeStamp,this.lastTouchStartX=this.lastTouchStartY=null;if(e.os.ios){if(u===n.touches[0].identifier)return a=!0,n.preventDefault(),!1;u=n.touches[0].identifier,a=!1}if(this.scrollerIsScrolling)return this.moved=!0,this.scrollerIsScrolling=!1,n.preventDefault(),!1;this.trackingClick=!0,(o||e.feat.nativeTouchScroll)&&this.checkDOMTree(n.target,this.layer),this.isScrolling&&(null!==this.scrollTimeout_?(clearTimeout(this.scrollTimeout_),this.scrollTimeout_=null,this.scrollTimeoutEl_!=this.scrollingEl_?this.scrollEnded(!1):this.blockPossibleClick_=!0):this.scrollTimeoutEl_&&(this.scrollEnded(!0),this.blockPossibleClick_=!0));if(af.os.android&&n&&n.target&&n.target.getAttribute&&"ignore"==n.target.getAttribute("data-touchlayer")||this.isFocused_&&!e.os.blackberry10)this.allowDocumentScroll_=this.requiresNativeTap=!0;else if(s&&n.target&&void 0!==n.target.tagName){var r=n.target.tagName.toLowerCase();-1!==t.indexOf(r)&&(this.requiresNativeTap=!0)}else n.target&&void 0!==n.target.tagName&&"input"==n.target.tagName.toLowerCase()&&"range"==n.target.type&&(this.requiresNativeTap=!0);!this.isPanning_&&!this.requiresNativeTap?(this.isScrolling&&!e.feat.nativeTouchScroll||!this.isScrolling)&&n.preventDefault():this.isScrollingVertical_&&this.demandVerticalScroll()},demandVerticalScroll:function(){0>=this.scrollingEl_.scrollTop?this.scrollingEl_.scrollTop=1:this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight>=this.scrollingEl_.scrollHeight&&(this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1)},ignoreScrolling:function(e){return void 0===e.scrollWidth||void 0===e.clientWidth||void 0===e.scrollHeight||void 0===e.clientHeight?!0:!1},allowsVerticalScroll:function(e,t){var n=t.overflowY;return"scroll"==n||"auto"==n&&e.scrollHeight>e.clientHeight?!0:!1},allowsHorizontalScroll:function(e,t){var n=t.overflowX;return"scroll"==n||"auto"==n&&e.scrollWidth>e.clientWidth?!0:!1},checkDOMTree:function(t,n){if(o&&this.panElementId==t.id)this.isPanning_=!0;else{if(e.feat.nativeTouchScroll){if(this.ignoreScrolling(t))return;var r=window.getComputedStyle(t);if(this.allowsVerticalScroll(t,r)){this.isScrollingVertical_=!0,this.scrollingEl_=t,this.isScrolling=!0;return}this.allowsHorizontalScroll(t,r)&&(this.isScrollingVertical_=!1,this.scrollingEl_=null,this.isScrolling=!0)}t!=n&&t.parentNode&&this.checkDOMTree(t.parentNode,n)}},scrollEnded:function(e){null!==this.scrollTimeoutEl_&&(e&&this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,!1),this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,!1,!1),this.scrollTimeoutEl_=null)},onTouchMove:function(t){var n=this.moved;this.moved=!0,i&&(this.cY=t.touches[0].pageY-this.dY,this.cX=t.touches[0].pageX-this.dX),this.isPanning_||(this.isScrolling&&(n||this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,!1,!1),this.speedY=(this.lastY-t.touches[0].pageY)/(t.timeStamp-this.lastTimestamp),this.lastY=t.touches[0].pageY,this.lastX=t.touches[0].pageX,this.lastTimestamp=t.timeStamp),e.os.blackberry10||(!this.isScrolling||!e.feat.nativeTouchScroll)&&t.preventDefault())},onTouchEnd:function(t){var n=this.moved;i&&(n=n&&!(10>Math.abs(this.cX)&&10>Math.abs(this.cY)));if(!af.os.ios||!this.requiresNativeTap)this.allowDocumentScroll_=!1;if(this.isPanning_&&n)this.wasPanning_=!0;else if(!n&&!this.requiresNativeTap){this.scrollerIsScrolling=!1;if(!this.trackingClick)return;t.preventDefault(),!this.blockClicks&&!this.blockPossibleClick_&&(n=t.target,3==n.nodeType&&(n=n.parentNode),this.fireEvent("Event","click",n,!0,t.mouseToTouch,t.changedTouches[0]),this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY)}else n&&(this.isScrolling&&(this.scrollTimeoutEl_=this.scrollingEl_,.01>Math.abs(this.speedY)?this.scrollEnded(!1):this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30)),this.requiresNativeTap&&(this.isFocused_||e.trigger(this,"cancel-enter-edit",[t.target])));e.os.blackberry10&&(this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY),this.clearTouchVars()},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0,this.trackingClick=this.blockPossibleClick_=this.requiresNativeTap=this.isScrollingVertical_=this.isScrolling=this.isPanning_=this.moved=!1},fireEvent:function(t,n,r,i,s,o){var u=document.createEvent(t);u.initEvent(n,i,!0),u.target=r,o&&e.each(o,function(e,t){u[e]=t}),s&&(u.mouseToTouch=!0),r.dispatchEvent(u)}}}(af),function(e){var t=window.location.pathname+window.location.search,n=window.location.hash,r=n,i=function(){function t(r){"afui"===r.target.id&&(n(),e(document).unbind("DOMNodeInserted",t))}function n(){r.useOSThemes&&(e.os.android?e("#afui").addClass("android"):e.os.ie?(e("#afui").addClass("win8"),e("head").append(e.create("script",{src:"plugins/af.8tiles.js"}))):e.os.blackberry||e.os.blackberry10||e.os.playbook?(e("#afui").addClass("bb"),r.backButtonText="Back"):e.os.ios7?e("#afui").addClass("ios7"):e.os.ios&&e("#afui").addClass("ios")),e.os.blackberry||e.os.blackberry10||e.os.playbook?(e("head").find("#bb10VisibilityHack").remove(),e("head").append("<style id='bb10VisibilityHack'>#afui .panel {-webkit-backface-visibility:visible  !important}</style>")):e.os.ios7&&(e("head").find("#ios7BlurrHack").remove(),e("head").append("<style id='ios7BlurrHack'>#afui .panel {-webkit-perspective:0  !important}</style>"))}var r=this;this.availableTransitions={},this.availableTransitions["default"]=this.availableTransitions.none=this.noTransition,e(document).ready(function(){var t=document.getElementById("afui");if(null===t){t=document.createElement("div"),t.id="afui";for(var r=document.body;r.firstChild;)t.appendChild(r.firstChild);e(document.body).prepend(t)}e.os.supportsTouch&&e.touchLayer(t),n()}),1===e("#afui").length?n():e(document).bind("DOMNodeInserted",t),"AppMobi"in window?document.addEventListener("appMobi.device.ready",function(){r.autoBoot()}):"complete"==document.readyState||"loaded"==document.readyState?r.init?r.autoBoot():e(window).one("afui:init",function(){r.autoBoot()}):e(document).ready(function(){r.init?r.autoBoot():e(window).one("afui:init",function(){r.autoBoot()})},!1),"AppMobi"in window||(window.AppMobi={},window.AppMobi.webRoot=""),window.addEventListener("popstate",function(){var e=r.getPanelId(document.location.hash);"#"!=document.location.href.replace(document.location.origin+"/","")&&(""===e&&1===r.history.length&&(e="#"+r.firstDiv.id),""!==e&&0!==af(e).filter(".panel").length&&e!="#"+r.activeDiv.id&&r.goBack())},!1)};i.prototype={init:!1,transitionTime:"230ms",showLoading:!0,loadingText:"Loading Content",loadContentQueue:[],isIntel:!1,titlebar:"",navbar:"",header:"",viewportContainer:"",remotePages:{},history:[],homeDiv:"",screenWidth:"",content:"",modalWindow:"",customFooter:!1,defaultFooter:"",defaultHeader:null,customMenu:!1,defaultMenu:"",_readyFunc:null,doingTransition:!1,passwordBox:e.passwordBox?new e.passwordBox:!1,selectBox:e.selectBox?e.selectBox:!1,ajaxUrl:"",transitionType:"slide",scrollingDivs:{},firstDiv:"",hasLaunched:!1,launchCompleted:!1,activeDiv:"",customClickHandler:"",menuAnimation:null,togglingSideMenu:!1,sideMenuWidth:"200px",trimBackButtonText:!0,useOSThemes:!0,lockPageBounce:!1,animateHeaders:!0,useAutoPressed:!0,horizontalScroll:!1,_currentHeaderID:"defaultHeader",autoBoot:function(){this.hasLaunched=!0,this.autoLaunch&&this.launch()},css3animate:function(t,n){return t=e(t),t.css3Animate(n)},setSideMenuWidth:function(t){this.sideMenuWidth=t,t=(t+"").replace("px","")+"px",e("head").find("#styleWidth").remove(),e("head").append("<style id='styleWidth'>#afui #menu {width:"+t+"  !important}</style>")},disableNativeScrolling:function(){e.feat.nativeTouchScroll=!1},manageHistory:!0,loadDefaultHash:!0,useAjaxCacheBuster:!1,actionsheet:function(t){return e.query("#afui").actionsheet(t)},popup:function(t){return e.query("#afui").popup(t)},blockUI:function(t){e.blockUI(t)},unblockUI:function(){e.unblockUI()},removeFooterMenu:function(){e.query("#navbar").hide(),e.query("#content").css("bottom","0px"),this.showNavMenu=!1},showNavMenu:!0,autoLaunch:!0,showBackbutton:!0,showBackButton:!0,backButtonText:"",resetScrollers:!0,ready:function(t){this.launchCompleted?t():e(document).on("afui:ready",function(e){t()})},setBackButtonStyle:function(t){e.query("#backButton").replaceClass(null,t)},goBack:function(e){if(e=Math.min(Math.abs(~~e||1),this.history.length))e=this.history.splice(-e).shift(),this.loadContent(e.target+"",0,1,e.transition),this.transitionType=e.transition,this.updateHash(e.target)},clearHistory:function(){this.history=[],this.setBackButtonVisibility(!1)},pushHistory:function(n,r,i,s){this.history.push({target:n,transition:i});try{this.manageHistory&&(window.history.pushState(r,r,t+"#"+r+s),e(window).trigger("hashchange",null,{newUrl:t+"#"+r+s,oldURL:t+n}))}catch(o){}},updateHash:function(n){if(this.manageHistory){r=n=-1==n.indexOf("#")?"#"+n:n;var i=window.location.hash,s=this.getPanelId(n).substring(1);try{window.history.replaceState(s,s,t+n),e(window).trigger("hashchange",null,{newUrl:t+n,oldUrl:t+i})}catch(o){}}},getPanelId:function(e){var t=e.indexOf("/");return-1==t?e:e.substring(0,t)},updateBadge:function(t,n,r,i){void 0===r&&(r=""),t=e(t);var s=t.find("span.af-badge");0===s.length?("absolute"!=t.css("position")&&t.css("position","relative"),s=e.create("span",{className:"af-badge "+r,html:n}),t.append(s)):s.html(n),s.removeClass("tl bl br tr"),s.addClass(r),void 0===i&&(i="red"),e.isObject(i)?s.css(i):i&&s.css("background",i),s.data("ignore-pressed","true")},removeBadge:function(t){e(t).find("span.af-badge").remove()},toggleNavMenu:function(t){if(this.showNavMenu)if("none"!=e.query("#navbar").css("display")&&(void 0!==t&&!0!==t||void 0===t))e.query("#content").css("bottom","0px"),e.query("#navbar").hide();else if(void 0===t||void 0!==t&&!0===t)e.query("#navbar").show(),e.query("#content").css("bottom",e.query("#navbar").css("height"))},toggleHeaderMenu:function(t){if("none"!=e.query("#header").css("display")&&(void 0!==t&&!0!==t||void 0===t))e.query("#content").css("top","0px"),e.query("#header").hide();else if(void 0===t||void 0!==t&&!0===t)e.query("#header").show(),e.query("#content").css("top",e.query("#header").css("height"))},toggleSideMenu:function(t,n,r){if(this.isSideMenuEnabled()&&!this.togglingSideMenu){var i=this,s=e.query("#menu"),o=e.query("#content,  #header, #navbar");r=r||this.transitionTime;var u=this.isSideMenuOn();if(2===t||!u&&(void 0!==t&&!1!==t||void 0===t))this.togglingSideMenu=!0,s.show(),i.css3animate(o,{x:i.sideMenuWidth,time:r,complete:function(e){i.togglingSideMenu=!1,o.vendorCss("Transition",""),n&&n(e)}});else if(void 0===t||void 0!==t&&!1===t)this.togglingSideMenu=!0,i.css3animate(o,{x:"0px",time:r,complete:function(e){o.vendorCss("Transition",""),o.vendorCss("Transform",""),i.togglingSideMenu=!1,n&&n(e),s.hide()}})}},disableSideMenu:function(){var t=e.query("#content, #header, #navbar");this.isSideMenuOn()?this.toggleSideMenu(!1,function(e){e||t.removeClass("hasMenu")}):t.removeClass("hasMenu"),e.query("#menu").removeClass("tabletMenu")},enableSideMenu:function(){e.query("#content, #header, #navbar").addClass("hasMenu"),e.query("#menu").addClass("tabletMenu")},isSideMenuEnabled:function(){return e.query("#content").hasClass("hasMenu")},isSideMenuOn:function(){var t=1<parseInt(e.getCssMatrix(e("#content")).e)?!0:!1;return this.isSideMenuEnabled()&&t},prevFooter:null,updateNavbarElements:function(t){this.prevFooter&&(this.prevFooter.data("parent")?this.prevFooter.appendTo("#"+this.prevFooter.data("parent")):this.prevFooter.appendTo("#afui")),e.is$(t)||(t=e.query("#"+t)),e.query("#navbar").append(t),this.prevFooter=t,t=e.query("#navbar a");if(0<t.length){t.data("ignore-pressed","true").data("resetHistory","true");var n=parseFloat(100/t.length);t.css("width",n+"%")}t=e.query("#navbar footer");if(0!==t.length){t=t.get(0).childNodes;for(n=0;n<t.length;n++)3===t[n].nodeType&&t[n].parentNode.removeChild(t[n])}},prevHeader:null,updateHeaderElements:function(t,n){var r=this;e.is$(t)||(t=e.query("#"+t));if(t!=this.prevHeader)if(this._currentHeaderID=t.prop("id"),this.prevHeader)if(e.query("#header").append(t),e.ui.animateHeaders){var i=n?"100px":"-100px",s=n?"-100px":"100px";r.prevHeader.addClass("ignore"),r.css3animate(t,{x:s,opacity:.3,time:"1ms"}),r.css3animate(r.prevHeader,{x:i,y:0,opacity:.3,time:r.transitionTime,delay:numOnly(r.transitionTime)/5+"ms",complete:function(){r.prevHeader.data("parent")?r.prevHeader.appendTo("#"+r.prevHeader.data("parent")):r.prevHeader.appendTo("#afui"),r.prevHeader.removeClass("ignore"),r.css3animate(r.prevHeader,{x:s,opacity:1,time:"1ms"}),r.prevHeader=t}}),r.css3animate(t,{x:"0px",opacity:1,time:r.transitionTime})}else r.prevHeader.data("parent")?r.prevHeader.appendTo("#"+r.prevHeader.data("parent")):r.prevHeader.appendTo("#afui"),r.prevHeader=t;else e.query("#header").append(t),this.prevHeader=t},updateSideMenu:function(e){return this.updateSideMenuElements(e)},updateSideMenuElements:function(t){if(void 0!==t&&null!==t){var n=e.query("#menu_scroller");this.prevMenu&&(this.prevMenu.insertBefore("#afui #menu"),this.prevMenu=null),e.is$(t)||(t=e.query("#"+t)),n.html(""),n.append(t),this.prevMenu=t,this.scrollingDivs.menu_scroller.hideScrollbars(),this.scrollingDivs.menu_scroller.scrollToTop()}},setTitle:function(t){"defaultHeader"===this._currentHeaderID&&e.query("#header header:not(.ignore)  #pageTitle").html(t)},setBackButtonText:function(t){"defaultHeader"===this._currentHeaderID&&(this.trimBackButtonText&&(t=t.substring(0,5)+"..."),0<this.backButtonText.length?e.query("#header header:not(.ignore) #backButton").html(this.backButtonText):e.query("#header header:not(.ignore)  #backButton").html(t))},setBackButtonVisibility:function(t){t?e.query("#header #backButton").css("visibility","visible"):e.query("#header #backButton").css("visibility","hidden")},showMask:function(t){t||(t=this.loadingText||""),e.query("#afui_mask>h1").html(t),e.query("#afui_mask").show()},hideMask:function(){e.query("#afui_mask").hide()},showModal:function(t,n){this.modalTransition=n||"up";var r=e.query("#modalContainer");"string"==typeof t&&(t="#"+t.replace("#",""));var i=e.query(t);if(i.length){var s=this.scrollingDivs.hasOwnProperty(i.attr("id"));r.html(e.feat.nativeTouchScroll||!s?e.query(t).html():e.query(t).get(0).childNodes[0].innerHTML+"",!0),r.append("<a onclick='$.ui.hideModal();' class='closebutton modalbutton'></a>"),this.modalWindow.style.display="block",this.runTransition(this.modalTransition,this.modalTransContainer,this.modalWindow,!1),s?this.scrollingDivs.modal_container.enable(this.resetScrollers):this.scrollingDivs.modal_container.disable(),this.scrollToTop("modal"),r.data("panel",t),r=i.get(0),s=r.getAttribute("data-load"),"string"==typeof s&&window[s]&&window[s](r),i.trigger("loadpanel")}},hideModal:function(){e.query("#modalContainer").html("",!0),this.runTransition(this.modalTransition,this.modalWindow,this.modalTransContainer,!0),this.scrollingDivs.modal_container.disable();var t=e.query(e.query("#modalContainer").data("panel")),n=t.data("unload");"string"==typeof n&&window[n]&&window[n](t.get(0)),t.trigger("unloadpanel")},updatePanel:function(t,n){t="#"+t.replace("#","");var r=e.query(t).get(0);if(r){var i=e.create("div",{html:n}),i=i.children(".panel")&&0<i.children(".panel").length?i.children(".panel").get(0):i.get(0);!r.getAttribute("js-scrolling")||"yes"!=r.getAttribute("js-scrolling").toLowerCase()&&"true"!=r.getAttribute("js-scrolling").toLowerCase()?(e.cleanUpContent(r,!1,!0),e(r).html(n)):(e.cleanUpContent(r.childNodes[0],!1,!0),e(r.childNodes[0]).html(n)),i.getAttribute("data-title")&&r.setAttribute("data-title",i.getAttribute("data-title"))}},updateContentDiv:function(e,t){return this.updatePanel(e,t)},addContentDiv:function(t,n,r,i,s){t="string"!=typeof t?t:-1==t.indexOf("#")?"#"+t:t;var o=e.query(t).get(0);return o?n=o:(n=e.create("div",{html:n}),n=n.children(".panel")&&0<n.children(".panel").length?n.children(".panel").get(0):n.get(0),!n.getAttribute("data-title")&&r&&n.setAttribute("data-title",r),r=n.id?n.id:t.replace("#",""),n.id=r,n.id!=t&&n.setAttribute("data-crc",t.replace("#",""))),n.className="panel",r=n.id,this.addDivAndScroll(n,i,s),r},addDivAndScroll:function(t,n,r,i){var s=!1,o,u=t.style.overflow,u="hidden"!=u&&"visible"!=u;i=i||this.content,!e.feat.nativeTouchScroll&&u&&t.setAttribute("js-scrolling","true"),t.getAttribute("js-scrolling")&&("yes"==t.getAttribute("js-scrolling").toLowerCase()||"true"==t.getAttribute("js-scrolling").toLowerCase())&&(u=s=!0),o=t.title,t.title="",t.setAttribute("data-title",o),t.getAttribute("scrolling")&&"no"==t.getAttribute("scrolling")&&(s=u=!1,t.removeAttribute("js-scrolling"));if(s){o=t.cloneNode(!1),t.title=null,t.id=null;var a=e(t);a.removeAttr("data-footer data-aside data-nav data-header selected data-load data-unload data-tab data-crc title data-title"),a.replaceClass("panel","afScrollPanel"),o.appendChild(t),i.appendChild(o),!1!==this.selectBox&&this.selectBox.getOldSelects(o.id),!1!==this.passwordBox&&this.passwordBox.getOldPasswords(o.id)}else i.appendChild(t),o=t,t.style["-webkit-overflow-scrolling"]="none";u&&(this.scrollingDivs[o.id]=e(t).scroller({scrollBars:!0,verticalScroll:!0,horizontalScroll:this.horizontalScroll,vScrollCSS:"afScrollbar",refresh:n,useJsScroll:s,noParent:!s,lockBounce:this.lockPageBounce,autoEnable:!1}),r&&e.bind(this.scrollingDivs[o.id],"refresh-release",function(e){e&&r()})),o=t=null},scrollToTop:function(e,t){t=t||"300ms",e=e.replace("#",""),this.scrollingDivs[e]&&this.scrollingDivs[e].scrollToTop(t)},scrollToBottom:function(e,t){e=e.replace("#",""),this.scrollingDivs[e]&&this.scrollingDivs[e].scrollToBottom(t)},parsePanelFunctions:function(t,n,r){var i=this,s=t.getAttribute("data-footer"),o=t.getAttribute("data-header");s&&"none"==s.toLowerCase()?(i.toggleNavMenu(!1),s=!1):i.toggleNavMenu(!0),s&&i.customFooter!=s?(i.customFooter=s,i.updateNavbarElements(s)):s!=i.customFooter&&(i.customFooter&&i.updateNavbarElements(i.defaultFooter),i.customFooter=!1),o&&"none"==o.toLowerCase()?(i.toggleHeaderMenu(!1),o=!1):i.toggleHeaderMenu(!0),o&&i.customHeader!=o?(i.customHeader=o,i.updateHeaderElements(o,r)):o!=i.customHeader&&(i.customHeader&&i.updateHeaderElements(i.defaultHeader,r),i.customHeader=!1),s=e(t).find("footer"),0<s.length&&(i.customFooter=t.id,s.data("parent",t.id),i.updateNavbarElements(s)),s=e(t).find("header"),0<s.length&&(i.customHeader=t.id,s.data("parent",t.id),i.updateHeaderElements(s,r)),t.getAttribute("data-tab")&&(e.query("#navbar a").removeClass("pressed"),e.query("#navbar #"+t.getAttribute("data-tab")).addClass("pressed")),(r=t.getAttribute("data-nav"))&&this.customMenu!=r?(this.customMenu=r,this.updateSideMenuElements(r)):r!=this.customMenu&&(this.customMenu&&this.updateSideMenuElements(this.defaultMenu),this.customMenu=!1),n&&(r=n.getAttribute("data-unload"),"string"==typeof r&&window[r]&&window[r](n),e(n).trigger("unloadpanel")),r=t.getAttribute("data-load"),"string"==typeof r&&window[r]&&window[r](t),e(t).trigger("loadpanel"),this.isSideMenuOn()&&this.toggleSideMenu(!1)},parseScriptTags:function(t){t&&e.parseJS(t)},loadContent:function(t,n,r,i,s){if(this.doingTransition)this.loadContentQueue.push([t,n,r,i,s]);else if(0!==t.length){var u=!0;s=s||document.createElement("a");if(-1==t.indexOf("#")){var a="url"+o(t),f=e.query("div.panel[data-crc='"+a+"']");0<e.query("#"+t).length?u=!1:0<f.length?(u=!1,"true"===s.getAttribute("data-refresh-ajax")||s.refresh&&!0===s.refresh||this.isAjaxApp?u=!0:t="#"+f.get(0).id):0<e.query("#"+a).length&&(u=!1,"true"===s.getAttribute("data-refresh-ajax")||s.refresh&&!0===s.refresh||this.isAjaxApp?u=!0:t="#"+a)}-1==t.indexOf("#")&&u?this.loadAjax(t,n,r,i,s):this.loadDiv(t,n,r,i)}},loadDiv:function(t,n,i,s){var o=this,u=t.replace("#",""),a=u.indexOf("/"),f="";-1!=a&&(f=u.substr(a),u=u.substr(0,a));if(u=e.query("#"+u).get(0))if(u==this.activeDiv&&!i)this.isSideMenuOn()&&this.toggleSideMenu(!1);else{this.transitionType=s;var l=this.activeDiv;t=u;if("true"==u.getAttribute("data-modal")||"true"==u.getAttribute("modal"))return this.showModal(u.id);l!=t&&(n?(this.clearHistory(),this.pushHistory("#"+this.firstDiv.id,u.id,s,f)):i||this.pushHistory(r,u.id,s,f),r="#"+u.id+f,this.doingTransition=!0,l.style.display="block",t.style.display="block",this.runTransition(s,l,t,i),this.parsePanelFunctions(u,l,i),this.loadContentData(u,n,i,s),setTimeout(function(){o.scrollingDivs[l.id]&&o.scrollingDivs[l.id].disable()},numOnly(o.transitionTime)+50))}else e(document).trigger("missingpanel",null,{missingTarget:t})},loadContentData:function(t,n,r,i){r?0<this.history.length&&(r=this.history[this.history.length-1],i=r.target.indexOf("/"),r=-1!=i?r.target.substr(0,i):r.target,(r=e.query(r).get(0))?this.setBackButtonText(r.getAttribute("data-title")):this.setBackButtonText("Back")):this.activeDiv.getAttribute("data-title")?this.setBackButtonText(this.activeDiv.getAttribute("data-title")):this.setBackButtonText("Back"),t.getAttribute("data-title")&&this.setTitle(t.getAttribute("data-title")),n&&(this.setBackButtonText(this.firstDiv.getAttribute("data-title")),t==this.firstDiv&&(this.history.length=0)),e("#header #menubadge").css("float","right"),0===this.history.length?(this.setBackButtonVisibility(!1),this.history=[],e("#header #menubadge").css("float","left")):this.showBackButton&&this.showBackbutton&&this.setBackButtonVisibility(!0),this.activeDiv=t,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable(this.resetScrollers)},loadAjax:function(t,n,r,i,s){if("afui_ajax"!=this.activeDiv.id||t!=this.ajaxUrl){var u="url"+o(t),a=this;-1==t.indexOf("http")&&(t=AppMobi.webRoot+t);var f=new XMLHttpRequest;s&&"object"!=typeof s&&(s=document.createElement("a"),s.setAttribute("data-persist-ajax",!0)),s=s||document.createElement("a"),f.onreadystatechange=function(){if(4==f.readyState&&200==f.status){this.doingTransition=!1;var o,l=!1;o=e.query("#"+u);if(0<o.length)a.updatePanel(u,f.responseText),o.get(0).setAttribute("data-title",s.title?s.title:t);else if(s.getAttribute("data-persist-ajax")||a.isAjaxApp){var p="true"===s.getAttribute("data-pull-scroller")?!0:!1;o=p?function(){s.refresh=!0,a.loadContent(t,n,r,i,s),s.refresh=!1}:null;var v=e(f.responseText);v.hasClass("panel")?(u=v.attr("id"),v=v.get(0).innerHTML):v=v.html(),0<e("#"+u).length?a.updatePanel("#"+u,v):0<e("div.panel[data-crc='"+u+"']").length?(a.updatePanel(e("div.panel[data-crc='"+u+"']").get(0).id,v),u=e("div.panel[data-crc='"+u+"']").get(0).id):u=a.addContentDiv(u,f.responseText,s.title?s.title:t,p,o)}else a.updatePanel("afui_ajax",f.responseText),e.query("#afui_ajax").get(0).setAttribute("data-title",s.title?s.title:t),a.loadContent("#afui_ajax",n,r),l=!0;o=document.createElement("div"),e(o).html(f.responseText),a.parseScriptTags(o);if(!l)return a.loadContent("#"+u),a.showLoading&&a.hideMask(),null;a.showLoading&&a.hideMask()}},this.ajaxUrl=t;var l=this.useAjaxCacheBuster?t+(t.split("?")[1]?"&":"?")+"cache="+1e16*Math.random():t;f.open("GET",l,!0),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.send(),this.showLoading&&this.showMask()}},runTransition:function(e,t,n,r){this.availableTransitions[e]||(e="default"),this.availableTransitions[e].call(this,t,n,r)},launch:function(){if(!1===this.hasLaunched||this.launchCompleted)this.hasLaunched=!0;else{var t=this;this.isIntel=window.AppMobi&&"object"==typeof AppMobi&&void 0!==AppMobi.app?!0:!1,this.viewportContainer=af.query("#afui"),this.navbar=af.query("#navbar").get(0),this.content=af.query("#content").get(0),this.header=af.query("#header").get(0),this.menu=af.query("#menu").get(0),this.viewportContainer.on("click","a",function(e){s(e,e.currentTarget)});var i=null;e.bind(e.touchLayer,"enter-edit",function(e){i=e}),e.bind(e.touchLayer,"enter-edit-reshape",function(){var n=e(i),r=n.closest(t.activeDiv);if(r&&0<r.size())if(e.os.ios||e.os.chrome){var s;s=document.body.scrollTop?document.body.scrollTop-r.offset().top:0,n=r.offset().bottom-n.offset().bottom,t.scrollingDivs[t.activeDiv.id].setPaddings(s,n)}else if(e.os.android||e.os.blackberry)s=n.offset(),r=r.offset(),s.bottom>r.bottom&&s.height<r.height&&t.scrollingDivs[t.activeDiv.id].scrollToItem(n,"bottom")}),e.os.ios&&e.bind(e.touchLayer,"exit-edit-reshape",function(){t.activeDiv&&t.activeDiv.id&&t.scrollingDivs.hasOwnProperty(t.activeDiv.id)&&t.scrollingDivs[t.activeDiv.id].setPaddings(0,0)}),this.navbar||(this.navbar=e.create("div",{id:"navbar"}).get(0),this.viewportContainer.append(this.navbar)),this.header||(this.header=e.create("div",{id:"header"}).get(0),this.viewportContainer.prepend(this.header)),this.menu||(this.menu=e.create("div",{id:"menu",html:'<div id="menu_scroller"></div>'}).get(0),this.viewportContainer.append(this.menu),this.menu.style.overflow="hidden",this.scrollingDivs.menu_scroller=e.query("#menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"afScrollbar",useJsScroll:!e.feat.nativeTouchScroll,noParent:e.feat.nativeTouchScroll,autoEnable:!0,lockBounce:this.lockPageBounce}),e.feat.nativeTouchScroll&&e.query("#menu_scroller").css("height","100%"),this.asideMenu=e.create("div",{id:"aside_menu",html:'<div id="aside_menu_scroller"></div>'}).get(0),this.viewportContainer.append(this.asideMenu),this.asideMenu.style.overflow="hidden",this.scrollingDivs.menu_scroller=e.query("#aside_menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"afScrollbar",useJsScroll:!e.feat.nativeTouchScroll,noParent:e.feat.nativeTouchScroll,autoEnable:!0,lockBounce:this.lockPageBounce}),e.feat.nativeTouchScroll&&e.query("#aside_menu_scroller").css("height","100%")),this.content||(this.content=e.create("div",{id:"content"}).get(0),this.viewportContainer.append(this.content)),e(this.header).html('<a id="backButton" class="button"></a> <h1 id="pageTitle"></h1>'+header.innerHTML),this.backButton=e.query("#header #backButton").css("visibility","hidden"),e(document).on("click","#header #backButton",function(e){e.preventDefault(),t.goBack()}),this.titleBar=e.query("#header #pageTitle").get(0),this.addContentDiv("afui_ajax","");var o=e.create("div",{id:"afui_mask",className:"ui-loader",html:"<span class='ui-icon ui-icon-loading spin'></span><h1>Loading Content</h1>"}).css({"z-index":2e4,display:"none"});document.body.appendChild(o.get(0)),o=e.create("div",{id:"afui_modal"}).get(0),o.appendChild(e.create("div",{id:"modalContainer"}).get(0)),this.modalTransContainer=e.create("div",{id:"modalTransContainer"}).appendTo(o).get(0),this.viewportContainer.append(o),this.scrollingDivs.modal_container=e.query("#modalContainer").scroller({scrollBars:!0,vertical:!0,vScrollCSS:"afScrollbar",noParent:!0,lockBounce:this.lockPageBounce}),this.modalWindow=o;for(var u={},o=this.viewportContainer.get(0).querySelectorAll(".panel"),a=0;a<o.length;a++){var f=o[a],h=f,p,d=f.previousSibling;f.parentNode&&"content"!=f.parentNode.id?(f.parentNode.removeChild(f),p=f.id,h.getAttribute("selected")&&(this.firstDiv=e.query("#"+p).get(0)),this.addDivAndScroll(h),e.query("#"+p).insertAfter(d)):f.parsedContent||(f.parsedContent=1,f.parentNode.removeChild(f),p=f.id,h.getAttribute("selected")&&(this.firstDiv=e.query("#"+p).get(0)),this.addDivAndScroll(h),e.query("#"+p).insertAfter(d)),f.getAttribute("data-defer")&&(u[p]=f.getAttribute("data-defer")),this.firstDiv||(this.firstDiv=e.query("#"+p).get(0)),f=null}var o=null,v=!1,m=Object.keys(u).length;if(0<m){var v=!0,g=0,y;for(y in u)(function(n){e.ajax({url:AppMobi.webRoot+u[n],success:function(r){0!==r.length&&(t.updatePanel(n,r),t.parseScriptTags(e.query("#"+n).get(0)),g++,g>=m&&(e(document).trigger("defer:loaded"),v=!1))},error:function(t){console.log("Error with deferred load "+AppMobi.webRoot+u[n]),g++,g>=m&&(e(document).trigger("defer:loaded"),v=!1)}})})(y)}this.firstDiv&&((this.activeDiv=this.firstDiv,this.scrollingDivs[this.activeDiv.id]&&this.scrollingDivs[this.activeDiv.id].enable(),p=function(){e.query("#navbar").append(e.create("footer",{id:"defaultNav"}).append(e.query("#navbar").children())),t.defaultFooter="defaultNav",t.prevFooter=e.query("#defaultNav"),t.updateNavbarElements(t.prevFooter);var i=e.query("nav").get(0);i&&(t.defaultMenu=e(i),t.updateSideMenuElements(t.defaultMenu),t.prevMenu=t.defaultMenu),t.defaultHeader="defaultHeader",e.query("#header").append(e.create("header",{id:"defaultHeader"}).append(e.query("#header").children())),t.prevHeader=e.query("#defaultHeader"),e.query("#navbar").on("click","a",function(t){e.query("#navbar a").not(t.currentTarget).removeClass("pressed"),e(t.currentTarget).addClass("pressed")}),i=e.query("#navbar a"),0<i.length&&i.css("width",100/i.length+"%"),0<e.query("nav").length&&(e.query("#afui #header").addClass("hasMenu"),e.query("#afui #content").addClass("hasMenu"),e.query("#afui #navbar").addClass("hasMenu"),e.query("#afui #menu").addClass("tabletMenu"));var i=t.getPanelId(n),s=i=="#"+t.firstDiv.id;0<i.length&&t.loadDefaultHash&&!s?t.loadContent(n,!0,!1,"none"):(r="#"+t.firstDiv.id,t.firstDiv.style.display="block",t.parsePanelFunctions(t.firstDiv),t.loadContentData(t.firstDiv),e.query("#header #backButton").css("visibility","hidden"),("true"==t.firstDiv.getAttribute("data-modal")||"true"==t.firstDiv.getAttribute("modal"))&&t.showModal(t.firstDiv.id)),t.launchCompleted=!0,e(document).trigger("afui:ready"),e.query("#afui #splashscreen").remove()},v)?e(document).one("defer:loaded",p):p()),e.bind(t,"content-loaded",function(){if(0<t.loadContentQueue.length){var e=t.loadContentQueue.splice(0,1)[0];t.loadContent(e[0],e[1],e[2],e[3],e[4])}}),(window.navigator.standalone||this.isIntel)&&this.blockPageScroll(),this.topClickScroll()}},topClickScroll:function(){var e=this;document.getElementById("header").addEventListener("click",function(t){15>=t.clientY&&"h1"==t.target.nodeName.toLowerCase()&&e.scrollingDivs[e.activeDiv.id].scrollToTop("100")})},blockPageScroll:function(){e.query("#afui #header").bind("touchmove",function(e){e.preventDefault()})},noTransition:function(e,t,n){t.style.display="block",e.style.display="block",this.clearAnimations(t),this.css3animate(e,{x:"0%",y:0}),this.finishTransition(e),t.style.zIndex=2,e.style.zIndex=1},finishTransition:function(t,n){t.style.display="none",this.doingTransition=!1,n&&this.clearAnimations(n),t&&this.clearAnimations(t),e.trigger(this,"content-loaded")},clearAnimations:function(t){t.style[e.feat.cssPrefix+"Transform"]="none",t.style[e.feat.cssPrefix+"Transition"]="none"}};var s=function(t,n){if(n!=afui){if("a"!=n.tagName.toLowerCase()&&n.parentNode)return s(t,n.parentNode);if("undefined"!==n.tagName&&"a"==n.tagName.toLowerCase()){if(!1!==("function"==typeof e.ui.customClickHandler?e.ui.customClickHandler:!1)&&e.ui.customClickHandler(n,t))return t.preventDefault();if(-1===n.href.toLowerCase().indexOf("javascript:")&&!n.getAttribute("data-ignore")){if(0===n.href.indexOf("tel:"))return!1;if(-1===n.hash.indexOf("#")&&0<n.target.length)0!==n.href.toLowerCase().indexOf("javascript:")&&(e.ui.isIntel?(t.preventDefault(),AppMobi.device.launchExternal(n.href)):e.os.desktop||(t.target.target="_blank"));else{var r=n.href,i=location.protocol+"//"+location.hostname+":"+location.port+location.pathname;0===r.indexOf(i)&&(r=r.substring(i.length));if("#"!=r&&r.indexOf("#")!==r.length-1&&(0!==r.length||0!==n.hash.length)){t.preventDefault();var i=n.getAttribute("data-transition"),o=n.getAttribute("data-resetHistory"),o=o&&"true"==o.toLowerCase()?!0:!1,r=0<n.hash.length?n.hash:r;e.ui.loadContent(r,o,0,i,n)}}}}}},o=function(e,t){void 0===t&&(t=0);var n=0,n=0;t^=-1;for(var r=0,i=e.length;r<i;r++)n=(t^e.charCodeAt(r))&255,n="0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D"
.substr(9*n,8),t=t>>>8^n;return t^-1};e.ui=new i,e.ui.init=!0,e(window).trigger("afui:preinit"),e(window).trigger("afui:init")}(af),function(){$(document).one("appMobi.device.ready",function(){setTimeout(function(){document.getElementById("afui").style.height="100%",document.body.style.height="100%",document.documentElement.style.minHeight=window.innerHeight},300),$.ui.ready(function(){$.ui.blockPageScroll()})}),$.feat.nativeTouchScroll&&document.addEventListener("orientationchange",function(e){if($.ui.scrollingDivs[$.ui.activeDiv.id]){var t=$.ui.scrollingDivs[$.ui.activeDiv.id];0===t.el.scrollTop&&(t.disable(),setTimeout(function(){t.enable()},300))}})}(),function(e){e.availableTransitions.fade=function(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(n.style.zIndex=1,t.style.zIndex=2,i.clearAnimations(n),i.css3animate(t,{x:"0%",time:e.transitionTime,opacity:.1,complete:function(e){e?i.finishTransition(t,n):(i.css3animate(t,{x:"-100%",opacity:1,complete:function(){i.finishTransition(t)}}),n.style.zIndex=2,t.style.zIndex=1)}})):(t.style.zIndex=1,n.style.zIndex=2,n.style.opacity=0,i.css3animate(n,{x:"0%",opacity:.1,complete:function(){i.css3animate(n,{x:"0%",time:e.transitionTime,opacity:1,complete:function(e){e?i.finishTransition(t,n):(i.clearAnimations(n),i.css3animate(t,{x:"-100%",y:0,complete:function(){i.finishTransition(t)}}))}})}}))}}(af.ui),function(e){e.availableTransitions.flip=function(t,n,r){t.style.display="block",n.style.display="block";var i=this;r||(t.style.zIndex=1,n.style.zIndex=2),i.css3animate(n,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){i.css3animate(n,{x:"0%",scale:1,time:e.transitionTime,rotateY:"0deg",complete:function(){i.clearAnimations(n)}})}}),i.css3animate(t,{x:"100%",time:e.transitionTime,scale:.8,rotateY:"180deg",complete:function(){i.css3animate(t,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){i.finishTransition(t)}}),n.style.zIndex=2,t.style.zIndex=1}})}}(af.ui),function(e){e.availableTransitions.pop=function(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(n.style.zIndex=1,t.style.zIndex=2,i.clearAnimations(n),i.css3animate(t,{x:"0%",time:e.transitionTime,opacity:.1,scale:.2,origin:"50% 50%",complete:function(e){e?i.finishTransition(t):(i.css3animate(t,{x:"-100%",complete:function(){i.finishTransition(t)}}),n.style.zIndex=2,t.style.zIndex=1)}})):(t.style.zIndex=1,n.style.zIndex=2,i.css3animate(n,{x:"0%",scale:.2,origin:"50% 50%",opacity:.1,time:"0ms",complete:function(){i.css3animate(n,{x:"0%",time:e.transitionTime,scale:1,opacity:1,origin:"0% 0%",complete:function(e){e?i.finishTransition(t,n):(i.clearAnimations(n),i.css3animate(t,{x:"100%",y:0,complete:function(){i.finishTransition(t)}}))}})}}))}}(af.ui),function(e){function t(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?i.css3animate(t,{x:"0%",y:"0%",complete:function(){i.css3animate(t,{x:"100%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}}).link(n,{x:"0%",time:e.transitionTime})}}).link(n,{x:"-100%",y:"0%"}):i.css3animate(t,{x:"0%",y:"0%",complete:function(){i.css3animate(t,{x:"-100%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}}).link(n,{x:"0%",time:e.transitionTime})}}).link(n,{x:"100%",y:"0%"})}e.availableTransitions.slide=t,e.availableTransitions["default"]=t}(af.ui),function(e){e.availableTransitions.down=function(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(t.style.zIndex=2,n.style.zIndex=1,i.css3animate(t,{y:"0%",x:"0%",complete:function(){i.css3animate(t,{y:"-100%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}})}})):(t.style.zIndex=1,n.style.zIndex=2,i.css3animate(n,{y:"-100%",x:"0%",time:"10ms",complete:function(){i.css3animate(n,{y:"0%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}})}}))}}(af.ui),function(e){e.availableTransitions.up=function(t,n,r){t.style.display="block",n.style.display="block";var i=this;r?(t.style.zIndex=2,n.style.zIndex=1,i.css3animate(t,{y:"0%",x:"0%",complete:function(){i.css3animate(t,{y:"100%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}})}})):(t.style.zIndex=1,n.style.zIndex=2,i.css3animate(n,{y:"100%",x:"0%",time:"10ms",complete:function(){i.css3animate(n,{y:"0%",time:e.transitionTime,complete:function(){i.finishTransition(t,n)}})}}))}}(af.ui),function(e){function t(){e.ui.isWin8=!0,e.os.ie&&e.ui.ready(function(){e.ui.slideSideMenu&&(e.ui.slideSideMenu=!1),e.query("#afui #navbar footer").append("<a id='metroMenu' onclick='$.ui.toggleSideMenu()'>•••</a>");var t=e.query("#afui #navbar").find("a");if(0<t.length){t.data("ignore-pressed","true").data("resetHistory","true");var n=parseFloat(100/t.length);t.css("width",n+"%")}var r=e.ui.updateNavbarElements;e.ui.updateNavbarElements=function(){r.apply(e.ui,arguments),1!=e.query("#afui #navbar #metroMenu").length&&e.query("#afui #navbar footer").append("<a id='metroMenu' onclick='$.ui.toggleSideMenu()'>•••</a>")},e.ui.isSideMenuOn=function(){var t=0>parseInt(e.getCssMatrix(e("#navbar")).f)?!0:!1;return this.isSideMenuEnabled()&&t},e.ui.toggleSideMenu=function(t,n){if(this.isSideMenuEnabled()&&!this.togglingSideMenu){this.togglingSideMenu=!0;var r=this,i=e.query("#menu"),s=e.query("#navbar"),o=this.isSideMenuOn();if(2===t||!o&&(void 0!==t&&!1!==t||void 0===t))i.show(),r.css3animate(s,{y:"-150px",time:e.ui.transitionTime,complete:function(e){r.togglingSideMenu=!1,n&&n(!0)}}),r.css3animate(i,{y:"0px",time:e.ui.transitionTime});else if(void 0===t||void 0!==t&&!1===t)r.css3animate(s,{y:"0",time:e.ui.transitionTime,complete:function(e){r.togglingSideMenu=!1,n&&n(!0),i.hide()}}),r.css3animate(i,{y:"150px",time:e.ui.transitionTime})}}})}if(!e)throw"This plugin requires jqUi";e.ui?t():e(document).ready(function(){t()})}(af),function(e,t){function n(e){var t=dt[e]={};return Y.each(e.split(tt),function(e,n){t[n]=!0}),t}function r(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(mt,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:vt.test(r)?Y.parseJSON(r):r}catch(s){}Y.data(e,n,r)}else r=t}return r}function i(e){var t;for(t in e){if(t==="data"&&Y.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function s(){return!1}function o(){return!0}function u(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function a(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function f(e,t,n){t=t||0;if(Y.isFunction(t))return Y.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return Y.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=Y.grep(e,function(e){return e.nodeType===1});if(Bt.test(t))return Y.filter(t,r,!n);t=Y.filter(t,r)}return Y.grep(e,function(e,r){return Y.inArray(e,t)>=0===n})}function l(e){var t=It.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function c(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e,t){if(t.nodeType!==1||!Y.hasData(e))return;var n,r,i,s=Y._data(e),o=Y._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)Y.event.add(t,n,u[n][r])}o.data&&(o.data=Y.extend({},o.data))}function p(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),Y.support.html5Clone&&e.innerHTML&&!Y.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Kt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Y.expando)}function d(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function v(e){Kt.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=yn.length;while(i--){t=yn[i]+n;if(t in e)return t}return r}function g(e,t){return e=t||e,Y.css(e,"display")==="none"||!Y.contains(e.ownerDocument,e)}function y(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=Y._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&g(n)&&(i[s]=Y._data(n,"olddisplay",S(n.nodeName)))):(r=nn(n,"display"),!i[s]&&r!=="none"&&Y._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function b(e,t,n){var r=cn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function w(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=Y.css(e,n+gn[i],!0)),r?(n==="content"&&(s-=parseFloat(nn(e,"padding"+gn[i]))||0),n!=="margin"&&(s-=parseFloat(nn(e,"border"+gn[i]+"Width"))||0)):(s+=parseFloat(nn(e,"padding"+gn[i]))||0,n!=="padding"&&(s+=parseFloat(nn(e,"border"+gn[i]+"Width"))||0));return s}function E(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=Y.support.boxSizing&&Y.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=nn(e,t);if(r<0||r==null)r=e.style[t];if(hn.test(r))return r;i=s&&(Y.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+w(e,t,n||(s?"border":"content"),i)+"px"}function S(e){if(dn[e])return dn[e];var t=Y("<"+e+">").appendTo(R.body),n=t.css("display");t.remove();if(n==="none"||n===""){rn=R.body.appendChild(rn||Y.extend(R.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!sn||!rn.createElement)sn=(rn.contentWindow||rn.contentDocument).document,sn.write("<!doctype html><html><body>"),sn.close();t=sn.body.appendChild(sn.createElement(e)),n=nn(t,"display"),R.body.removeChild(rn)}return dn[e]=n,n}function x(e,t,n,r){var i;if(Y.isArray(t))Y.each(t,function(t,i){n||En.test(e)?r(e,i):x(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&Y.type(t)==="object")for(i in t)x(e+"["+i+"]",t[i],n,r);else r(e,t)}function T(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(tt),u=0,a=o.length;if(Y.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function N(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===jn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=N(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=N(e,n,r,i,"*",o)),u}function C(e,n){var r,i,s=Y.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&Y.extend(!0,e,i)}function k(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function L(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function A(){try{return new e.XMLHttpRequest}catch(t){}}function O(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function M(){return setTimeout(function(){Jn=t},0),Jn=Y.now()}function _(e,t){Y.each(t,function(t,n){var r=(er[t]||[]).concat(er["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function D(e,t,n){var r,i=0,s=0,o=Zn.length,u=Y.Deferred().always(function(){delete a.elem}),a=function(){var t=Jn||M(),n=Math.max(0,f.startTime+f.duration-t),r=1-(n/f.duration||0),i=0,s=f.tweens.length;for(;i<s;i++)f.tweens[i].run(r);return u.notifyWith(e,[f,r,n]),r<1&&s?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:Y.extend({},t),opts:Y.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jn||M(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=Y.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;P(l,f.opts.specialEasing);for(;i<o;i++){r=Zn[i].call(f,e,l,f.opts);if(r)return r}return _(f,l),Y.isFunction(f.opts.start)&&f.opts.start.call(e,f),Y.fx.timer(Y.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function P(e,t){var n,r,i,s,o;for(n in e){r=Y.camelCase(n),i=t[r],s=e[n],Y.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=Y.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function H(e,t,n){var r,i,s,o,u,a,f,l,c=this,h=e.style,p={},d=[],v=e.nodeType&&g(e);n.queue||(f=Y._queueHooks(e,"fx"),f.unqueued==null&&(f.unqueued=0,l=f.empty.fire,f.empty.fire=function(){f.unqueued||l()}),f.unqueued++,c.always(function(){c.always(function(){f.unqueued--,Y.queue(e,"fx").length||f.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],Y.css(e,"display")==="inline"&&Y.css(e,"float")==="none"&&(!Y.support.inlineBlockNeedsLayout||S(e.nodeName)==="inline"?h.display="inline-block":h.zoom=1)),n.overflow&&(h.overflow="hidden",Y.support.shrinkWrapBlocks||c.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Qn.exec(s)){delete t[r];if(s===(v?"hide":"show"))continue;d.push(r)}}o=d.length;if(o){u=Y._data(e,"fxshow")||Y._data(e,"fxshow",{}),v?Y(e).show():c.done(function(){Y(e).hide()}),c.done(function(){var t;Y.removeData(e,"fxshow",!0);for(t in p)Y.style(e,t,p[t])});for(r=0;r<o;r++)i=d[r],a=c.createTween(i,v?u[i]:0),p[i]=u[i]||Y.style(e,i),i in u||(u[i]=a.start,v&&(a.end=a.start,a.start=i==="width"||i==="height"?1:0))}}function B(e,t,n,r,i){return new B.prototype.init(e,t,n,r,i)}function j(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=gn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e){return Y.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var I,q,R=e.document,U=e.location,z=e.navigator,W=e.jQuery,X=e.$,V=Array.prototype.push,$=Array.prototype.slice,J=Array.prototype.indexOf,K=Object.prototype.toString,Q=Object.prototype.hasOwnProperty,G=String.prototype.trim,Y=function(e,t){return new Y.fn.init(e,t,I)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,it=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^[\],:{}\s]*$/,ot=/(?:^|:|,)(?:\s*\[)+/g,ut=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,at=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ft=/^-ms-/,lt=/-([\da-z])/gi,ct=function(e,t){return(t+"").toUpperCase()},ht=function(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",ht,!1),Y.ready()):R.readyState==="complete"&&(R.detachEvent("onreadystatechange",ht),Y.ready())},pt={};Y.fn=Y.prototype={constructor:Y,init:function(e,n,r){var i,s,o,u;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=rt.exec(e);if(i&&(i[1]||!n)){if(i[1])return n=n instanceof Y?n[0]:n,u=n&&n.nodeType?n.ownerDocument||n:R,e=Y.parseHTML(i[1],u,!0),it.test(i[1])&&Y.isPlainObject(n)&&this.attr.call(e,n,!0),Y.merge(this,e);s=R.getElementById(i[2]);if(s&&s.parentNode){if(s.id!==i[2])return r.find(e);this.length=1,this[0]=s}return this.context=R,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return Y.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Y.makeArray(e,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return $.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=Y.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return Y.each(this,e,t)},ready:function(e){return Y.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack($.apply(this,arguments),"slice",$.call(arguments).join(","))},map:function(e){return this.pushStack(Y.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:[].sort,splice:[].splice},Y.fn.init.prototype=Y.fn,Y.extend=Y.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!Y.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(Y.isPlainObject(i)||(s=Y.isArray(i)))?(s?(s=!1,o=r&&Y.isArray(r)?r:[]):o=r&&Y.isPlainObject(r)?r:{},u[n]=Y.extend(l,o,i)):i!==t&&(u[n]=i)}return u},Y.extend({noConflict:function(t){return e.$===Y&&(e.$=X),t&&e.jQuery===Y&&(e.jQuery=W),Y},isReady:!1,readyWait:1,holdReady:function(e){e?Y.readyWait++:Y.ready(!0)},ready:function(e){if(e===!0?--Y.readyWait:Y.isReady)return;if(!R.body)return setTimeout(Y.ready,1);Y.isReady=!0;if(e!==!0&&--Y.readyWait>0)return;q.resolveWith(R,[Y]),Y.fn.trigger&&Y(R).trigger("ready").off("ready")},isFunction:function(e){return Y.type(e)==="function"},isArray:Array.isArray||function(e){return Y.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):pt[K.call(e)]||"object"},isPlainObject:function(e){if(!e||Y.type(e)!=="object"||e.nodeType||Y.isWindow(e))return!1;try{if(e.constructor&&!Q.call(e,"constructor")&&!Q.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||Q.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||R,(r=it.exec(e))?[t.createElement(r[1])]:(r=Y.buildFragment([e],t,n?null:[]),Y.merge([],(r.cacheable?Y.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=Y.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(st.test(t.replace(ut,"@").replace(at,"]").replace(ot,"")))return(new Function("return "+t))();Y.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&Y.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ft,"ms-").replace(lt,ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||Y.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:G&&!G.call("﻿ ")?function(e){return e==null?"":G.call(e)}:function(e){return e==null?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=Y.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||Y.isWindow(e)?V.call(r,e):Y.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(J)return J.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof Y||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||Y.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),Y.isFunction(e)?(i=$.call(arguments,2),s=function(){return e.apply(n,i.concat($.call(arguments)))},s.guid=e.guid=e.guid||Y.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)Y.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&Y.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(Y(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),Y.ready.promise=function(t){if(!q){q=Y.Deferred();if(R.readyState==="complete")setTimeout(Y.ready,1);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",ht,!1),e.addEventListener("load",Y.ready,!1);else{R.attachEvent("onreadystatechange",ht),e.attachEvent("onload",Y.ready);var n=!1;try{n=e.frameElement==null&&R.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!Y.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}Y.ready()}}()}}return q.promise(t)},Y.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pt["[object "+t+"]"]=t.toLowerCase()}),I=Y(R);var dt={};Y.Callbacks=function(e){e=typeof e=="string"?dt[e]||n(e):Y.extend({},e);var r,i,s,o,u,a,f=[],l=!e.once&&[],c=function(t){r=e.memory&&t,i=!0,a=o||0,o=0,u=f.length,s=!0;for(;f&&a<u;a++)if(f[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}s=!1,f&&(l?l.length&&c(l.shift()):r?f=[]:h.disable())},h={add:function(){if(f){var t=f.length;(function n(t){Y.each(t,function(t,r){var i=Y.type(r);i==="function"&&(!e.unique||!h.has(r))?f.push(r):r&&r.length&&i!=="string"&&n(r)})})(arguments),s?u=f.length:r&&(o=t,c(r))}return this},remove:function(){return f&&Y.each(arguments,function(e,t){var n;while((n=Y.inArray(t,f,n))>-1)f.splice(n,1),s&&(n<=u&&u--,n<=a&&a--)}),this},has:function(e){return Y.inArray(e,f)>-1},empty:function(){return f=[],this},disable:function(){return f=l=r=t,this},disabled:function(){return!f},lock:function(){return l=t,r||h.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],f&&(!i||l)&&(s?l.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},Y.extend({Deferred:function(e){var t=[["resolve","done",Y.Callbacks("once memory"),"resolved"],["reject","fail",Y.Callbacks("once memory"),"rejected"],["notify","progress",Y.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Y.Deferred(function(n){Y.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](Y.isFunction(o)?function(){var e=o.apply(this,arguments);e&&Y.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?Y.extend(e,r):r}},i={};return r.pipe=r.then,Y.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=$.call(arguments),r=n.length,i=r!==1||e&&Y.isFunction(e.promise)?r:0,s=i===1?e:Y.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?$.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&Y.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),Y.support=function(){var t,n,r,i,s,o,u,a,f,l,c,h=R.createElement("div");h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),r=h.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5";if(!n||!n.length)return{};i=R.createElement("select"),s=i.appendChild(R.createElement("option")),o=h.getElementsByTagName("input")[0],t={leadingWhitespace:h.firstChild.nodeType===3,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:o.value==="on",optSelected:s.selected,getSetAttribute:h.className!=="t",enctype:!!R.createElement("form").enctype,html5Clone:R.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:R.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!s.disabled;try{delete h.test}catch(p){t.deleteExpando=!1}!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",c=function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",c)),o=R.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue=o.value==="t",o.setAttribute("checked","checked"),o.setAttribute("name","t"),h.appendChild(o),u=R.createDocumentFragment(),u.appendChild(h.lastChild),t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,u.removeChild(o),u.appendChild(h);if(h.attachEvent)for(f in{submit:!0,change:!0,focusin:!0})a="on"+f,l=a in h,l||(h.setAttribute(a,"return;"),l=typeof h[a]=="function"),t[f+"Bubbles"]=l;return Y(function(){var n,r,i,s,o="padding:0;margin:0;border:0;display:block;overflow:hidden;",u=R.getElementsByTagName("body")[0];if(!u)return;n=R.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",u.insertBefore(n,u.firstChild),r=R.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=r.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",l=i[0].offsetHeight===0,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=l&&i[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=u.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",s=R.createElement("div"),s.style.cssText=r.style.cssText=o,s.style.marginRight=s.style.width="0",r.style.width="1px",r.appendChild(s),t.reliableMarginRight=!parseFloat((e.getComputedStyle(s,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),u.removeChild(n),n=r=i=s=null}),u.removeChild(h),n=r=i=s=o=u=h=null,t}();var vt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,mt=/([A-Z])/g;Y.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Y.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Y.cache[e[Y.expando]]:e[Y.expando],!!e&&!i(e)},data:function(e,n,r,i){if(!Y.acceptData(e))return;var s,o,u=Y.expando,a=typeof n=="string",f=e.nodeType,l=f?Y.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=Y.deletedIds.pop()||Y.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=Y.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=Y.extend(l[c],n):l[c].data=Y.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[Y.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[Y.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!Y.acceptData(e))return;var r,s,o,u=e.nodeType,a=u?Y.cache:e,f=u?e[Y.expando]:Y.expando;if(!a[f])return;if(t){r=n?a[f]:a[f].data;if(r){Y.isArray(t)||(t in r?t=[t]:(t=Y.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(s=0,o=t.length;s<o;s++)delete r[t[s]];if(!(n?i:Y.isEmptyObject)(r))return}}if(!n){delete a[f].data;if(!i(a[f]))return}u?Y.cleanData([e],!0):Y.support.deleteExpando||a!=a.window?delete a[f]:a[f]=null},_data:function(e,t,n){return Y.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Y.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Y.fn.extend({data:function(e,n){var i,s,o,u,a,f=this[0],l=0,c=null;if(e===t){if(this.length){c=Y.data(f);if(f.nodeType===1&&!Y._data(f,"parsedAttrs")){o=f.attributes;for(a=o.length;l<a;l++)u=o[l].name,u.indexOf("data-")||(u=Y.camelCase(u.substring(5)),r(f,u,c[u]));Y._data(f,"parsedAttrs",!0)}}return c}return typeof e=="object"?this.each(function(){Y.data(this,e)}):(i=e.split(".",2),i[1]=i[1]?"."+i[1]:"",s=i[1]+"!",Y.access(this,function(n){if(n===t)return c=this.triggerHandler("getData"+s,[i[0]]),c===t&&f&&(c=Y.data(f,e),c=r(f,e,c)),c===t&&i[1]?this.data(i[0]):c;i[1]=n,this.each(function(){var t=Y(this);t.triggerHandler("setData"+s,i),Y.data(this,e,n),t.triggerHandler("changeData"+s,i)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Y.removeData(this,e)})}}),Y.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y._data(e,t),n&&(!r||Y.isArray(n)?r=Y._data(e,t,Y.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Y.queue(e,t),r=n.length,i=n.shift(),s=Y._queueHooks(e,t),o=function(){Y.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y._data(e,n)||Y._data(e,n,{empty:Y.Callbacks("once memory").add(function(){Y.removeData(e,t+"queue",!0),Y.removeData(e,n,!0)})})}}),Y.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?Y.queue(this[0],e):n===t?this:this.each(function(){var t=Y.queue(this,e,n);Y._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&Y.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Y.dequeue(this,e)})},delay:function(e,t){return e=Y.fx?Y.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=Y.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=Y._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var gt,yt,bt,wt=/[\t\r\n]/g,Et=/\r/g,St=/^(?:button|input)$/i,xt=/^(?:button|input|object|select|textarea)$/i,Tt=/^a(?:rea|)$/i,Nt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ct=Y.support.getSetAttribute;Y.fn.extend({attr:function(e,t){return Y.access(this,Y.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Y.removeAttr(this,e)})},prop:function(e,t){return Y.access(this,Y.prop,e,t,arguments.length>1)},removeProp:function(e){return e=
Y.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(Y.isFunction(e))return this.each(function(t){Y(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(tt);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=Y.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(Y.isFunction(e))return this.each(function(t){Y(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(tt);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(wt," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?Y.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return Y.isFunction(e)?this.each(function(n){Y(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=Y(this),u=t,a=e.split(tt);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&Y._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Y._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(wt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=Y.valHooks[s.type]||Y.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(Et,""):r==null?"":r);return}return i=Y.isFunction(e),this.each(function(r){var s,o=Y(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":Y.isArray(s)&&(s=Y.map(s,function(e){return e==null?"":e+""})),n=Y.valHooks[this.type]||Y.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),Y.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,s=e.selectedIndex,o=[],u=e.options,a=e.type==="select-one";if(s<0)return null;n=a?s:0,r=a?s+1:u.length;for(;n<r;n++){i=u[n];if(i.selected&&(Y.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!Y.nodeName(i.parentNode,"optgroup"))){t=Y(i).val();if(a)return t;o.push(t)}}return a&&!o.length&&u.length?Y(u[s]).val():o},set:function(e,t){var n=Y.makeArray(t);return Y(e).find("option").each(function(){this.selected=Y.inArray(Y(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&Y.isFunction(Y.fn[n]))return Y(e)[n](r);if(typeof e.getAttribute=="undefined")return Y.prop(e,n,r);u=a!==1||!Y.isXMLDoc(e),u&&(n=n.toLowerCase(),o=Y.attrHooks[n]||(Nt.test(n)?yt:gt));if(r!==t){if(r===null){Y.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(tt);for(;o<r.length;o++)i=r[o],i&&(n=Y.propFix[i]||i,s=Nt.test(i),s||Y.attr(e,i,""),e.removeAttribute(Ct?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(St.test(e.nodeName)&&e.parentNode)Y.error("type property can't be changed");else if(!Y.support.radioValue&&t==="radio"&&Y.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return gt&&Y.nodeName(e,"button")?gt.get(e,t):t in e?e.value:null},set:function(e,t,n){if(gt&&Y.nodeName(e,"button"))return gt.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!Y.isXMLDoc(e),o&&(n=Y.propFix[n]||n,s=Y.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):xt.test(e.nodeName)||Tt.test(e.nodeName)&&e.href?0:t}}}}),yt={get:function(e,n){var r,i=Y.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?Y.removeAttr(e,n):(r=Y.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},Ct||(bt={name:!0,id:!0,coords:!0},gt=Y.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(bt[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=R.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},Y.each(["width","height"],function(e,t){Y.attrHooks[t]=Y.extend(Y.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),Y.attrHooks.contenteditable={get:gt.get,set:function(e,t,n){t===""&&(t="false"),gt.set(e,t,n)}}),Y.support.hrefNormalized||Y.each(["href","src","width","height"],function(e,n){Y.attrHooks[n]=Y.extend(Y.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),Y.support.style||(Y.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Y.support.optSelected||(Y.propHooks.selected=Y.extend(Y.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Y.support.enctype||(Y.propFix.enctype="encoding"),Y.support.checkOn||Y.each(["radio","checkbox"],function(){Y.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),Y.each(["radio","checkbox"],function(){Y.valHooks[this]=Y.extend(Y.valHooks[this],{set:function(e,t){if(Y.isArray(t))return e.checked=Y.inArray(Y(e).val(),t)>=0}})});var kt=/^(?:textarea|input|select)$/i,Lt=/^([^\.]*|)(?:\.(.+)|)$/,At=/(?:^|\s)hover(\.\S+|)\b/,Ot=/^key/,Mt=/^(?:mouse|contextmenu)|click/,_t=/^(?:focusinfocus|focusoutblur)$/,Dt=function(e){return Y.event.special.hover?e:e.replace(At,"mouseenter$1 mouseleave$1")};Y.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,v,m;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=Y._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=Y.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof Y=="undefined"||!!e&&Y.event.triggered===e.type?t:Y.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=Y.trim(Dt(n)).split(" ");for(f=0;f<n.length;f++){l=Lt.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),m=Y.event.special[c]||{},c=(s?m.delegateType:m.bindType)||c,m=Y.event.special[c]||{},p=Y.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&Y.expr.match.needsContext.test(s),namespace:h.join(".")},d),v=a[c];if(!v){v=a[c]=[],v.delegateCount=0;if(!m.setup||m.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}m.add&&(m.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?v.splice(v.delegateCount++,0,p):v.push(p),Y.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=Y.hasData(e)&&Y._data(e);if(!m||!(h=m.events))return;t=Y.trim(Dt(t||"")).split(" ");for(s=0;s<t.length;s++){o=Lt.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)Y.event.remove(e,u+t[s],n,r,!0);continue}p=Y.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)v=d[c],(i||a===v.origType)&&(!n||n.guid===v.guid)&&(!f||f.test(v.namespace))&&(!r||r===v.selector||r==="**"&&v.selector)&&(d.splice(c--,1),v.selector&&d.delegateCount--,p.remove&&p.remove.call(e,v));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,m.handle)===!1)&&Y.removeEvent(e,u,m.handle),delete h[u])}Y.isEmptyObject(h)&&(delete m.handle,Y.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,s){if(!i||i.nodeType!==3&&i.nodeType!==8){var o,u,a,f,l,c,h,p,d,v,m=n.type||n,g=[];if(_t.test(m+Y.event.triggered))return;m.indexOf("!")>=0&&(m=m.slice(0,-1),u=!0),m.indexOf(".")>=0&&(g=m.split("."),m=g.shift(),g.sort());if((!i||Y.event.customEvent[m])&&!Y.event.global[m])return;n=typeof n=="object"?n[Y.expando]?n:new Y.Event(m,n):new Y.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=u,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=m.indexOf(":")<0?"on"+m:"";if(!i){o=Y.cache;for(a in o)o[a].events&&o[a].events[m]&&Y.event.trigger(n,r,o[a].handle.elem,!0);return}n.result=t,n.target||(n.target=i),r=r!=null?Y.makeArray(r):[],r.unshift(n),h=Y.event.special[m]||{};if(h.trigger&&h.trigger.apply(i,r)===!1)return;d=[[i,h.bindType||m]];if(!s&&!h.noBubble&&!Y.isWindow(i)){v=h.delegateType||m,f=_t.test(v+m)?i:i.parentNode;for(l=i;f;f=f.parentNode)d.push([f,v]),l=f;l===(i.ownerDocument||R)&&d.push([l.defaultView||l.parentWindow||e,v])}for(a=0;a<d.length&&!n.isPropagationStopped();a++)f=d[a][0],n.type=d[a][1],p=(Y._data(f,"events")||{})[n.type]&&Y._data(f,"handle"),p&&p.apply(f,r),p=c&&f[c],p&&Y.acceptData(f)&&p.apply&&p.apply(f,r)===!1&&n.preventDefault();return n.type=m,!s&&!n.isDefaultPrevented()&&(!h._default||h._default.apply(i.ownerDocument,r)===!1)&&(m!=="click"||!Y.nodeName(i,"a"))&&Y.acceptData(i)&&c&&i[m]&&(m!=="focus"&&m!=="blur"||n.target.offsetWidth!==0)&&!Y.isWindow(i)&&(l=i[c],l&&(i[c]=null),Y.event.triggered=m,i[m](),Y.event.triggered=t,l&&(i[c]=l)),n.result}return},dispatch:function(n){n=Y.event.fix(n||e.event);var r,i,s,o,u,a,f,l,c,h,p=(Y._data(this,"events")||{})[n.type]||[],d=p.delegateCount,v=$.call(arguments),m=!n.exclusive&&!n.namespace,g=Y.event.special[n.type]||{},y=[];v[0]=n,n.delegateTarget=this;if(g.preDispatch&&g.preDispatch.call(this,n)===!1)return;if(d&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<d;r++)l=p[r],c=l.selector,u[c]===t&&(u[c]=l.needsContext?Y(c,this).index(s)>=0:Y.find(c,this,null,[s]).length),u[c]&&f.push(l);f.length&&y.push({elem:s,matches:f})}p.length>d&&y.push({elem:this,matches:p.slice(d)});for(r=0;r<y.length&&!n.isPropagationStopped();r++){a=y[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){l=a.matches[i];if(m||!n.namespace&&!l.namespace||n.namespace_re&&n.namespace_re.test(l.namespace))n.data=l.data,n.handleObj=l,o=((Y.event.special[l.origType]||{}).handle||l.handler).apply(a.elem,v),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return g.postDispatch&&g.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,o=n.button,u=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||R,i=r.documentElement,s=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),!e.which&&o!==t&&(e.which=o&1?1:o&2?3:o&4?2:0),e}},fix:function(e){if(e[Y.expando])return e;var t,n,r=e,i=Y.event.fixHooks[e.type]||{},s=i.props?this.props.concat(i.props):this.props;e=Y.Event(r);for(t=s.length;t;)n=s[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||R),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Y.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=Y.extend(new Y.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Y.event.trigger(i,null,t):Y.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Y.event.handle=Y.event.dispatch,Y.removeEvent=R.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},Y.Event=function(e,t){if(!(this instanceof Y.Event))return new Y.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?o:s):this.type=e,t&&Y.extend(this,t),this.timeStamp=e&&e.timeStamp||Y.now(),this[Y.expando]=!0},Y.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=o;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s},Y.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Y.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!Y.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),Y.support.submitBubbles||(Y.event.special.submit={setup:function(){if(Y.nodeName(this,"form"))return!1;Y.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=Y.nodeName(n,"input")||Y.nodeName(n,"button")?n.form:t;r&&!Y._data(r,"_submit_attached")&&(Y.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),Y._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Y.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(Y.nodeName(this,"form"))return!1;Y.event.remove(this,"._submit")}}),Y.support.changeBubbles||(Y.event.special.change={setup:function(){if(kt.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")Y.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),Y.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Y.event.simulate("change",this,e,!0)});return!1}Y.event.add(this,"beforeactivate._change",function(e){var t=e.target;kt.test(t.nodeName)&&!Y._data(t,"_change_attached")&&(Y.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&Y.event.simulate("change",this.parentNode,e,!0)}),Y._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return Y.event.remove(this,"._change"),!kt.test(this.nodeName)}}),Y.support.focusinBubbles||Y.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){Y.event.simulate(t,e.target,Y.event.fix(e),!0)};Y.event.special[t]={setup:function(){n++===0&&R.addEventListener(e,r,!0)},teardown:function(){--n===0&&R.removeEventListener(e,r,!0)}}}),Y.fn.extend({on:function(e,n,r,i,o){var u,a;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=s;else if(!i)return this;return o===1&&(u=i,i=function(e){return Y().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=Y.guid++)),this.each(function(){Y.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Y(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(o in e)this.off(o,n,e[o]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=s),this.each(function(){Y.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Y(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Y(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Y.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return Y.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||Y.guid++,r=0,i=function(n){var i=(Y._data(this,"lastToggle"+e.guid)||0)%r;return Y._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Y.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Y.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Ot.test(t)&&(Y.event.fixHooks[t]=Y.event.keyHooks),Mt.test(t)&&(Y.event.fixHooks[t]=Y.event.mouseHooks)}),function(e,t){function n(e,t,n,r){n=n||[],t=t||M;var i,s,o,u,a=t.nodeType;if(!e||typeof e!="string")return n;if(a!==1&&a!==9)return[];o=E(t);if(!o&&!r)if(i=nt.exec(e))if(u=i[1]){if(a===9){s=t.getElementById(u);if(!s||!s.parentNode)return n;if(s.id===u)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(u))&&S(t,s)&&s.id===u)return n.push(s),n}else{if(i[2])return B.apply(n,j.call(t.getElementsByTagName(e),0)),n;if((u=i[3])&&dt&&t.getElementsByClassName)return B.apply(n,j.call(t.getElementsByClassName(u),0)),n}return v(e.replace(G,"$1"),t,n,r,o)}function r(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function i(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function s(e){return I(function(t){return t=+t,I(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function o(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function u(e,t){var r,i,s,o,u,a,f,l=U[A][e];if(l)return t?0:l.slice(0);u=e,a=[],f=b.preFilter;while(u){if(!r||(i=Z.exec(u)))i&&(u=u.slice(i[0].length)),a.push(s=[]);r=!1;if(i=et.exec(u))s.push(r=new O(i.shift())),u=u.slice(r.length),r.type=i[0].replace(G," ");for(o in b.filter)(i=ft[o].exec(u))&&(!f[o]||(i=f[o](i,M,!0)))&&(s.push(r=new O(i.shift())),u=u.slice(r.length),r.type=o,r.matches=i);if(!r)break}return t?u.length:u?n.error(e):U(e,a).slice(0)}function a(e,t,n){var r=t.dir,i=n&&t.dir==="parentNode",s=P++;return t.first?function(t,n,s){while(t=t[r])if(i||t.nodeType===1)return e(t,n,s)}:function(t,n,o){if(!o){var u,a=D+" "+s+" ",f=a+g;while(t=t[r])if(i||t.nodeType===1){if((u=t[A])===f)return t.sizset;if(typeof u=="string"&&u.indexOf(a)===0){if(t.sizset)return t}else{t[A]=f;if(e(t,n,o))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[r])if(i||t.nodeType===1)if(e(t,n,o))return t}}function f(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function l(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function c(e,t,n,r,i,s){return r&&!r[A]&&(r=c(r)),i&&!i[A]&&(i=c(i,s)),I(function(s,o,u,a){if(s&&i)return;var f,c,h,p=[],v=[],m=o.length,g=s||d(t||"*",u.nodeType?[u]:u,[],s),y=e&&(s||!t)?l(g,p,e,u,a):g,b=n?i||(s?e:m||r)?[]:o:y;n&&n(y,b,u,a);if(r){h=l(b,v),r(h,[],u,a),f=h.length;while(f--)if(c=h[f])b[v[f]]=!(y[v[f]]=c)}if(s){f=e&&b.length;while(f--)if(c=b[f])s[p[f]]=!(o[p[f]]=c)}else b=l(b===o?b.splice(m,b.length):b),i?i(null,o,b,a):B.apply(o,b)})}function h(e){var t,n,r,i=e.length,s=b.relative[e[0].type],o=s||b.relative[" "],u=s?1:0,l=a(function(e){return e===t},o,!0),p=a(function(e){return F.call(t,e)>-1},o,!0),d=[function(e,n,r){return!s&&(r||n!==C)||((t=n).nodeType?l(e,n,r):p(e,n,r))}];for(;u<i;u++)if(n=b.relative[e[u].type])d=[a(f(d),n)];else{n=b.filter[e[u].type].apply(null,e[u].matches);if(n[A]){r=++u;for(;r<i;r++)if(b.relative[e[r].type])break;return c(u>1&&f(d),u>1&&e.slice(0,u-1).join("").replace(G,"$1"),n,u<r&&h(e.slice(u,r)),r<i&&h(e=e.slice(r)),r<i&&e.join(""))}d.push(n)}return f(d)}function p(e,t){var r=t.length>0,i=e.length>0,s=function(o,u,a,f,c){var h,p,d,v=[],m=0,y="0",w=o&&[],E=c!=null,S=C,x=o||i&&b.find.TAG("*",c&&u.parentNode||u),T=D+=S==null?1:Math.E;E&&(C=u!==M&&u,g=s.el);for(;(h=x[y])!=null;y++){if(i&&h){for(p=0;d=e[p];p++)if(d(h,u,a)){f.push(h);break}E&&(D=T,g=++s.el)}r&&((h=!d&&h)&&m--,o&&w.push(h))}m+=y;if(r&&y!==m){for(p=0;d=t[p];p++)d(w,v,u,a);if(o){if(m>0)while(y--)!w[y]&&!v[y]&&(v[y]=H.call(f));v=l(v)}B.apply(f,v),E&&!o&&v.length>0&&m+t.length>1&&n.uniqueSort(f)}return E&&(D=T,C=S),w};return s.el=0,r?I(s):s}function d(e,t,r,i){var s=0,o=t.length;for(;s<o;s++)n(e,t[s],r,i);return r}function v(e,t,n,r,i){var s,o,a,f,l,c=u(e),h=c.length;if(!r&&c.length===1){o=c[0]=c[0].slice(0);if(o.length>2&&(a=o[0]).type==="ID"&&t.nodeType===9&&!i&&b.relative[o[1].type]){t=b.find.ID(a.matches[0].replace(at,""),t,i)[0];if(!t)return n;e=e.slice(o.shift().length)}for(s=ft.POS.test(e)?-1:o.length-1;s>=0;s--){a=o[s];if(b.relative[f=a.type])break;if(l=b.find[f])if(r=l(a.matches[0].replace(at,""),it.test(o[0].type)&&t.parentNode||t,i)){o.splice(s,1),e=r.length&&o.join("");if(!e)return B.apply(n,j.call(r,0)),n;break}}}return x(e,c)(r,t,i,n,it.test(e)),n}function m(){}var g,y,b,w,E,S,x,T,N,C,k=!0,L="undefined",A=("sizcache"+Math.random()).replace(".",""),O=String,M=e.document,_=M.documentElement,D=0,P=0,H=[].pop,B=[].push,j=[].slice,F=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},I=function(e,t){return e[A]=t==null||t,e},q=function(){var e={},t=[];return I(function(n,r){return t.push(n)>b.cacheLength&&delete e[t.shift()],e[n]=r},e)},R=q(),U=q(),z=q(),W="[\\x20\\t\\r\\n\\f]",X="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",V=X.replace("w","w#"),$="([*^$|!~]?=)",J="\\["+W+"*("+X+")"+W+"*(?:"+$+W+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+V+")|)|)"+W+"*\\]",K=":("+X+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+J+")|[^:]|\\\\.)*|.*))\\)|)",Q=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)",G=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g"),Z=new RegExp("^"+W+"*,"+W+"*"),et=new RegExp("^"+W+"*([\\x20\\t\\r\\n\\f>+~])"+W+"*"),tt=new RegExp(K),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rt=/^:not/,it=/[\x20\t\r\n\f]*[+~]/,st=/:not\($/,ot=/h\d/i,ut=/input|select|textarea|button/i,at=/\\(?!\\)/g,ft={ID:new RegExp("^#("+X+")"),CLASS:new RegExp("^\\.("+X+")"),NAME:new RegExp("^\\[name=['\"]?("+X+")['\"]?\\]"),TAG:new RegExp("^("+X.replace("w","w*")+")"),ATTR:new RegExp("^"+J),PSEUDO:new RegExp("^"+K),POS:new RegExp(Q,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),needsContext:new RegExp("^"+W+"*[>+~]|"+Q,"i")},lt=function(e){var t=M.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},ct=lt(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),ht=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==L&&e.firstChild.getAttribute("href")==="#"}),pt=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),dt=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),vt=lt(function(e){e.id=A+0,e.innerHTML="<a name='"+A+"'></a><div name='"+A+"'></div>",_.insertBefore(e,_.firstChild);var t=M.getElementsByName&&M.getElementsByName(A).length===2+M.getElementsByName(A+0).length;return y=!M.getElementById(A),_.removeChild(e),t});try{j.call(_.childNodes,0)[0].nodeType}catch(mt){j=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},w=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=w(t);return n},E=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},S=n.contains=_.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:_.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},n.attr=function(e,t){var n,r=E(e);return r||(t=t.toLowerCase()),(n=b.attrHandle[t])?n(e):r||pt?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:I,match:ft,attrHandle:ht?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:y?function(e,t,n){if(typeof t.getElementById!==L&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==L&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==L&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:ct?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:vt&&function(e,t){if(typeof t.getElementsByName!==L)return t.getElementsByName(name)},CLASS:dt&&function(e,t,n){if(typeof t.getElementsByClassName!==L&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(at,""),e[3]=(e[4]||e[5]||"").replace(at,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;if(ft.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])tt.test(t)&&(n=u(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:y?function(e){return e=e.replace(at,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(at,""),function(t){var n=typeof t.getAttributeNode!==L&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(at,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=R[A][e];return t||(t=R(e,new RegExp("(^|"+W+")"+e+"("+W+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")}},ATTR:function(e,t,r){return function(i,s){var o=n.attr(i,e);return o==null?t==="!=":t?(o+="",t==="="?o===r:t==="!="?o!==r:t==="^="?r&&o.indexOf(r)===0:t==="*="?r&&o.indexOf(r)>-1:t==="$="?r&&o.substr(o.length-r.length)===r:t==="~="?(" "+o+" ").indexOf(r)>-1:t==="|="?o===r||o.substr(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var r,i=b.pseudos[e]||b.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return i[A]?i(t):i.length>1?(r=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?I(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=F.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,r)}):i}},pseudos:{not:I(function(e){var t=[],n=[],r=x(e.replace(G,"$1"));return r[A]?I(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:I(function(e){return function(t){return n(e,t).length>0}}),contains:I(function(e){return function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return ot.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:r("radio"),checkbox:r("checkbox"),file:r("file"),password:r("password"),image:r("image"),submit:i("submit"),reset:i("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return ut.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&(!!e.type||!!e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:s(function(e,t,n){return[0]}),last:s(function(e,t,n){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t,n){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:s(function(e,t,n){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},T=_.compareDocumentPosition?function(e,t){return e===t?(N=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return N=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],u=e.parentNode,a=t.parentNode,f=u;if(u===a)return o(e,t);if(!u)return-1;if(!a)return 1;while(f)i.unshift(f),f=f.parentNode;f=a;while(f)s.unshift(f),f=f.parentNode;n=i.length,r=s.length;for(var l=0;l<n&&l<r;l++)if(i[l]!==s[l])return o(i[l],s[l]);return l===n?o(e,s[l],-1):o(i[l],t,1)},[0,0].sort(T),k=!N,n.uniqueSort=function(e){var t,n=1;N=k,e.sort(T);if(N)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},x=n.compile=function(e,t){var n,r=[],i=[],s=z[A][e];if(!s){t||(t=u(e)),n=t.length;while(n--)s=h(t[n]),s[A]?r.push(s):i.push(s);s=z(e,p(i,r))}return s},M.querySelectorAll&&function(){var e,t=v,r=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,s=[":focus"],o=[":active",":focus"],a=_.matchesSelector||_.mozMatchesSelector||_.webkitMatchesSelector||_.oMatchesSelector||_.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||s.push("\\["+W+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"
),e.querySelectorAll(":checked").length||s.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&s.push("[*^$]="+W+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||s.push(":enabled",":disabled")}),s=new RegExp(s.join("|")),v=function(e,n,i,o,a){if(!o&&!a&&(!s||!s.test(e))){var f,l,c=!0,h=A,p=n,d=n.nodeType===9&&e;if(n.nodeType===1&&n.nodeName.toLowerCase()!=="object"){f=u(e),(c=n.getAttribute("id"))?h=c.replace(r,"\\$&"):n.setAttribute("id",h),h="[id='"+h+"'] ",l=f.length;while(l--)f[l]=h+f[l].join("");p=it.test(e)&&n.parentNode||n,d=f.join(",")}if(d)try{return B.apply(i,j.call(p.querySelectorAll(d),0)),i}catch(v){}finally{c||n.removeAttribute("id")}}return t(e,n,i,o,a)},a&&(lt(function(t){e=a.call(t,"div");try{a.call(t,"[test!='']:sizzle"),o.push("!=",K)}catch(n){}}),o=new RegExp(o.join("|")),n.matchesSelector=function(t,r){r=r.replace(i,"='$1']");if(!E(t)&&!o.test(r)&&(!s||!s.test(r)))try{var u=a.call(t,r);if(u||e||t.document&&t.document.nodeType!==11)return u}catch(f){}return n(r,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=m.prototype=b.pseudos,b.setFilters=new m,n.attr=Y.attr,Y.find=n,Y.expr=n.selectors,Y.expr[":"]=Y.expr.pseudos,Y.unique=n.uniqueSort,Y.text=n.getText,Y.isXMLDoc=n.isXML,Y.contains=n.contains}(e);var Pt=/Until$/,Ht=/^(?:parents|prev(?:Until|All))/,Bt=/^.[^:#\[\.,]*$/,jt=Y.expr.match.needsContext,Ft={children:!0,contents:!0,next:!0,prev:!0};Y.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return Y(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(Y.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,Y.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=Y(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(Y.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(f(this,e,!1),"not",e)},filter:function(e){return this.pushStack(f(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?jt.test(e)?Y(e,this.context).index(this[0])>=0:Y.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=jt.test(e)||typeof e!="string"?Y(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:Y.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?Y.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?Y.inArray(this[0],Y(e)):Y.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?Y(e,t):Y.makeArray(e&&e.nodeType?[e]:e),r=Y.merge(this.get(),n);return this.pushStack(u(n[0])||u(r[0])?r:Y.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),Y.fn.andSelf=Y.fn.addBack,Y.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return Y.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Y.dir(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return Y.dir(e,"nextSibling")},prevAll:function(e){return Y.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Y.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Y.dir(e,"previousSibling",n)},siblings:function(e){return Y.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Y.sibling(e.firstChild)},contents:function(e){return Y.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Y.merge([],e.childNodes)}},function(e,t){Y.fn[e]=function(n,r){var i=Y.map(this,t,n);return Pt.test(e)||(r=n),r&&typeof r=="string"&&(i=Y.filter(r,i)),i=this.length>1&&!Ft[e]?Y.unique(i):i,this.length>1&&Ht.test(e)&&(i=i.reverse()),this.pushStack(i,e,$.call(arguments).join(","))}}),Y.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?Y.find.matchesSelector(t[0],e)?[t[0]]:[]:Y.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!Y(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var It="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qt=/ jQuery\d+="(?:null|\d+)"/g,Rt=/^\s+/,Ut=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,Wt=/<tbody/i,Xt=/<|&#?\w+;/,Vt=/<(?:script|style|link)/i,$t=/<(?:script|object|embed|option|style)/i,Jt=new RegExp("<(?:"+It+")[\\s/>]","i"),Kt=/^(?:checkbox|radio)$/,Qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Gt=/\/(java|ecma)script/i,Yt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=l(R),tn=en.appendChild(R.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,Y.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),Y.fn.extend({text:function(e){return Y.access(this,function(e){return e===t?Y.text(this):this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Y.isFunction(e))return this.each(function(t){Y(this).wrapAll(e.call(this,t))});if(this[0]){var t=Y(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Y.isFunction(e)?this.each(function(t){Y(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Y(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Y.isFunction(e);return this.each(function(n){Y(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Y.nodeName(this,"body")||Y(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!u(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(e,this),"before",this.selector)}},after:function(){if(!u(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||Y.filter(e,[n]).length)!t&&n.nodeType===1&&(Y.cleanData(n.getElementsByTagName("*")),Y.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&Y.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return Y.clone(this,e,t)})},html:function(e){return Y.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(qt,""):t;if(typeof e=="string"&&!Vt.test(e)&&(Y.support.htmlSerialize||!Jt.test(e))&&(Y.support.leadingWhitespace||!Rt.test(e))&&!Zt[(zt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ut,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(Y.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return u(this[0])?this.length?this.pushStack(Y(Y.isFunction(e)?e():e),"replaceWith",e):this:Y.isFunction(e)?this.each(function(t){var n=Y(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=Y(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Y(this).remove(),t?Y(t).before(e):Y(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],h=this.length;if(!Y.support.checkClone&&h>1&&typeof f=="string"&&Qt.test(f))return this.each(function(){Y(this).domManip(e,n,r)});if(Y.isFunction(f))return this.each(function(i){var s=Y(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=Y.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&Y.nodeName(s,"tr");for(u=i.cacheable||h-1;a<h;a++)r.call(n&&Y.nodeName(this[a],"table")?c(this[a],"tbody"):this[a],a===u?o:Y.clone(o,!0,!0))}o=s=null,l.length&&Y.each(l,function(e,t){t.src?Y.ajax?Y.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Y.error("no ajax"):Y.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Yt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Y.buildFragment=function(e,n,r){var i,s,o,u=e[0];return n=n||R,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof u=="string"&&u.length<512&&n===R&&u.charAt(0)==="<"&&!$t.test(u)&&(Y.support.checkClone||!Qt.test(u))&&(Y.support.html5Clone||!Jt.test(u))&&(s=!0,i=Y.fragments[u],o=i!==t),i||(i=n.createDocumentFragment(),Y.clean(e,n,i,r),s&&(Y.fragments[u]=o&&i)),{fragment:i,cacheable:s}},Y.fragments={},Y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Y.fn[e]=function(n){var r,i=0,s=[],o=Y(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),Y(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),Y.extend({clone:function(e,t,n){var r,i,s,o;Y.support.html5Clone||Y.isXMLDoc(e)||!Jt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(o=tn.firstChild));if((!Y.support.noCloneEvent||!Y.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!Y.isXMLDoc(e)){p(e,o),r=d(e),i=d(o);for(s=0;r[s];++s)i[s]&&p(r[s],i[s])}if(t){h(e,o);if(n){r=d(e),i=d(o);for(s=0;r[s];++s)h(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var i,s,o,u,a,f,c,h,p,d,m,g,y=t===R&&en,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=R;for(i=0;(o=e[i])!=null;i++){typeof o=="number"&&(o+="");if(!o)continue;if(typeof o=="string")if(!Xt.test(o))o=t.createTextNode(o);else{y=y||l(t),c=t.createElement("div"),y.appendChild(c),o=o.replace(Ut,"<$1></$2>"),u=(zt.exec(o)||["",""])[1].toLowerCase(),a=Zt[u]||Zt._default,f=a[0],c.innerHTML=a[1]+o+a[2];while(f--)c=c.lastChild;if(!Y.support.tbody){h=Wt.test(o),p=u==="table"&&!h?c.firstChild&&c.firstChild.childNodes:a[1]==="<table>"&&!h?c.childNodes:[];for(s=p.length-1;s>=0;--s)Y.nodeName(p[s],"tbody")&&!p[s].childNodes.length&&p[s].parentNode.removeChild(p[s])}!Y.support.leadingWhitespace&&Rt.test(o)&&c.insertBefore(t.createTextNode(Rt.exec(o)[0]),c.firstChild),o=c.childNodes,c.parentNode.removeChild(c)}o.nodeType?b.push(o):Y.merge(b,o)}c&&(o=c=y=null);if(!Y.support.appendChecked)for(i=0;(o=b[i])!=null;i++)Y.nodeName(o,"input")?v(o):typeof o.getElementsByTagName!="undefined"&&Y.grep(o.getElementsByTagName("input"),v);if(n){m=function(e){if(!e.type||Gt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(i=0;(o=b[i])!=null;i++)if(!Y.nodeName(o,"script")||!m(o))n.appendChild(o),typeof o.getElementsByTagName!="undefined"&&(g=Y.grep(Y.merge([],o.getElementsByTagName("script")),m),b.splice.apply(b,[i+1,0].concat(g)),i+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=Y.expando,a=Y.cache,f=Y.support.deleteExpando,l=Y.event.special;for(;(i=e[o])!=null;o++)if(t||Y.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?Y.event.remove(i,s):Y.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,Y.deletedIds.push(r))}}}}),function(){var e,t;Y.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Y.uaMatch(z.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Y.browser=t,Y.sub=function(){function e(t,n){return new e.fn.init(t,n)}Y.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function n(n,r){return r&&r instanceof Y&&!(r instanceof e)&&(r=e(r)),Y.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(R);return e}}();var nn,rn,sn,on=/alpha\([^)]*\)/i,un=/opacity=([^)]*)/,an=/^(top|right|bottom|left)$/,fn=/^(none|table(?!-c[ea]).+)/,ln=/^margin/,cn=new RegExp("^("+Z+")(.*)$","i"),hn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),pn=new RegExp("^([-+])=("+Z+")","i"),dn={},vn={position:"absolute",visibility:"hidden",display:"block"},mn={letterSpacing:0,fontWeight:400},gn=["Top","Right","Bottom","Left"],yn=["Webkit","O","Moz","ms"],bn=Y.fn.toggle;Y.fn.extend({css:function(e,n){return Y.access(this,function(e,n,r){return r!==t?Y.style(e,n,r):Y.css(e,n)},e,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var n=typeof e=="boolean";return Y.isFunction(e)&&Y.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:g(this))?Y(this).show():Y(this).hide()})}}),Y.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Y.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=Y.camelCase(n),f=e.style;n=Y.cssProps[a]||(Y.cssProps[a]=m(f,a)),u=Y.cssHooks[n]||Y.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=pn.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(Y.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!Y.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=Y.camelCase(n);return n=Y.cssProps[a]||(Y.cssProps[a]=m(e.style,a)),u=Y.cssHooks[n]||Y.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=nn(e,n)),s==="normal"&&n in mn&&(s=mn[n]),r||i!==t?(o=parseFloat(s),r||Y.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?nn=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u[n],r===""&&!Y.contains(t.ownerDocument,t)&&(r=Y.style(t,n)),hn.test(r)&&ln.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:R.documentElement.currentStyle&&(nn=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),hn.test(i)&&!an.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),Y.each(["height","width"],function(e,t){Y.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&fn.test(nn(e,"display"))?Y.swap(e,vn,function(){return E(e,t,r)}):E(e,t,r)},set:function(e,n,r){return b(e,n,r?w(e,t,r,Y.support.boxSizing&&Y.css(e,"boxSizing")==="border-box"):0)}}}),Y.support.opacity||(Y.cssHooks.opacity={get:function(e,t){return un.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=Y.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&Y.trim(s.replace(on,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=on.test(s)?s.replace(on,i):s+" "+i}}),Y(function(){Y.support.reliableMarginRight||(Y.cssHooks.marginRight={get:function(e,t){return Y.swap(e,{display:"inline-block"},function(){if(t)return nn(e,"marginRight")})}}),!Y.support.pixelPosition&&Y.fn.position&&Y.each(["top","left"],function(e,t){Y.cssHooks[t]={get:function(e,n){if(n){var r=nn(e,t);return hn.test(r)?Y(e).position()[t]+"px":r}}}})}),Y.expr&&Y.expr.filters&&(Y.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!Y.support.reliableHiddenOffsets&&(e.style&&e.style.display||nn(e,"display"))==="none"},Y.expr.filters.visible=function(e){return!Y.expr.filters.hidden(e)}),Y.each({margin:"",padding:"",border:"Width"},function(e,t){Y.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+gn[r]+t]=i[r]||i[r-2]||i[0];return s}},ln.test(e)||(Y.cssHooks[e+t].set=b)});var wn=/%20/g,En=/\[\]$/,Sn=/\r?\n/g,xn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Tn=/^(?:select|textarea)/i;Y.fn.extend({serialize:function(){return Y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Y.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Tn.test(this.nodeName)||xn.test(this.type))}).map(function(e,t){var n=Y(this).val();return n==null?null:Y.isArray(n)?Y.map(n,function(e,n){return{name:t.name,value:e.replace(Sn,"\r\n")}}):{name:t.name,value:n.replace(Sn,"\r\n")}}).get()}}),Y.param=function(e,n){var r,i=[],s=function(e,t){t=Y.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=Y.ajaxSettings&&Y.ajaxSettings.traditional);if(Y.isArray(e)||e.jquery&&!Y.isPlainObject(e))Y.each(e,function(){s(this.name,this.value)});else for(r in e)x(r,e[r],n,s);return i.join("&").replace(wn,"+")};var Nn,Cn,kn=/#.*$/,Ln=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,An=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,On=/^(?:GET|HEAD)$/,Mn=/^\/\//,_n=/\?/,Dn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Pn=/([?&])_=[^&]*/,Hn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Bn=Y.fn.load,jn={},Fn={},In=["*/"]+["*"];try{Cn=U.href}catch(qn){Cn=R.createElement("a"),Cn.href="",Cn=Cn.href}Nn=Hn.exec(Cn.toLowerCase())||[],Y.fn.load=function(e,n,r){if(typeof e!="string"&&Bn)return Bn.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),Y.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),Y.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?Y("<div>").append(e.replace(Dn,"")).find(i):e)}),this},Y.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Y.fn[t]=function(e){return this.on(t,e)}}),Y.each(["get","post"],function(e,n){Y[n]=function(e,r,i,s){return Y.isFunction(r)&&(s=s||i,i=r,r=t),Y.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),Y.extend({getScript:function(e,n){return Y.get(e,t,n,"script")},getJSON:function(e,t,n){return Y.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?C(e,Y.ajaxSettings):(t=e,e=Y.ajaxSettings),C(e,t),e},ajaxSettings:{url:Cn,isLocal:An.test(Nn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":In},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Y.parseJSON,"text xml":Y.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:T(jn),ajaxTransport:T(Fn),ajax:function(e,n){function r(e,n,r,o){var f,c,y,b,E,x=n;if(w===2)return;w=2,a&&clearTimeout(a),u=t,s=o||"",S.readyState=e>0?4:0,r&&(b=k(h,S,r));if(e>=200&&e<300||e===304)h.ifModified&&(E=S.getResponseHeader("Last-Modified"),E&&(Y.lastModified[i]=E),E=S.getResponseHeader("Etag"),E&&(Y.etag[i]=E)),e===304?(x="notmodified",f=!0):(f=L(h,b),x=f.state,c=f.data,y=f.error,f=!y);else{y=x;if(!x||e)x="error",e<0&&(e=0)}S.status=e,S.statusText=(n||x)+"",f?v.resolveWith(p,[c,x,S]):v.rejectWith(p,[S,x,y]),S.statusCode(g),g=t,l&&d.trigger("ajax"+(f?"Success":"Error"),[S,h,f?c:y]),m.fireWith(p,[S,x]),l&&(d.trigger("ajaxComplete",[S,h]),--Y.active||Y.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var i,s,o,u,a,f,l,c,h=Y.ajaxSetup({},n),p=h.context||h,d=p!==h&&(p.nodeType||p instanceof Y)?Y(p):Y.event,v=Y.Deferred(),m=Y.Callbacks("once memory"),g=h.statusCode||{},y={},b={},w=0,E="canceled",S={readyState:0,setRequestHeader:function(e,t){if(!w){var n=e.toLowerCase();e=b[n]=b[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return w===2?s:null},getResponseHeader:function(e){var n;if(w===2){if(!o){o={};while(n=Ln.exec(s))o[n[1].toLowerCase()]=n[2]}n=o[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return w||(h.mimeType=e),this},abort:function(e){return e=e||E,u&&u.abort(e),r(0,e),this}};v.promise(S),S.success=S.done,S.error=S.fail,S.complete=m.add,S.statusCode=function(e){if(e){var t;if(w<2)for(t in e)g[t]=[g[t],e[t]];else t=e[S.status],S.always(t)}return this},h.url=((e||h.url)+"").replace(kn,"").replace(Mn,Nn[1]+"//"),h.dataTypes=Y.trim(h.dataType||"*").toLowerCase().split(tt),h.crossDomain==null&&(f=Hn.exec(h.url.toLowerCase())||!1,h.crossDomain=f&&f.join(":")+(f[3]?"":f[1]==="http:"?80:443)!==Nn.join(":")+(Nn[3]?"":Nn[1]==="http:"?80:443)),h.data&&h.processData&&typeof h.data!="string"&&(h.data=Y.param(h.data,h.traditional)),N(jn,h,n,S);if(w===2)return S;l=h.global,h.type=h.type.toUpperCase(),h.hasContent=!On.test(h.type),l&&Y.active++===0&&Y.event.trigger("ajaxStart");if(!h.hasContent){h.data&&(h.url+=(_n.test(h.url)?"&":"?")+h.data,delete h.data),i=h.url;if(h.cache===!1){var x=Y.now(),T=h.url.replace(Pn,"$1_="+x);h.url=T+(T===h.url?(_n.test(h.url)?"&":"?")+"_="+x:"")}}(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(i=i||h.url,Y.lastModified[i]&&S.setRequestHeader("If-Modified-Since",Y.lastModified[i]),Y.etag[i]&&S.setRequestHeader("If-None-Match",Y.etag[i])),S.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+(h.dataTypes[0]!=="*"?", "+In+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)S.setRequestHeader(c,h.headers[c]);if(!h.beforeSend||h.beforeSend.call(p,S,h)!==!1&&w!==2){E="abort";for(c in{success:1,error:1,complete:1})S[c](h[c]);u=N(Fn,h,n,S);if(!u)r(-1,"No Transport");else{S.readyState=1,l&&d.trigger("ajaxSend",[S,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){S.abort("timeout")},h.timeout));try{w=1,u.send(y,r)}catch(C){if(!(w<2))throw C;r(-1,C)}}return S}return S.abort()},active:0,lastModified:{},etag:{}});var Rn=[],Un=/\?/,zn=/(=)\?(?=&|$)|\?\?/,Wn=Y.now();Y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rn.pop()||Y.expando+"_"+Wn++;return this[e]=!0,e}}),Y.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&zn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&zn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=Y.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(zn,"$1"+s):h?n.data=a.replace(zn,"$1"+s):l&&(n.url+=(Un.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||Y.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Rn.push(s)),u&&Y.isFunction(o)&&o(u[0]),u=o=t}),"script"}),Y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Y.globalEval(e),e}}}),Y.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Y.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=R.head||R.getElementsByTagName("head")[0]||R.documentElement;return{send:function(i,s){n=R.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||s(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Xn,Vn=e.ActiveXObject?function(){for(var e in Xn)Xn[e](0,1)}:!1,$n=0;Y.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&A()||O()}:A,function(e){Y.extend(Y.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Y.ajaxSettings.xhr()),Y.support.ajax&&Y.ajaxTransport(function(n){if(!n.crossDomain||Y.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=Y.noop,Vn&&delete Xn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(e){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++$n,Vn&&(Xn||(Xn={},Y(e).unload(Vn)),Xn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var Jn,Kn,Qn=/^(?:toggle|show|hide)$/,Gn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Yn=/queueHooks$/,Zn=[H],er={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=Gn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(Y.cssNumber[e]?"":"px");if(r!=="px"&&u){u=Y.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,Y.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};Y.Animation=Y.extend(D,{tweener:function(e,t){Y.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],er[n]=er[n]||[],er[n].unshift(t)},prefilter:function(e,t){t?Zn.unshift(e):Zn.push(e)}}),Y.Tween=B,B.prototype={constructor:B,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(Y.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.options.duration?this.pos=t=Y.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=Y.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){Y.fx.step[e.prop]?Y.fx.step[e.prop](e):e.elem.style&&(e.elem.style[Y.cssProps[e.prop]]!=null||Y.cssHooks[e.prop])?Y.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Y.each(["toggle","show","hide"],function(e,t){var n=Y.fn[t];Y.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&Y.isFunction(r)&&Y.isFunction(i)?n.apply(this,arguments):this.animate(j(t,!0),r,i,s)}}),Y.fn.extend({fadeTo:function(e,t,n,r){return this.filter(g).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Y.isEmptyObject(e),s=Y.speed(t,n,r),o=function(){var t=D(this,Y.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=Y.timers,o=Y._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Yn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&Y.dequeue(this,e)})}}),Y.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Y.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Y.speed=function(e,t,n){var r=e&&typeof e=="object"?Y.extend({},e):{complete:n||!n&&t||Y.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Y.isFunction(t)&&t};r.duration=Y.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in Y.fx.speeds?Y.fx.speeds[r.duration]:Y.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){Y.isFunction(r.old)&&r.old.call(this),r.queue&&Y.dequeue(this,r.queue)},r},Y.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Y.timers=[],Y.fx=B.prototype.init,Y.fx.tick=function(){var e,t=Y.timers,n=0;for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||Y.fx.stop()},Y.fx.timer=function(e){e()&&Y.timers.push(e)&&!Kn&&(Kn=setInterval(Y.fx.tick,Y.fx.interval))},Y.fx.interval=13,Y.fx.stop=function(){clearInterval(Kn),Kn=null},Y.fx.speeds={slow:600,fast:200,_default:400},Y.fx.step={},Y.expr&&Y.expr.filters&&(Y.expr.filters.animated=function(e){return Y.grep(Y.timers,function(t){return e===t.elem}).length});var tr=/^(?:body|html)$/i;Y.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Y.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?Y.offset.bodyOffset(l):(n=c.documentElement,Y.contains(n,l)?(typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect()),i=F(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},Y.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Y.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Y.css(e,"marginTop"))||0,n+=parseFloat(Y.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=Y.css(e,"position");r==="static"&&(e.style.position="relative");var i=Y(e),s=i.offset(),o=Y.css(e,"top"),u=Y.css(e,"left"),a=(r==="absolute"||r==="fixed")&&Y.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),Y.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},Y.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=tr.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Y.css(e,"marginTop"))||0,n.left-=parseFloat(Y.css(e,"marginLeft"))||0,r.top+=parseFloat(Y.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(Y.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||R.body;while(e&&!tr.test(e.nodeName)&&Y.css(e,"position")==="static")e=e.offsetParent;return e||R.body})}}),Y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);Y.fn[e]=function(i){return Y.access(this,function(e,i,s){var o=F(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?
o.scrollTo(r?Y(o).scrollLeft():s,r?s:Y(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),Y.each({Height:"height",Width:"width"},function(e,n){Y.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){Y.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return Y.access(this,function(n,r,i){var s;return Y.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?Y.css(n,r,i,u):Y.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=Y,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Y})}(window),function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&Gt(n)&&(i[s]=v._data(n,"olddisplay",nn(n.nodeName)))):(r=Dt(n,"display"),!i[s]&&r!=="none"&&v._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function en(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=v.css(e,n+$t[i],!0)),r?(n==="content"&&(s-=parseFloat(Dt(e,"padding"+$t[i]))||0),n!=="margin"&&(s-=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)):(s+=parseFloat(Dt(e,"padding"+$t[i]))||0,n!=="padding"&&(s+=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0));return s}function tn(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?"border":"content"),i)+"px"}function nn(e){if(Wt[e])return Wt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display");t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write("<!doctype html><html><body>"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,"display"),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&v.type(t)==="object")for(i in t)fn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=kn(e,n,r,i,"*",o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,i=1-r,s=0,o=f.tweens.length;for(;s<o;s++)f.tweens[s].run(i);return u.notifyWith(e,[f,i,n]),i<1&&o?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},m=[],g=e.nodeType&&Gt(e);n.queue||(l=v._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,v.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",v.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r],a=a||s==="toggle";if(s===(g?"hide":"show"))continue;m.push(r)}}o=m.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{}),"hidden"in u&&(g=u.hidden),a&&(u.hidden=!g),g?v(e).show():h.done(function(){v(e).hide()}),h.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in d)v.style(e,t,d[t])});for(r=0;r<o;r++)i=m[r],f=h.createTween(i,g?u[i]:0),d[i]=u[i]||v.style(e,i),i in u||(u[i]=f.start,g&&(f.end=f.start,f.start=i==="width"||i==="height"?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=$t[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",A,!1),v.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&v.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call("﻿ ")?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":(e+"").replace(b,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete")setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1);else{i.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on",optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),u=i.createElement("input"),u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","checked"),u.setAttribute("name","t"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f="on"+l,c=f in p,c||(p.setAttribute(f,"return;"),c=typeof p[f]=="function"),t[l+"Bubbles"]=c;return v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),r=i.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",o=i.createElement("div"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")||(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){v.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",v.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r),v.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=v._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&v._data(this,"__className__",this.className),this.className=this.className||e===!1?"":v._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(R,""):r==null?"":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(v.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!v.nodeName(n.parentNode,"optgroup"))){t=v(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,""),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!==""
:r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype="encoding"),v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&v.expr.match.needsContext.test(s),namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)&&(d.splice(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(".")>=0&&(b=y.split("."),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,"events")||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<m;r++)c=d[r],h=c.selector,u[h]===t&&(u[h]=c.needsContext?v(h,this).index(s)>=0:v.find(h,this,null,[s]).length),u[h]&&f.push(c);f.length&&w.push({elem:s,matches:f})}d.length>m&&w.push({elem:this,matches:d.slice(m)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){a=w[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&&b.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;r&&!v._data(r,"_submit_attached")&&(v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),v._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate("change",this,e,!0)});return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,"_change_attached")&&(v.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)}),v._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,"._change"),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;return v._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function nt(e,t,n,r){n=n||[],t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!="string")return n;if(l!==1&&l!==9)return[];a=o(t);if(!a&&!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&u(t,s)&&s.id===f)return n.push(s),n}else{if(i[2])return S.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&&Z&&t.getElementsByClassName)return S.apply(n,x.call(t.getElementsByClassName(f),0)),n}return vt(e.replace(j,"$1"),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function st(e){return N(function(t){return t=+t,N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=F.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=I.exec(u))s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=r[0].replace(j," ");for(o in i.filter)(r=J[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&&t.dir==="parentNode",o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+" "+o+" ",l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a=="string"&&a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function ct(e,t,n,r,i,s){return r&&!r[d]&&(r=ct(r)),i&&!i[d]&&(i=ct(i,s)),N(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=lt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?T.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=lt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):S.apply(o,g)})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return ct(a>1&&ft(h),a>1&&e.slice(0,a-1).join("").replace(j,"$1"),n,a<r&&ht(e.slice(a,r)),r<s&&ht(e=e.slice(r)),r<s&&e.join(""))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length>0,s=e.length>0,o=function(u,a,f,l,h){var p,d,v,m=[],y=0,w="0",x=u&&[],T=h!=null,N=c,C=u||s&&i.find.TAG("*",h&&a.parentNode||a),k=b+=N==null?1:Math.E;T&&(c=a!==g&&a,n=o.el);for(;(p=C[w])!=null;w++){if(s&&p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}T&&(b=k,n=++o.el)}r&&((p=!v&&p)&&y--,u&&x.push(p))}y+=w;if(r&&w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y>0)while(w--)!x[w]&&!m[w]&&(m[w]=E.call(l));m=lt(m)}S.apply(l,m),T&&!u&&m.length>0&&y+t.length>1&&nt.uniqueSort(l)}return T&&(b=k,c=N),x};return o.el=0,r?N(o):o}function dt(e,t,n){var r=0,i=t.length;for(;r<i;r++)nt(e,t[r],n);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&t.nodeType===9&&!s&&i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,""),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o>=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,""),z.test(u[0].type)&&t.parentNode||t,s)){u.splice(o,1),e=r.length&&u.join("");if(!e)return S.apply(n,x.call(r,0)),n;break}}}return a(e,h)(r,t,s,n,z.test(e)),n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p="undefined",d=("sizcache"+Math.random()).replace(".",""),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},N=function(e,t){return e[d]=t==null||t,e},C=function(){var e={},t=[];return N(function(n,r){return t.push(n)>i.cacheLength&&delete e[t.shift()],e[n+" "]=r},e)},k=C(),L=C(),A=C(),O="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",_=M.replace("w","w#"),D="([*^$|!~]?=)",P="\\["+O+"*("+M+")"+O+"*(?:"+D+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+_+")|)|)"+O+"*\\]",H=":("+M+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+P+")|[^:]|\\\\.)*|.*))\\)|)",B=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),F=new RegExp("^"+O+"*,"+O+"*"),I=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),q=new RegExp(H),R=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/^:not/,z=/[\x20\t\r\n\f]*[+~]/,W=/:not\($/,X=/h\d/i,V=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),NAME:new RegExp("^\\[name=['\"]?("+M+")['\"]?\\]"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+H),POS:new RegExp(B,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+B,"i")},K=function(e){var t=g.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),G=K(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute("href")==="#"}),Y=K(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),Z=K(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),et=K(function(e){e.id=d+0,e.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>",y.insertBefore(e,y.firstChild);var t=g.getElementsByName&&g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;return r=!g.getElementById(d),y.removeChild(e),t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)},nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length>0},s=nt.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},o=nt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt.attr=function(e,t){var n,r=o(e);return r||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):r||Y?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:et&&function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&&function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||nt.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&nt.error(e[0]),e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])q.test(t)&&(n=ut(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:r?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[d][e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);return s==null?t==="!=":t?(s+="",t==="="?s===n:t==="!="?s!==n:t==="^="?n&&s.indexOf(n)===0:t==="*="?n&&s.indexOf(n)>-1:t==="$="?n&&s.substr(s.length-n.length)===n:t==="~="?(" "+s+" ").indexOf(n)>-1:t==="|="?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error("unsupported pseudo: "+e);return r[d]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=T.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,"$1"));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length>0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:rt("radio"),checkbox:rt("checkbox"),file:rt("file"),password:rt("password"),image:rt("image"),submit:it("submit"),reset:it("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(){return[0]}),last:st(function(e,t){return[t-1]}),eq:st(function(e,t,n){return[n<0?n+t:n]}),even:st(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:st(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:st(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},f=y.compareDocumentPosition?function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)},[0,0].sort(f),h=!l,nt.uniqueSort=function(e){var t,n=[],r=1,i=0;l=h,e.sort(f);if(l){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},nt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e+" "];if(!s){t||(t=ut(e)),n=t.length;while(n--)s=ht(t[n]),s[d]?r.push(s):i.push(s);s=A(e,pt(i,r))}return s},g.querySelectorAll&&function(){var e,t=vt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[":focus"],s=[":active"],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),K(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+O+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=new RegExp(i.join("|")),vt=function(e,r,s,o,u){if(!o&&!u&&!i.test(e)){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&&e;if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){a=ut(e),(l=r.getAttribute("id"))?c=l.replace(n,"\\$&"):r.setAttribute("id",c),c="[id='"+c+"'] ",f=a.length;while(f--)a[f]=c+a[f].join("");h=z.test(e)&&r.parentNode||r,p=a.join(",")}if(p)try{return S.apply(s,x.call(h.querySelectorAll(p),0)),s}catch(v){}finally{l||r.removeAttribute("id")}}return t(e,r,s,o,u)},u&&(K(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push("!=",H)}catch(n){}}),s=new RegExp(s.join("|")),nt.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!o(t)&&!s.test(n)&&!i.test(n))try{var a=u.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length>0})}(),i.pseudos.nth=i.pseudos.eq,i.filters=mt.prototype=i.pseudos,i.setFilters=new mt,nt.attr=v.attr,v.find=nt,v.expr=nt.selectors,v.expr[":"]=v.expr.pseudos,v.unique=nt.uniqueSort,v.text=nt.getText,v.isXMLDoc=nt.isXML,v.contains=nt.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r=="string"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(","))}}),v.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/
,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(s=0;(u=e[s])!=null;s++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement("div"),y.appendChild(c),u=u.replace(dt,"<$1></$2>"),a=(vt.exec(u)||["",""])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,"script")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(g=v.grep(v.merge([],u.getElementsByTagName("script")),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp("^("+m+")(.*)$","i"),Ut=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),zt=new RegExp("^([-+])=("+m+")","i"),Wt={BODY:"block"},Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},$t=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=zt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s==="normal"&&n in Vt&&(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u.getPropertyValue(n)||u[n],r===""&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n)),Ut.test(r)&&qt.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Ut.test(i)&&!Ft.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,"display"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+"px":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join("&").replace(rn,"+")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=["*/"]+["*"];try{cn=s.href}catch(Nn){cn=i.createElement("a"),cn.href="",cn=cn.href}ln=wn.exec(cn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!="string"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),v.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v("<div>").append(e.replace(yn,"")).find(i):e)}),this},v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||"",x.readyState=e>0?4:0,s&&(w=An(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(v.lastModified[r]=S),S=x.getResponseHeader("Etag"),S&&(v.etag[r]=S)),e===304?(T="notmodified",l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--v.active||v.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+"").replace(hn,"").replace(mn,ln[1]+"//"),c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y),c.crossDomain==null&&(a=wn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ln[1]&&a[2]===ln[2]&&(a[3]||(a[1]==="http:"?80:443))==(ln[3]||(ln[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(gn.test(c.url)?"&":"?")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,"$1_="+N);c.url=C+(C===c.url?(gn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||v.expando+"_"+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,"$1"+s):h?n.data=a.replace(Dn,"$1"+s):l&&(n.url+=(_n.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||v.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),"script"}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Bn&&delete Hn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(p){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&&(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Xn=[Gn],Vn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&u){u=v.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,v.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,n=v.timers,r=0;qn=v.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||v.fx.stop(),qn=t},v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?v.offset.bodyOffset(l):(n=c.documentElement,v.contains(n,l)?(typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect()),i=tr(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,n+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,"marginTop"))||0,n.left-=parseFloat(v.css(e,"marginLeft"))||0,r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return v})}(window),function(){function r(e,t){var n=!1,r=document.createElement("script");r.type="text/javascript",r.language="javascript",r.src=e,r.onload=r.onreadystatechange=function(){!n&&(!r.readyState||r.readyState=="loaded"||r.readyState=="complete")&&(n=!0,r.onload=r.onreadystatechange=null,t&&t.call(r))},document.getElementsByTagName("head")[0].appendChild(r)}function i(e,t){r(e,function(){document.getElementsByTagName("head")[0].removeChild(this),t&&t()})}function s(e,t){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.media="screen",n.href=e,document.getElementsByTagName("head")[0].appendChild(n),t&&t.call(n)}function o(t,i){function l(){n[t]="loaded",easyloader.onProgress(t),i&&i()}n[t]="loading";var o=e[t],u="loading",a=easyloader.css&&o.css?"loading":"loaded";if(easyloader.css&&o.css){if(/^http/i.test(o.css))var f=o.css;else var f=easyloader.base+"themes/"+easyloader.theme+"/"+o.css;s(f,function(){a="loaded",u=="loaded"&&a=="loaded"&&l()})}if(/^http/i.test(o.js))var f=o.js;else var f=easyloader.base+"plugins/"+o.js;r(f,function(){u="loaded",u=="loaded"&&a=="loaded"&&l()})}function u(r,s){function l(t){if(!e[t])return;var n=e[t].dependencies;if(n)for(var r=0;r<n.length;r++)l(n[r]);u.push(t)}function c(){s&&s(),easyloader.onLoad(r)}function p(){if(u.length){var e=u[0];n[e]?n[e]=="loaded"?(u.shift(),p()):h<easyloader.timeout&&(h+=10,setTimeout(arguments.callee,10)):(a=!0,o(e,function(){u.shift(),p()}))}else if(easyloader.locale&&a==1&&t[easyloader.locale]){var r=easyloader.base+"locale/"+t[easyloader.locale];i(r,function(){c()})}else c()}var u=[],a=!1;if(typeof r=="string")l(r);else for(var f=0;f<r.length;f++)l(r[f]);var h=0;p()}var e={draggable:{js:"jquery.draggable.js"},droppable:{js:"jquery.droppable.js"},resizable:{js:"jquery.resizable.js"},linkbutton:{js:"jquery.linkbutton.js",css:"linkbutton.css"},progressbar:{js:"jquery.progressbar.js",css:"progressbar.css"},tooltip:{js:"jquery.tooltip.js",css:"tooltip.css"},pagination:{js:"jquery.pagination.js",css:"pagination.css",dependencies:["linkbutton"]},datagrid:{js:"jquery.datagrid.js",css:"datagrid.css",dependencies:["panel","resizable","linkbutton","pagination"]},treegrid:{js:"jquery.treegrid.js",css:"tree.css",dependencies:["datagrid"]},propertygrid:{js:"jquery.propertygrid.js",css:"propertygrid.css",dependencies:["datagrid"]},panel:{js:"jquery.panel.js",css:"panel.css"},window:{js:"jquery.window.js",css:"window.css",dependencies:["resizable","draggable","panel"]},dialog:{js:"jquery.dialog.js",css:"dialog.css",dependencies:["linkbutton","window"]},messager:{js:"jquery.messager.js",css:"messager.css",dependencies:["linkbutton","window","progressbar"]},layout:{js:"jquery.layout.js",css:"layout.css",dependencies:["resizable","panel"]},form:{js:"jquery.form.js"},menu:{js:"jquery.menu.js",css:"menu.css"},tabs:{js:"jquery.tabs.js",css:"tabs.css",dependencies:["panel","linkbutton"]},menubutton:{js:"jquery.menubutton.js",css:"menubutton.css",dependencies:["linkbutton","menu"]},splitbutton:{js:"jquery.splitbutton.js",css:"splitbutton.css",dependencies:["menubutton"]},accordion:{js:"jquery.accordion.js",css:"accordion.css",dependencies:["panel"]},calendar:{js:"jquery.calendar.js",css:"calendar.css"},combo:{js:"jquery.combo.js",css:"combo.css",dependencies:["panel","validatebox"]},combobox:{js:"jquery.combobox.js",css:"combobox.css",dependencies:["combo"]},combotree:{js:"jquery.combotree.js",dependencies:["combo","tree"]},combogrid:{js:"jquery.combogrid.js",dependencies:["combo","datagrid"]},validatebox:{js:"jquery.validatebox.js",css:"validatebox.css",dependencies:["tooltip"]},numberbox:{js:"jquery.numberbox.js",dependencies:["validatebox"]},searchbox:{js:"jquery.searchbox.js",css:"searchbox.css",dependencies:["menubutton"]},spinner:{js:"jquery.spinner.js",css:"spinner.css",dependencies:["validatebox"]},numberspinner:{js:"jquery.numberspinner.js",dependencies:["spinner","numberbox"]},timespinner:{js:"jquery.timespinner.js",dependencies:["spinner"]},tree:{js:"jquery.tree.js",css:"tree.css"
,dependencies:["draggable","droppable"]},datebox:{js:"jquery.datebox.js",css:"datebox.css",dependencies:["calendar","combo"]},datetimebox:{js:"jquery.datetimebox.js",dependencies:["datebox","timespinner"]},slider:{js:"jquery.slider.js",dependencies:["draggable"]},tooltip:{js:"jquery.tooltip.js"},parser:{js:"jquery.parser.js"}},t={af:"easyui-lang-af.js",ar:"easyui-lang-ar.js",bg:"easyui-lang-bg.js",ca:"easyui-lang-ca.js",cs:"easyui-lang-cs.js",cz:"easyui-lang-cz.js",da:"easyui-lang-da.js",de:"easyui-lang-de.js",el:"easyui-lang-el.js",en:"easyui-lang-en.js",es:"easyui-lang-es.js",fr:"easyui-lang-fr.js",it:"easyui-lang-it.js",jp:"easyui-lang-jp.js",nl:"easyui-lang-nl.js",pl:"easyui-lang-pl.js",pt_BR:"easyui-lang-pt_BR.js",ru:"easyui-lang-ru.js",sv_SE:"easyui-lang-sv_SE.js",tr:"easyui-lang-tr.js",zh_CN:"easyui-lang-zh_CN.js",zh_TW:"easyui-lang-zh_TW.js"},n={};easyloader={modules:e,locales:t,base:".",theme:"default",css:!0,locale:null,timeout:2e3,load:function(e,t){/\.css$/i.test(e)?/^http/i.test(e)?s(e,t):s(easyloader.base+e,t):/\.js$/i.test(e)?/^http/i.test(e)?r(e,t):r(easyloader.base+e,t):u(e,t)},onProgress:function(e){},onLoad:function(e){}};var a=document.getElementsByTagName("script");for(var f=0;f<a.length;f++){var l=a[f].src;if(!l)continue;var c=l.match(/easyloader\.js(\W|$)/i);c&&(easyloader.base=l.substring(0,c.index))}window.using=easyloader.load,window.jQuery&&jQuery(function(){easyloader.load("parser",function(){jQuery.parser.parse()})})}(),function(e){e.parser={auto:!0,onComplete:function(e){},plugins:["draggable","droppable","resizable","pagination","tooltip","linkbutton","menu","menubutton","splitbutton","progressbar","tree","combobox","combotree","combogrid","numberbox","validatebox","searchbox","numberspinner","timespinner","calendar","datebox","datetimebox","slider","layout","panel","datagrid","propertygrid","treegrid","tabs","accordion","window","dialog"],parse:function(t){var n=[];for(var r=0;r<e.parser.plugins.length;r++){var i=e.parser.plugins[r],s=e(".easyui-"+i,t);s.length&&(s[i]?s[i]():n.push({name:i,jq:s}))}if(n.length&&window.easyloader){var o=[];for(var r=0;r<n.length;r++)o.push(n[r].name);easyloader.load(o,function(){for(var r=0;r<n.length;r++){var i=n[r].name,s=n[r].jq;s[i]()}e.parser.onComplete.call(e.parser,t)})}else e.parser.onComplete.call(e.parser,t)},parseOptions:function(t,n){var r=e(t),i={},s=e.trim(r.attr("data-options"));s&&(s.substring(0,1)!="{"&&(s="{"+s+"}"),i=(new Function("return "+s))());if(n){var o={};for(var u=0;u<n.length;u++){var a=n[u];if(typeof a=="string")a=="width"||a=="height"||a=="left"||a=="top"?o[a]=parseInt(t.style[a])||undefined:o[a]=r.attr(a);else for(var f in a){var l=a[f];l=="boolean"?o[f]=r.attr(f)?r.attr(f)=="true":undefined:l=="number"&&(o[f]=r.attr(f)=="0"?0:parseFloat(r.attr(f))||undefined)}}e.extend(i,o)}return i}},e(function(){var t=e('<div style="position:absolute;top:-1000px;width:100px;height:100px;padding:5px"></div>').appendTo("body");e._boxModel=parseInt(t.width())==100,t.remove(),!window.easyloader&&e.parser.auto&&e.parser.parse()}),e.fn._outerWidth=function(t){return t==undefined?this[0]==window?this.width()||document.body.clientWidth:this.outerWidth()||0:this.each(function(){e._boxModel?e(this).width(t-(e(this).outerWidth()-e(this).width())):e(this).width(t)})},e.fn._outerHeight=function(t){return t==undefined?this[0]==window?this.height()||document.body.clientHeight:this.outerHeight()||0:this.each(function(){e._boxModel?e(this).height(t-(e(this).outerHeight()-e(this).height())):e(this).height(t)})},e.fn._scrollLeft=function(t){return t==undefined?this.scrollLeft():this.each(function(){e(this).scrollLeft(t)})},e.fn._propAttr=e.fn.prop||e.fn.attr,e.fn._fit=function(t){t=t==undefined?!0:t;var n=this[0],r=n.tagName=="BODY"?n:this.parent()[0],i=r.fcount||0;return t?n.fitted||(n.fitted=!0,r.fcount=i+1,e(r).addClass("panel-noscroll"),r.tagName=="BODY"&&e("html").addClass("panel-fit")):n.fitted&&(n.fitted=!1,r.fcount=i-1,r.fcount==0&&(e(r).removeClass("panel-noscroll"),r.tagName=="BODY"&&e("html").removeClass("panel-fit"))),{width:e(r).width(),height:e(r).height()}}}(jQuery),function(e){function i(n){if(n.touches.length!=1)return;r?(clearTimeout(dblClickTimer),r=!1,u(n,"dblclick")):(r=!0,dblClickTimer=setTimeout(function(){r=!1},500)),t=setTimeout(function(){u(n,"contextmenu",3)},1e3),u(n,"mousedown"),(e.fn.draggable.isDragging||e.fn.resizable.isResizing)&&n.preventDefault()}function s(n){if(n.touches.length!=1)return;t&&clearTimeout(t),u(n,"mousemove"),(e.fn.draggable.isDragging||e.fn.resizable.isResizing)&&n.preventDefault()}function o(n){t&&clearTimeout(t),u(n,"mouseup"),(e.fn.draggable.isDragging||e.fn.resizable.isResizing)&&n.preventDefault()}function u(t,n,r){var i=new e.Event(n);i.pageX=t.changedTouches[0].pageX,i.pageY=t.changedTouches[0].pageY,i.which=r||1,e(t.target).trigger(i)}var t=null,n=null,r=!1;document.addEventListener&&(document.addEventListener("touchstart",i,!0),document.addEventListener("touchmove",s,!0),document.addEventListener("touchend",o,!0))}(jQuery),function(e){function t(t){var n=e.data(t.data.target,"draggable"),r=n.options,i=n.proxy,s=t.data,o=s.startLeft+t.pageX-s.startX,u=s.startTop+t.pageY-s.startY;i&&(i.parent()[0]==document.body?(r.deltaX!=null&&r.deltaX!=undefined?o=t.pageX+r.deltaX:o=t.pageX-t.data.offsetWidth,r.deltaY!=null&&r.deltaY!=undefined?u=t.pageY+r.deltaY:u=t.pageY-t.data.offsetHeight):(r.deltaX!=null&&r.deltaX!=undefined&&(o+=t.data.offsetWidth+r.deltaX),r.deltaY!=null&&r.deltaY!=undefined&&(u+=t.data.offsetHeight+r.deltaY))),t.data.parent!=document.body&&(o+=e(t.data.parent).scrollLeft(),u+=e(t.data.parent).scrollTop()),r.axis=="h"?s.left=o:r.axis=="v"?s.top=u:(s.left=o,s.top=u)}function n(t){var n=e.data(t.data.target,"draggable"),r=n.options,i=n.proxy;i||(i=e(t.data.target)),i.css({left:t.data.left,top:t.data.top}),e("body").css("cursor",r.cursor)}function r(r){e.fn.draggable.isDragging=!0;var i=e.data(r.data.target,"draggable"),s=i.options,o=e(".droppable").filter(function(){return r.data.target!=this}).filter(function(){var t=e.data(this,"droppable").options.accept;return t?e(t).filter(function(){return this==r.data.target}).length>0:!0});i.droppables=o;var u=i.proxy;return u||(s.proxy?(s.proxy=="clone"?u=e(r.data.target).clone().insertAfter(r.data.target):u=s.proxy.call(r.data.target,r.data.target),i.proxy=u):u=e(r.data.target)),u.css("position","absolute"),t(r),n(r),s.onStartDrag.call(r.data.target,r),!1}function i(r){var i=e.data(r.data.target,"draggable");t(r),i.options.onDrag.call(r.data.target,r)!=0&&n(r);var s=r.data.target;return i.droppables.each(function(){var t=e(this);if(t.droppable("options").disabled)return;var n=t.offset();r.pageX>n.left&&r.pageX<n.left+t.outerWidth()&&r.pageY>n.top&&r.pageY<n.top+t.outerHeight()?(this.entered||(e(this).trigger("_dragenter",[s]),this.entered=!0),e(this).trigger("_dragover",[s])):this.entered&&(e(this).trigger("_dragleave",[s]),this.entered=!1)}),!1}function s(t){function a(){r&&r.remove(),n.proxy=null}function f(){var r=!1;return n.droppables.each(function(){var n=e(this);if(n.droppable("options").disabled)return;var i=n.offset();if(t.pageX>i.left&&t.pageX<i.left+n.outerWidth()&&t.pageY>i.top&&t.pageY<i.top+n.outerHeight())return s.revert&&e(t.data.target).css({position:t.data.startPosition,left:t.data.startLeft,top:t.data.startTop}),e(this).trigger("_drop",[t.data.target]),a(),r=!0,this.entered=!1,!1}),!r&&!s.revert&&a(),r}e.fn.draggable.isDragging=!1,i(t);var n=e.data(t.data.target,"draggable"),r=n.proxy,s=n.options;if(s.revert)if(f()==1)e(t.data.target).css({position:t.data.startPosition,left:t.data.startLeft,top:t.data.startTop});else if(r){var o,u;r.parent()[0]==document.body?(o=t.data.startX-t.data.offsetWidth,u=t.data.startY-t.data.offsetHeight):(o=t.data.startLeft,u=t.data.startTop),r.animate({left:o,top:u},function(){a()})}else e(t.data.target).animate({left:t.data.startLeft,top:t.data.startTop},function(){e(t.data.target).css("position",t.data.startPosition)});else e(t.data.target).css({position:"absolute",left:t.data.left,top:t.data.top}),f();return s.onStopDrag.call(t.data.target,t),e(document).unbind(".draggable"),setTimeout(function(){e("body").css("cursor","")},100),!1}e.fn.draggable=function(t,n){return typeof t=="string"?e.fn.draggable.methods[t](this,n):this.each(function(){function a(t){var n=e.data(t.data.target,"draggable"),r=n.handle,i=e(r).offset(),s=e(r).outerWidth(),o=e(r).outerHeight(),u=t.pageY-i.top,a=i.left+s-t.pageX,f=i.top+o-t.pageY,l=t.pageX-i.left;return Math.min(u,a,f,l)>n.options.edge}var n,o=e.data(this,"draggable");o?(o.handle.unbind(".draggable"),n=e.extend(o.options,t)):n=e.extend({},e.fn.draggable.defaults,e.fn.draggable.parseOptions(this),t||{});var u=n.handle?typeof n.handle=="string"?e(n.handle,this):n.handle:e(this);e.data(this,"draggable",{options:n,handle:u});if(n.disabled){e(this).css("cursor","");return}u.unbind(".draggable").bind("mousemove.draggable",{target:this},function(t){if(e.fn.draggable.isDragging)return;var n=e.data(t.data.target,"draggable").options;a(t)?e(this).css("cursor",n.cursor):e(this).css("cursor","")}).bind("mouseleave.draggable",{target:this},function(t){e(this).css("cursor","")}).bind("mousedown.draggable",{target:this},function(t){if(a(t)==0)return;e(this).css("cursor","");var n=e(t.data.target).position(),o=e(t.data.target).offset(),u={startPosition:e(t.data.target).css("position"),startLeft:n.left,startTop:n.top,left:n.left,top:n.top,startX:t.pageX,startY:t.pageY,offsetWidth:t.pageX-o.left,offsetHeight:t.pageY-o.top,target:t.data.target,parent:e(t.data.target).parent()[0]};e.extend(t.data,u);var f=e.data(t.data.target,"draggable").options;if(f.onBeforeDrag.call(t.data.target,t)==0)return;e(document).bind("mousedown.draggable",t.data,r),e(document).bind("mousemove.draggable",t.data,i),e(document).bind("mouseup.draggable",t.data,s)})})},e.fn.draggable.methods={options:function(t){return e.data(t[0],"draggable").options},proxy:function(t){return e.data(t[0],"draggable").proxy},enable:function(t){return t.each(function(){e(this).draggable({disabled:!1})})},disable:function(t){return t.each(function(){e(this).draggable({disabled:!0})})}},e.fn.draggable.parseOptions=function(t){var n=e(t);return e.extend({},e.parser.parseOptions(t,["cursor","handle","axis",{revert:"boolean",deltaX:"number",deltaY:"number",edge:"number"}]),{disabled:n.attr("disabled")?!0:undefined})},e.fn.draggable.defaults={proxy:null,revert:!1,cursor:"move",deltaX:null,deltaY:null,handle:null,disabled:!1,edge:0,axis:null,onBeforeDrag:function(e){},onStartDrag:function(e){},onDrag:function(e){},onStopDrag:function(e){}},e.fn.draggable.isDragging=!1}(jQuery),function(e){function t(t){e(t).addClass("droppable"),e(t).bind("_dragenter",function(n,r){e.data(t,"droppable").options.onDragEnter.apply(t,[n,r])}),e(t).bind("_dragleave",function(n,r){e.data(t,"droppable").options.onDragLeave.apply(t,[n,r])}),e(t).bind("_dragover",function(n,r){e.data(t,"droppable").options.onDragOver.apply(t,[n,r])}),e(t).bind("_drop",function(n,r){e.data(t,"droppable").options.onDrop.apply(t,[n,r])})}e.fn.droppable=function(n,r){return typeof n=="string"?e.fn.droppable.methods[n](this,r):(n=n||{},this.each(function(){var r=e.data(this,"droppable");r?e.extend(r.options,n):(t(this),e.data(this,"droppable",{options:e.extend({},e.fn.droppable.defaults,e.fn.droppable.parseOptions(this),n)}))}))},e.fn.droppable.methods={options:function(t){return e.data(t[0],"droppable").options},enable:function(t){return t.each(function(){e(this).droppable({disabled:!1})})},disable:function(t){return t.each(function(){e(this).droppable({disabled:!0})})}},e.fn.droppable.parseOptions=function(t){var n=e(t);return e.extend({},e.parser.parseOptions(t,["accept"]),{disabled:n.attr("disabled")?!0:undefined})},e.fn.droppable.defaults={accept:null,disabled:!1,onDragEnter:function(e,t){},onDragOver:function(e,t){},onDragLeave:function(e,t){},onDrop:function(e,t){}}}(jQuery),function(e){e.fn.resizable=function(t,n){function r(t){var n=t.data,r=e.data(n.target,"resizable").options;if(n.dir.indexOf("e")!=-1){var i=n.startWidth+t.pageX-n.startX;i=Math.min(Math.max(i,r.minWidth),r.maxWidth),n.width=i}if(n.dir.indexOf("s")!=-1){var s=n.startHeight+t.pageY-n.startY;s=Math.min(Math.max(s,r.minHeight),r.maxHeight),n.height=s}if(n.dir.indexOf("w")!=-1){var i=n.startWidth-t.pageX+n.startX;i=Math.min(Math.max(i,r.minWidth),r.maxWidth),n.width=i,n.left=n.startLeft+n.startWidth-n.width}if(n.dir.indexOf("n")!=-1){var s=n.startHeight-t.pageY+n.startY;s=Math.min(Math.max(s,r.minHeight),r.maxHeight),n.height=s,n.top=n.startTop+n.startHeight-n.height}}function i(t){var n=t.data,r=e(n.target);r.css({left:n.left,top:n.top}),r.outerWidth()!=n.width&&r._outerWidth(n.width),r.outerHeight()!=n.height&&r._outerHeight(n.height)}function s(t){return e.fn.resizable.isResizing=!0,e.data(t.data.target,"resizable").options.onStartResize.call(t.data.target,t),!1}function o(t){return r(t),e.data(t.data.target,"resizable").options.onResize.call(t.data.target,t)!=0&&i(t),!1}function u(t){return e.fn.resizable.isResizing=!1,r(t,!0),i(t),e.data(t.data.target,"resizable").options.onStopResize.call(t.data.target,t),e(document).unbind(".resizable"),e("body").css("cursor",""),!1}return typeof t=="string"?e.fn.resizable.methods[t](this,n):this.each(function(){function i(t){var r=e(t.data.target),i="",s=r.offset(),o=r.outerWidth(),u=r.outerHeight(),a=n.edge;t.pageY>s.top&&t.pageY<s.top+a?i+="n":t.pageY<s.top+u&&t.pageY>s.top+u-a&&(i+="s"),t.pageX>s.left&&t.pageX<s.left+a?i+="w":t.pageX<s.left+o&&t.pageX>s.left+o-a&&(i+="e");var f=n.handles.split(",");for(var l=0;l<f.length;l++){var c=f[l].replace(/(^\s*)|(\s*$)/g,"");if(c=="all"||c==i)return i}return""}var n=null,r=e.data(this,"resizable");r?(e(this).unbind(".resizable"),n=e.extend(r.options,t||{})):(n=e.extend({},e.fn.resizable.defaults,e.fn.resizable.parseOptions(this),t||{}),e.data(this,"resizable",{options:n}));if(n.disabled==1)return;e(this).bind("mousemove.resizable",{target:this},function(t){if(e.fn.resizable.isResizing)return;var n=i(t);n==""?e(t.data.target).css("cursor",""):e(t.data.target).css("cursor",n+"-resize")}).bind("mouseleave.resizable",{target:this},function(t){e(t.data.target).css("cursor","")}).bind("mousedown.resizable",{target:this},function(t){function r(n){var r=parseInt(e(t.data.target).css(n));return isNaN(r)?0:r}var n=i(t);if(n=="")return;var a={target:t.data.target,dir:n,startLeft:r("left"),startTop:r("top"),left:r("left"),top:r("top"),startX:t.pageX,startY:t.pageY,startWidth:e(t.data.target).outerWidth(),startHeight:e(t.data.target).outerHeight(),width:e(t.data.target).outerWidth(),height:e(t.data.target).outerHeight(),deltaWidth:e(t.data.target).outerWidth()-e(t.data.target).width(),deltaHeight:e(t.data.target).outerHeight()-e(t.data.target).height()};e(document).bind("mousedown.resizable",a,s),e(document).bind("mousemove.resizable",a,o),e(document).bind("mouseup.resizable",a,u),e("body").css("cursor",n+"-resize")})})},e.fn.resizable.methods={options:function(t){return e.data(t[0],"resizable").options},enable:function(t){return t.each(function(){e(this).resizable({disabled:!1})})},disable:function(t){return t.each(function(){e(this).resizable({disabled:!0})})}},e.fn.resizable.parseOptions=function(t){var n=e(t);return e.extend({},e.parser.parseOptions(t,["handles",{minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number",edge:"number"}]),{disabled:n.attr("disabled")?!0:undefined})},e.fn.resizable.defaults={disabled:!1,handles:"n, e, s, w, ne, se, sw, nw, all",minWidth:10,minHeight:10,maxWidth:1e4,maxHeight:1e4,edge:5,onStartResize:function(e){},onResize:function(e){},onStopResize:function(e){}},e.fn.resizable.isResizing=!1}(jQuery),function(e){function t(t){var i=e.data(t,"linkbutton").options,s=e(t);s.addClass("l-btn").removeClass("l-btn-plain l-btn-selected l-btn-plain-selected"),i.plain&&s.addClass("l-btn-plain"),i.selected&&s.addClass(i.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected"),s.attr("group",i.group||""),s.attr("id",i.id||""),s.html('<span class="l-btn-left"><span class="l-btn-text"></span></span>'),i.text?(s.find(".l-btn-text").html(i.text),i.iconCls&&s.find(".l-btn-text").addClass(i.iconCls).addClass(i.iconAlign=="left"?"l-btn-icon-left":"l-btn-icon-right")):(s.find(".l-btn-text").html('<span class="l-btn-empty">&nbsp;</span>'),i.iconCls&&s.find(".l-btn-empty").addClass(i.iconCls)),s.unbind(".linkbutton").bind("focus.linkbutton",function(){i.disabled||e(this).find(".l-btn-text").addClass("l-btn-focus")}).bind("blur.linkbutton",function(){e(this).find(".l-btn-text").removeClass("l-btn-focus")}),i.toggle&&!i.disabled&&s.bind("click.linkbutton",function(){i.selected?e(this).linkbutton("unselect"):e(this).linkbutton("select")}),n(t,i.selected),r(t,i.disabled)}function n(t,n){var r=e.data(t,"linkbutton").options;n?(r.group&&e('a.l-btn[group="'+r.group+'"]').each(function(){var t=e(this).linkbutton("options");t.toggle&&(e(this).removeClass("l-btn-selected l-btn-plain-selected"),t.selected=!1)}),e(t).addClass(r.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected"),r.selected=!0):r.group||(e(t).removeClass("l-btn-selected l-btn-plain-selected"),r.selected=!1)}function r(t,n){var r=e.data(t,"linkbutton"),i=r.options;e(t).removeClass("l-btn-disabled l-btn-plain-disabled");if(n){i.disabled=!0;var s=e(t).attr("href");s&&(r.href=s,e(t).attr("href","javascript:void(0)")),t.onclick&&(r.onclick=t.onclick,t.onclick=null),i.plain?e(t).addClass("l-btn-disabled l-btn-plain-disabled"):e(t).addClass("l-btn-disabled")}else i.disabled=!1,r.href&&e(t).attr("href",r.href),r.onclick&&(t.onclick=r.onclick)}e.fn.linkbutton=function(n,r){return typeof n=="string"?e.fn.linkbutton.methods[n](this,r):(n=n||{},this.each(function(){var r=e.data(this,"linkbutton");r?e.extend(r.options,n):(e.data(this,"linkbutton",{options:e.extend({},e.fn.linkbutton.defaults,e.fn.linkbutton.parseOptions(this),n)}),e(this).removeAttr("disabled")),t(this)}))},e.fn.linkbutton.methods={options:function(t){return e.data(t[0],"linkbutton").options},enable:function(e){return e.each(function(){r(this,!1)})},disable:function(e){return e.each(function(){r(this,!0)})},select:function(e){return e.each(function(){n(this,!0)})},unselect:function(e){return e.each(function(){n(this,!1)})}},e.fn.linkbutton.parseOptions=function(t){var n=e(t);return e.extend({},e.parser.parseOptions(t,["id","iconCls","iconAlign","group",{plain:"boolean",toggle:"boolean",selected:"boolean"}]),{disabled:n.attr("disabled")?!0:undefined,text:e.trim(n.html()),iconCls:n.attr("icon")||n.attr("iconCls")})},e.fn.linkbutton.defaults={id:null,disabled:!1,toggle:!1,selected:!1,group:null,plain:!1,text:"",iconCls:null,iconAlign:"left"}}(jQuery),function($){function _80(_81){function _85(e){var t=_83.nav[e],n=$('<a href="javascript:void(0)"></a>').appendTo(tr);return n.wrap("<td></td>"),n.linkbutton({iconCls:t.iconCls,plain:!0}).unbind(".pagination").bind("click.pagination",function(){t.handler.call(_81)}),n}var _82=$.data(_81,"pagination"),_83=_82.options,bb=_82.bb={},_84=$(_81).addClass("pagination").html('<table cellspacing="0" cellpadding="0" border="0"><tr></tr></table>'),tr=_84.find("tr");if(_83.showPageList){var ps=$('<select class="pagination-page-list"></select>');ps.bind("change",function(){_83.pageSize=parseInt($(this).val()),_83.onChangePageSize.call(_81,_83.pageSize),_88(_81,_83.pageNumber)});for(var i=0;i<_83.pageList.length;i++)$("<option></option>").text(_83.pageList[i]).appendTo(ps);$("<td></td>").append(ps).appendTo(tr),$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr)}bb.first=_85("first"),bb.prev=_85("prev"),$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr),$('<span style="padding-left:6px;"></span>').html(_83.beforePageText).appendTo(tr).wrap("<td></td>"),bb.num=$('<input class="pagination-num" type="text" value="1" size="2">').appendTo(tr).wrap("<td></td>"),bb.num.unbind(".pagination").bind("keydown.pagination",function(e){if(e.keyCode==13){var t=parseInt($(this).val())||1;return _88(_81,t),!1}}),bb.after=$('<span style="padding-right:6px;"></span>').appendTo(tr).wrap("<td></td>"),$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr),bb.next=_85("next"),bb.last=_85("last"),_83.showRefresh&&($('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr),bb.refresh=_85("refresh"));if(_83.buttons){$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr);if($.isArray(_83.buttons))for(var i=0;i<_83.buttons.length;i++){var btn=_83.buttons[i];if(btn=="-")$('<td><div class="pagination-btn-separator"></div></td>').appendTo(tr);else{var td=$("<td></td>").appendTo(tr),a=$('<a href="javascript:void(0)"></a>').appendTo(td);a[0].onclick=eval(btn.handler||function(){}),a.linkbutton($.extend({},btn,{plain:!0}))}}else{var td=$("<td></td>").appendTo(tr);$(_83.buttons).appendTo(td).show()}}$('<div class="pagination-info"></div>').appendTo(_84),$('<div style="clear:both;"></div>').appendTo(_84)}function _88(e,t){var n=$.data(e,"pagination").options;_8c(e,{pageNumber:t}),n.onSelectPage.call(e,n.pageNumber,n.pageSize)}function _8c(e,t){var n=$.data(e,"pagination"),r=n.options,i=n.bb;$.extend(r,t||{});var s=$(e).find("select.pagination-page-list");s.length&&(s.val(r.pageSize+""),r.pageSize=parseInt(s.val()));var o=Math.ceil(r.total/r.pageSize)||1;r.pageNumber<1&&(r.pageNumber=1),r.pageNumber>o&&(r.pageNumber=o),i.num.val(r.pageNumber),i.after.html(r.afterPageText.replace(/{pages}/,o));var u=r.displayMsg;u=u.replace(/{from}/,r.total==0?0:r.pageSize*(r.pageNumber-1)+1),u=u.replace(/{to}/,Math.min(r.pageSize*r.pageNumber,r.total)),u=u.replace(/{total}/,r.total),$(e).find("div.pagination-info").html(u),i.first.add(i.prev).linkbutton({disabled:r.pageNumber==1}),i.next.add(i.last).linkbutton({disabled:r.pageNumber==o}),_93(e,r.loading)}function _93(e,t){var n=$.data(e,"pagination"),r=n.options,i=n.bb;r.loading=t,r.showRefresh&&n.bb.refresh.linkbutton({iconCls:r.loading?"pagination-loading":"pagination-load"})}$.fn.pagination=function(e,t){return typeof e=="string"?$.fn.pagination.methods[e](this,t):(e=e||{},this.each(function(){var t,n=$.data(this,"pagination");n?t=$.extend(n.options,e):(t=$.extend({},$.fn.pagination.defaults,$.fn.pagination.parseOptions(this),e),$.data(this,"pagination",{options:t})),_80(this),_8c(this)}))},$.fn.pagination.methods={options:function(e){return $.data(e[0],"pagination").options},loading:function(e){return e.each(function(){_93(this,!0)})},loaded:function(e){return e.each(function(){_93(this,!1)})},refresh:function(e,t){return e.each(function(){_8c(this,t)})},select:function(e,t){return e.each(function(){_88(this,t)})}},$.fn.pagination.parseOptions=function(_9e){var t=$(_9e);return $.extend({},$.parser.parseOptions(_9e,[{total:"number",pageSize:"number",pageNumber:"number"},{loading:"boolean",showPageList:"boolean",showRefresh:"boolean"}]),{pageList:t.attr("pageList")?eval(t.attr("pageList")):undefined})},$.fn.pagination.defaults={total:1,pageSize:10,pageNumber:1,pageList:[10,20,30,50],loading:!1,buttons:null,showPageList:!0,showRefresh:!0,onSelectPage:function(e,t){},onBeforeRefresh:function(e,t){},onRefresh:function(e,t){},onChangePageSize:function(e){},beforePageText:"Page",afterPageText:"of {pages}",displayMsg:"Displaying {from} to {to} of {total} items",nav:{first:{iconCls:"pagination-first",handler:function(){var e=$(this).pagination("options");e.pageNumber>1&&$(this).pagination("select",1)}},prev:{iconCls:"pagination-prev",handler:function(){var e=$(this).pagination("options");e.pageNumber>1&&$(this).pagination("select",e.pageNumber-1)}},next:{iconCls:"pagination-next",handler:function(){var e=$(this).pagination("options"),t=Math.ceil(e.total/e.pageSize);e.pageNumber<t&&$(this).pagination("select",e.pageNumber+1)}},last:{iconCls:"pagination-last",handler:function(){var e=$(this).pagination("options"),t=Math.ceil(e.total/e.pageSize);e.pageNumber<t&&$(this).pagination("select",t)}},refresh:{iconCls:"pagination-refresh",handler:function(){var e=$(this).pagination("options");e.onBeforeRefresh.call(this,e.pageNumber,e.pageSize)!=0&&($(this).pagination("select",e.pageNumber),e.onRefresh.call(this,e.pageNumber,e.pageSize))}}}}}(jQuery),function(e){function t(t){var n=e(t);return n.addClass("tree"),n}function n(t){function r(t,n){n.children("li").each(function(){var n=e(this),i=e.extend({},e.parser.parseOptions(this,["id","iconCls","state"]),{checked:n.attr("checked")?!0:undefined});i.text=n.children("span").html(),i.text||(i.text=n.html());var s=n.children("ul");s.length&&(i.children=[],r(i.children,s)),t.push(i)})}var n=[];return r(n,e(t)),n}function r(t){var n=e.data(t,"tree").options;e(t).unbind().bind("mouseover",function(t){var n=e(t.target),r=n.closest("div.tree-node");if(!r.length)return;r.addClass("tree-node-hover"),n.hasClass("tree-hit")&&(n.hasClass("tree-expanded")?n.addClass("tree-expanded-hover"):n.addClass("tree-collapsed-hover")),t.stopPropagation()}).bind("mouseout",function(t){var n=e(t.target),r=n.closest("div.tree-node");if(!r.length)return;r.removeClass("tree-node-hover"),n.hasClass("tree-hit")&&(n.hasClass("tree-expanded")?n.removeClass("tree-expanded-hover"):n.removeClass("tree-collapsed-hover")),t.stopPropagation()}).bind("click",function(r){var i=e(r.target),s=i.closest("div.tree-node");if(!s.length)return;if(i.hasClass("tree-hit"))return p(t,s[0]),!1;if(i.hasClass("tree-checkbox"))return o(t,s[0],!i.hasClass("tree-checkbox1")),!1;M(t,s[0]),n.onClick.call(t,A(t,s[0])),r.stopPropagation()}).bind("dblclick",function(r){var i=e(r.target).closest("div.tree-node");if(!i.length)return;M(t,i[0]),n.onDblClick.call(t,A(t,i[0])),r.stopPropagation()}).bind("contextmenu",function(r){var i=e(r.target).closest("div.tree-node");if(!i.length)return;n.onContextMenu.call(t,r,A(t,i[0])),r.stopPropagation()})}function i(t){var n=e(t).find("div.tree-node");n.draggable("disable"),n.css("cursor","pointer")}function s(t){function s(t,n){var r=e(t).draggable("proxy").find("span.tree-dnd-icon");r.removeClass("tree-dnd-yes tree-dnd-no").addClass(n?"tree-dnd-yes":"tree-dnd-no")}function o(n,i){function s(){var s=e(t).tree("pop",n);e(t).tree("append",{parent:i,data:[s]}),r.onDrop.call(t,i,s,"append")}A(t,i).state=="closed"?c(t,i,function(){s()}):s()}function u(n,i,s){var o={};s=="top"?o.before=i:o.after=i;var u=e(t).tree("pop",n);o.data=u,e(t).tree("insert",o),r.onDrop.call(t,i,u,s)}var n=e.data(t,"tree"),r=n.options,i=n.tree;n.disabledNodes=[],i.find("div.tree-node").draggable({disabled:!1,revert:!0,cursor:"pointer",proxy:function(t){var n=e('<div class="tree-node-proxy"></div>').appendTo("body");return n.html('<span class="tree-dnd-icon tree-dnd-no">&nbsp;</span>'+e(t).find(".tree-title").html()),n.hide(),n},deltaX:15,deltaY:15,onBeforeDrag:function(n){if(r.onBeforeDrag.call(t,A(t,this))==0)return!1;if(e(n.target).hasClass("tree-hit")||e(n.target).hasClass("tree-checkbox"))return!1;if(n.which!=1)return!1;e(this).next("ul").find("div.tree-node").droppable({accept:"no-accept"});var i=e(this).find("span.tree-indent");i.length&&(n.data.offsetWidth-=i.length*i.width())},onStartDrag:function(){e(this).draggable("proxy").css({left:-1e4,top:-1e4}),r.onStartDrag.call(t,A(t,this));var i=A(t,this);i.id==undefined&&(i.id="easyui_tree_node_id_temp",L(t,i)),n.draggingNodeId=i.id},onDrag:function(t){var n=t.pageX,r=t.pageY,i=t.data.startX,s=t.data.startY,o=Math.sqrt((n-i)*(n-i)+(r-s)*(r-s));o>3&&e(this).draggable("proxy").show(),this.pageY=t.pageY},onStopDrag:function(){e(this).next("ul").find("div.tree-node").droppable({accept:"div.tree-node"});for(var i=0;i<n.disabledNodes.length;i++)e(n.disabledNodes[i]).droppable("enable");n.disabledNodes=[];var s=O(t,n.draggingNodeId);s&&s.id=="easyui_tree_node_id_temp"&&(s.id="",L(t,s)),r.onStopDrag.call(t,s)}}).droppable({accept:"div.tree-node",onDragEnter:function(i,o){r.onDragEnter.call(t,this,A(t,o))==0&&(s(o,!1),e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),e(this).droppable("disable"),n.disabledNodes.push(this))},onDragOver:function(i,o){if(e(this).droppable("options").disabled)return;var u=o.pageY,a=e(this).offset().top,f=a+e(this).outerHeight();s(o,!0),e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),u>a+(f-a)/2?f-u<5?e(this).addClass("tree-node-bottom"):e(this).addClass("tree-node-append"):u-a<5?e(this).addClass("tree-node-top"):e(this).addClass("tree-node-append"),r.onDragOver.call(t,this,A(t,o))==0&&(s(o,!1),e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),e(this).droppable("disable"),n.disabledNodes.push(this))},onDragLeave:function(n,i){s(i,!1),e(this).removeClass("tree-node-append tree-node-top tree-node-bottom"),r.onDragLeave.call(t,this,A(t,i))},onDrop:function(n,i){var s=this,a,f;e(this).hasClass("tree-node-append")?(a=o,f="append"):(a=u,f=e(this).hasClass("tree-node-top")?"top":"bottom");if(r.onBeforeDrop.call(t,s,k(t,i),f)==0){e(this).removeClass("tree-node-append tree-node-top tree-node-bottom");return}a(i,s,f),e(this).removeClass("tree-node-append tree-node-top tree-node-bottom")}})}function o(t,n,r){function a(e){var t=e.next().find(".tree-checkbox");t.removeClass("tree-checkbox0 tree-checkbox1 tree-checkbox2"),e.find(".tree-checkbox").hasClass("tree-checkbox1")?t.addClass("tree-checkbox1"):t.addClass("tree-checkbox0")}function f(n){function s(t){var n=t.find(".tree-checkbox");if(n.hasClass("tree-checkbox0")||n.hasClass("tree-checkbox2"))return!1;var r=!0;return t.parent().siblings().each(function(){e(this).children("div.tree-node").children(".tree-checkbox").hasClass("tree-checkbox1")||(r=!1)}),r}function o(t){var n=t.find(".tree-checkbox");if(n.hasClass("tree-checkbox1")||n.hasClass("tree-checkbox2"))return!1;var r=!0;return t.parent().siblings().each(function(){e(this).children("div.tree-node").children(".tree-checkbox").hasClass("tree-checkbox0")||(r=!1)}),r}var r=E(t,n[0]);if(r){var i=e(r.target).find(".tree-checkbox");i.removeClass("tree-checkbox0 tree-checkbox1 tree-checkbox2"),s(n)?i.addClass("tree-checkbox1"):o(n)?i.addClass("tree-checkbox0"):i.addClass("tree-checkbox2"),f(e(r.target))}}var i=e.data(t,"tree").options;if(!i.checkbox)return;var s=A(t,n);if(i.onBeforeCheck.call(t,s,r)==0)return;var o=e(n),u=o.find(".tree-checkbox");u.removeClass("tree-checkbox0 tree-checkbox1 tree-checkbox2"),r?u.addClass("tree-checkbox1"):u.addClass("tree-checkbox0"),i.cascadeCheck&&(f(o),a(o)),i.onCheck.call(t,s,r)}function u(t,n){var r=e.data(t,"tree").options,i=e(n);if(_(t,n)){var s=i.find(".tree-checkbox");s.length?s.hasClass("tree-checkbox1")?o(t,n,!0):o(t,n,!1):r.onlyLeafCheck&&e('<span class="tree-checkbox tree-checkbox0"></span>').insertBefore(i.find(".tree-title"))}else{var s=i.find(".tree-checkbox");if(r.onlyLeafCheck)s.remove();else if(s.hasClass("tree-checkbox1"))o(t,n,!0);else if(s.hasClass("tree-checkbox2")){var u=!0,a=!0,f=w(t,n);for(var l=0;l<f.length;l++)f[l].checked?a=!1:u=!1;u&&o(t,n,!0),a&&o(t,n,!1)}}}function a(t,n,r,u){function m(n,i,s){for(var o=0;o<i.length;o++){var u=e("<li></li>").appendTo(n),f=i[o];f.state!="open"&&f.state!="closed"&&(f.state="open");var h=e('<div class="tree-node"></div>').appendTo(u);h.attr("node-id",f.id),e.data(h[0],"tree-node",{id:f.id,text:f.text,iconCls:f.iconCls,attributes:f.attributes}),e('<span class="tree-title"></span>').html(a.formatter.call(t,f)).appendTo(h),a.checkbox&&(a.onlyLeafCheck?f.state=="open"&&(!f.children||!f.children.length)&&(f.checked?e('<span class="tree-checkbox tree-checkbox1"></span>').prependTo(h):e('<span class="tree-checkbox tree-checkbox0"></span>').prependTo(h)):f.checked?(e('<span class="tree-checkbox tree-checkbox1"></span>').prependTo(h),c.push(h[0])):(e('<span class="tree-checkbox tree-checkbox0"></span>').prependTo(h),i==r&&l.push(h[0])));if(f.children&&f.children.length){var p=e("<ul></ul>").appendTo(u);f.state=="open"?(e('<span class="tree-icon tree-folder tree-folder-open"></span>').addClass(f.iconCls).prependTo(h),e('<span class="tree-hit tree-expanded"></span>').prependTo(h)):(e('<span class="tree-icon tree-folder"></span>').addClass(f.iconCls).prependTo(h),e('<span class="tree-hit tree-collapsed"></span>').prependTo(h),p.css("display","none")),m(p,f.children,s+1)}else f.state=="closed"?(e('<span class="tree-icon tree-folder"></span>').addClass(f.iconCls).prependTo(h),e('<span class="tree-hit tree-collapsed"></span>').prependTo(h)):(e('<span class="tree-icon tree-file"></span>').addClass(f.iconCls).prependTo(h),e('<span class="tree-indent"></span>').prependTo(h));for(var d=0;d<s;d++)e('<span class="tree-indent"></span>').prependTo(h)}}var a=e.data(t,"tree").options;r=a.loadFilter.call(t,r,e(n).prev("div.tree-node")[0]),u||e(n).empty();var l=[],c=[],h=e(n).prev("div.tree-node").find("span.tree-indent, span.tree-hit"
).length;m(n,r,h),a.dnd?s(t):i(t),l.length&&o(t,l[0],!1);for(var p=0;p<c.length;p++)o(t,c[p],!0);setTimeout(function(){f(t,t)},0);var d=null;if(t!=n){var v=e(n).prev();d=A(t,v[0])}a.onLoadSuccess.call(t,d,r)}function f(t,n,r){function u(e,t){var n=e.find("span.tree-icon");n.prev("span.tree-indent").addClass("tree-join")}function a(t){var n=t.find("span.tree-indent, span.tree-hit").length;t.next().find("div.tree-node").each(function(){e(this).children("span:eq("+(n-1)+")").addClass("tree-line")})}var i=e.data(t,"tree").options;if(!i.lines)return;if(!r){r=!0,e(t).find("span.tree-indent").removeClass("tree-line tree-join tree-joinbottom"),e(t).find("div.tree-node").removeClass("tree-node-last tree-root-first tree-root-one");var s=e(t).tree("getRoots");s.length>1?e(s[0].target).addClass("tree-root-first"):s.length==1&&e(s[0].target).addClass("tree-root-one")}e(n).children("li").each(function(){var n=e(this).children("div.tree-node"),i=n.next("ul");i.length?(e(this).next().length&&a(n),f(t,i,r)):u(n)});var o=e(n).children("li:last").children("div.tree-node").addClass("tree-node-last");o.children("span.tree-join").removeClass("tree-join").addClass("tree-joinbottom")}function l(t,n,r,i){var s=e.data(t,"tree").options;r=r||{};var o=null;if(t!=n){var u=e(n).prev();o=A(t,u[0])}if(s.onBeforeLoad.call(t,o,r)==0)return;var f=e(n).prev().children("span.tree-folder");f.addClass("tree-loading");var l=s.loader.call(t,r,function(e){f.removeClass("tree-loading"),a(t,n,e),i&&i()},function(){f.removeClass("tree-loading"),s.onLoadError.apply(t,arguments),i&&i()});l==0&&f.removeClass("tree-loading")}function c(t,n,r){var i=e.data(t,"tree").options,s=e(n).children("span.tree-hit");if(s.length==0)return;if(s.hasClass("tree-expanded"))return;var o=A(t,n);if(i.onBeforeExpand.call(t,o)==0)return;s.removeClass("tree-collapsed tree-collapsed-hover").addClass("tree-expanded"),s.next().addClass("tree-folder-open");var u=e(n).next();if(u.length)i.animate?u.slideDown("normal",function(){i.onExpand.call(t,o),r&&r()}):(u.css("display","block"),i.onExpand.call(t,o),r&&r());else{var a=e('<ul style="display:none"></ul>').insertAfter(n);l(t,a[0],{id:o.id},function(){a.is(":empty")&&a.remove(),i.animate?a.slideDown("normal",function(){i.onExpand.call(t,o),r&&r()}):(a.css("display","block"),i.onExpand.call(t,o),r&&r())})}}function h(t,n){var r=e.data(t,"tree").options,i=e(n).children("span.tree-hit");if(i.length==0)return;if(i.hasClass("tree-collapsed"))return;var s=A(t,n);if(r.onBeforeCollapse.call(t,s)==0)return;i.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),i.next().removeClass("tree-folder-open");var o=e(n).next();r.animate?o.slideUp("normal",function(){r.onCollapse.call(t,s)}):(o.css("display","none"),r.onCollapse.call(t,s))}function p(t,n){var r=e(n).children("span.tree-hit");if(r.length==0)return;r.hasClass("tree-expanded")?h(t,n):c(t,n)}function d(e,t){var n=w(e,t);t&&n.unshift(A(e,t));for(var r=0;r<n.length;r++)c(e,n[r].target)}function v(e,t){var n=[],r=E(e,t);while(r)n.unshift(r),r=E(e,r.target);for(var i=0;i<n.length;i++)c(e,n[i].target)}function m(t,n){var r=e(t).parent();while(r[0].tagName!="BODY"&&r.css("overflow-y")!="auto")r=r.parent();var i=e(n),s=i.offset().top;if(r[0].tagName!="BODY"){var o=r.offset().top;s<o?r.scrollTop(r.scrollTop()+s-o):s+i.outerHeight()>o+r.outerHeight()-18&&r.scrollTop(r.scrollTop()+s+i.outerHeight()-o-r.outerHeight()+18)}else r.scrollTop(s)}function g(e,t){var n=w(e,t);t&&n.unshift(A(e,t));for(var r=0;r<n.length;r++)h(e,n[r].target)}function y(e){var t=b(e);return t.length?t[0]:null}function b(t){var n=[];return e(t).children("li").each(function(){var r=e(this).children("div.tree-node");n.push(A(t,r[0]))}),n}function w(t,n){function o(e){e.next().find("div.tree-node").each(function(){r.push(A(t,this))})}var r=[];if(n)o(e(n));else{var i=b(t);for(var s=0;s<i.length;s++)r.push(i[s]),o(e(i[s].target))}return r}function E(t,n){var r=e(n).parent().parent();return r[0]==t?null:A(t,r.prev()[0])}function S(t,n){n=n||"checked",e.isArray(n)||(n=[n]);var r=[];for(var i=0;i<n.length;i++){var s=n[i];s=="checked"?r.push("span.tree-checkbox1"):s=="unchecked"?r.push("span.tree-checkbox0"):s=="indeterminate"&&r.push("span.tree-checkbox2")}var o=[];return e(t).find(r.join(",")).each(function(){var n=e(this).parent();o.push(A(t,n[0]))}),o}function x(t){var n=e(t).find("div.tree-node-selected");return n.length?A(t,n[0]):null}function T(t,n){var r=e(n.parent),i=n.data;if(!i)return;i=e.isArray(i)?i:[i];if(!i.length)return;var s;if(r.length==0)s=e(t);else{if(_(t,r[0])){var o=r.find("span.tree-icon");o.removeClass("tree-file").addClass("tree-folder tree-folder-open");var f=e('<span class="tree-hit tree-expanded"></span>').insertBefore(o);f.prev().length&&f.prev().remove()}s=r.next(),s.length||(s=e("<ul></ul>").insertAfter(r))}a(t,s[0],i,!0),u(t,s.prev())}function N(t,n){var r=n.before||n.after,i=E(t,r),s=n.data;if(!s)return;s=e.isArray(s)?s:[s];if(!s.length)return;T(t,{parent:i?i.target:null,data:s});var o=e(),u=i?e(i.target).next().children("li:last"):e(t).children("li:last");for(var a=0;a<s.length;a++)o=u.add(o),u=u.prev();n.before?o.insertBefore(e(r).parent()):o.insertAfter(e(r).parent())}function C(t,n){var r=E(t,n),i=e(n),s=i.parent(),o=s.parent();s.remove();if(o.children("li").length==0){var i=o.prev();i.find(".tree-icon").removeClass("tree-folder").addClass("tree-file"),i.find(".tree-hit").remove(),e('<span class="tree-indent"></span>').prependTo(i),o[0]!=t&&o.remove()}r&&u(t,r.target),f(t,t)}function k(t,n){function r(n,i){i.children("li").each(function(){var i=e(this).children("div.tree-node"),s=A(t,i[0]),o=e(this).children("ul");o.length&&(s.children=[],r(s.children,o)),n.push(s)})}if(n){var i=A(t,n);return i.children=[],r(i.children,e(n).next()),i}return null}function L(t,n){var r=e.data(t,"tree").options,i=e(n.target),s=A(t,n.target);s.iconCls&&i.find(".tree-icon").removeClass(s.iconCls);var u=e.extend({},s,n);e.data(n.target,"tree-node",u),i.attr("node-id",u.id),i.find(".tree-title").html(r.formatter.call(t,u)),u.iconCls&&i.find(".tree-icon").addClass(u.iconCls),s.checked!=u.checked&&o(t,n.target,u.checked)}function A(t,n){var r=e.extend({},e.data(n,"tree-node"),{target:n,checked:e(n).find(".tree-checkbox").hasClass("tree-checkbox1")});return _(t,n)||(r.state=e(n).find(".tree-hit").hasClass("tree-expanded")?"open":"closed"),r}function O(t,n){var r=e(t).find('div.tree-node[node-id="'+n+'"]');return r.length?A(t,r[0]):null}function M(t,n){var r=e.data(t,"tree").options,i=A(t,n);if(r.onBeforeSelect.call(t,i)==0)return;e("div.tree-node-selected",t).removeClass("tree-node-selected"),e(n).addClass("tree-node-selected"),r.onSelect.call(t,i)}function _(t,n){var r=e(n),i=r.children("span.tree-hit");return i.length==0}function D(t,n){var r=e.data(t,"tree").options,i=A(t,n);if(r.onBeforeEdit.call(t,i)==0)return;e(n).css("position","relative");var s=e(n).find(".tree-title"),o=s.outerWidth();s.empty();var u=e('<input class="tree-editor">').appendTo(s);u.val(i.text).focus(),u.width(o+20),u.height(document.compatMode=="CSS1Compat"?18-(u.outerHeight()-u.height()):18),u.bind("click",function(e){return!1}).bind("mousedown",function(e){e.stopPropagation()}).bind("mousemove",function(e){e.stopPropagation()}).bind("keydown",function(e){if(e.keyCode==13)return P(t,n),!1;if(e.keyCode==27)return H(t,n),!1}).bind("blur",function(e){e.stopPropagation(),P(t,n)})}function P(t,n){var r=e.data(t,"tree").options;e(n).css("position","");var i=e(n).find("input.tree-editor"),s=i.val();i.remove();var o=A(t,n);o.text=s,L(t,o),r.onAfterEdit.call(t,o)}function H(t,n){var r=e.data(t,"tree").options;e(n).css("position",""),e(n).find("input.tree-editor").remove();var i=A(t,n);L(t,i),r.onCancelEdit.call(t,i)}e.fn.tree=function(o,u){if(typeof o=="string")return e.fn.tree.methods[o](this,u);var o=o||{};return this.each(function(){var u=e.data(this,"tree"),f;if(u)f=e.extend(u.options,o),u.options=f;else{f=e.extend({},e.fn.tree.defaults,e.fn.tree.parseOptions(this),o),e.data(this,"tree",{options:f,tree:t(this)});var c=n(this);c.length&&!f.data&&(f.data=c)}r(this),f.lines&&e(this).addClass("tree-lines"),f.data?a(this,this,f.data):f.dnd?s(this):i(this),l(this,this)})},e.fn.tree.methods={options:function(t){return e.data(t[0],"tree").options},loadData:function(e,t){return e.each(function(){a(this,this,t)})},getNode:function(e,t){return A(e[0],t)},getData:function(e,t){return k(e[0],t)},reload:function(t,n){return t.each(function(){if(n){var t=e(n),r=t.children("span.tree-hit");r.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),t.next().remove(),c(this,n)}else e(this).empty(),l(this,this)})},getRoot:function(e){return y(e[0])},getRoots:function(e){return b(e[0])},getParent:function(e,t){return E(e[0],t)},getChildren:function(e,t){return w(e[0],t)},getChecked:function(e,t){return S(e[0],t)},getSelected:function(e){return x(e[0])},isLeaf:function(e,t){return _(e[0],t)},find:function(e,t){return O(e[0],t)},select:function(e,t){return e.each(function(){M(this,t)})},check:function(e,t){return e.each(function(){o(this,t,!0)})},uncheck:function(e,t){return e.each(function(){o(this,t,!1)})},collapse:function(e,t){return e.each(function(){h(this,t)})},expand:function(e,t){return e.each(function(){c(this,t)})},collapseAll:function(e,t){return e.each(function(){g(this,t)})},expandAll:function(e,t){return e.each(function(){d(this,t)})},expandTo:function(e,t){return e.each(function(){v(this,t)})},scrollTo:function(e,t){return e.each(function(){m(this,t)})},toggle:function(e,t){return e.each(function(){p(this,t)})},append:function(e,t){return e.each(function(){T(this,t)})},insert:function(e,t){return e.each(function(){N(this,t)})},remove:function(e,t){return e.each(function(){C(this,t)})},pop:function(e,t){var n=e.tree("getData",t);return e.tree("remove",t),n},update:function(e,t){return e.each(function(){L(this,t)})},enableDnd:function(e){return e.each(function(){s(this)})},disableDnd:function(e){return e.each(function(){i(this)})},beginEdit:function(e,t){return e.each(function(){D(this,t)})},endEdit:function(e,t){return e.each(function(){P(this,t)})},cancelEdit:function(e,t){return e.each(function(){H(this,t)})}},e.fn.tree.parseOptions=function(t){var n=e(t);return e.extend({},e.parser.parseOptions(t,["url","method",{checkbox:"boolean",cascadeCheck:"boolean",onlyLeafCheck:"boolean"},{animate:"boolean",lines:"boolean",dnd:"boolean"}]))},e.fn.tree.defaults={url:null,method:"post",animate:!1,checkbox:!1,cascadeCheck:!0,onlyLeafCheck:!1,lines:!1,dnd:!1,data:null,formatter:function(e){return e.text},loader:function(t,n,r){var i=e(this).tree("options");if(!i.url)return!1;e.ajax({type:i.method,url:i.url,data:t,dataType:"json",success:function(e){n(e)},error:function(){r.apply(this,arguments)}})},loadFilter:function(e,t){return e},onBeforeLoad:function(e,t){},onLoadSuccess:function(e,t){},onLoadError:function(){},onClick:function(e){},onDblClick:function(e){},onBeforeExpand:function(e){},onExpand:function(e){},onBeforeCollapse:function(e){},onCollapse:function(e){},onBeforeCheck:function(e,t){},onCheck:function(e,t){},onBeforeSelect:function(e){},onSelect:function(e){},onContextMenu:function(e,t){},onBeforeDrag:function(e){},onStartDrag:function(e){},onStopDrag:function(e){},onDragEnter:function(e,t){},onDragOver:function(e,t){},onDragLeave:function(e,t){},onBeforeDrop:function(e,t,n){},onDrop:function(e,t,n){},onBeforeEdit:function(e){},onAfterEdit:function(e){},onCancelEdit:function(e){}}}(jQuery),function(e){function t(t){return e(t).addClass("progressbar"),e(t).html('<div class="progressbar-text"></div><div class="progressbar-value"><div class="progressbar-text"></div></div>'),e(t)}function n(t,n){var r=e.data(t,"progressbar").options,i=e.data(t,"progressbar").bar;n&&(r.width=n),i._outerWidth(r.width)._outerHeight(r.height),i.find("div.progressbar-text").width(i.width()),i.find("div.progressbar-text,div.progressbar-value").css({height:i.height()+"px",lineHeight:i.height()+"px"})}e.fn.progressbar=function(r,i){if(typeof r=="string"){var s=e.fn.progressbar.methods[r];if(s)return s(this,i)}return r=r||{},this.each(function(){var i=e.data(this,"progressbar");i?e.extend(i.options,r):i=e.data(this,"progressbar",{options:e.extend({},e.fn.progressbar.defaults,e.fn.progressbar.parseOptions(this),r),bar:t(this)}),e(this).progressbar("setValue",i.options.value),n(this)})},e.fn.progressbar.methods={options:function(t){return e.data(t[0],"progressbar").options},resize:function(e,t){return e.each(function(){n(this,t)})},getValue:function(t){return e.data(t[0],"progressbar").options.value},setValue:function(t,n){return n<0&&(n=0),n>100&&(n=100),t.each(function(){var t=e.data(this,"progressbar").options,r=t.text.replace(/{value}/,n),i=t.value;t.value=n,e(this).find("div.progressbar-value").width(n+"%"),e(this).find("div.progressbar-text").html(r),i!=n&&t.onChange.call(this,n,i)})}},e.fn.progressbar.parseOptions=function(t){return e.extend({},e.parser.parseOptions(t,["width","height","text",{value:"number"}]))},e.fn.progressbar.defaults={width:"auto",height:22,value:0,text:"{value}%",onChange:function(e,t){}}}(jQuery),function(e){function t(t){e(t).addClass("tooltip-f")}function n(t){var n=e.data(t,"tooltip").options;e(t).unbind(".tooltip").bind(n.showEvent+".tooltip",function(e){s(t,e)}).bind(n.hideEvent+".tooltip",function(e){o(t,e)}).bind("mousemove.tooltip",function(e){n.trackMouse&&(n.trackMouseX=e.pageX,n.trackMouseY=e.pageY,i(t))})}function r(t){var n=e.data(t,"tooltip");n.showTimer&&(clearTimeout(n.showTimer),n.showTimer=null),n.hideTimer&&(clearTimeout(n.hideTimer),n.hideTimer=null)}function i(t){var n=e.data(t,"tooltip");if(!n||!n.tip)return;var r=n.options,i=n.tip;if(r.trackMouse){u=e();var s=r.trackMouseX+r.deltaX,o=r.trackMouseY+r.deltaY}else var u=e(t),s=u.offset().left+r.deltaX,o=u.offset().top+r.deltaY;switch(r.position){case"right":s+=u._outerWidth()+12+(r.trackMouse?12:0),o-=(i._outerHeight()-u._outerHeight())/2;break;case"left":s-=i._outerWidth()+12+(r.trackMouse?12:0),o-=(i._outerHeight()-u._outerHeight())/2;break;case"top":s-=(i._outerWidth()-u._outerWidth())/2,o-=i._outerHeight()+12+(r.trackMouse?12:0);break;case"bottom":s-=(i._outerWidth()-u._outerWidth())/2,o+=u._outerHeight()+12+(r.trackMouse?12:0)}i.css({left:s,top:o,zIndex:r.zIndex!=undefined?r.zIndex:e.fn.window?e.fn.window.defaults.zIndex++:""}),r.onPosition.call(t,s,o)}function s(t,n){var s=e.data(t,"tooltip"),o=s.options,a=s.tip;a||(a=e('<div tabindex="-1" class="tooltip"><div class="tooltip-content"></div><div class="tooltip-arrow-outer"></div><div class="tooltip-arrow"></div></div>').appendTo("body"),s.tip=a,u(t)),a.removeClass("tooltip-top tooltip-bottom tooltip-left tooltip-right").addClass("tooltip-"+o.position),r(t),s.showTimer=setTimeout(function(){i(t),a.show(),o.onShow.call(t,n);var e=a.children(".tooltip-arrow-outer"),r=a.children(".tooltip-arrow"),s="border-"+o.position+"-color";e.add(r).css({borderTopColor:"",borderBottomColor:"",borderLeftColor:"",borderRightColor:""}),e.css(s,a.css(s)),r.css(s,a.css("backgroundColor"))},o.showDelay)}function o(t,n){var i=e.data(t,"tooltip");i&&i.tip&&(r(t),i.hideTimer=setTimeout(function(){i.tip.hide(),i.options.onHide.call(t,n)},i.options.hideDelay))}function u(t,n){var r=e.data(t,"tooltip"),i=r.options;n&&(i.content=n);if(!r.tip)return;var s=typeof i.content=="function"?i.content.call(t):i.content;r.tip.children(".tooltip-content").html(s),i.onUpdate.call(t,s)}function a(t){var n=e.data(t,"tooltip");if(n){r(t);var i=n.options;n.tip&&n.tip.remove(),i._title&&e(t).attr("title",i._title),e.removeData(t,"tooltip"),e(t).unbind(".tooltip").removeClass("tooltip-f"),i.onDestroy.call(t)}}e.fn.tooltip=function(r,i){return typeof r=="string"?e.fn.tooltip.methods[r](this,i):(r=r||{},this.each(function(){var i=e.data(this,"tooltip");i?e.extend(i.options,r):(e.data(this,"tooltip",{options:e.extend({},e.fn.tooltip.defaults,e.fn.tooltip.parseOptions(this),r)}),t(this)),n(this),u(this)}))},e.fn.tooltip.methods={options:function(t){return e.data(t[0],"tooltip").options},tip:function(t){return e.data(t[0],"tooltip").tip},arrow:function(e){return e.tooltip("tip").children(".tooltip-arrow-outer,.tooltip-arrow")},show:function(e,t){return e.each(function(){s(this,t)})},hide:function(e,t){return e.each(function(){o(this,t)})},update:function(e,t){return e.each(function(){u(this,t)})},reposition:function(e){return e.each(function(){i(this)})},destroy:function(e){return e.each(function(){a(this)})}},e.fn.tooltip.parseOptions=function(t){var n=e(t),r=e.extend({},e.parser.parseOptions(t,["position","showEvent","hideEvent","content",{deltaX:"number",deltaY:"number",showDelay:"number",hideDelay:"number"}]),{_title:n.attr("title")});return n.attr("title",""),r.content||(r.content=r._title),r},e.fn.tooltip.defaults={position:"bottom",content:null,trackMouse:!1,deltaX:0,deltaY:0,showEvent:"mouseenter",hideEvent:"mouseleave",showDelay:200,hideDelay:100,onShow:function(e){},onHide:function(e){},onUpdate:function(e){},onPosition:function(e,t){},onDestroy:function(){}}}(jQuery),function($){function _1cf(e){e._remove()}function _1d0(e,t){var n=$.data(e,"panel").options,r=$.data(e,"panel").panel,i=r.children("div.panel-header"),s=r.children("div.panel-body");t&&(t.width&&(n.width=t.width),t.height&&(n.height=t.height),t.left!=null&&(n.left=t.left),t.top!=null&&(n.top=t.top)),n.fit?$.extend(n,r._fit()):r._fit(!1),r.css({left:n.left,top:n.top}),isNaN(n.width)?r.width("auto"):r._outerWidth(n.width),i.add(s)._outerWidth(r.width()),isNaN(n.height)?s.height("auto"):(r._outerHeight(n.height),s._outerHeight(r.height()-i._outerHeight())),r.css("height",""),n.onResize.apply(e,[n.width,n.height]),r.find(">div.panel-body>div").triggerHandler("_resize")}function _1d6(e,t){var n=$.data(e,"panel").options,r=$.data(e,"panel").panel;t&&(t.left!=null&&(n.left=t.left),t.top!=null&&(n.top=t.top)),r.css({left:n.left,top:n.top}),n.onMove.apply(e,[n.left,n.top])}function _1da(e){$(e).addClass("panel-body");var t=$('<div class="panel"></div>').insertBefore(e);return t[0].appendChild(e),t.bind("_resize",function(){var t=$.data(e,"panel").options;return t.fit==1&&_1d0(e),!1}),t}function _1dd(_1de){var opts=$.data(_1de,"panel").options,_1df=$.data(_1de,"panel").panel;opts.tools&&typeof opts.tools=="string"&&_1df.find(">div.panel-header>div.panel-tool .panel-tool-a").appendTo(opts.tools),_1cf(_1df.children("div.panel-header"));if(opts.title&&!opts.noheader){var _1e0=$('<div class="panel-header"><div class="panel-title">'+opts.title+"</div></div>").prependTo(_1df);opts.iconCls&&(_1e0.find(".panel-title").addClass("panel-with-icon"),$('<div class="panel-icon"></div>').addClass(opts.iconCls).appendTo(_1e0));var tool=$('<div class="panel-tool"></div>').appendTo(_1e0);tool.bind("click",function(e){e.stopPropagation()});if(opts.tools)if(typeof opts.tools=="string")$(opts.tools).children().each(function(){$(this).addClass($(this).attr("iconCls")).addClass("panel-tool-a").appendTo(tool)});else for(var i=0;i<opts.tools.length;i++){var t=$('<a href="javascript:void(0)"></a>').addClass(opts.tools[i].iconCls).appendTo(tool);opts.tools[i].handler&&t.bind("click",eval(opts.tools[i].handler))}opts.collapsible&&$('<a class="panel-tool-collapse" href="javascript:void(0)"></a>').appendTo(tool).bind("click",function(){return opts.collapsed==1?_1fb(_1de,!0):_1f0(_1de,!0),!1}),opts.minimizable&&$('<a class="panel-tool-min" href="javascript:void(0)"></a>').appendTo(tool).bind("click",function(){return _201(_1de),!1}),opts.maximizable&&$('<a class="panel-tool-max" href="javascript:void(0)"></a>').appendTo(tool).bind("click",function(){return opts.maximized==1?_204(_1de):_1ef(_1de),!1}),opts.closable&&$('<a class="panel-tool-close" href="javascript:void(0)"></a>').appendTo(tool).bind("click",function(){return _1e1(_1de),!1}),_1df.children("div.panel-body").removeClass("panel-body-noheader")}else _1df.children("div.panel-body").addClass("panel-body-noheader")}function _1e2(e){function r(t){$(e).html(t),$.parser&&$.parser.parse($(e))}var t=$.data(e,"panel"),n=t.options;if(n.href){if(!t.isLoaded||!n.cache){if(n.onBeforeLoad.call(e)==0)return;t.isLoaded=!1,_1e5(e),n.loadingMessage&&$(e).html($('<div class="panel-loading"></div>').html(n.loadingMessage)),$.ajax({url:n.href,cache:!1,dataType:"html",success:function(i){r(n.extractor.call(e,i)),n.onLoad.apply(e,arguments),t.isLoaded=!0}})}}else n.content&&(t.isLoaded||(_1e5(e),r(n.content),t.isLoaded=!0))}function _1e5(e){var t=$(e);t.find(".combo-f").each(function(){$(this).combo("destroy")}),t.find(".m-btn").each(function(){$(this).menubutton("destroy")}),t.find(".s-btn").each(function(){$(this).splitbutton("destroy")}),t.find(".tooltip-f").tooltip("destroy")}function _1e9(e){$(e).find("div.panel:visible,div.accordion:visible,div.tabs-container:visible,div.layout:visible").each(function(){$(this).triggerHandler("_resize",[!0])})}function _1eb(e,t){var n=$.data(e,"panel").options,r=$.data(e,"panel").panel;if(t!=1&&n.onBeforeOpen.call(e)==0)return;r.show(),n.closed=!1,n.minimized=!1;var i=r.children("div.panel-header").find("a.panel-tool-restore");i.length&&(n.maximized=!0),n.onOpen.call(e),n.maximized==1&&(n.maximized=!1,_1ef(e)),n.collapsed==1&&(n.collapsed=!1,_1f0(e)),n.collapsed||(_1e2(e),_1e9(e))}function _1e1(e,t){var n=$.data(e,"panel").options,r=$.data(e,"panel").panel;if(t!=1&&n.onBeforeClose.call(e)==0)return;r._fit(!1),r.hide(),n.closed=!0,n.onClose.call(e)}function _1f4(e,t){var n=$.data(e,"panel").options,r=$.data(e,"panel").panel;if(t!=1&&n.onBeforeDestroy.call(e)==0)return;_1e5(e),_1cf(r),n.onDestroy.call(e)}function _1f0(e,t){var n=$.data(e,"panel").options,r=$.data(e,"panel").panel,i=r.children("div.panel-body"),s=r.children("div.panel-header").find("a.panel-tool-collapse");if(n.collapsed==1)return;i.stop(!0,!0);if(n.onBeforeCollapse.call(e)==0)return;s.addClass("panel-tool-expand"),t==1?i.slideUp("normal",function(){n.collapsed=!0,n.onCollapse.call(e)}):(i.hide(),n.collapsed=!0,n.onCollapse.call(e))}function _1fb(e,t){var n=$.data(e,"panel").options,r=$.data(e,"panel").panel,i=r.children("div.panel-body"),s=r.children("div.panel-header").find("a.panel-tool-collapse");if(n.collapsed==0)return;i.stop(!0,!0);if(n.onBeforeExpand.call(e)==0)return;s.removeClass("panel-tool-expand"),t==1?i.slideDown("normal",function(){n.collapsed=!1,n.onExpand.call(e),_1e2(e),_1e9(e)}):(i.show(),n.collapsed=!1,n.onExpand.call(e),_1e2(e),_1e9(e))}function _1ef(e){var t=$.data(e,"panel").options,n=$.data(e,"panel").panel,r=n.children("div.panel-header").find("a.panel-tool-max");if(t.maximized==1)return;r.addClass("panel-tool-restore"),$.data(e,"panel").original||($.data(e,"panel").original={width:t.width,height:t.height,left:t.left,top:t.top,fit:t.fit}),t.left=0,t.top=0,t.fit=!0,_1d0(e),t.minimized=!1,t.maximized=!0,t.onMaximize.call(e)}function _201(e){var t=$.data(e,"panel").options,n=$.data(e,"panel").panel;n._fit(!1),n.hide(),t.minimized=!0,t.maximized=!1,t.onMinimize.call(e)}function _204(e){var t=$.data(e,"panel").options,n=$.data(e,"panel").panel,r=n.children("div.panel-header").find("a.panel-tool-max");if(t.maximized==0)return;n.show(),r.removeClass("panel-tool-restore"),$.extend(t,$.data(e,"panel").original),_1d0(e),t.minimized=!1,t.maximized=!1,$.data(e,"panel").original=null,t.onRestore.call(e)}function _207(e){var t=$.data(e,"panel").options,n=$.data(e,"panel").panel,r=$(e).panel("header"),i=$(e).panel("body");n.css(t.style),n.addClass(t.cls),t.border?(r.removeClass("panel-header-noborder"),i.removeClass("panel-body-noborder")):(r.addClass("panel-header-noborder"),i.addClass("panel-body-noborder")),r.addClass(t.headerCls),i.addClass(t.bodyCls),t.id?$(e).attr("id",t.id):$(e).attr("id","")}function _20b(e,t){$.data(e,"panel").options.title=t,$(e).panel("header").find("div.panel-title").html(t)}$.fn._remove=function(){return this.each(function(){$(this).remove();try{this.outerHTML=""}catch(e){}})};var TO=!1,_20e=!0;$(window).unbind(".panel").bind("resize.panel",function(){if(!_20e)return;TO!==!1&&clearTimeout(TO),TO=setTimeout(function(){_20e=!1;var e=$("body.layout");e.length?e.layout("resize"):$("body").children("div.panel,div.accordion,div.tabs-container,div.layout").triggerHandler("_resize"),_20e=!0,TO=!1},200)}),$.fn.panel=function(e,t){return typeof e=="string"?$.fn.panel.methods[e](this,t):(e=e||{},this.each(function(){var t=$.data(this,"panel"),n;t?(n=$.extend(t.options,e),t.isLoaded=!1):(n=$.extend({},$.fn.panel.defaults,$.fn.panel.parseOptions(this),e),$(this).attr("title",""),t=$.data(this,"panel",{options:n,panel:_1da(this),isLoaded:!1})),_1dd(this),_207(this),n.doSize==1&&(t.panel.css("display","block"),_1d0(this)),n.closed==1||n.minimized==1?t.panel.hide():_1eb(this)}))},$.fn.panel.methods={options:function(e){return $.data(e[0],"panel").options},panel:function(e){return $.data(e[0],"panel").panel},header:function(e){return $.data(e[0],"panel").panel.find(">div.panel-header")},body:function(e){return $.data(e[0],"panel").panel.find(">div.panel-body")},setTitle:function(e,t){return e.each(function(){_20b(this,t)})},open:function(e,t){return e.each(function(){_1eb(this,t)})},close:function(e,t){return e.each(function(){_1e1(this,t)})},destroy:function(e,t){return e.each(function(){_1f4(this,t)})},refresh:function(e,t){return e.each(function(){$.data(this,"panel").isLoaded=!1,t&&($.data(this,"panel").options.href=t),_1e2(this)})},resize:function(e,t){return e.each(function(){_1d0(this,t)})},move:function(e,t){return e.each(function(){_1d6(this,t)})},maximize:function(e){return e.each(function(){_1ef(this)})},minimize:function(e){return e.each(function(){_201(this)})},restore:function(e){return e.each(function(){_204(this)})},collapse:function(e,t){return e.each(function(){_1f0(this,t)})},expand:function(e,t){return e.each(function(){_1fb(this,t)})}},$.fn.panel.parseOptions=function(e){var t=$(e);return $.extend({},$.parser.parseOptions(e,["id","width","height","left","top","title","iconCls","cls","headerCls","bodyCls","tools","href",{cache:"boolean",fit:"boolean",border:"boolean",noheader:"boolean"},{collapsible:"boolean",minimizable:"boolean",maximizable:"boolean"},{closable:"boolean",collapsed:"boolean",minimized:"boolean",maximized:"boolean",closed:"boolean"}]),{loadingMessage:t.attr("loadingMessage")!=undefined?t.attr("loadingMessage"):undefined})},$.fn.panel.defaults={id:null,title:null,iconCls:null,width:"auto",height:"auto",left:null,top:null,cls:null,headerCls:null,bodyCls:null,style:{},href:null,cache:!0,fit:!1,border:!0,doSize:!0,noheader:!1,content:null,collapsible:!1,minimizable:!1,maximizable:!1,closable:!1,collapsed:!1,minimized:!1,maximized:!1,closed:!1,tools:null,href:null,loadingMessage:"Loading...",extractor:function(e){var t=/<body[^>]*>((.|[\n\r])*)<\/body>/im,n=t.exec(e);return n?n[1]:e},onBeforeLoad:function(){},onLoad:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onBeforeDestroy:function(){},onDestroy:function(){},onResize:function(e,t){},onMove:function(e,t){},onMaximize:function(){},onRestore:function(){},onMinimize:function(){},onBeforeCollapse:function(){},onBeforeExpand:function(){},onCollapse:function(){},onExpand:function(){}}}(jQuery),function(e){function t(t,n){var r=e.data(t,"window").options;n&&(n.width&&(r.width=n.width),n.height&&(r.height=n.height),n.left!=null&&(r.left=n.left),n.top!=null&&(r.top=n.top)),e(t).panel("resize",r)}function n(t,n){var r=e.data(t,"window");n&&(n.left!=null&&(r.options.left=n.left),n.top!=null&&(r.options.top=n.top)),e(t).panel("move",r.options),r.shadow&&r.shadow.css({left:r.options.left,top:r.options.top})}function r(t,r){var i=e.data(t,"window"),s=i.options,o=s.width;isNaN(o)&&(o=i.window._outerWidth());if(s.inline){var u=i.window.parent();s.left=(u.width()-o)/2+u.scrollLeft()}else s.left=(e(window)._outerWidth()-o)/2+e(document).scrollLeft();r&&n(t)}function i(t,r){var i=e.data(t,"window"),s=i.options,o=s.height;isNaN(o)&&(o=i.window._outerHeight());if(s.inline){var u=i.window.parent();s.top=(u.height()-o)/2+u.scrollTop()}else s.top=(e(window)._outerHeight()-o)/2+e(document).scrollTop();r&&n(t)}function s(t){var s=e.data(t,"window"),o=e(t).panel(e.extend({},s.options,{border:!1,doSize:!0,closed:!0,cls:"window",headerCls:"window-header",bodyCls:"window-body "+(s.options.noheader?"window-body-noheader":""),onBeforeDestroy:function(){if(s.options.onBeforeDestroy.call(t)==0)return!1;s.shadow&&s.shadow.remove(),s.mask&&s.mask.remove()},onClose:function(){s.shadow&&s.shadow.hide(),s.mask&&s.mask.hide(),s.options.onClose.call(t)},onOpen:function(){s.mask&&s.mask.css({display:"block",zIndex:e.fn.window.defaults.zIndex++}),s.shadow&&s.shadow.css({display:"block",zIndex:e.fn.window.defaults.zIndex++,left:s.options.left,top:s.options.top,width:s.window._outerWidth(),height:s.window._outerHeight()}),s.window.css("z-index",e.fn.window.defaults.zIndex++),s.options.onOpen.call(t)},onResize:function(n,r){var i=e(this).panel("options");e.extend(s.options,{width:i.width,height:i.height,left:i.left,top:i.top}),s.shadow&&s.shadow.css({left:s.options.left,top:s.options.top,width:s.window._outerWidth(),height:s.window._outerHeight()}),s.options.onResize.call(t,n,r)},onMinimize:function(){s.shadow&&s.shadow.hide(),s.mask&&s.mask.hide(),s.options.onMinimize.call(t)},onBeforeCollapse:function(){if(s.options.onBeforeCollapse.call(t)==0)return!1;s.shadow&&s.shadow.hide()},onExpand:function(){s.shadow&&s.shadow.show(),s.options.onExpand.call(t)}}));s.window=o.panel("panel"),s.mask&&s.mask.remove(),s.options.modal==1&&(s.mask=e('<div class="window-mask"></div>').insertAfter(s.window),s.mask.css({width:s.options.inline?s.mask.parent().width():u().width,height:s.options.inline?s.mask.parent().height():u().height,display:"none"})),s.shadow&&s.shadow.remove(),s.options.shadow==1&&(s.shadow=e('<div class="window-shadow"></div>').insertAfter(s.window),s.shadow.css({display:"none"})),s.options.left==null&&r(t),s.options.top==null&&i(t),n(t),s.options.closed==0&&o.window("open")}function o(n){var r=e.data(n,"window");r.window.draggable({handle:">div.panel-header>div.panel-title",disabled:r.options.draggable==0,onStartDrag:function(t){r.mask&&r.mask.css("z-index",e.fn.window.defaults.zIndex++),r.shadow&&r.shadow.css("z-index",e.fn.window.defaults.zIndex++),r.window.css("z-index",e.fn.window.defaults.zIndex++),r.proxy||(r.proxy=e('<div class="window-proxy"></div>').insertAfter(r.window)),r.proxy.css({display:"none",zIndex:e.fn.window.defaults.zIndex++,left:t.data.left,top:t.data.top}),r.proxy._outerWidth(r.window._outerWidth()),r.proxy._outerHeight(r.window._outerHeight()),setTimeout(function(){r.proxy&&r.proxy.show()},500)},onDrag:function(e){return r.proxy.css({display:"block",left:e.data.left,top:e.data.top}),!1},onStopDrag:function(t){r.options.left=t.data.left,r.options.top=t.data.top,e(n).window("move"),r.proxy.remove(),r.proxy=null}}),r.window.resizable({disabled:r.options.resizable==0,onStartResize:function(t){r.pmask=e('<div class="window-proxy-mask"></div>').insertAfter(r.window),r.pmask.css({zIndex:e.fn.window.defaults.zIndex++,left:t.data.left,top:t.data.top,width:r.window._outerWidth(),height:r.window._outerHeight()}),r.proxy||(r.proxy=e('<div class="window-proxy"></div>').insertAfter(r.window)),r.proxy.css({zIndex:e.fn.window.defaults.zIndex++,left:t.data.left,top:t.data.top}),r.proxy._outerWidth(t.data.width),r.proxy._outerHeight(t.data.height)},onResize:function(e){return r.proxy.css({left:e.data.left,top:e.data.top}),r.proxy._outerWidth(e.data.width),r.proxy._outerHeight(e.data.height),!1},onStopResize:function(i){e.extend(r.options,{left:i.data.left,top:i.data.top,width:i.data.width,height:i.data.height}),t(n),r.pmask.remove(),r.pmask=null,r.proxy.remove(),r.proxy=null}})}function u(){return document.compatMode=="BackCompat"?{width:Math.max(document.body.scrollWidth,document.body.clientWidth),height:Math.max(document.body.scrollHeight,document.body.clientHeight)}:{width:Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth),height:Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight)}}e(window).resize(function(){e("body>div.window-mask").css({width:e(window)._outerWidth(),height:e(window)._outerHeight()}),setTimeout(function(){e("body>div.window-mask").css({width:u().width,height:u().height})},50)}),e.fn.window=function(t,n){if(typeof t=="string"){var r=e.fn.window.methods[t];return r?r(this,n):this.panel(t,n)}return t=t||{},this.each(function(){var n=e.data(this,"window");n?e.extend(n.options,t):(n=e.data(this,"window",{options:e.extend({},e.fn.window.defaults,e.fn.window.parseOptions(this),t)}),n.options.inline||document.body.appendChild(this)),s(this),o(this)})},e.fn.window.methods={options:function(
t){var n=t.panel("options"),r=e.data(t[0],"window").options;return e.extend(r,{closed:n.closed,collapsed:n.collapsed,minimized:n.minimized,maximized:n.maximized})},window:function(t){return e.data(t[0],"window").window},resize:function(e,n){return e.each(function(){t(this,n)})},move:function(e,t){return e.each(function(){n(this,t)})},hcenter:function(e){return e.each(function(){r(this,!0)})},vcenter:function(e){return e.each(function(){i(this,!0)})},center:function(e){return e.each(function(){r(this),i(this),n(this)})}},e.fn.window.parseOptions=function(t){return e.extend({},e.fn.panel.parseOptions(t),e.parser.parseOptions(t,[{draggable:"boolean",resizable:"boolean",shadow:"boolean",modal:"boolean",inline:"boolean"}]))},e.fn.window.defaults=e.extend({},e.fn.panel.defaults,{zIndex:9e3,draggable:!0,resizable:!0,shadow:!0,modal:!1,inline:!1,title:"New Window",collapsible:!0,minimizable:!0,maximizable:!0,closable:!0,closed:!1})}(jQuery),function($){function _245(e){var t=document.createElement("div");while(e.firstChild)t.appendChild(e.firstChild);e.appendChild(t);var n=$(t);return n.attr("style",$(e).attr("style")),$(e).removeAttr("style").css("overflow","hidden"),n.panel({border:!1,doSize:!1,bodyCls:"dialog-content"}),n}function _248(_249){var opts=$.data(_249,"dialog").options,_24a=$.data(_249,"dialog").contentPanel;if(opts.toolbar)if($.isArray(opts.toolbar)){$(_249).find("div.dialog-toolbar").remove();var _24b=$('<div class="dialog-toolbar"><table cellspacing="0" cellpadding="0"><tr></tr></table></div>').prependTo(_249),tr=_24b.find("tr");for(var i=0;i<opts.toolbar.length;i++){var btn=opts.toolbar[i];if(btn=="-")$('<td><div class="dialog-tool-separator"></div></td>').appendTo(tr);else{var td=$("<td></td>").appendTo(tr),tool=$('<a href="javascript:void(0)"></a>').appendTo(td);tool[0].onclick=eval(btn.handler||function(){}),tool.linkbutton($.extend({},btn,{plain:!0}))}}}else $(opts.toolbar).addClass("dialog-toolbar").prependTo(_249),$(opts.toolbar).show();else $(_249).find("div.dialog-toolbar").remove();if(opts.buttons)if($.isArray(opts.buttons)){$(_249).find("div.dialog-button").remove();var _24c=$('<div class="dialog-button"></div>').appendTo(_249);for(var i=0;i<opts.buttons.length;i++){var p=opts.buttons[i],_24d=$('<a href="javascript:void(0)"></a>').appendTo(_24c);p.handler&&(_24d[0].onclick=p.handler),_24d.linkbutton(p)}}else $(opts.buttons).addClass("dialog-button").appendTo(_249),$(opts.buttons).show();else $(_249).find("div.dialog-button").remove();var _24e=opts.href,_24f=opts.content;opts.href=null,opts.content=null,_24a.panel({closed:opts.closed,cache:opts.cache,href:_24e,content:_24f,onLoad:function(){opts.height=="auto"&&$(_249).window("resize"),opts.onLoad.apply(_249,arguments)}}),$(_249).window($.extend({},opts,{onOpen:function(){_24a.panel("options").closed&&_24a.panel("open"),opts.onOpen&&opts.onOpen.call(_249)},onResize:function(e,t){var n=$(_249);_24a.panel("panel").show(),_24a.panel("resize",{width:n.width(),height:t=="auto"?"auto":n.height()-n.children("div.dialog-toolbar")._outerHeight()-n.children("div.dialog-button")._outerHeight()}),opts.onResize&&opts.onResize.call(_249,e,t)}})),opts.href=_24e,opts.content=_24f}function _253(e,t){var n=$.data(e,"dialog").contentPanel;n.panel("refresh",t)}$.fn.dialog=function(e,t){if(typeof e=="string"){var n=$.fn.dialog.methods[e];return n?n(this,t):this.window(e,t)}return e=e||{},this.each(function(){var t=$.data(this,"dialog");t?$.extend(t.options,e):$.data(this,"dialog",{options:$.extend({},$.fn.dialog.defaults,$.fn.dialog.parseOptions(this),e),contentPanel:_245(this)}),_248(this)})},$.fn.dialog.methods={options:function(e){var t=$.data(e[0],"dialog").options,n=e.panel("options");$.extend(t,{closed:n.closed,collapsed:n.collapsed,minimized:n.minimized,maximized:n.maximized});var r=$.data(e[0],"dialog").contentPanel;return t},dialog:function(e){return e.window("window")},refresh:function(e,t){return e.each(function(){_253(this,t)})}},$.fn.dialog.parseOptions=function(e){return $.extend({},$.fn.window.parseOptions(e),$.parser.parseOptions(e,["toolbar","buttons"]))},$.fn.dialog.defaults=$.extend({},$.fn.window.defaults,{title:"New Dialog",collapsible:!1,minimizable:!1,maximizable:!1,resizable:!1,toolbar:null,buttons:null})}(jQuery),function($){function show(e,t,n,r){var i=$(e).window("window");if(!i)return;switch(t){case null:i.show();break;case"slide":i.slideDown(n);break;case"fade":i.fadeIn(n);break;case"show":i.show(n)}var s=null;r>0&&(s=setTimeout(function(){hide(e,t,n)},r)),i.hover(function(){s&&clearTimeout(s)},function(){r>0&&(s=setTimeout(function(){hide(e,t,n)},r))})}function hide(e,t,n){if(e.locked==1)return;e.locked=!0;var r=$(e).window("window");if(!r)return;switch(t){case null:r.hide();break;case"slide":r.slideUp(n);break;case"fade":r.fadeOut(n);break;case"show":r.hide(n)}setTimeout(function(){$(e).window("destroy")},n)}function _262(e){var t=$.extend({},$.fn.window.defaults,{collapsible:!1,minimizable:!1,maximizable:!1,shadow:!1,draggable:!1,resizable:!1,closed:!0,style:{left:"",top:"",right:0,zIndex:$.fn.window.defaults.zIndex++,bottom:-document.body.scrollTop-document.documentElement.scrollTop},onBeforeOpen:function(){return show(this,t.showType,t.showSpeed,t.timeout),!1},onBeforeClose:function(){return hide(this,t.showType,t.showSpeed),!1}},{title:"",width:250,height:100,showType:"slide",showSpeed:600,msg:"",timeout:4e3},e);t.style.zIndex=$.fn.window.defaults.zIndex++;var n=$('<div class="messager-body"></div>').html(t.msg).appendTo("body");return n.window(t),n.window("window").css(t.style),n.window("open"),n}function _264(_265,_266,_267){var win=$('<div class="messager-body"></div>').appendTo("body");win.append(_266);if(_267){var tb=$('<div class="messager-button"></div>').appendTo(win);for(var _268 in _267)$("<a></a>").attr("href","javascript:void(0)").text(_268).css("margin-left",10).bind("click",eval(_267[_268])).appendTo(tb).linkbutton()}return win.window({title:_265,noheader:_265?!1:!0,width:300,height:"auto",modal:!0,collapsible:!1,minimizable:!1,maximizable:!1,resizable:!1,onClose:function(){setTimeout(function(){win.window("destroy")},100)}}),win.window("window").addClass("messager-window"),win.children("div.messager-button").children("a:first").focus(),win}$.messager={show:function(e){return _262(e)},alert:function(e,t,n,r){var i="<div>"+t+"</div>";switch(n){case"error":i='<div class="messager-icon messager-error"></div>'+i;break;case"info":i='<div class="messager-icon messager-info"></div>'+i;break;case"question":i='<div class="messager-icon messager-question"></div>'+i;break;case"warning":i='<div class="messager-icon messager-warning"></div>'+i}i+='<div style="clear:both;"/>';var s={};s[$.messager.defaults.ok]=function(){o.window("close");if(r)return r(),!1};var o=_264(e,i,s);return o},confirm:function(e,t,n){var r='<div class="messager-icon messager-question"></div><div>'+t+"</div>"+'<div style="clear:both;"/>',i={};i[$.messager.defaults.ok]=function(){s.window("close");if(n)return n(!0),!1},i[$.messager.defaults.cancel]=function(){s.window("close");if(n)return n(!1),!1};var s=_264(e,r,i);return s},prompt:function(e,t,n){var r='<div class="messager-icon messager-question"></div><div>'+t+"</div>"+"<br/>"+'<div style="clear:both;"/>'+'<div><input class="messager-input" type="text"/></div>',i={};i[$.messager.defaults.ok]=function(){s.window("close");if(n)return n($(".messager-input",s).val()),!1},i[$.messager.defaults.cancel]=function(){s.window("close");if(n)return n(),!1};var s=_264(e,r,i);return s.children("input.messager-input").focus(),s},progress:function(e){var t={bar:function(){return $("body>div.messager-window").find("div.messager-p-bar")},close:function(){var e=$("body>div.messager-window>div.messager-body:has(div.messager-progress)");e.length&&e.window("close")}};if(typeof e=="string"){var n=t[e];return n()}var r=$.extend({title:"",msg:"",text:undefined,interval:300},e||{}),i='<div class="messager-progress"><div class="messager-p-msg"></div><div class="messager-p-bar"></div></div>',s=_264(r.title,i,null);s.find("div.messager-p-msg").html(r.msg);var o=s.find("div.messager-p-bar");return o.progressbar({text:r.text}),s.window({closable:!1,onClose:function(){this.timer&&clearInterval(this.timer),$(this).window("destroy")}}),r.interval&&(s[0].timer=setInterval(function(){var e=o.progressbar("getValue");e+=10,e>100&&(e=0),o.progressbar("setValue",e)},r.interval)),s}},$.messager.defaults={ok:"Ok",cancel:"Cancel"}}(jQuery),function(e){function t(t){var n=e.data(t,"accordion"),r=n.options,i=n.panels,s=e(t);r.fit?e.extend(r,s._fit()):s._fit(!1),r.width>0&&s._outerWidth(r.width);var o="auto";if(r.height>0){s._outerHeight(r.height);var u=i.length?i[0].panel("header").css("height","")._outerHeight():"auto",o=s.height()-(i.length-1)*u}for(var a=0;a<i.length;a++){var f=i[a];f.panel("header")._outerHeight(u),f.panel("resize",{width:s.width(),height:o})}}function n(t){var n=e.data(t,"accordion").panels;for(var r=0;r<n.length;r++){var i=n[r];if(i.panel("options").collapsed==0)return i}return null}function r(t,n){var r=e.data(t,"accordion").panels;for(var i=0;i<r.length;i++)if(r[i][0]==e(n)[0])return i;return-1}function i(t,n,r){var i=e.data(t,"accordion").panels;if(typeof n=="number"){if(n<0||n>=i.length)return null;var s=i[n];return r&&i.splice(n,1),s}for(var o=0;o<i.length;o++){var s=i[o];if(s.panel("options").title==n)return r&&i.splice(o,1),s}return null}function s(t){var n=e.data(t,"accordion").options,r=e(t);n.border?r.removeClass("accordion-noborder"):r.addClass("accordion-noborder")}function o(n){var r=e(n);r.addClass("accordion");var i=[];return r.children("div").each(function(){var t=e.extend({},e.parser.parseOptions(this),{selected:e(this).attr("selected")?!0:undefined}),r=e(this);i.push(r),u(n,r,t)}),r.bind("_resize",function(r,i){var s=e.data(n,"accordion").options;return(s.fit==1||i)&&t(n),!1}),{accordion:r,panels:i}}function u(t,i,s){i.panel(e.extend({},s,{collapsible:!1,minimizable:!1,maximizable:!1,closable:!1,doSize:!1,collapsed:!0,headerCls:"accordion-header",bodyCls:"accordion-body",onBeforeExpand:function(){if(s.onBeforeExpand&&s.onBeforeExpand.call(this)==0)return!1;var r=n(t);if(r){var o=e(r).panel("header");o.removeClass("accordion-header-selected"),o.find(".accordion-collapse").triggerHandler("click")}var o=i.panel("header");o.addClass("accordion-header-selected"),o.find(".accordion-collapse").removeClass("accordion-expand")},onExpand:function(){s.onExpand&&s.onExpand.call(this);var n=e.data(t,"accordion").options;n.onSelect.call(t,i.panel("options").title,r(t,this))},onBeforeCollapse:function(){if(s.onBeforeCollapse&&s.onBeforeCollapse.call(this)==0)return!1;var e=i.panel("header");e.removeClass("accordion-header-selected"),e.find(".accordion-collapse").addClass("accordion-expand")}}));var o=i.panel("header"),u=e('<a class="accordion-collapse accordion-expand" href="javascript:void(0)"></a>').appendTo(o.children("div.panel-tool"));u.bind("click",function(n){var r=e.data(t,"accordion").options.animate;return l(t),i.panel("options").collapsed?i.panel("expand",r):i.panel("collapse",r),!1}),o.click(function(){return e(this).find(".accordion-collapse").triggerHandler("click"),!1})}function a(e,t){var r=i(e,t);if(!r)return;var s=n(e);if(s&&s[0]==r[0])return;r.panel("header").triggerHandler("click")}function f(t){function i(n){var r=e.data(t,"accordion").options,i=r.animate;r.animate=!1,a(t,n),r.animate=i}var n=e.data(t,"accordion").panels;for(var r=0;r<n.length;r++)if(n[r].panel("options").selected){i(r);return}n.length&&i(0)}function l(t){var n=e.data(t,"accordion").panels;for(var r=0;r<n.length;r++)n[r].stop(!0,!0)}function c(n,r){var i=e.data(n,"accordion"),s=i.options,o=i.panels;r.selected==undefined&&(r.selected=!0),l(n);var f=e("<div></div>").appendTo(n);o.push(f),u(n,f,r),t(n),s.onAdd.call(n,r.title,o.length-1),r.selected&&a(n,o.length-1)}function h(s,o){var u=e.data(s,"accordion"),f=u.options,c=u.panels;l(s);var h=i(s,o),p=h.panel("options").title,d=r(s,h);if(f.onBeforeRemove.call(s,p,d)==0)return;var h=i(s,o,!0);if(h){h.panel("destroy");if(c.length){t(s);var v=n(s);v||a(s,0)}}f.onRemove.call(s,p,d)}e.fn.accordion=function(n,r){return typeof n=="string"?e.fn.accordion.methods[n](this,r):(n=n||{},this.each(function(){var r=e.data(this,"accordion"),i;if(r)i=e.extend(r.options,n),r.opts=i;else{i=e.extend({},e.fn.accordion.defaults,e.fn.accordion.parseOptions(this),n);var u=o(this);e.data(this,"accordion",{options:i,accordion:u.accordion,panels:u.panels})}s(this),t(this),f(this)}))},e.fn.accordion.methods={options:function(t){return e.data(t[0],"accordion").options},panels:function(t){return e.data(t[0],"accordion").panels},resize:function(e){return e.each(function(){t(this)})},getSelected:function(e){return n(e[0])},getPanel:function(e,t){return i(e[0],t)},getPanelIndex:function(e,t){return r(e[0],t)},select:function(e,t){return e.each(function(){a(this,t)})},add:function(e,t){return e.each(function(){c(this,t)})},remove:function(e,t){return e.each(function(){h(this,t)})}},e.fn.accordion.parseOptions=function(t){var n=e(t);return e.extend({},e.parser.parseOptions(t,["width","height",{fit:"boolean",border:"boolean",animate:"boolean"}]))},e.fn.accordion.defaults={width:"auto",height:"auto",fit:!1,border:!0,animate:!0,onSelect:function(e,t){},onAdd:function(e,t){},onBeforeRemove:function(e,t){},onRemove:function(e,t){}}}(jQuery),function($){function _2c3(e){var t=$.data(e,"tabs").options;if(t.tabPosition=="left"||t.tabPosition=="right")return;var n=$(e).children("div.tabs-header"),r=n.children("div.tabs-tool"),i=n.children("div.tabs-scroller-left"),s=n.children("div.tabs-scroller-right"),o=n.children("div.tabs-wrap"),u=n.outerHeight();t.plain&&(u-=u-n.height()),r._outerHeight(u);var a=0;$("ul.tabs li",n).each(function(){a+=$(this).outerWidth(!0)});var f=n.width()-r._outerWidth();a>f?(i.add(s).show()._outerHeight(u),t.toolPosition=="left"?(r.css({left:i.outerWidth(),right:""}),o.css({marginLeft:i.outerWidth()+r._outerWidth(),marginRight:s._outerWidth(),width:f-i.outerWidth()-s.outerWidth()})):(r.css({left:"",right:s.outerWidth()}),o.css({marginLeft:i.outerWidth(),marginRight:s.outerWidth()+r._outerWidth(),width:f-i.outerWidth()-s.outerWidth()}))):(i.add(s).hide(),t.toolPosition=="left"?(r.css({left:0,right:""}),o.css({marginLeft:r._outerWidth(),marginRight:0,width:f})):(r.css({left:"",right:0}),o.css({marginLeft:0,marginRight:r._outerWidth(),width:f})))}function _2cb(_2cc){var opts=$.data(_2cc,"tabs").options,_2cd=$(_2cc).children("div.tabs-header");if(opts.tools)if(typeof opts.tools=="string")$(opts.tools).addClass("tabs-tool").appendTo(_2cd),$(opts.tools).show();else{_2cd.children("div.tabs-tool").remove();var _2ce=$('<div class="tabs-tool"><table cellspacing="0" cellpadding="0" style="height:100%"><tr></tr></table></div>').appendTo(_2cd),tr=_2ce.find("tr");for(var i=0;i<opts.tools.length;i++){var td=$("<td></td>").appendTo(tr),tool=$('<a href="javascript:void(0);"></a>').appendTo(td);tool[0].onclick=eval(opts.tools[i].handler||function(){}),tool.linkbutton($.extend({},opts.tools[i],{plain:!0}))}}else _2cd.children("div.tabs-tool").remove()}function _2cf(e){var t=$.data(e,"tabs"),n=t.options,r=$(e);n.fit?$.extend(n,r._fit()):r._fit(!1),r.width(n.width).height(n.height);var i=$(e).children("div.tabs-header"),s=$(e).children("div.tabs-panels"),o=i.find("div.tabs-wrap"),u=o.find(".tabs");for(var a=0;a<t.tabs.length;a++){var f=t.tabs[a].panel("options"),l=f.tab.find("a.tabs-inner"),c=parseInt(f.tabWidth||n.tabWidth)||undefined;c?l._outerWidth(c):l.css("width",""),l._outerHeight(n.tabHeight),l.css("lineHeight",l.height()+"px")}if(n.tabPosition=="left"||n.tabPosition=="right")i._outerWidth(n.headerWidth),s._outerWidth(r.width()-n.headerWidth),i.add(s)._outerHeight(n.height),o._outerWidth(i.width()),u._outerWidth(o.width()).css("height","");else{i._outerWidth(n.width).css("height",""),u._outerHeight(n.tabHeight).css("width",""),_2c3(e);var h=n.height;isNaN(h)?s.height("auto"):s._outerHeight(h-i.outerHeight());var c=n.width;isNaN(c)?s.width("auto"):s._outerWidth(c)}}function _2d7(e){var t=$.data(e,"tabs").options,n=_2d9(e);if(n){var r=$(e).children("div.tabs-panels"),i=t.width=="auto"?"auto":r.width(),s=t.height=="auto"?"auto":r.height();n.panel("resize",{width:i,height:s})}}function _2dd(e){var t=$.data(e,"tabs").tabs,n=$(e);n.addClass("tabs-container");var r=$('<div class="tabs-panels"></div>').insertBefore(n);n.children("div").each(function(){r[0].appendChild(this)}),n[0].appendChild(r[0]),$('<div class="tabs-header"><div class="tabs-scroller-left"></div><div class="tabs-scroller-right"></div><div class="tabs-wrap"><ul class="tabs"></ul></div></div>').prependTo(e),n.children("div.tabs-panels").children("div").each(function(n){var r=$.extend({},$.parser.parseOptions(this),{selected:$(this).attr("selected")?!0:undefined}),i=$(this);t.push(i),_2e8(e,i,r)}),n.children("div.tabs-header").find(".tabs-scroller-left, .tabs-scroller-right").hover(function(){$(this).addClass("tabs-scroller-over")},function(){$(this).removeClass("tabs-scroller-over")}),n.bind("_resize",function(t,n){var r=$.data(e,"tabs").options;if(r.fit==1||n)_2cf(e),_2d7(e);return!1})}function _2e0(e){function n(e){var t=0;return e.parent().children("li").each(function(n){if(e[0]==this)return t=n,!1}),t}var t=$.data(e,"tabs").options;$(e).children("div.tabs-header").unbind().bind("click",function(r){if($(r.target).hasClass("tabs-scroller-left"))$(e).tabs("scrollBy",-t.scrollIncrement);else if($(r.target).hasClass("tabs-scroller-right"))$(e).tabs("scrollBy",t.scrollIncrement);else{var i=$(r.target).closest("li");if(i.hasClass("tabs-disabled"))return;var s=$(r.target).closest("a.tabs-close");s.length?_2f9(e,n(i)):i.length&&_2ef(e,n(i))}}).bind("contextmenu",function(r){var i=$(r.target).closest("li");if(i.hasClass("tabs-disabled"))return;i.length&&t.onContextMenu.call(e,r,i.find("span.tabs-title").html(),n(i))})}function _2e4(e){var t=$.data(e,"tabs").options,n=$(e).children("div.tabs-header"),r=$(e).children("div.tabs-panels");n.removeClass("tabs-header-top tabs-header-bottom tabs-header-left tabs-header-right"),r.removeClass("tabs-panels-top tabs-panels-bottom tabs-panels-left tabs-panels-right"),t.tabPosition=="top"?n.insertBefore(r):t.tabPosition=="bottom"?(n.insertAfter(r),n.addClass("tabs-header-bottom"),r.addClass("tabs-panels-top")):t.tabPosition=="left"?(n.addClass("tabs-header-left"),r.addClass("tabs-panels-right")):t.tabPosition=="right"&&(n.addClass("tabs-header-right"),r.addClass("tabs-panels-left")),t.plain==1?n.addClass("tabs-header-plain"):n.removeClass("tabs-header-plain"),t.border==1?(n.removeClass("tabs-header-noborder"),r.removeClass("tabs-panels-noborder")):(n.addClass("tabs-header-noborder"),r.addClass("tabs-panels-noborder"))}function _2e8(e,t,n){var r=$.data(e,"tabs");n=n||{},t.panel($.extend({},n,{border:!1,noheader:!0,closed:!0,doSize:!1,iconCls:n.icon?n.icon:undefined,onLoad:function(){n.onLoad&&n.onLoad.call(this,arguments),r.options.onLoad.call(e,$(this))}}));var i=t.panel("options"),s=$(e).children("div.tabs-header").find("ul.tabs");i.tab=$("<li></li>").appendTo(s),i.tab.append('<a href="javascript:void(0)" class="tabs-inner"><span class="tabs-title"></span><span class="tabs-icon"></span></a>'),$(e).tabs("update",{tab:t,options:i})}function _2ec(e,t){var n=$.data(e,"tabs").options,r=$.data(e,"tabs").tabs;t.selected==undefined&&(t.selected=!0);var i=$("<div></div>").appendTo($(e).children("div.tabs-panels"));r.push(i),_2e8(e,i,t),n.onAdd.call(e,t.title,r.length-1),_2cf(e),t.selected&&_2ef(e,r.length-1)}function _2f0(e,t){var n=$.data(e,"tabs").selectHis,r=t.tab,i=r.panel("options").title;r.panel($.extend({},t.options,{iconCls:t.options.icon?t.options.icon:undefined}));var s=r.panel("options"),o=s.tab,u=o.find("span.tabs-title"),a=o.find("span.tabs-icon");u.html(s.title),a.attr("class","tabs-icon"),o.find("a.tabs-close").remove(),s.closable?(u.addClass("tabs-closable"),$('<a href="javascript:void(0)" class="tabs-close"></a>').appendTo(o)):u.removeClass("tabs-closable"),s.iconCls?(u.addClass("tabs-with-icon"),a.addClass(s.iconCls)):u.removeClass("tabs-with-icon");if(i!=s.title)for(var f=0;f<n.length;f++)n[f]==i&&(n[f]=s.title);o.find("span.tabs-p-tool").remove();if(s.tools){var l=$('<span class="tabs-p-tool"></span>').insertAfter(o.find("a.tabs-inner"));if($.isArray(s.tools))for(var f=0;f<s.tools.length;f++){var c=$('<a href="javascript:void(0)"></a>').appendTo(l);c.addClass(s.tools[f].iconCls),s.tools[f].handler&&c.bind("click",{handler:s.tools[f].handler},function(e){if($(this).parents("li").hasClass("tabs-disabled"))return;e.data.handler.call(this)})}else $(s.tools).children().appendTo(l);var h=l.children().length*12;s.closable?h+=8:(h-=3,l.css("right","5px")),u.css("padding-right",h+"px")}_2cf(e),$.data(e,"tabs").options.onUpdate.call(e,s.title,_2f8(e,r))}function _2f9(e,t){var n=$.data(e,"tabs").options,r=$.data(e,"tabs").tabs,i=$.data(e,"tabs").selectHis;if(!_2fd(e,t))return;var s=_2fe(e,t),o=s.panel("options").title,u=_2f8(e,s);if(n.onBeforeClose.call(e,o,u)==0)return;var s=_2fe(e,t,!0);s.panel("options").tab.remove(),s.panel("destroy"),n.onClose.call(e,o,u),_2cf(e);for(var a=0;a<i.length;a++)i[a]==o&&(i.splice(a,1),a--);var f=i.pop();f?_2ef(e,f):r.length&&_2ef(e,0)}function _2fe(e,t,n){var r=$.data(e,"tabs").tabs;if(typeof t=="number"){if(t<0||t>=r.length)return null;var i=r[t];return n&&r.splice(t,1),i}for(var s=0;s<r.length;s++){var i=r[s];if(i.panel("options").title==t)return n&&r.splice(s,1),i}return null}function _2f8(e,t){var n=$.data(e,"tabs").tabs;for(var r=0;r<n.length;r++)if(n[r][0]==$(t)[0])return r;return-1}function _2d9(e){var t=$.data(e,"tabs").tabs;for(var n=0;n<t.length;n++){var r=t[n];if(r.panel("options").closed==0)return r}return null}function _307(e){var t=$.data(e,"tabs").tabs;for(var n=0;n<t.length;n++)if(t[n].panel("options").selected){_2ef(e,n);return}t.length&&_2ef(e,0)}function _2ef(e,t){var n=$.data(e,"tabs").options,r=$.data(e,"tabs").tabs,i=$.data(e,"tabs").selectHis;if(r.length==0)return;var s=_2fe(e,t);if(!s)return;var o=_2d9(e);o&&(o.panel("close"),o.panel("options").tab.removeClass("tabs-selected")),s.panel("open");var u=s.panel("options").title;i.push(u);var a=s.panel("options").tab;a.addClass("tabs-selected");var f=$(e).find(">div.tabs-header>div.tabs-wrap"),l=a.position().left,c=l+a.outerWidth();if(l<0||c>f.width()){var h=l-(f.width()-a.width())/2;$(e).tabs("scrollBy",h)}else $(e).tabs("scrollBy",0);_2d7(e),n.onSelect.call(e,u,_2f8(e,s))}function _2fd(e,t){return _2fe(e,t)!=null}$.fn.tabs=function(e,t){return typeof e=="string"?$.fn.tabs.methods[e](this,t):(e=e||{},this.each(function(){var t=$.data(this,"tabs"),n;t?(n=$.extend(t.options,e),t.options=n):($.data(this,"tabs",{options:$.extend({},$.fn.tabs.defaults,$.fn.tabs.parseOptions(this),e),tabs:[],selectHis:[]}),_2dd(this)),_2cb(this),_2e4(this),_2cf(this),_2e0(this),_307(this)}))},$.fn.tabs.methods={options:function(e){return $.data(e[0],"tabs").options},tabs:function(e){return $.data(e[0],"tabs").tabs},resize:function(e){return e.each(function(){_2cf(this),_2d7(this)})},add:function(e,t){return e.each(function(){_2ec(this,t)})},close:function(e,t){return e.each(function(){_2f9(this,t)})},getTab:function(e,t){return _2fe(e[0],t)},getTabIndex:function(e,t){return _2f8(e[0],t)},getSelected:function(e){return _2d9(e[0])},select:function(e,t){return e.each(function(){_2ef(this,t)})},exists:function(e,t){return _2fd(e[0],t)},update:function(e,t){return e.each(function(){_2f0(this,t)})},enableTab:function(e,t){return e.each(function(){$(this).tabs("getTab",t).panel("options").tab.removeClass("tabs-disabled")})},disableTab:function(e,t){return e.each(function(){$(this).tabs("getTab",t).panel("options").tab.addClass("tabs-disabled")})},scrollBy:function(e,t){return e.each(function(){function i(){var e=0,t=n.children("ul");return t.children("li").each(function(){e+=$(this).outerWidth(!0)}),e-n.width()+(t.outerWidth()-t.width())}var e=$(this).tabs("options"),n=$(this).find(">div.tabs-header>div.tabs-wrap"),r=Math.min(n._scrollLeft()+t,i());n.animate({scrollLeft:r},e.scrollDuration)})}},$.fn.tabs.parseOptions=function(e){return $.extend({},$.parser.parseOptions(e,["width","height","tools","toolPosition","tabPosition",{fit:"boolean",border:"boolean",plain:"boolean",headerWidth:"number",tabWidth:"number",tabHeight:"number"}]))},$.fn.tabs.defaults={width:"auto",height:"auto",headerWidth:150,tabWidth:"auto",tabHeight:27,plain:!1,fit:!1,border:!0,tools:null,toolPosition:"right",tabPosition:"top",scrollIncrement:100,scrollDuration:400,onLoad:function(e){},onSelect:function(e,t){},onBeforeClose:function(e,t){},onClose:function(e,t){},onAdd:function(e,t){},onUpdate:function(e,t){},onContextMenu:function(e,t,n){}}}(jQuery),function(e){function n(t){function o(e){var t=e.panel("options");return Math.min(Math.max(t.height,t.minHeight),t.maxHeight)}function u(e){var t=e.panel("options");return Math.min(Math.max(t.width,t.minWidth),t.maxWidth)}function l(e){if(!e.length)return;var t=o(e);e.panel("resize",{width:s.width(),height:t,left:0,top:0}),f.top+=t,f.height-=t}function c(e){if(!e.length)return;var t=o(e);e.panel("resize",{width:s.width(),height:t,left:0,top:s.height()-t}),f.height-=t}function h(e){if(!e.length)return;var t=u(e);e.panel("resize",{width:t,height:f.height,left:s.width()-t,top:f.top}),f.width-=t}function p(e){if(!e.length)return;var t=u(e);e.panel("resize",{width:t,height:f.height,left:0,top:f.top}),f.left+=t,f.width-=t}var n=e.data(t,"layout"),r=n.options,i=n.panels,s=e(t);t.tagName=="BODY"?s._fit():r.fit?s.css(s._fit()):s._fit(!1);var f={top:0,left:0,width:s.width(),height:s.height()};a(i.expandNorth)?l(i.expandNorth):l(i.north),a(i.expandSouth)?c(i.expandSouth):c(i.south),a(i.expandEast)?h(i.expandEast):h(i.east),a(i.expandWest)?p(i.expandWest):p(i.west),i.center.panel("resize",f)}function r(t){function s(n){n.children("div").each(function(){var n=e.fn.layout.parsePanelOptions(this);"north,south,east,west,center".indexOf(n.region)>=0&&i(t,n,this)})}var r=e(t);r.addClass("layout"),r.children("form").length?s(r.children("form")):s(r),r.append('<div class="layout-split-proxy-h"></div><div class="layout-split-proxy-v"></div>'),r.bind("_resize",function(r,i){var s=e.data(t,"layout").options;return(s.fit==1||i)&&n(t),!1})}function i(r,i,s){i.region=i.region||"center";var u=e.data(r,"layout").panels,a=e(r),f=i.region;if(u[f].length)return;var l=e(s);l.length||(l=e("<div></div>").appendTo(a));var c=e.extend({},e.fn.layout.paneldefaults,{width:l.length?parseInt(l[0].style.width)||l.outerWidth():"auto",height:l.length?parseInt(l[0].style.height)||l.outerHeight():"auto",doSize:!1,collapsible:!0,cls:"layout-panel layout-panel-"+f,bodyCls:"layout-body",onOpen:function(){var t=e(this).panel("header").children("div.panel-tool");t.children("a.panel-tool-collapse").hide();var n={north:"up",south:"down",east:"right",west:"left"};if(!n[f])return;var i="layout-button-"+n[f],s=t.children("a."+i);s.length||(s=e('<a href="javascript:void(0)"></a>').addClass(i).appendTo(t),s.bind("click",{dir:f},function(e){return o(r,e.data.dir),!1})),e(this).panel("options").collapsible?s.show():s.hide()}},i);l.panel(c),u[f]=l;if(l.panel("options").split){var h=l.panel("panel");h.addClass("layout-split-"+f);var p="";f=="north"&&(p="s"),f=="south"&&(p="n"),f=="east"&&(p="w"),f=="west"&&(p="e"),h.resizable(e.extend({},{handles:p,onStartResize:function(n){t=!0;if(f=="north"||f=="south")var i=e(">div.layout-split-proxy-v",r);else var i=e(">div.layout-split-proxy-h",r);var s=0,o=0,u=0,l=0,c={display:"block"};f=="north"?(c.top=parseInt(h.css("top"))+h.outerHeight()-i.height(),c.left=parseInt(h.css("left")),c.width=h.outerWidth(),c.height=i.height()):f=="south"?(c.top=parseInt(h.css("top")),c.left=parseInt(h.css("left")),c.width=h.outerWidth(),c.height=i.height()):f=="east"?(c.top=parseInt(h.css("top"))||0,c.left=parseInt(h.css("left"))||0,c.width=i.width(),c.height=h.outerHeight()):f=="west"&&(c.top=parseInt(h.css("top"))||0,c.left=h.outerWidth()-i.width(),c.width=i.width(),c.height=h.outerHeight()),i.css(c),e('<div class="layout-mask"></div>').css({left:0,top:0,width:a.width(),height:a.height()}).appendTo(a)},onResize:function(t){if(f=="north"||f=="south"){var n=e(">div.layout-split-proxy-v",r);n.css("top",t.pageY-e(r).offset().top-n.height()/2)}else{var n=e(">div.layout-split-proxy-h",r);n.css("left",t.pageX-e(r).offset().left-n.width()/2)}return!1},onStopResize:function(e){a.children("div.layout-split-proxy-v,div.layout-split-proxy-h").hide(),l.panel("resize",e.data),n(r),t=!1,a.find(">div.layout-mask").remove()}},i))}}function s(t,n){var r=e.data(t,"layout").panels;if(r[n].length){r[n].panel("destroy"),r[n]=e();var i="expand"+n.substring(0,1).toUpperCase()+n.substring(1);r[i]&&(r[i].panel("destroy"),r[i]=undefined)}}function o(n,r,i){function h(t){var i;t=="east"?i="layout-button-left":t=="west"?i="layout-button-right":t=="north"?i="layout-button-down":t=="south"&&(i="layout-button-up");var s=e.extend({},e.fn.layout.paneldefaults,{cls:"layout-expand",title:"&nbsp;",closed:!0,doSize:!1,tools:[{iconCls:i,handler:function(){return u(n,r),!1}}]}),o=e("<div></div>").appendTo(n).panel(s);return o.panel("panel").hover(function(){e(this).addClass("layout-expand-over")},function(){e(this).removeClass("layout-expand-over")}),o}function p(){var t=e(n),i=s.center.panel("options");if(r=="east"){var o=s.east.panel("options");return{resizeC:{width:i.width+o.width-28},expand:{left:t.width()-o.width},expandP:{top:i.top,left:t.width()-28,width:28,height:i.height},collapse:{left:t.width(),top:i.top,height:i.height}}}if(r=="west"){var u=s.west.panel("options");return{resizeC:{width:i.width+u.width-28,left:28},expand:{left:0},expandP:{left:0,top:i.top,width:28,height:i.height},collapse:{left:-u.width,top:i.top,height:i.height}}}if(r=="north"){var f=t.height()-28;return a(s.expandSouth)?f-=s.expandSouth.panel("options").height:a(s.south)&&(f-=s.south.panel("options").height),s.east.panel("resize",{top:28,height:f}),s.west.panel("resize",{top:28,height:f}),a(s.expandEast)&&s.expandEast.panel("resize",{top:28,height:f}),a(s.expandWest)&&s.expandWest.panel("resize",{top:28,height:f}),{resizeC:{top:28,height:f},expand:{top:0},expandP:{top:0,left:0,width:t.width(),height:28},collapse:{top:-s.north.panel("options").height,width:t.width()}}}if(r=="south"){var f=t.height()-28;return a(s.expandNorth)?f-=s.expandNorth.panel("options").height:a(s.north)&&(f-=s.north.panel("options").height),s.east.panel("resize",{height:f}),s.west.panel("resize",{height:f}),a(s.expandEast)&&s.expandEast.panel("resize",{height:f}),a(s.expandWest)&&s.expandWest.panel("resize",{height:f}),{resizeC:{height:f},expand:{top:t.height()-s.south.panel("options").height},expandP:{top:t.height()-28,left:0,width:t.width(),height:28},collapse:{top:t.height(),width:t.width()}}}}i==undefined&&(i="normal");var s=e.data(n,"layout").panels,f=s[r];if(f.panel("options").onBeforeCollapse.call(f)==0)return;var l="expand"+r.substring(0,1).toUpperCase()+r.substring(1);s[l]||(s[l]=h(r),s[l].panel("panel").bind("click",function(){var i=p();return f.panel("expand",!1).panel("open").panel("resize",i.collapse),f.panel("panel").animate(i.expand,function(){e(this).unbind(".layout").bind("mouseleave.layout",{region:r},function(e){if(t==1)return;o(n,e.data.region)})}),!1}));var c=p();a(s[l])||s.center.panel("resize",c.resizeC),f.panel("panel").animate(c.collapse,i,function(){f.panel("collapse",!1).panel("close"),s[l].panel("open").panel("resize",c.expandP),e(this).unbind(".layout")})}function u(t,r){function a(){var n=e(t),s=i.center.panel("options");if(r=="east"&&i.expandEast)return{collapse:{left:n.width(),top:s.top,height:s.height},expand:{left:n.width()-i.east.panel("options").width}};if(r=="west"&&i.expandWest)return{collapse:{left:-i.west.panel("options").width,top:s.top,height:s.height},expand:{left:0}};if(r=="north"&&i.expandNorth)return{collapse:{top:-i.north.panel("options").height,width:n.width()},expand:{top:0}};if(r=="south"&&i.expandSouth)return{collapse:{top:n.height(),width:n.width()},expand:{top:n.height()-i.south.panel("options").height}}}var i=e.data(t,"layout").panels,s=a(),o=i[r];if(o.panel("options").onBeforeExpand.call(o)==0)return;var u="expand"+r.substring(0,1).toUpperCase()+r.substring(1);i[u].panel("close"),o.panel("panel").stop(!0,!0),o.panel("expand",!1).panel("open").panel("resize",s.collapse),o.panel("panel").animate(s.expand,function(){n(t)})}function a(e){return e?e.length?e.panel("panel").is(":visible"):!1:!1}function f(t){var n=e.data(t,"layout").panels;n.east.length&&n.east.panel("options").collapsed&&o(t,"east",0),n.west.length&&n.west.panel("options").collapsed&&o(t,"west",0),n.north.length&&n.north.panel("options").collapsed&&o(t,"north",0),n.south
.length&&n.south.panel("options").collapsed&&o(t,"south",0)}var t=!1;e.fn.layout=function(t,i){return typeof t=="string"?e.fn.layout.methods[t](this,i):(t=t||{},this.each(function(){var i=e.data(this,"layout");if(i)e.extend(i.options,t);else{var s=e.extend({},e.fn.layout.defaults,e.fn.layout.parseOptions(this),t);e.data(this,"layout",{options:s,panels:{center:e(),north:e(),south:e(),east:e(),west:e()}}),r(this)}n(this),f(this)}))},e.fn.layout.methods={resize:function(e){return e.each(function(){n(this)})},panel:function(t,n){return e.data(t[0],"layout").panels[n]},collapse:function(e,t){return e.each(function(){o(this,t)})},expand:function(e,t){return e.each(function(){u(this,t)})},add:function(t,r){return t.each(function(){i(this,r),n(this),e(this).layout("panel",r.region).panel("options").collapsed&&o(this,r.region,0)})},remove:function(e,t){return e.each(function(){s(this,t),n(this)})}},e.fn.layout.parseOptions=function(t){return e.extend({},e.parser.parseOptions(t,[{fit:"boolean"}]))},e.fn.layout.defaults={fit:!1},e.fn.layout.parsePanelOptions=function(t){var n=e(t);return e.extend({},e.fn.panel.parseOptions(t),e.parser.parseOptions(t,["region",{split:"boolean",minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number"}]))},e.fn.layout.paneldefaults=e.extend({},e.fn.panel.defaults,{region:null,split:!1,minWidth:10,minHeight:10,maxWidth:1e4,maxHeight:1e4})}(jQuery),function($){function init(e){function r(t){var n=[];return t.addClass("menu"),n.push(t),t.hasClass("menu-content")||t.children("div").each(function(){var t=$(this).children("div");if(t.length){t.insertAfter(e),this.submenu=t;var i=r(t);n=n.concat(i)}}),n}function i(t){var n=$.parser.parseOptions(t[0],["width"]).width;t.hasClass("menu-content")?t[0].originalWidth=n||t._outerWidth():(t[0].originalWidth=n||0,t.children("div").each(function(){var t=$(this);if(!t.hasClass("menu-sep")){var n=$.extend({},$.parser.parseOptions(this,["name","iconCls","href"]),{disabled:t.attr("disabled")?!0:undefined});t[0].itemName=n.name||"",t[0].itemHref=n.href||"";var r=t.addClass("menu-item").html();t.empty().append($('<div class="menu-text"></div>').html(r)),n.iconCls&&$('<div class="menu-icon"></div>').addClass(n.iconCls).appendTo(t),n.disabled&&_37f(e,t[0],!0),t[0].submenu&&$('<div class="menu-rightarrow"></div>').appendTo(t),_380(e,t)}}),$('<div class="menu-line"></div>').prependTo(t)),_381(e,t),t.hide(),_382(e,t)}$(e).appendTo("body"),$(e).addClass("menu-top"),$(document).unbind(".menu").bind("mousedown.menu",function(e){var t=$("body>div.menu:visible"),n=$(e.target).closest("div.menu",t);if(n.length)return;$("body>div.menu-top:visible").menu("hide")});var t=r($(e));for(var n=0;n<t.length;n++)i(t[n])}function _381(e,t){var n=$.data(e,"menu").options,r=t.css("display");t.css({display:"block",left:-1e4});var i=0;t.find("div.menu-text").each(function(){i<$(this)._outerWidth()&&(i=$(this)._outerWidth()),$(this).closest("div.menu-item")._outerHeight($(this)._outerHeight()+2)}),i+=65,t._outerWidth(Math.max(t[0].originalWidth||0,i,n.minWidth)),t.css("display",r)}function _382(e,t){var n=$.data(e,"menu");t.unbind(".menu").bind("mouseenter.menu",function(){n.timer&&(clearTimeout(n.timer),n.timer=null)}).bind("mouseleave.menu",function(){n.timer=setTimeout(function(){_387(e)},100)})}function _380(e,t){t.unbind(".menu"),t.bind("click.menu",function(){if($(this).hasClass("menu-item-disabled"))return;if(!this.submenu){_387(e);var t=$(this).attr("href");t&&(location.href=t)}var n=$(e).menu("getItem",this);$.data(e,"menu").options.onClick.call(e,n)}).bind("mouseenter.menu",function(n){t.siblings().each(function(){this.submenu&&_38b(this.submenu),$(this).removeClass("menu-active")}),t.addClass("menu-active");if($(this).hasClass("menu-item-disabled")){t.addClass("menu-active-disabled");return}var r=t[0].submenu;r&&$(e).menu("show",{menu:r,parent:t})}).bind("mouseleave.menu",function(e){t.removeClass("menu-active menu-active-disabled");var n=t[0].submenu;n?e.pageX>=parseInt(n.css("left"))?t.addClass("menu-active"):_38b(n):t.removeClass("menu-active")})}function _387(e){var t=$.data(e,"menu");return t&&$(e).is(":visible")&&(_38b($(e)),t.options.onHide.call(e)),!1}function _38e(e,t){var n,r;t=t||{};var i=$(t.menu||e);if(i.hasClass("menu-top")){var s=$.data(e,"menu").options;$.extend(s,t),n=s.left,r=s.top;if(s.alignTo){var o=$(s.alignTo);n=o.offset().left,r=o.offset().top+o._outerHeight()}n+i.outerWidth()>$(window)._outerWidth()+$(document)._scrollLeft()&&(n=$(window)._outerWidth()+$(document).scrollLeft()-i.outerWidth()-5),r+i.outerHeight()>$(window)._outerHeight()+$(document).scrollTop()&&(r-=i.outerHeight())}else{var u=t.parent;n=u.offset().left+u.outerWidth()-2,n+i.outerWidth()+5>$(window)._outerWidth()+$(document).scrollLeft()&&(n=u.offset().left-i.outerWidth()+2);var r=u.offset().top-3;r+i.outerHeight()>$(window)._outerHeight()+$(document).scrollTop()&&(r=$(window)._outerHeight()+$(document).scrollTop()-i.outerHeight()-5)}i.css({left:n,top:r}),i.show(0,function(){i[0].shadow||(i[0].shadow=$('<div class="menu-shadow"></div>').insertAfter(i)),i[0].shadow.css({display:"block",zIndex:$.fn.menu.defaults.zIndex++,left:i.css("left"),top:i.css("top"),width:i.outerWidth(),height:i.outerHeight()}),i.css("z-index",$.fn.menu.defaults.zIndex++),i.hasClass("menu-top")&&$.data(i[0],"menu").options.onShow.call(i[0])})}function _38b(e){function t(e){e.stop(!0,!0),e[0].shadow&&e[0].shadow.hide(),e.hide()}if(!e)return;t(e),e.find("div.menu-item").each(function(){this.submenu&&_38b(this.submenu),$(this).removeClass("menu-active")})}function _393(e,t){function i(s){s.children("div.menu-item").each(function(){var s=$(e).menu("getItem",this),o=r.empty().html(s.text).text();t==$.trim(o)?n=s:this.submenu&&!n&&i(this.submenu)})}var n=null,r=$("<div></div>");return i($(e)),r.remove(),n}function _37f(e,t,n){var r=$(t);n?(r.addClass("menu-item-disabled"),t.onclick&&(t.onclick1=t.onclick,t.onclick=null)):(r.removeClass("menu-item-disabled"),t.onclick1&&(t.onclick=t.onclick1,t.onclick1=null))}function _399(_39a,_39b){var menu=$(_39a);if(_39b.parent){if(!_39b.parent.submenu){var _39c=$('<div class="menu"><div class="menu-line"></div></div>').appendTo("body");_39c.hide(),_39b.parent.submenu=_39c,$('<div class="menu-rightarrow"></div>').appendTo(_39b.parent)}menu=_39b.parent.submenu}var item=$('<div class="menu-item"></div>').appendTo(menu);$('<div class="menu-text"></div>').html(_39b.text).appendTo(item),_39b.iconCls&&$('<div class="menu-icon"></div>').addClass(_39b.iconCls).appendTo(item),_39b.id&&item.attr("id",_39b.id),_39b.name&&(item[0].itemName=_39b.name),_39b.href&&(item[0].itemHref=_39b.href),_39b.onclick&&(typeof _39b.onclick=="string"?item.attr("onclick",_39b.onclick):item[0].onclick=eval(_39b.onclick)),_39b.handler&&(item[0].onclick=eval(_39b.handler)),_380(_39a,item),_39b.disabled&&_37f(_39a,item[0],!0),_382(_39a,menu),_381(_39a,menu)}function _39d(e,t){function n(e){if(e.submenu){e.submenu.children("div.menu-item").each(function(){n(this)});var t=e.submenu[0].shadow;t&&t.remove(),e.submenu.remove()}$(e).remove()}n(t)}function _3a2(e){$(e).children("div.menu-item").each(function(){_39d(e,this)}),e.shadow&&e.shadow.remove(),$(e).remove()}$.fn.menu=function(e,t){return typeof e=="string"?$.fn.menu.methods[e](this,t):(e=e||{},this.each(function(){var t=$.data(this,"menu");t?$.extend(t.options,e):(t=$.data(this,"menu",{options:$.extend({},$.fn.menu.defaults,$.fn.menu.parseOptions(this),e)}),init(this)),$(this).css({left:t.options.left,top:t.options.top})}))},$.fn.menu.methods={options:function(e){return $.data(e[0],"menu").options},show:function(e,t){return e.each(function(){_38e(this,t)})},hide:function(e){return e.each(function(){_387(this)})},destroy:function(e){return e.each(function(){_3a2(this)})},setText:function(e,t){return e.each(function(){$(t.target).children("div.menu-text").html(t.text)})},setIcon:function(e,t){return e.each(function(){var e=$(this).menu("getItem",t.target);e.iconCls?$(e.target).children("div.menu-icon").removeClass(e.iconCls).addClass(t.iconCls):$('<div class="menu-icon"></div>').addClass(t.iconCls).appendTo(t.target)})},getItem:function(e,t){var n=$(t),r={target:t,id:n.attr("id"),text:$.trim(n.children("div.menu-text").html()),disabled:n.hasClass("menu-item-disabled"),name:t.itemName,href:t.itemHref,onclick:t.onclick},i=n.children("div.menu-icon");if(i.length){var s=[],o=i.attr("class").split(" ");for(var u=0;u<o.length;u++)o[u]!="menu-icon"&&s.push(o[u]);r.iconCls=s.join(" ")}return r},findItem:function(e,t){return _393(e[0],t)},appendItem:function(e,t){return e.each(function(){_399(this,t)})},removeItem:function(e,t){return e.each(function(){_39d(this,t)})},enableItem:function(e,t){return e.each(function(){_37f(this,t,!1)})},disableItem:function(e,t){return e.each(function(){_37f(this,t,!0)})}},$.fn.menu.parseOptions=function(e){return $.extend({},$.parser.parseOptions(e,["left","top",{minWidth:"number"}]))},$.fn.menu.defaults={zIndex:11e4,left:0,top:0,minWidth:120,onShow:function(){},onHide:function(){},onClick:function(e){}}}(jQuery),function(e){function t(t){var r=e.data(t,"menubutton").options,i=e(t);i.removeClass(r.cls.btn1+" "+r.cls.btn2).addClass("m-btn"),i.linkbutton(e.extend({},r,{text:r.text+'<span class="'+r.cls.arrow+'">&nbsp;</span>'}));if(r.menu){e(r.menu).menu();var s=e(r.menu).menu("options"),o=s.onShow,u=s.onHide;e.extend(s,{onShow:function(){var t=e(this).menu("options"),n=e(t.alignTo),r=n.menubutton("options");n.addClass(r.plain==1?r.cls.btn2:r.cls.btn1),o.call(this)},onHide:function(){var t=e(this).menu("options"),n=e(t.alignTo),r=n.menubutton("options");n.removeClass(r.plain==1?r.cls.btn2:r.cls.btn1),u.call(this)}})}n(t,r.disabled)}function n(t,n){var i=e.data(t,"menubutton").options;i.disabled=n;var s=e(t),o=s.find("."+i.cls.trigger);o.length||(o=s),o.unbind(".menubutton");if(n)s.linkbutton("disable");else{s.linkbutton("enable");var u=null;o.bind("click.menubutton",function(){return r(t),!1}).bind("mouseenter.menubutton",function(){return u=setTimeout(function(){r(t)},i.duration),!1}).bind("mouseleave.menubutton",function(){u&&clearTimeout(u)})}}function r(t){var n=e.data(t,"menubutton").options;if(n.disabled||!n.menu)return;e("body>div.menu-top").menu("hide");var r=e(t),i=e(n.menu);i.length&&(i.menu("options").alignTo=r,i.menu("show",{alignTo:r})),r.blur()}e.fn.menubutton=function(n,r){if(typeof n=="string"){var i=e.fn.menubutton.methods[n];return i?i(this,r):this.linkbutton(n,r)}return n=n||{},this.each(function(){var r=e.data(this,"menubutton");r?e.extend(r.options,n):(e.data(this,"menubutton",{options:e.extend({},e.fn.menubutton.defaults,e.fn.menubutton.parseOptions(this),n)}),e(this).removeAttr("disabled")),t(this)})},e.fn.menubutton.methods={options:function(t){var n=t.linkbutton("options"),r=e.data(t[0],"menubutton").options;return r.toggle=n.toggle,r.selected=n.selected,r},enable:function(e){return e.each(function(){n(this,!1)})},disable:function(e){return e.each(function(){n(this,!0)})},destroy:function(t){return t.each(function(){var t=e(this).menubutton("options");t.menu&&e(t.menu).menu("destroy"),e(this).remove()})}},e.fn.menubutton.parseOptions=function(t){var n=e(t);return e.extend({},e.fn.linkbutton.parseOptions(t),e.parser.parseOptions(t,["menu",{plain:"boolean",duration:"number"}]))},e.fn.menubutton.defaults=e.extend({},e.fn.linkbutton.defaults,{plain:!0,menu:null,duration:100,cls:{btn1:"m-btn-active",btn2:"m-btn-plain-active",arrow:"m-btn-downarrow",trigger:"m-btn"}})}(jQuery),function(e){function t(t){var n=e.data(t,"splitbutton").options;e(t).menubutton(n)}e.fn.splitbutton=function(n,r){if(typeof n=="string"){var i=e.fn.splitbutton.methods[n];return i?i(this,r):this.menubutton(n,r)}return n=n||{},this.each(function(){var r=e.data(this,"splitbutton");r?e.extend(r.options,n):(e.data(this,"splitbutton",{options:e.extend({},e.fn.splitbutton.defaults,e.fn.splitbutton.parseOptions(this),n)}),e(this).removeAttr("disabled")),t(this)})},e.fn.splitbutton.methods={options:function(t){var n=t.menubutton("options"),r=e.data(t[0],"splitbutton").options;return e.extend(r,{disabled:n.disabled,toggle:n.toggle,selected:n.selected}),r}},e.fn.splitbutton.parseOptions=function(t){var n=e(t);return e.extend({},e.fn.linkbutton.parseOptions(t),e.parser.parseOptions(t,["menu",{plain:"boolean",duration:"number"}]))},e.fn.splitbutton.defaults=e.extend({},e.fn.linkbutton.defaults,{plain:!0,menu:null,duration:100,cls:{btn1:"s-btn-active",btn2:"s-btn-plain-active",arrow:"s-btn-downarrow",trigger:"s-btn-downarrow"}})}(jQuery),function($){function init(e){$(e).hide();var t=$('<span class="searchbox"></span>').insertAfter(e),n=$('<input type="text" class="searchbox-text">').appendTo(t);$('<span><span class="searchbox-button"></span></span>').appendTo(t);var r=$(e).attr("name");return r&&(n.attr("name",r),$(e).removeAttr("name").attr("searchboxName",r)),t}function _3cc(e,t){var n=$.data(e,"searchbox").options,r=$.data(e,"searchbox").searchbox;t&&(n.width=t),r.appendTo("body"),isNaN(n.width)&&(n.width=r._outerWidth());var i=r.find("span.searchbox-button"),s=r.find("a.searchbox-menu"),o=r.find("input.searchbox-text");r._outerWidth(n.width)._outerHeight(n.height),o._outerWidth(r.width()-s._outerWidth()-i._outerWidth()),o.css({height:r.height()+"px",lineHeight:r.height()+"px"}),s._outerHeight(r.height()),i._outerHeight(r.height());var u=s.find("span.l-btn-left");u._outerHeight(r.height()),u.find("span.l-btn-text,span.m-btn-downarrow").css({height:u.height()+"px",lineHeight:u.height()+"px"}),r.insertAfter(e)}function _3d2(e){function i(n){t.searchbox.find("a.searchbox-menu").remove();var r=$('<a class="searchbox-menu" href="javascript:void(0)"></a>').html(n.text);r.prependTo(t.searchbox).menubutton({menu:t.menu,iconCls:n.iconCls}),t.searchbox.find("input.searchbox-text").attr("name",$(n.target).attr("name")||n.text),_3cc(e)}var t=$.data(e,"searchbox"),n=t.options;if(n.menu){t.menu=$(n.menu).menu({onClick:function(e){i(e)}});var r=t.menu.children("div.menu-item:first");t.menu.children("div.menu-item").each(function(){var e=$.extend({},$.parser.parseOptions(this),{selected:$(this).attr("selected")?!0:undefined});if(e.selected)return r=$(this),!1}),r.triggerHandler("click")}else t.searchbox.find("a.searchbox-menu").remove(),t.menu=null}function _3d7(e){var t=$.data(e,"searchbox"),n=t.options,r=t.searchbox.find("input.searchbox-text"),i=t.searchbox.find(".searchbox-button");r.unbind(".searchbox").bind("blur.searchbox",function(e){n.value=$(this).val(),n.value==""?($(this).val(n.prompt),$(this).addClass("searchbox-prompt")):$(this).removeClass("searchbox-prompt")}).bind("focus.searchbox",function(e){$(this).val()!=n.value&&$(this).val(n.value),$(this).removeClass("searchbox-prompt")}).bind("keydown.searchbox",function(t){if(t.keyCode==13){t.preventDefault();var i=$.fn.prop?r.prop("name"):r.attr("name");return n.value=$(this).val(),n.searcher.call(e,n.value,i),!1}}),i.unbind(".searchbox").bind("click.searchbox",function(){var t=$.fn.prop?r.prop("name"):r.attr("name");n.searcher.call(e,n.value,t)}).bind("mouseenter.searchbox",function(){$(this).addClass("searchbox-button-hover")}).bind("mouseleave.searchbox",function(){$(this).removeClass("searchbox-button-hover")})}function _3dc(e){var t=$.data(e,"searchbox"),n=t.options,r=t.searchbox.find("input.searchbox-text");n.value==""?(r.val(n.prompt),r.addClass("searchbox-prompt")):(r.val(n.value),r.removeClass("searchbox-prompt"))}$.fn.searchbox=function(e,t){return typeof e=="string"?$.fn.searchbox.methods[e](this,t):(e=e||{},this.each(function(){var t=$.data(this,"searchbox");t?$.extend(t.options,e):t=$.data(this,"searchbox",{options:$.extend({},$.fn.searchbox.defaults,$.fn.searchbox.parseOptions(this),e),searchbox:init(this)}),_3d2(this),_3dc(this),_3d7(this),_3cc(this)}))},$.fn.searchbox.methods={options:function(e){return $.data(e[0],"searchbox").options},menu:function(e){return $.data(e[0],"searchbox").menu},textbox:function(e){return $.data(e[0],"searchbox").searchbox.find("input.searchbox-text")},getValue:function(e){return $.data(e[0],"searchbox").options.value},setValue:function(e,t){return e.each(function(){$(this).searchbox("options").value=t,$(this).searchbox("textbox").val(t),$(this).searchbox("textbox").blur()})},getName:function(e){return $.data(e[0],"searchbox").searchbox.find("input.searchbox-text").attr("name")},selectName:function(e,t){return e.each(function(){var e=$.data(this,"searchbox").menu;e&&e.children('div.menu-item[name="'+t+'"]').triggerHandler("click")})},destroy:function(e){return e.each(function(){var e=$(this).searchbox("menu");e&&e.menu("destroy"),$.data(this,"searchbox").searchbox.remove(),$(this).remove()})},resize:function(e,t){return e.each(function(){_3cc(this,t)})}},$.fn.searchbox.parseOptions=function(_3e5){var t=$(_3e5);return $.extend({},$.parser.parseOptions(_3e5,["width","height","prompt","menu"]),{value:t.val(),searcher:t.attr("searcher")?eval(t.attr("searcher")):undefined})},$.fn.searchbox.defaults={width:"auto",height:22,prompt:"",value:"",menu:null,searcher:function(e,t){}}}(jQuery),function($){function init(e){$(e).addClass("validatebox-text")}function _3e8(e){var t=$.data(e,"validatebox");t.validating=!1,$(e).tooltip("destroy"),$(e).unbind(),$(e).remove()}function _3eb(e){var t=$(e),n=$.data(e,"validatebox");t.unbind(".validatebox");if(n.options.novalidate)return;t.bind("focus.validatebox",function(){n.validating=!0,n.value=undefined,function(){n.validating&&(n.value!=t.val()?(n.value=t.val(),n.timer&&clearTimeout(n.timer),n.timer=setTimeout(function(){$(e).validatebox("validate")},n.options.delay)):_3f2(e),setTimeout(arguments.callee,200))}()}).bind("blur.validatebox",function(){n.timer&&(clearTimeout(n.timer),n.timer=undefined),n.validating=!1,_3ee(e)}).bind("mouseenter.validatebox",function(){t.hasClass("validatebox-invalid")&&_3ef(e)}).bind("mouseleave.validatebox",function(){n.validating||_3ee(e)})}function _3ef(e){var t=$.data(e,"validatebox"),n=t.options;$(e).tooltip($.extend({},n.tipOptions,{content:t.message,position:n.tipPosition,deltaX:n.deltaX})).tooltip("show"),t.tip=!0}function _3f2(e){var t=$.data(e,"validatebox");t&&t.tip&&$(e).tooltip("reposition")}function _3ee(e){var t=$.data(e,"validatebox");t.tip=!1,$(e).tooltip("hide")}function _3f7(_3f8){function _3fb(e){_3f9.message=e}function _3fc(_3fd){var _3fe=/([a-zA-Z_]+)(.*)/.exec(_3fd),rule=opts.rules[_3fe[1]];if(rule&&_3fa){var _3ff=eval(_3fe[2]);if(!rule.validator(_3fa,_3ff)){box.addClass("validatebox-invalid");var _400=rule.message;if(_3ff)for(var i=0;i<_3ff.length;i++)_400=_400.replace(new RegExp("\\{"+i+"\\}","g"),_3ff[i]);return _3fb(opts.invalidMessage||_400),_3f9.validating&&_3ef(_3f8),!1}}return!0}var _3f9=$.data(_3f8,"validatebox"),opts=_3f9.options,box=$(_3f8),_3fa=box.val();if(opts.novalidate||box.is(":disabled"))return!0;if(opts.required&&_3fa=="")return box.addClass("validatebox-invalid"),_3fb(opts.missingMessage),_3f9.validating&&_3ef(_3f8),!1;if(opts.validType)if(typeof opts.validType=="string"){if(!_3fc(opts.validType))return!1}else for(var i=0;i<opts.validType.length;i++)if(!_3fc(opts.validType[i]))return!1;return box.removeClass("validatebox-invalid"),_3ee(_3f8),!0}function _401(e,t){var n=$.data(e,"validatebox").options;t!=undefined&&(n.novalidate=t),n.novalidate&&($(e).removeClass("validatebox-invalid"),_3ee(e)),_3eb(e)}$.fn.validatebox=function(e,t){return typeof e=="string"?$.fn.validatebox.methods[e](this,t):(e=e||{},this.each(function(){var t=$.data(this,"validatebox");t?$.extend(t.options,e):(init(this),$.data(this,"validatebox",{options:$.extend({},$.fn.validatebox.defaults,$.fn.validatebox.parseOptions(this),e)})),_401(this),_3f7(this)}))},$.fn.validatebox.methods={options:function(e){return $.data(e[0],"validatebox").options},destroy:function(e){return e.each(function(){_3e8(this)})},validate:function(e){return e.each(function(){_3f7(this)})},isValid:function(e){return _3f7(e[0])},enableValidation:function(e){return e.each(function(){_401(this,!1)})},disableValidation:function(e){return e.each(function(){_401(this,!0)})}},$.fn.validatebox.parseOptions=function(e){var t=$(e);return $.extend({},$.parser.parseOptions(e,["validType","missingMessage","invalidMessage","tipPosition",{delay:"number",deltaX:"number"}]),{required:t.attr("required")?!0:undefined,novalidate:t.attr("novalidate")!=undefined?!0:undefined})},$.fn.validatebox.defaults={required:!1,validType:null,delay:200,missingMessage:"This field is required.",invalidMessage:null,tipPosition:"right",deltaX:0,novalidate:!1,tipOptions:{showEvent:"none",hideEvent:"none",showDelay:0,hideDelay:0,zIndex:"",onShow:function(){$(this).tooltip("tip").css({color:"#000",borderColor:"#CC9933",backgroundColor:"#FFFFCC"})},onHide:function(){$(this).tooltip("destroy")}},rules:{email:{validator:function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},message:"Please enter a valid email address."},url:{validator:function(e){return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},message:"Please enter a valid URL."},length:{validator:function(e,t){var n=$.trim(e).length;return n>=t[0]&&n<=t[1]},message:"Please enter a value between {0} and {1}."},remote:{validator:function(e,t){var n={};n[t[1]]=e;var r=$.ajax({url:t[0],dataType:"json",data:n,async:!1,cache:!1,type:"post"}).responseText;return r=="true"},message:"Please fix this field."}}}}(jQuery),function(e){function t(t,n){function p(){o.unbind();var t=e("#"+s).contents().find("body"),r=t.html();if(r==""){if(--h){setTimeout(p,100);return}return}var i=t.find(">textarea");if(i.length)r=i.val();else{var u=t.find(">pre");u.length&&(r=u.html())}n.success&&n.success(r),setTimeout(function(){o.unbind(),o.remove()},100)}n=n||{};var r={};if(n.onSubmit&&n.onSubmit.call(t,r)==0)return;var i=e(t);n.url&&i.attr("action",n.url);var s="easyui_frame_"+(new Date).getTime(),o=e("<iframe id="+s+" name="+s+"></iframe>").attr("src",window.ActiveXObject?"javascript:false":"about:blank").css({position:"absolute",top:-1e3,left:-1e3}),u=i.attr("target"),a=i.attr("action");i.attr("target",s);var f=e();try{o.appendTo("body"),o.bind("load",p);for(var l in r){var c=e('<input type="hidden" name="'+l+'">').val(r[l]).appendTo(i);f=f.add(c)}i[0].submit()}finally{i.attr("action",a),u?i.attr("target",u):i.removeAttr("target"),f.remove()}var h=10}function n(t,n){function s(n){var i=e(t);for(var s in n){var f=n[s],l=u(s,f);if(!l.length){var c=i.find('input[numberboxName="'+s+'"]');c.length?c.numberbox("setValue",f):(e('input[name="'+s+'"]',i).val(f),e('textarea[name="'+s+'"]',i).val(f),e('select[name="'+s+'"]',i).val(f))}a(s,f)}r.onLoadSuccess.call(t,n),o(t)}function u(n,r){var i=e(t).find('input[name="'+n+'"][type=radio], input[name="'+n+'"][type=checkbox]');return i._propAttr("checked",!1),i.each(function(){var t=e(this);(t.val()==String(r)||e.inArray(t.val(),r)>=0)&&t._propAttr("checked",!0)}),i}function a(n,r){var i=e(t),s=["combobox","combotree","combogrid","datetimebox","datebox","combo"],o=i.find('[comboName="'+n+'"]');if(o.length)for(var u=0;u<s.length;u++){var a=s[u];if(o.hasClass(a+"-f")){o[a]("options").multiple?o[a]("setValues",r):o[a]("setValue",r);return}}}e.data(t,"form")||e.data(t,"form",{options:e.extend({},e.fn.form.defaults)});var r=e.data(t,"form").options;if(typeof n=="string"){var i={};if(r.onBeforeLoad.call(t,i)==0)return;e.ajax({url:n,data:i,dataType:"json",success:function(e){s(e)},error:function(){r.onLoadError.apply(t,arguments)}})}else s(n)}function r(t){e("input,select,textarea",t).each(function(){var t=this.type,n=this.tagName.toLowerCase();if(t=="text"||t=="hidden"||t=="password"||n=="textarea")this.value="";else if(t=="file"){var r=e(this);r.after(r.clone().val("")),r.remove()}else t=="checkbox"||t=="radio"?this.checked=!1:n=="select"&&(this.selectedIndex=-1)}),e.fn.combo&&e(".combo-f",t).combo("clear"),e.fn.combobox&&e(".combobox-f",t).combobox("clear"),e.fn.combotree&&e(".combotree-f",t).combotree("clear"),e.fn.combogrid&&e(".combogrid-f",t).combogrid("clear"),o(t)}function i(t){t.reset();var n=e(t);e.fn.combo&&n.find(".combo-f").combo("reset"),e.fn.combobox&&n.find(".combobox-f").combobox("reset"),e.fn.combotree&&n.find(".combotree-f").combotree("reset"),e.fn.combogrid&&n.find(".combogrid-f").combogrid("reset"),e.fn.datebox&&n.find(".datebox-f").datebox("reset"),e.fn.datetimebox&&n.find(".datetimebox-f").datetimebox("reset"),e.fn.spinner&&n.find(".spinner-f").spinner("reset"),e.fn.timespinner&&n.find(".timespinner-f").timespinner("reset"),e.fn.numberbox&&n.find(".numberbox-f").numberbox("reset"),e.fn.numberspinner&&n.find(".numberspinner-f").numberspinner("reset"),o(t)}function s(n){var r=e.data(n,"form").options,i=e(n);i.unbind(".form").bind("submit.form",function(){return setTimeout(function(){t(n,r)},0),!1})}function o(t){if(e.fn.validatebox){var n=e(t);n.find(".validatebox-text:not(:disabled)").validatebox("validate");var r=n.find(".validatebox-invalid");return r.filter(":not(:disabled):first").focus(),r.length==0}return!0}function u(t,n){e(t).find(".validatebox-text:not(:disabled)").validatebox(n?"disableValidation":"enableValidation")}e.fn.form=function(t,n){return typeof t=="string"?e.fn.form.methods[t](this,n):(t=t||{},this.each(function(){e.data(this,"form")||e.data(this,"form",{options:e.extend({},e.fn.form.defaults,t)}),s(this)}))},e.fn.form.methods={submit:function(n,r){return n.each(function(){t(this,e.extend({},e.fn.form.defaults,r||{}))})},load:function(e,t){return e.each(function(){n(this,t)})},clear:function(e){return e.each(function(){r(this)})},reset:function(e){return e.each(function(){i(this)})},validate:function(e){return o(e[0])},disableValidation:function(e){return e.each(function(){u(this,!0)})},enableValidation:function(e){return e.each(function(){u(this,!1)})}},e.fn.form.defaults={url:null,onSubmit:function(t){return e(this).form("validate")},success:function(e){},onBeforeLoad:function(e){},onLoadSuccess:function(e){},onLoadError:function(){}}}(jQuery),function(e){function t(t){e(t).addClass("numberbox-f");var n=e('<input type="hidden">').insertAfter(t),r=e(t).attr("name");return r&&(n.attr("name",r),e(t).removeAttr("name").attr("numberboxName",r)),n}function n(t){var n=e.data(t,"numberbox").options,s=n.onChange;n.onChange=function(){},i(t,n.parser.call(t,n.value)),n.onChange=s,n.originalValue=r(t)}function r(t){return e.data(t,"numberbox").field.val()}function i(t,n){var i=e.data(t,"numberbox"),s=i.options,o=r(t);n=s.parser.call(t,n),s.value=n,i.field.val(n),e(t).val(s.formatter.call(t,n)),o!=n&&s.onChange.call(t,n,o)}function s(t){var n=e.data(t,"numberbox").options;e(t).unbind(".numberbox").bind("keypress.numberbox",function(e){return n.filter.call(t,e)}).bind("blur.numberbox",function(){i(t,e(this).val()),e(this).val(n.formatter.call(t,r(t)))}).bind("focus.numberbox",function(){var i=r(t);i!=n.parser.call(t,e(this).val())&&e(this).val(n.formatter.call(t,i))})}function o(t){if(e.fn.validatebox){var n=e.data(t,"numberbox").options;e(t).validatebox(n)}}function u(t,n){var r=e.data(t,"numberbox").options;n?(r.disabled=!0,e(t).attr("disabled",!0)):(r.disabled=!1,e(t).removeAttr("disabled"))}e.fn.numberbox=function(r,i){if(typeof r=="string"){var a=e.fn.numberbox.methods[r];return a?a(this,i):this.validatebox(r,i)}return r=r||{},this.each(function(){var i=e.data(this,"numberbox");i?e.extend(i.options,r):(i=e.data(this,"numberbox",{options:e.extend({},e.fn.numberbox.defaults,e.fn.numberbox.parseOptions(this),r),field:t(this)}),e(this).removeAttr("disabled"),e(this).css({imeMode:"disabled"})),u(this,i.options.disabled),s(this),o(this),n(this)})},e.fn.numberbox.methods={options:function(t){return e.data(t[0],"numberbox").options},destroy:function(t){return t.each(function(){e.data(this,"numberbox").field.remove(),e(this).validatebox("destroy"),e(this).remove()})},disable:function(e){return e.each(function(){u(this,!0)})},enable:function(e){return e.each(function(){u(this,!1)})},fix:function(t){return t.each(function(){i(this,e(this).val())})},setValue:function(e,t){return e.each(function(){i(this,t)})},getValue:function(e){return r(e[0])},clear:function(t){return t.each(function(){var t=e.data(this,"numberbox");t.field.val(""),e(this).val("")})},reset:function(t){return t.each(function(){var t=e(this).numberbox("options");e(this).numberbox("setValue",t.originalValue)})}},e.fn.numberbox.parseOptions=function(t){var n=e(t);return e.extend({},e.fn.validatebox.parseOptions(t),e.parser.parseOptions(t,["decimalSeparator","groupSeparator","suffix",{min:"number",max:"number",precision:"number"}]),{prefix:n.attr("prefix")?n.attr("prefix"):undefined,disabled:n.attr("disabled")?!0:undefined,value:n.val()||undefined})},e.fn.numberbox.defaults=e.extend({},e.fn.validatebox.defaults,{disabled:!1,value:"",min:null,max:null,precision:0,decimalSeparator:".",groupSeparator:"",prefix:"",suffix:"",filter:function(t){var n=e(this).numberbox("options");if(t.which==45)return e(this).val().indexOf("-")==-1?!0:!1;var r=String.fromCharCode(t.which);return r==n.decimalSeparator?e(this).val().indexOf(r)==-1?!0:!1:r==n.groupSeparator?!0:t.which>=48&&t.which<=57&&t.ctrlKey==0&&t.shiftKey==0||t.which==0||t.which==8?!0:t.ctrlKey!=1||t.which!=99&&t.which!=118?!1:!0},formatter:function(t){if(!t)return t;t+="";var n=e(this).numberbox("options"),r=t,i="",s=t.indexOf(".");s>=0&&(r=t.substring(0,s),i=t.substring(s+1,t.length));if(n.groupSeparator){var o=/(\d+)(\d{3})/;while(o.test(r))r=r.replace(o,"$1"+n.groupSeparator+"$2")}return i?n.prefix+r+n.decimalSeparator+i+n.suffix:n.prefix+r+n.suffix},parser:function(t){t+="";var n=e(this).numberbox("options");parseFloat(t)!=t&&(n.prefix&&(t=e.trim(t.replace(new RegExp("\\"+e.trim(n.prefix),"g"),""))),n.suffix&&(t=e.trim(t.replace(new RegExp("\\"+e.trim(n.suffix),"g"),""))),n.groupSeparator&&(t=e.trim(t.replace(new RegExp("\\"+n.groupSeparator,"g"),""))),n.decimalSeparator&&(t=e.trim(t.replace(new RegExp("\\"+n.decimalSeparator,"g"),"."))),t=t.replace(/\s/g,""));var r=parseFloat(t).toFixed(n.precision);return isNaN(r)?r="":typeof n.min=="number"&&r<n.min?r=n.min.toFixed(n.precision):typeof n.max=="number"&&r>n.max&&(r=n.max.toFixed(n.precision)),r},onChange:function(e,t){}})}(jQuery),function(e){function t(t){var n=e.data(t,"calendar").options,r=e(t);n.fit?e.extend(n,r._fit()):r._fit(!1);var i=r.find(".calendar-header");r._outerWidth(n.width),r._outerHeight(n.height),r.find(".calendar-body")._outerHeight(r.height()-i._outerHeight())}function n(n){e(n).addClass("calendar").html('<div class="calendar-header"><div class="calendar-prevmonth"></div><div class="calendar-nextmonth"></div><div class="calendar-prevyear"></div><div class="calendar-nextyear"></div><div class="calendar-title"><span>Aprial 2010</span></div></div><div class="calendar-body"><div class="calendar-menu"><div class="calendar-menu-year-inner"><span class="calendar-menu-prev"></span><span><input class="calendar-menu-year" type="text"></input></span><span class="calendar-menu-next"></span></div><div class="calendar-menu-month-inner"></div></div></div>'
),e(n).find(".calendar-title span").hover(function(){e(this).addClass("calendar-menu-hover")},function(){e(this).removeClass("calendar-menu-hover")}).click(function(){var t=e(n).find(".calendar-menu");t.is(":visible")?t.hide():s(n)}),e(".calendar-prevmonth,.calendar-nextmonth,.calendar-prevyear,.calendar-nextyear",n).hover(function(){e(this).addClass("calendar-nav-hover")},function(){e(this).removeClass("calendar-nav-hover")}),e(n).find(".calendar-nextmonth").click(function(){r(n,1)}),e(n).find(".calendar-prevmonth").click(function(){r(n,-1)}),e(n).find(".calendar-nextyear").click(function(){i(n,1)}),e(n).find(".calendar-prevyear").click(function(){i(n,-1)}),e(n).bind("_resize",function(){var r=e.data(n,"calendar").options;return r.fit==1&&t(n),!1})}function r(t,n){var r=e.data(t,"calendar").options;r.month+=n,r.month>12?(r.year++,r.month=1):r.month<1&&(r.year--,r.month=12),u(t);var i=e(t).find(".calendar-menu-month-inner");i.find("td.calendar-selected").removeClass("calendar-selected"),i.find("td:eq("+(r.month-1)+")").addClass("calendar-selected")}function i(t,n){var r=e.data(t,"calendar").options;r.year+=n,u(t);var i=e(t).find(".calendar-menu-year");i.val(r.year)}function s(t){function f(){var r=e(t).find(".calendar-menu"),i=r.find(".calendar-menu-year").val(),s=r.find(".calendar-selected").attr("abbr");isNaN(i)||(n.year=parseInt(i),n.month=parseInt(s),u(t)),r.hide()}var n=e.data(t,"calendar").options;e(t).find(".calendar-menu").show();if(e(t).find(".calendar-menu-month-inner").is(":empty")){e(t).find(".calendar-menu-month-inner").empty();var r=e("<table></table>").appendTo(e(t).find(".calendar-menu-month-inner")),i=0;for(var s=0;s<3;s++){var o=e("<tr></tr>").appendTo(r);for(var a=0;a<4;a++)e('<td class="calendar-menu-month"></td>').html(n.months[i++]).attr("abbr",i).appendTo(o)}e(t).find(".calendar-menu-prev,.calendar-menu-next").hover(function(){e(this).addClass("calendar-menu-hover")},function(){e(this).removeClass("calendar-menu-hover")}),e(t).find(".calendar-menu-next").click(function(){var n=e(t).find(".calendar-menu-year");isNaN(n.val())||n.val(parseInt(n.val())+1)}),e(t).find(".calendar-menu-prev").click(function(){var n=e(t).find(".calendar-menu-year");isNaN(n.val())||n.val(parseInt(n.val()-1))}),e(t).find(".calendar-menu-year").keypress(function(e){e.keyCode==13&&f()}),e(t).find(".calendar-menu-month").hover(function(){e(this).addClass("calendar-menu-hover")},function(){e(this).removeClass("calendar-menu-hover")}).click(function(){var n=e(t).find(".calendar-menu");n.find(".calendar-selected").removeClass("calendar-selected"),e(this).addClass("calendar-selected"),f()})}var l=e(t).find(".calendar-body"),c=e(t).find(".calendar-menu"),h=c.find(".calendar-menu-year-inner"),p=c.find(".calendar-menu-month-inner");h.find("input").val(n.year).focus(),p.find("td.calendar-selected").removeClass("calendar-selected"),p.find("td:eq("+(n.month-1)+")").addClass("calendar-selected"),c._outerWidth(l._outerWidth()),c._outerHeight(l._outerHeight()),p._outerHeight(c.height()-h._outerHeight())}function o(t,n,r){var i=e.data(t,"calendar").options,s=[],o=(new Date(n,r,0)).getDate();for(var u=1;u<=o;u++)s.push([n,r,u]);var a=[],f=[],l=-1;while(s.length>0){var c=s.shift();f.push(c);var h=(new Date(c[0],c[1]-1,c[2])).getDay();l==h?h=0:h==(i.firstDay==0?7:i.firstDay)-1&&(a.push(f),f=[]),l=h}f.length&&a.push(f);var p=a[0];if(p.length<7)while(p.length<7){var d=p[0],c=new Date(d[0],d[1]-1,d[2]-1);p.unshift([c.getFullYear(),c.getMonth()+1,c.getDate()])}else{var d=p[0],f=[];for(var u=1;u<=7;u++){var c=new Date(d[0],d[1]-1,d[2]-u);f.unshift([c.getFullYear(),c.getMonth()+1,c.getDate()])}a.unshift(f)}var v=a[a.length-1];while(v.length<7){var m=v[v.length-1],c=new Date(m[0],m[1]-1,m[2]+1);v.push([c.getFullYear(),c.getMonth()+1,c.getDate()])}if(a.length<6){var m=v[v.length-1],f=[];for(var u=1;u<=7;u++){var c=new Date(m[0],m[1]-1,m[2]+u);f.push([c.getFullYear(),c.getMonth()+1,c.getDate()])}a.push(f)}return a}function u(t){var n=e.data(t,"calendar").options;e(t).find(".calendar-title span").html(n.months[n.month-1]+" "+n.year);var r=e(t).find("div.calendar-body");r.find(">table").remove();var i=e('<table cellspacing="0" cellpadding="0" border="0"><thead></thead><tbody></tbody></table>').prependTo(r),s=e("<tr></tr>").appendTo(i.find("thead"));for(var u=n.firstDay;u<n.weeks.length;u++)s.append("<th>"+n.weeks[u]+"</th>");for(var u=0;u<n.firstDay;u++)s.append("<th>"+n.weeks[u]+"</th>");var a=o(t,n.year,n.month);for(var u=0;u<a.length;u++){var f=a[u],s=e("<tr></tr>").appendTo(i.find("tbody"));for(var l=0;l<f.length;l++){var c=f[l];e('<td class="calendar-day calendar-other-month"></td>').attr("abbr",c[0]+","+c[1]+","+c[2]).html(c[2]).appendTo(s)}}i.find('td[abbr^="'+n.year+","+n.month+'"]').removeClass("calendar-other-month");var h=new Date,p=h.getFullYear()+","+(h.getMonth()+1)+","+h.getDate();i.find('td[abbr="'+p+'"]').addClass("calendar-today");if(n.current){i.find(".calendar-selected").removeClass("calendar-selected");var d=n.current.getFullYear()+","+(n.current.getMonth()+1)+","+n.current.getDate();i.find('td[abbr="'+d+'"]').addClass("calendar-selected")}var v=6-n.firstDay,m=v+1;v>=7&&(v-=7),m>=7&&(m-=7),i.find("tr").find("td:eq("+v+")").addClass("calendar-saturday"),i.find("tr").find("td:eq("+m+")").addClass("calendar-sunday"),i.find("td").hover(function(){e(this).addClass("calendar-hover")},function(){e(this).removeClass("calendar-hover")}).click(function(){i.find(".calendar-selected").removeClass("calendar-selected"),e(this).addClass("calendar-selected");var r=e(this).attr("abbr").split(",");n.current=new Date(r[0],parseInt(r[1])-1,r[2]),n.onSelect.call(t,n.current)})}e.fn.calendar=function(r,i){return typeof r=="string"?e.fn.calendar.methods[r](this,i):(r=r||{},this.each(function(){var i=e.data(this,"calendar");i?e.extend(i.options,r):(i=e.data(this,"calendar",{options:e.extend({},e.fn.calendar.defaults,e.fn.calendar.parseOptions(this),r)}),n(this)),i.options.border==0&&e(this).addClass("calendar-noborder"),t(this),u(this),e(this).find("div.calendar-menu").hide()}))},e.fn.calendar.methods={options:function(t){return e.data(t[0],"calendar").options},resize:function(e){return e.each(function(){t(this)})},moveTo:function(t,n){return t.each(function(){e(this).calendar({year:n.getFullYear(),month:n.getMonth()+1,current:n})})}},e.fn.calendar.parseOptions=function(t){var n=e(t);return e.extend({},e.parser.parseOptions(t,["width","height",{firstDay:"number",fit:"boolean",border:"boolean"}]))},e.fn.calendar.defaults={width:180,height:180,fit:!1,border:!0,firstDay:0,weeks:["S","M","T","W","T","F","S"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],year:(new Date).getFullYear(),month:(new Date).getMonth()+1,current:new Date,onSelect:function(e){}}}(jQuery),function(e){function t(t){var n=e('<span class="spinner"><span class="spinner-arrow"><span class="spinner-arrow-up"></span><span class="spinner-arrow-down"></span></span></span>').insertAfter(t);return e(t).addClass("spinner-text spinner-f").prependTo(n),n}function n(t,n){var r=e.data(t,"spinner").options,i=e.data(t,"spinner").spinner;n&&(r.width=n);var s=e('<div style="display:none"></div>').insertBefore(i);i.appendTo("body"),isNaN(r.width)&&(r.width=e(t).outerWidth());var o=i.find(".spinner-arrow");i._outerWidth(r.width)._outerHeight(r.height),e(t)._outerWidth(i.width()-o.outerWidth()),e(t).css({height:i.height()+"px",lineHeight:i.height()+"px"}),o._outerHeight(i.height()),o.find("span")._outerHeight(o.height()/2),i.insertAfter(s),s.remove()}function r(t){var n=e.data(t,"spinner").options,r=e.data(t,"spinner").spinner;r.find(".spinner-arrow-up,.spinner-arrow-down").unbind(".spinner"),n.disabled||(r.find(".spinner-arrow-up").bind("mouseenter.spinner",function(){e(this).addClass("spinner-arrow-hover")}).bind("mouseleave.spinner",function(){e(this).removeClass("spinner-arrow-hover")}).bind("click.spinner",function(){n.spin.call(t,!1),n.onSpinUp.call(t),e(t).validatebox("validate")}),r.find(".spinner-arrow-down").bind("mouseenter.spinner",function(){e(this).addClass("spinner-arrow-hover")}).bind("mouseleave.spinner",function(){e(this).removeClass("spinner-arrow-hover")}).bind("click.spinner",function(){n.spin.call(t,!0),n.onSpinDown.call(t),e(t).validatebox("validate")}))}function i(t,n){var r=e.data(t,"spinner").options;n?(r.disabled=!0,e(t).attr("disabled",!0)):(r.disabled=!1,e(t).removeAttr("disabled"))}e.fn.spinner=function(s,o){if(typeof s=="string"){var u=e.fn.spinner.methods[s];return u?u(this,o):this.validatebox(s,o)}return s=s||{},this.each(function(){var o=e.data(this,"spinner");o?e.extend(o.options,s):(o=e.data(this,"spinner",{options:e.extend({},e.fn.spinner.defaults,e.fn.spinner.parseOptions(this),s),spinner:t(this)}),e(this).removeAttr("disabled")),o.options.originalValue=o.options.value,e(this).val(o.options.value),e(this).attr("readonly",!o.options.editable),i(this,o.options.disabled),n(this),e(this).validatebox(o.options),r(this)})},e.fn.spinner.methods={options:function(t){var n=e.data(t[0],"spinner").options;return e.extend(n,{value:t.val()})},destroy:function(t){return t.each(function(){var t=e.data(this,"spinner").spinner;e(this).validatebox("destroy"),t.remove()})},resize:function(e,t){return e.each(function(){n(this,t)})},enable:function(e){return e.each(function(){i(this,!1),r(this)})},disable:function(e){return e.each(function(){i(this,!0),r(this)})},getValue:function(e){return e.val()},setValue:function(t,n){return t.each(function(){var t=e.data(this,"spinner").options;t.value=n,e(this).val(n)})},clear:function(t){return t.each(function(){var t=e.data(this,"spinner").options;t.value="",e(this).val("")})},reset:function(t){return t.each(function(){var t=e(this).spinner("options");e(this).spinner("setValue",t.originalValue)})}},e.fn.spinner.parseOptions=function(t){var n=e(t);return e.extend({},e.fn.validatebox.parseOptions(t),e.parser.parseOptions(t,["width","height","min","max",{increment:"number",editable:"boolean"}]),{value:n.val()||undefined,disabled:n.attr("disabled")?!0:undefined})},e.fn.spinner.defaults=e.extend({},e.fn.validatebox.defaults,{width:"auto",height:22,deltaX:19,value:"",min:null,max:null,increment:1,editable:!0,disabled:!1,spin:function(e){},onSpinUp:function(){},onSpinDown:function(){}})}(jQuery),function(e){function t(t){e(t).addClass("numberspinner-f");var n=e.data(t,"numberspinner").options;e(t).spinner(n).numberbox(n)}function n(t,n){var r=e.data(t,"numberspinner").options,i=parseFloat(e(t).numberbox("getValue")||r.value)||0;n==1?i-=r.increment:i+=r.increment,e(t).numberbox("setValue",i)}e.fn.numberspinner=function(n,r){if(typeof n=="string"){var i=e.fn.numberspinner.methods[n];return i?i(this,r):this.spinner(n,r)}return n=n||{},this.each(function(){var r=e.data(this,"numberspinner");r?e.extend(r.options,n):e.data(this,"numberspinner",{options:e.extend({},e.fn.numberspinner.defaults,e.fn.numberspinner.parseOptions(this),n)}),t(this)})},e.fn.numberspinner.methods={options:function(t){var n=e.data(t[0],"numberspinner").options;return e.extend(n,{value:t.numberbox("getValue"),originalValue:t.numberbox("options").originalValue})},setValue:function(t,n){return t.each(function(){e(this).numberbox("setValue",n)})},getValue:function(e){return e.numberbox("getValue")},clear:function(t){return t.each(function(){e(this).spinner("clear"),e(this).numberbox("clear")})},reset:function(t){return t.each(function(){var t=e(this).numberspinner("options");e(this).numberspinner("setValue",t.originalValue)})}},e.fn.numberspinner.parseOptions=function(t){return e.extend({},e.fn.spinner.parseOptions(t),e.fn.numberbox.parseOptions(t),{})},e.fn.numberspinner.defaults=e.extend({},e.fn.spinner.defaults,e.fn.numberbox.defaults,{spin:function(e){n(this,e)}})}(jQuery),function(e){function t(t){var r=e.data(t,"timespinner").options;e(t).addClass("timespinner-f"),e(t).spinner(r),e(t).unbind(".timespinner"),e(t).bind("click.timespinner",function(){var e=0;if(this.selectionStart!=null)e=this.selectionStart;else if(this.createTextRange){var i=t.createTextRange(),s=document.selection.createRange();s.setEndPoint("StartToStart",i),e=s.text.length}e>=0&&e<=2?r.highlight=0:e>=3&&e<=5?r.highlight=1:e>=6&&e<=8&&(r.highlight=2),n(t)}).bind("blur.timespinner",function(){i(t)})}function n(t){var n=e.data(t,"timespinner").options,r=0,i=0;n.highlight==0?(r=0,i=2):n.highlight==1?(r=3,i=5):n.highlight==2&&(r=6,i=8);if(t.selectionStart!=null)t.setSelectionRange(r,i);else if(t.createTextRange){var s=t.createTextRange();s.collapse(),s.moveEnd("character",i),s.moveStart("character",r),s.select()}e(t).focus()}function r(t,n){var r=e.data(t,"timespinner").options;if(!n)return null;var i=n.split(r.separator);for(var s=0;s<i.length;s++)if(isNaN(i[s]))return null;while(i.length<3)i.push(0);return new Date(1900,0,0,i[0],i[1],i[2])}function i(t){function l(e){return(e<10?"0":"")+e}var n=e.data(t,"timespinner").options,i=e(t).val(),s=r(t,i);if(!s){n.value="",e(t).val("");return}var o=r(t,n.min),u=r(t,n.max);o&&o>s&&(s=o),u&&u<s&&(s=u);var a=[l(s.getHours()),l(s.getMinutes())];n.showSeconds&&a.push(l(s.getSeconds()));var f=a.join(n.separator);n.value=f,e(t).val(f)}function s(t,r){var s=e.data(t,"timespinner").options,o=e(t).val();o==""&&(o=[0,0,0].join(s.separator));var u=o.split(s.separator);for(var a=0;a<u.length;a++)u[a]=parseInt(u[a],10);r==1?u[s.highlight]-=s.increment:u[s.highlight]+=s.increment,e(t).val(u.join(s.separator)),i(t),n(t)}e.fn.timespinner=function(n,r){if(typeof n=="string"){var i=e.fn.timespinner.methods[n];return i?i(this,r):this.spinner(n,r)}return n=n||{},this.each(function(){var r=e.data(this,"timespinner");r?e.extend(r.options,n):(e.data(this,"timespinner",{options:e.extend({},e.fn.timespinner.defaults,e.fn.timespinner.parseOptions(this),n)}),t(this))})},e.fn.timespinner.methods={options:function(t){var n=e.data(t[0],"timespinner").options;return e.extend(n,{value:t.val(),originalValue:t.spinner("options").originalValue})},setValue:function(t,n){return t.each(function(){e(this).val(n),i(this)})},getHours:function(t){var n=e.data(t[0],"timespinner").options,r=t.val().split(n.separator);return parseInt(r[0],10)},getMinutes:function(t){var n=e.data(t[0],"timespinner").options,r=t.val().split(n.separator);return parseInt(r[1],10)},getSeconds:function(t){var n=e.data(t[0],"timespinner").options,r=t.val().split(n.separator);return parseInt(r[2],10)||0}},e.fn.timespinner.parseOptions=function(t){return e.extend({},e.fn.spinner.parseOptions(t),e.parser.parseOptions(t,["separator",{showSeconds:"boolean",highlight:"number"}]))},e.fn.timespinner.defaults=e.extend({},e.fn.spinner.defaults,{separator:":",showSeconds:!1,highlight:0,spin:function(e){s(this,e)}})}(jQuery),function($){function _4aa(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return n;return-1}function _4ab(e,t,n){if(typeof t=="string"){for(var r=0,i=e.length;r<i;r++)if(e[r][t]==n){e.splice(r,1);return}}else{var s=_4aa(e,t);s!=-1&&e.splice(s,1)}}function _4ad(e,t,n){for(var r=0,i=e.length;r<i;r++)if(e[r][t]==n[t])return;e.push(n)}function _4ae(e){var t=e||$("head"),n=$.data(t[0],"ss");return n||(n=$.data(t[0],"ss",{cache:{},dirty:[]})),{add:function(e){var r=['<style type="text/css">'];for(var i=0;i<e.length;i++)n.cache[e[i][0]]={width:e[i][1]};var s=0;for(var o in n.cache){var u=n.cache[o];u.index=s++,r.push(o+"{width:"+u.width+"}")}r.push("</style>"),$(r.join("\n")).appendTo(t),setTimeout(function(){t.children("style:not(:last)").remove()},0)},getRule:function(e){var n=t.children("style:last")[0],r=n.styleSheet?n.styleSheet:n.sheet||document.styleSheets[document.styleSheets.length-1],i=r.cssRules||r.rules;return i[e]},set:function(e,t){var r=n.cache[e];if(r){r.width=t;var i=this.getRule(r.index);i&&(i.style.width=t)}},remove:function(e){var t=[];for(var r in n.cache)r.indexOf(e)==-1&&t.push([r,n.cache[r].width]);n.cache={},this.add(t)},dirty:function(e){e&&n.dirty.push(e)},clean:function(){for(var e=0;e<n.dirty.length;e++)this.remove(n.dirty[e]);n.dirty=[]}}}function _4bb(e,t){var n=$.data(e,"datagrid").options,r=$.data(e,"datagrid").panel;t&&(t.width&&(n.width=t.width),t.height&&(n.height=t.height));if(n.fit==1){var i=r.panel("panel").parent();n.width=i.width(),n.height=i.height()}r.panel("resize",{width:n.width,height:n.height})}function _4bf(e){var t=$.data(e,"datagrid").options,n=$.data(e,"datagrid").dc,r=$.data(e,"datagrid").panel,i=r.width(),s=r.height(),o=n.view,u=n.view1,a=n.view2,f=u.children("div.datagrid-header"),l=a.children("div.datagrid-header"),c=f.find("table"),h=l.find("table");o.width(i);var p=f.children("div.datagrid-header-inner").show();u.width(p.find("table").width()),t.showHeader||p.hide(),a.width(i-u._outerWidth()),u.children("div.datagrid-header,div.datagrid-body,div.datagrid-footer").width(u.width()),a.children("div.datagrid-header,div.datagrid-body,div.datagrid-footer").width(a.width());var d;f.css("height",""),l.css("height",""),c.css("height",""),h.css("height",""),d=Math.max(c.height(),h.height()),c.height(d),h.height(d),f.add(l)._outerHeight(d);if(t.height!="auto"){var v=s-a.children("div.datagrid-header")._outerHeight()-a.children("div.datagrid-footer")._outerHeight()-r.children("div.datagrid-toolbar")._outerHeight();r.children("div.datagrid-pager").each(function(){v-=$(this)._outerHeight()}),n.body1.add(n.body2).children("table.datagrid-btable-frozen").css({position:"absolute",top:n.header2._outerHeight()});var m=n.body2.children("table.datagrid-btable-frozen")._outerHeight();u.add(a).children("div.datagrid-body").css({marginTop:m,height:v-m})}o.height(a.height())}function _4cc(e,t,n){function h(e,t){for(var n=0;n<t.length;n++){var r=$(e[n]),i=$(t[n]);r.css("height",""),i.css("height","");var s=Math.max(r.height(),i.height());r.css("height",s),i.css("height",s)}}function p(e){var t=0,n=0;return $(e).children().each(function(){var e=$(this);e.is(":visible")&&(n+=e._outerHeight(),t<e._outerWidth()&&(t=e._outerWidth()))}),{width:t,height:n}}var r=$.data(e,"datagrid").data.rows,i=$.data(e,"datagrid").options,s=$.data(e,"datagrid").dc;if(!s.body1.is(":empty")&&(!i.nowrap||i.autoRowHeight||n))if(t!=undefined){var o=i.finder.getTr(e,t,"body",1),u=i.finder.getTr(e,t,"body",2);h(o,u)}else{var o=i.finder.getTr(e,0,"allbody",1),u=i.finder.getTr(e,0,"allbody",2);h(o,u);if(i.showFooter){var o=i.finder.getTr(e,0,"allfooter",1),u=i.finder.getTr(e,0,"allfooter",2);h(o,u)}}_4bf(e);if(i.height=="auto"){var a=s.body1.parent(),f=s.body2,l=p(f),c=l.height;l.width>f.width()&&(c+=18),a.height(c),f.height(c),s.view.height(s.view2.height())}s.body2.triggerHandler("scroll")}function _4d9(e,t){function s(n){var s=n?1:2,o=r.finder.getTr(e,t,"body",s);(n?i.body1:i.body2).children("table.datagrid-btable-frozen").append(o)}var n=$.data(e,"datagrid"),r=n.options,i=n.dc;i.body2.children("table.datagrid-btable-frozen").length||i.body1.add(i.body2).prepend('<table class="datagrid-btable datagrid-btable-frozen" cellspacing="0" cellpadding="0"></table>'),s(!0),s(!1),_4bf(e)}function _4e0(_4e1,_4e2){function _4e3(){var _4e4=[],_4e5=[];return $(_4e1).children("thead").each(function(){var opt=$.parser.parseOptions(this,[{frozen:"boolean"}]);$(this).find("tr").each(function(){var cols=[];$(this).find("th").each(function(){var th=$(this),col=$.extend({},$.parser.parseOptions(this,["field","align","halign","order",{sortable:"boolean",checkbox:"boolean",resizable:"boolean",fixed:"boolean"},{rowspan:"number",colspan:"number",width:"number"}]),{title:th.html()||undefined,hidden:th.attr("hidden")?!0:undefined,formatter:th.attr("formatter")?eval(th.attr("formatter")):undefined,styler:th.attr("styler")?eval(th.attr("styler")):undefined,sorter:th.attr("sorter")?eval(th.attr("sorter")):undefined});if(th.attr("editor")){var s=$.trim(th.attr("editor"));s.substr(0,1)=="{"?col.editor=eval("("+s+")"):col.editor=s}cols.push(col)}),opt.frozen?_4e4.push(cols):_4e5.push(cols)})}),[_4e4,_4e5]}var _4e6=$('<div class="datagrid-wrap"><div class="datagrid-view"><div class="datagrid-view1"><div class="datagrid-header"><div class="datagrid-header-inner"></div></div><div class="datagrid-body"><div class="datagrid-body-inner"></div></div><div class="datagrid-footer"><div class="datagrid-footer-inner"></div></div></div><div class="datagrid-view2"><div class="datagrid-header"><div class="datagrid-header-inner"></div></div><div class="datagrid-body"></div><div class="datagrid-footer"><div class="datagrid-footer-inner"></div></div></div></div></div>').insertAfter(_4e1);_4e6.panel({doSize:!1}),_4e6.panel("panel").addClass("datagrid").bind("_resize",function(e,t){var n=$.data(_4e1,"datagrid").options;if(n.fit==1||t)_4bb(_4e1),setTimeout(function(){$.data(_4e1,"datagrid")&&_4e8(_4e1)},0);return!1}),$(_4e1).hide().appendTo(_4e6.children("div.datagrid-view"));var cc=_4e3(),view=_4e6.children("div.datagrid-view"),_4e9=view.children("div.datagrid-view1"),_4ea=view.children("div.datagrid-view2"),_4eb=_4e6.closest("div.datagrid-view");_4eb.length||(_4eb=view);var ss=_4ae(_4eb);return{panel:_4e6,frozenColumns:cc[0],columns:cc[1],dc:{view:view,view1:_4e9,view2:_4ea,header1:_4e9.children("div.datagrid-header").children("div.datagrid-header-inner"),header2:_4ea.children("div.datagrid-header").children("div.datagrid-header-inner"),body1:_4e9.children("div.datagrid-body").children("div.datagrid-body-inner"),body2:_4ea.children("div.datagrid-body"),footer1:_4e9.children("div.datagrid-footer").children("div.datagrid-footer-inner"),footer2:_4ea.children("div.datagrid-footer").children("div.datagrid-footer-inner")},ss:ss}}function _4ec(_4ed){function _4f2(e,t,n){if(!t)return;$(e).show(),$(e).empty();var r=[],i=[];opts.sortName&&(r=opts.sortName.split(","),i=opts.sortOrder.split(","));var s=$('<table class="datagrid-htable" border="0" cellspacing="0" cellpadding="0"><tbody></tbody></table>').appendTo(e);for(var o=0;o<t.length;o++){var u=$('<tr class="datagrid-header-row"></tr>').appendTo($("tbody",s)),a=t[o];for(var f=0;f<a.length;f++){var l=a[f],c="";l.rowspan&&(c+='rowspan="'+l.rowspan+'" '),l.colspan&&(c+='colspan="'+l.colspan+'" ');var h=$("<td "+c+"></td>").appendTo(u);if(l.checkbox)h.attr("field",l.field),$('<div class="datagrid-header-check"></div>').html('<input type="checkbox"/>').appendTo(h);else if(l.field){h.attr("field",l.field),h.append('<div class="datagrid-cell"><span></span><span class="datagrid-sort-icon"></span></div>'),$("span",h).html(l.title),$("span.datagrid-sort-icon",h).html("&nbsp;");var p=h.find("div.datagrid-cell"),d=_4aa(r,l.field);d>=0&&p.addClass("datagrid-sort-"+i[d]),l.resizable==0&&p.attr("resizable","false"),l.width?(p._outerWidth(l.width),l.boxWidth=parseInt(p[0].style.width)):l.auto=!0,p.css("text-align",l.halign||l.align||""),l.cellClass=_4ee.cellClassPrefix+"-"+l.field.replace(/[\.|\s]/g,"-")}else $('<div class="datagrid-cell-group"></div>').html(l.title).appendTo(h);l.hidden&&h.hide()}}if(n&&opts.rownumbers){var h=$('<td rowspan="'+opts.frozenColumns.length+'"><div class="datagrid-header-rownumber"></div></td>');$("tr",s).length==0?h.wrap('<tr class="datagrid-header-row"></tr>').parent().appendTo($("tbody",s)):h.prependTo($("tr:first",s))}}function _4f3(){var e=[],t=_4fe(_4ed,!0).concat(_4fe(_4ed));for(var n=0;n<t.length;n++){var r=_4ff(_4ed,t[n]);r&&!r.checkbox&&e.push(["."+r.cellClass,r.boxWidth?r.boxWidth+"px":"auto"])}_4ee.ss.add(e),_4ee.ss.dirty(_4ee.cellSelectorPrefix),_4ee.cellSelectorPrefix="."+_4ee.cellClassPrefix}var _4ee=$.data(_4ed,"datagrid"),opts=_4ee.options,dc=_4ee.dc,_4ef=_4ee.panel;_4ef.panel($.extend({},opts,{id:null,doSize:!1,onResize:function(e,t){setTimeout(function(){$.data(_4ed,"datagrid")&&(_4bf(_4ed),_518(_4ed),opts.onResize.call(_4ef,e,t))},0)},onExpand:function(){_4cc(_4ed),opts.onExpand.call(_4ef)}})),_4ee.rowIdPrefix="datagrid-row-r"+ ++_4a9,_4ee.cellClassPrefix="datagrid-cell-c"+_4a9,_4f2(dc.header1,opts.frozenColumns,!0),_4f2(dc.header2,opts.columns,!1),_4f3(),dc.header1.add(dc.header2).css("display",opts.showHeader?"block":"none"),dc.footer1.add(dc.footer2).css("display",opts.showFooter?"block":"none");if(opts.toolbar)if($.isArray(opts.toolbar)){$("div.datagrid-toolbar",_4ef).remove();var tb=$('<div class="datagrid-toolbar"><table cellspacing="0" cellpadding="0"><tr></tr></table></div>').prependTo(_4ef),tr=tb.find("tr");for(var i=0;i<opts.toolbar.length;i++){var btn=opts.toolbar[i];if(btn=="-")$('<td><div class="datagrid-btn-separator"></div></td>').appendTo(tr);else{var td=$("<td></td>").appendTo(tr),tool=$('<a href="javascript:void(0)"></a>').appendTo(td);tool[0].onclick=eval(btn.handler||function(){}),tool.linkbutton($.extend({},btn,{plain:!0}))}}}else $(opts.toolbar).addClass("datagrid-toolbar").prependTo(_4ef),$(opts.toolbar).show();else $("div.datagrid-toolbar",_4ef).remove();$("div.datagrid-pager",_4ef).remove();if(opts.pagination){var _4f4=$('<div class="datagrid-pager"></div>');if(opts.pagePosition=="bottom")_4f4.appendTo(_4ef);else if(opts.pagePosition=="top")_4f4.addClass("datagrid-pager-top").prependTo(_4ef);else{var ptop=$('<div class="datagrid-pager datagrid-pager-top"></div>').prependTo(_4ef);_4f4.appendTo(_4ef),_4f4=_4f4.add(ptop)}_4f4.pagination({total:0,pageNumber:opts.pageNumber,pageSize:opts.pageSize,pageList:opts.pageList,onSelectPage:function(e,t){opts.pageNumber=e,opts.pageSize=t,_4f4.pagination("refresh",{pageNumber:e,pageSize:t}),_5dc(_4ed)}}),opts.pageSize=_4f4.pagination("options").pageSize}}function _500(e){function a(e){return e.attr("datagrid-row-index")?parseInt(e.attr("datagrid-row-index")):e.attr("node-id")}function f(e){return e.length&&e.parent().length}var t=$.data(e,"datagrid"),n=t.panel,r=t.options,i=t.dc,s=i.header1.add(i.header2);s.find("input[type=checkbox]").unbind(".datagrid").bind("click.datagrid",function(t){if(r.singleSelect&&r.selectOnCheck)return!1;$(this).is(":checked")?_577(e):_57d(e),t.stopPropagation()});var o=s.find("div.datagrid-cell");o.closest("td").unbind(".datagrid").bind("mouseenter.datagrid",function(){if(t.resizing)return;$(this).addClass("datagrid-header-over")}).bind("mouseleave.datagrid",function(){$(this).removeClass("datagrid-header-over")}).bind("contextmenu.datagrid",function(t){var n=$(this).attr("field");r.onHeaderContextMenu.call(e,t,n)}),o.unbind(".datagrid").bind("click.datagrid",function(n){var i=$(this).offset().left+5,s=$(this).offset().left+$(this)._outerWidth()-5;if(n.pageX<s&&n.pageX>i){var u=$(this).parent().attr("field"),a=_4ff(e,u);if(!a.sortable||t.resizing)return;var f=[],l=[];r.sortName&&(f=r.sortName.split(","),l=r.sortOrder.split(","));var c=_4aa(f,u),h=a.order||"asc";if(c>=0){$(this).removeClass("datagrid-sort-asc datagrid-sort-desc");var p=l[c]=="asc"?"desc":"asc";r.multiSort&&p==h?(f.splice(c,1),l.splice(c,1)):(l[c]=p,$(this).addClass("datagrid-sort-"+p))}else r.multiSort?(f.push(u),l.push(h)):(f=[u],l=[h],o.removeClass("datagrid-sort-asc datagrid-sort-desc")),$(this).addClass("datagrid-sort-"+h);r.sortName=f.join(","),r.sortOrder=l.join(",");if(r.remoteSort)_5dc(e);else{var d=$.data(e,"datagrid").data;_544(e,d)}r.onSortColumn.call(e,r.sortName,r.sortOrder)}}).bind("dblclick.datagrid",function(t){var n=$(this).offset().left+5,i=$(this).offset().left+$(this)._outerWidth()-5,s=r.resizeHandle=="right"?t.pageX>i:r.resizeHandle=="left"?t.pageX<n:t.pageX<n||t.pageX>i;if(s){var o=$(this).parent().attr("field"),u=_4ff(e,o);if(u.resizable==0)return;$(e).datagrid("autoSizeColumn",o),u.auto=!1}});var u=r.resizeHandle=="right"?"e":r.resizeHandle=="left"?"w":"e,w";o.each(function(){$(this).resizable({handles:u,disabled:$(this).attr("resizable")?$(this).attr("resizable")=="false":!1,minWidth:25,onStartResize:function(e){t.resizing=!0,s.css("cursor",$("body").css("cursor")),t.proxy||(t.proxy=$('<div class="datagrid-resize-proxy"></div>').appendTo(i.view)),t.proxy.css({left:e.pageX-$(n).offset().left-1,display:"none"}),setTimeout(function(){t.proxy&&t.proxy.show()},500)},onResize:function(e){return t.proxy.css({left:e.pageX-$(n).offset().left-1,display:"block"}),!1},onStopResize:function(n){s.css("cursor",""),$(this).css("height","");var i=$(this).parent().attr("field"),o=_4ff(e,i);o.width=$(this)._outerWidth(),o.boxWidth=parseInt(this.style.width),o.auto=undefined,_4e8(e,i),t.proxy.remove(),t.proxy=null,$(this).parents("div:first.datagrid-header").parent().hasClass("datagrid-view1")&&_4bf(e),_518(e),r.onResizeColumn.call(e,i,o.width),setTimeout(function(){t.resizing=!1},0)}})}),i.body1.add(i.body2).unbind().bind("mouseover",function(n){if(t.resizing)return;var r=$(n.target).closest("tr.datagrid-row");if(!f(r))return;var i=a(r);_55f(e,i),n.stopPropagation()}).bind("mouseout",function(t){var n=$(t.target).closest("tr.datagrid-row");if(!f(n))return;var i=a(n);r.finder.getTr(e,i).removeClass("datagrid-row-over"),t.stopPropagation()}).bind("click",function(t){var n=$(t.target),i=n.closest("tr.datagrid-row");if(!f(i))return;var s=a(i);if(n.parent().hasClass("datagrid-cell-check"))r.singleSelect&&r.selectOnCheck?(r.checkOnSelect||_57d(e,!0),_56a(e,s)):n.is(":checked")?_56a(e,s):_571(e,s);else{var o=r.finder.getRow(e,s),u=n.closest("td[field]",i);if(u.length){var l=u.attr("field");r.onClickCell.call(e,s,l,o[l])}r.singleSelect==1?_563(e,s):i.hasClass("datagrid-row-selected")?_56b(e,s):_563(e,s),r.onClickRow.call(e,s,o)}t.stopPropagation()}).bind("dblclick",function(t){var n=$(t.target),i=n.closest("tr.datagrid-row");if(!f(i))return;var s=a(i),o=r.finder.getRow(e,s),u=n.closest("td[field]",i);if(u.length){var l=u.attr("field");r.onDblClickCell.call(e,s,l,o[l])}r.onDblClickRow.call(e,s,o),t.stopPropagation()}).bind("contextmenu",function(t){var n=$(t.target).closest("tr.datagrid-row");if(!f(n))return;var i=a(n),s=r.finder.getRow(e,i);r.onRowContextMenu.call(e,t,i,s),t.stopPropagation()}),i.body2.bind("scroll",function(){var e=i.view1.children("div.datagrid-body");e.scrollTop($(this).scrollTop());var t=i.body1.children(":first"),n=i.body2.children(":first");if(t.length&&n.length){var r=t.offset().top,s=n.offset().top;r!=s&&e.scrollTop(e.scrollTop()+r-s)}i.view2.children("div.datagrid-header,div.datagrid-footer")._scrollLeft($(this)._scrollLeft()),i.body2.children("table.datagrid-btable-frozen").css("left",-$(this)._scrollLeft())})}function _518(e){function p(e,t){e.width+=t,e.boxWidth+=t,r.find('td[field="'+e.field+'"] div.datagrid-cell').width(e.boxWidth)}function d(e){if(!e.hidden&&!e.checkbox&&!e.auto&&!e.fixed)return!0}var t=$.data(e,"datagrid").options,n=$.data(e,"datagrid").dc;n.body2.css("overflow-x",t.fitColumns?"hidden":"");if(!t.fitColumns)return;var r=n.view2.children("div.datagrid-header"),i=0,s,o=_4fe(e,!1);for(var u=0;u<o.length;u++){var a=_4ff(e,o[u]);d(a)&&(i+=a.width,s=a)}var f=r.children("div.datagrid-header-inner").show(),l=r.width()-r.find("table").width()-t.scrollbarSize,c=l/i;t.showHeader||f.hide();for(var u=0;u<o.length;u++){var a=_4ff(e,o[u]);if(d(a)){var h=Math.floor(a.width*c);p(a,h),l-=h}}l&&s&&p(s,l),_4e8(e)}function _524(e,t){function a(t){function u(r){var i=0;return n.finder.getTr(e,0,r).find('td[field="'+t+'"] div.datagrid-cell').each(function(){var e=$(this)._outerWidth();i<e&&(i=e)}),i}var i=r.view.find('div.datagrid-header td[field="'+t+'"] div.datagrid-cell');i.css("width","");var s=$(e).datagrid("getColumnOption",t);s.width=undefined,s.boxWidth=undefined,s.auto=!0,$(e).datagrid("fixColumnSize",t);var o=Math.max(i._outerWidth(),u("allbody"),u("allfooter"));i._outerWidth(o),s.width=o,s.boxWidth=parseInt(i[0].style.width),$(e).datagrid("fixColumnSize",t),n.onResizeColumn.call(e,t,s.width)}var n=$.data(e,"datagrid").options,r=$.data(e,"datagrid").dc;if(t)a(t),n.fitColumns&&(_4bf(e),_518(e));else{var i=!1,s=_4fe(e,!0).concat(_4fe(e,!1));for(var o=0;o<s.length;o++){var t=s[o],u=_4ff(e,t);u.auto&&(a(t),i=!0)}i&&n.fitColumns&&(_4bf(e),_518(e))}}function _4e8(e,t){function a(t){var r=_4ff(e,t);r.checkbox||n.ss.set("."+r.cellClass,r.boxWidth?r.boxWidth+"px":"auto")}var n=$.data(e,"datagrid"),r=n.options,i=n.dc,s=i.view.find("table.datagrid-btable,table.datagrid-ftable");s.css("table-layout","fixed");if(t)a(t);else{var o=_4fe(e,!0).concat(_4fe(e,!1));for(var u=0;u<o.length;u++)a(o[u])}s.css("table-layout","auto"),_532(e),setTimeout(function(){_4cc(e),_537(e)},0)}function _532(e){var t=$.data(e,"datagrid").dc;t.body1.add(t.body2).find("td.datagrid-td-merged").each(function(){var t=$(this),n=t.attr("colspan")||1,r=_4ff(e,t.attr("field")).width;for(var i=1;i<n;i++)t=t.next(),r+=_4ff(e,t.attr("field")).width+1;$(this).children("div.datagrid-cell")._outerWidth(r)})}function _537(e){var t=$.data(e,"datagrid").dc;t.view.find("div.datagrid-editable").each(function(){var t=$(this),n=t.parent().attr("field"),r=$(e).datagrid("getColumnOption",n);t._outerWidth(r.width);var i=$.data(this,"datagrid.editor");i.actions.resize&&i.actions.resize(i.target,t.width())})}function _4ff(e,t){function n(e){if(e)for(var n=0;n<e.length;n++){var r=
e[n];for(var i=0;i<r.length;i++){var s=r[i];if(s.field==t)return s}}return null}var r=$.data(e,"datagrid").options,i=n(r.columns);return i||(i=n(r.frozenColumns)),i}function _4fe(e,t){function s(e){var t=0,n=0;for(;;){if(i[n]==undefined){if(t==e)return n;t++}n++}}function o(e){var t=[],n=0;for(var o=0;o<r[e].length;o++){var u=r[e][o];u.field&&t.push([n,u.field]),n+=parseInt(u.colspan||"1")}for(var o=0;o<t.length;o++)t[o][0]=s(t[o][0]);for(var o=0;o<t.length;o++){var a=t[o];i[a[0]]=a[1]}}var n=$.data(e,"datagrid").options,r=t==1?n.frozenColumns||[[]]:n.columns;if(r.length==0)return[];var i=[];for(var u=0;u<r.length;u++)o(u);return i}function _544(e,t){function f(){function o(e,t){for(var n=0;n<e.length;n++)if(e[n][r.idField]==t[r.idField])return e[n]=t,!0;return!1}if(r.idField)for(var i=0;i<t.rows.length;i++){var s=t.rows[i];o(n.selectedRows,s)&&r.finder.getTr(e,i).addClass("datagrid-row-selected"),o(n.checkedRows,s)&&r.finder.getTr(e,i).find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",!0)}}var n=$.data(e,"datagrid"),r=n.options,i=n.dc;t=r.loadFilter.call(e,t),t.total=parseInt(t.total),n.data=t,t.footer&&(n.footer=t.footer);if(!r.remoteSort&&r.sortName){var s=r.sortName.split(","),o=r.sortOrder.split(",");t.rows.sort(function(t,n){var r=0;for(var i=0;i<s.length;i++){var u=s[i],a=o[i],f=_4ff(e,u),l=f.sorter||function(e,t){return e==t?0:e>t?1:-1};r=l(t[u],n[u])*(a=="asc"?1:-1);if(r!=0)return r}return r})}r.view.onBeforeRender&&r.view.onBeforeRender.call(r.view,e,t.rows),r.view.render.call(r.view,e,i.body2,!1),r.view.render.call(r.view,e,i.body1,!0),r.showFooter&&(r.view.renderFooter.call(r.view,e,i.footer2,!1),r.view.renderFooter.call(r.view,e,i.footer1,!0)),r.view.onAfterRender&&r.view.onAfterRender.call(r.view,e),n.ss.clean(),r.onLoadSuccess.call(e,t);var u=$(e).datagrid("getPager");if(u.length){var a=u.pagination("options");a.total!=t.total&&(u.pagination("refresh",{total:t.total}),r.pageNumber!=a.pageNumber&&(r.pageNumber=a.pageNumber,_5dc(e)))}_4cc(e),i.body2.triggerHandler("scroll"),f(),$(e).datagrid("autoSizeColumn")}function _54e(e,t){var n=$.data(e,"datagrid"),r=n.options,i=n.data.rows;if(typeof t=="object")return _4aa(i,t);for(var s=0;s<i.length;s++)if(i[s][r.idField]==t)return s;return-1}function _551(e){var t=$.data(e,"datagrid"),n=t.options,r=t.data;if(n.idField)return t.selectedRows;var i=[];return n.finder.getTr(e,"","selected",2).each(function(){var e=parseInt($(this).attr("datagrid-row-index"));i.push(r.rows[e])}),i}function _555(e){var t=$.data(e,"datagrid"),n=t.options;if(n.idField)return t.checkedRows;var r=[];return n.finder.getTr(e,"","checked").each(function(){r.push(n.finder.getRow(e,$(this)))}),r}function _558(e,t){var n=$.data(e,"datagrid"),r=n.dc,i=n.options,s=i.finder.getTr(e,t);if(s.length){if(s.closest("table").hasClass("datagrid-btable-frozen"))return;var o=r.view2.children("div.datagrid-header")._outerHeight(),u=r.body2,a=u.outerHeight(!0)-u.outerHeight(),f=s.position().top-o-a;f<0?u.scrollTop(u.scrollTop()+f):f+s._outerHeight()>u.height()-18&&u.scrollTop(u.scrollTop()+f+s._outerHeight()-u.height()+18)}}function _55f(e,t){var n=$.data(e,"datagrid"),r=n.options;r.finder.getTr(e,n.highlightIndex).removeClass("datagrid-row-over"),r.finder.getTr(e,t).addClass("datagrid-row-over"),n.highlightIndex=t}function _563(e,t,n){var r=$.data(e,"datagrid"),i=r.dc,s=r.options,o=r.selectedRows;s.singleSelect&&(_569(e),o.splice(0,o.length)),!n&&s.checkOnSelect&&_56a(e,t,!0);var u=s.finder.getRow(e,t);s.idField&&_4ad(o,s.idField,u),s.finder.getTr(e,t).addClass("datagrid-row-selected"),s.onSelect.call(e,t,u),_558(e,t)}function _56b(e,t,n){var r=$.data(e,"datagrid"),i=r.dc,s=r.options,o=$.data(e,"datagrid").selectedRows;!n&&s.checkOnSelect&&_571(e,t,!0),s.finder.getTr(e,t).removeClass("datagrid-row-selected");var u=s.finder.getRow(e,t);s.idField&&_4ab(o,s.idField,u[s.idField]),s.onUnselect.call(e,t,u)}function _572(e,t){var n=$.data(e,"datagrid"),r=n.options,i=n.data.rows,s=$.data(e,"datagrid").selectedRows;!t&&r.checkOnSelect&&_577(e,!0),r.finder.getTr(e,"","allbody").addClass("datagrid-row-selected");if(r.idField)for(var o=0;o<i.length;o++)_4ad(s,r.idField,i[o]);r.onSelectAll.call(e,i)}function _569(e,t){var n=$.data(e,"datagrid"),r=n.options,i=n.data.rows,s=$.data(e,"datagrid").selectedRows;!t&&r.checkOnSelect&&_57d(e,!0),r.finder.getTr(e,"","selected").removeClass("datagrid-row-selected");if(r.idField)for(var o=0;o<i.length;o++)_4ab(s,r.idField,i[o][r.idField]);r.onUnselectAll.call(e,i)}function _56a(e,t,n){var r=$.data(e,"datagrid"),i=r.options;!n&&i.selectOnCheck&&_563(e,t,!0);var s=i.finder.getTr(e,t).find("div.datagrid-cell-check input[type=checkbox]");s._propAttr("checked",!0),s=i.finder.getTr(e,"","checked");if(s.length==r.data.rows.length){var o=r.dc,u=o.header1.add(o.header2);u.find("input[type=checkbox]")._propAttr("checked",!0)}var a=i.finder.getRow(e,t);i.idField&&_4ad(r.checkedRows,i.idField,a),i.onCheck.call(e,t,a)}function _571(e,t,n){var r=$.data(e,"datagrid"),i=r.options;!n&&i.selectOnCheck&&_56b(e,t,!0);var s=i.finder.getTr(e,t).find("div.datagrid-cell-check input[type=checkbox]");s._propAttr("checked",!1);var o=r.dc,u=o.header1.add(o.header2);u.find("input[type=checkbox]")._propAttr("checked",!1);var a=i.finder.getRow(e,t);i.idField&&_4ab(r.checkedRows,i.idField,a[i.idField]),i.onUncheck.call(e,t,a)}function _577(e,t){var n=$.data(e,"datagrid"),r=n.options,i=n.data.rows;!t&&r.selectOnCheck&&_572(e,!0);var s=n.dc,o=s.header1.add(s.header2).find("input[type=checkbox]"),u=r.finder.getTr(e,"","allbody").find("div.datagrid-cell-check input[type=checkbox]");o.add(u)._propAttr("checked",!0);if(r.idField)for(var a=0;a<i.length;a++)_4ad(n.checkedRows,r.idField,i[a]);r.onCheckAll.call(e,i)}function _57d(e,t){var n=$.data(e,"datagrid"),r=n.options,i=n.data.rows;!t&&r.selectOnCheck&&_569(e,!0);var s=n.dc,o=s.header1.add(s.header2).find("input[type=checkbox]"),u=r.finder.getTr(e,"","allbody").find("div.datagrid-cell-check input[type=checkbox]");o.add(u)._propAttr("checked",!1);if(r.idField)for(var a=0;a<i.length;a++)_4ab(n.checkedRows,r.idField,i[a][r.idField]);r.onUncheckAll.call(e,i)}function _58f(e,t){var n=$.data(e,"datagrid").options,r=n.finder.getTr(e,t),i=n.finder.getRow(e,t);if(r.hasClass("datagrid-row-editing"))return;if(n.onBeforeEdit.call(e,t,i)==0)return;r.addClass("datagrid-row-editing"),_592(e,t),_537(e),r.find("div.datagrid-editable").each(function(){var e=$(this).parent().attr("field"),t=$.data(this,"datagrid.editor");t.actions.setValue(t.target,i[e])}),_594(e,t)}function _595(e,t,n){var r=$.data(e,"datagrid").options,i=$.data(e,"datagrid").updatedRows,s=$.data(e,"datagrid").insertedRows,o=r.finder.getTr(e,t),u=r.finder.getRow(e,t);if(!o.hasClass("datagrid-row-editing"))return;if(!n){if(!_594(e,t))return;var a=!1,f={};o.find("div.datagrid-editable").each(function(){var e=$(this).parent().attr("field"),t=$.data(this,"datagrid.editor"),n=t.actions.getValue(t.target);u[e]!=n&&(u[e]=n,a=!0,f[e]=n)}),a&&_4aa(s,u)==-1&&_4aa(i,u)==-1&&i.push(u)}o.removeClass("datagrid-row-editing"),_59f(e,t),$(e).datagrid("refreshRow",t),n?r.onCancelEdit.call(e,t,u):r.onAfterEdit.call(e,t,u,f)}function _5a0(e,t){var n=$.data(e,"datagrid").options,r=n.finder.getTr(e,t),i=[];return r.children("td").each(function(){var e=$(this).find("div.datagrid-editable");if(e.length){var t=$.data(e[0],"datagrid.editor");i.push(t)}}),i}function _5a4(e,t){var n=_5a0(e,t.index!=undefined?t.index:t.id);for(var r=0;r<n.length;r++)if(n[r].field==t.field)return n[r];return null}function _592(e,t){var n=$.data(e,"datagrid").options,r=n.finder.getTr(e,t);r.children("td").each(function(){var t=$(this).find("div.datagrid-cell"),r=$(this).attr("field"),i=_4ff(e,r);if(i&&i.editor){var s,o;typeof i.editor=="string"?s=i.editor:(s=i.editor.type,o=i.editor.options);var u=n.editors[s];if(u){var a=t.html(),f=t._outerWidth();t.addClass("datagrid-editable"),t._outerWidth(f),t.html('<table border="0" cellspacing="0" cellpadding="1"><tr><td></td></tr></table>'),t.children("table").bind("click dblclick contextmenu",function(e){e.stopPropagation()}),$.data(t[0],"datagrid.editor",{actions:u,target:u.init(t.find("td"),o),field:r,type:s,oldHtml:a})}}}),_4cc(e,t,!0)}function _59f(e,t){var n=$.data(e,"datagrid").options,r=n.finder.getTr(e,t);r.children("td").each(function(){var e=$(this).find("div.datagrid-editable");if(e.length){var t=$.data(e[0],"datagrid.editor");t.actions.destroy&&t.actions.destroy(t.target),e.html(t.oldHtml),$.removeData(e[0],"datagrid.editor"),e.removeClass("datagrid-editable"),e.css("width","")}})}function _594(e,t){var n=$.data(e,"datagrid").options.finder.getTr(e,t);if(!n.hasClass("datagrid-row-editing"))return!0;var r=n.find(".validatebox-text");r.validatebox("validate"),r.trigger("mouseleave");var i=n.find(".validatebox-invalid");return i.length==0}function _5b5(e,t){var n=$.data(e,"datagrid").insertedRows,r=$.data(e,"datagrid").deletedRows,i=$.data(e,"datagrid").updatedRows;if(!t){var s=[];return s=s.concat(n),s=s.concat(r),s=s.concat(i),s}return t=="inserted"?n:t=="deleted"?r:t=="updated"?i:[]}function _5bb(e,t){var n=$.data(e,"datagrid"),r=n.options,i=n.data,s=n.insertedRows,o=n.deletedRows;$(e).datagrid("cancelEdit",t);var u=i.rows[t];_4aa(s,u)>=0?_4ab(s,u):o.push(u),_4ab(n.selectedRows,r.idField,i.rows[t][r.idField]),_4ab(n.checkedRows,r.idField,i.rows[t][r.idField]),r.view.deleteRow.call(r.view,e,t),r.height=="auto"&&_4cc(e),$(e).datagrid("getPager").pagination("refresh",{total:i.total})}function _5c1(e,t){var n=$.data(e,"datagrid").data,r=$.data(e,"datagrid").options.view,i=$.data(e,"datagrid").insertedRows;r.insertRow.call(r,e,t.index,t.row),i.push(t.row),$(e).datagrid("getPager").pagination("refresh",{total:n.total})}function _5c5(e,t){var n=$.data(e,"datagrid").data,r=$.data(e,"datagrid").options.view,i=$.data(e,"datagrid").insertedRows;r.insertRow.call(r,e,null,t),i.push(t),$(e).datagrid("getPager").pagination("refresh",{total:n.total})}function _5c8(e){var t=$.data(e,"datagrid"),n=t.data,r=n.rows,i=[];for(var s=0;s<r.length;s++)i.push($.extend({},r[s]));t.originalRows=i,t.updatedRows=[],t.insertedRows=[],t.deletedRows=[]}function _5cc(e){var t=$.data(e,"datagrid").data,n=!0;for(var r=0,i=t.rows.length;r<i;r++)_594(e,r)?_595(e,r,!1):n=!1;n&&_5c8(e)}function _5ce(e){function f(e){var t=[];for(var r=0;r<e.length;r++)t.push(e[r][n.idField]);return t}function l(t,n){for(var r=0;r<t.length;r++){var i=_54e(e,t[r]);i>=0&&(n=="s"?_563:_56a)(e,i,!0)}}var t=$.data(e,"datagrid"),n=t.options,r=t.originalRows,i=t.insertedRows,s=t.deletedRows,o=t.selectedRows,u=t.checkedRows,a=t.data;for(var c=0;c<a.rows.length;c++)_595(e,c,!0);var h=f(o),p=f(u);o.splice(0,o.length),u.splice(0,u.length),a.total+=s.length-i.length,a.rows=r,_544(e,a),l(h,"s"),l(p,"c"),_5c8(e)}function _5dc(e,t){function i(){var t=n.loader.call(e,r,function(t){setTimeout(function(){$(e).datagrid("loaded")},0),_544(e,t),setTimeout(function(){_5c8(e)},0)},function(){setTimeout(function(){$(e).datagrid("loaded")},0),n.onLoadError.apply(e,arguments)});t==0&&$(e).datagrid("loaded")}var n=$.data(e,"datagrid").options;t&&(n.queryParams=t);var r=$.extend({},n.queryParams);n.pagination&&$.extend(r,{page:n.pageNumber,rows:n.pageSize}),n.sortName&&$.extend(r,{sort:n.sortName,order:n.sortOrder});if(n.onBeforeLoad.call(e,r)==0)return;$(e).datagrid("loading"),setTimeout(function(){i()},0)}function _5e2(e,t){var n=$.data(e,"datagrid").options;t.rowspan=t.rowspan||1,t.colspan=t.colspan||1;if(t.rowspan==1&&t.colspan==1)return;var r=n.finder.getTr(e,t.index!=undefined?t.index:t.id);if(!r.length)return;var i=n.finder.getRow(e,r),s=i[t.field],o=r.find('td[field="'+t.field+'"]');o.attr("rowspan",t.rowspan).attr("colspan",t.colspan),o.addClass("datagrid-td-merged");for(var u=1;u<t.colspan;u++)o=o.next(),o.hide(),i[o.attr("field")]=s;for(var u=1;u<t.rowspan;u++){r=r.next();if(!r.length)break;var i=n.finder.getRow(e,r),o=r.find('td[field="'+t.field+'"]').hide();i[o.attr("field")]=s;for(var a=1;a<t.colspan;a++)o=o.next(),o.hide(),i[o.attr("field")]=s}_532(e)}var _4a9=0;$.fn.datagrid=function(e,t){return typeof e=="string"?$.fn.datagrid.methods[e](this,t):(e=e||{},this.each(function(){var t=$.data(this,"datagrid"),n;if(t)n=$.extend(t.options,e),t.options=n;else{n=$.extend({},$.extend({},$.fn.datagrid.defaults,{queryParams:{}}),$.fn.datagrid.parseOptions(this),e),$(this).css("width","").css("height","");var r=_4e0(this,n.rownumbers);n.columns||(n.columns=r.columns),n.frozenColumns||(n.frozenColumns=r.frozenColumns),n.columns=$.extend(!0,[],n.columns),n.frozenColumns=$.extend(!0,[],n.frozenColumns),n.view=$.extend({},n.view),$.data(this,"datagrid",{options:n,panel:r.panel,dc:r.dc,ss:r.ss,selectedRows:[],checkedRows:[],data:{total:0,rows:[]},originalRows:[],updatedRows:[],insertedRows:[],deletedRows:[]})}_4ec(this);if(n.data)_544(this,n.data),_5c8(this);else{var i=$.fn.datagrid.parseData(this);i.total>0&&(_544(this,i),_5c8(this))}_4bb(this),_5dc(this),_500(this)}))};var _5ea={text:{init:function(e,t){var n=$('<input type="text" class="datagrid-editable-input">').appendTo(e);return n},getValue:function(e){return $(e).val()},setValue:function(e,t){$(e).val(t)},resize:function(e,t){$(e)._outerWidth(t)._outerHeight(22)}},textarea:{init:function(e,t){var n=$('<textarea class="datagrid-editable-input"></textarea>').appendTo(e);return n},getValue:function(e){return $(e).val()},setValue:function(e,t){$(e).val(t)},resize:function(e,t){$(e)._outerWidth(t)}},checkbox:{init:function(e,t){var n=$('<input type="checkbox">').appendTo(e);return n.val(t.on),n.attr("offval",t.off),n},getValue:function(e){return $(e).is(":checked")?$(e).val():$(e).attr("offval")},setValue:function(e,t){var n=!1;$(e).val()==t&&(n=!0),$(e)._propAttr("checked",n)}},numberbox:{init:function(e,t){var n=$('<input type="text" class="datagrid-editable-input">').appendTo(e);return n.numberbox(t),n},destroy:function(e){$(e).numberbox("destroy")},getValue:function(e){return $(e).blur(),$(e).numberbox("getValue")},setValue:function(e,t){$(e).numberbox("setValue",t)},resize:function(e,t){$(e)._outerWidth(t)._outerHeight(22)}},validatebox:{init:function(e,t){var n=$('<input type="text" class="datagrid-editable-input">').appendTo(e);return n.validatebox(t),n},destroy:function(e){$(e).validatebox("destroy")},getValue:function(e){return $(e).val()},setValue:function(e,t){$(e).val(t)},resize:function(e,t){$(e)._outerWidth(t)._outerHeight(22)}},datebox:{init:function(e,t){var n=$('<input type="text">').appendTo(e);return n.datebox(t),n},destroy:function(e){$(e).datebox("destroy")},getValue:function(e){return $(e).datebox("getValue")},setValue:function(e,t){$(e).datebox("setValue",t)},resize:function(e,t){$(e).datebox("resize",t)}},combobox:{init:function(e,t){var n=$('<input type="text">').appendTo(e);return n.combobox(t||{}),n},destroy:function(e){$(e).combobox("destroy")},getValue:function(e){var t=$(e).combobox("options");return t.multiple?$(e).combobox("getValues").join(t.separator):$(e).combobox("getValue")},setValue:function(e,t){var n=$(e).combobox("options");n.multiple?t?$(e).combobox("setValues",t.split(n.separator)):$(e).combobox("clear"):$(e).combobox("setValue",t)},resize:function(e,t){$(e).combobox("resize",t)}},combotree:{init:function(e,t){var n=$('<input type="text">').appendTo(e);return n.combotree(t),n},destroy:function(e){$(e).combotree("destroy")},getValue:function(e){return $(e).combotree("getValue")},setValue:function(e,t){$(e).combotree("setValue",t)},resize:function(e,t){$(e).combotree("resize",t)}}};$.fn.datagrid.methods={options:function(e){var t=$.data(e[0],"datagrid").options,n=$.data(e[0],"datagrid").panel.panel("options"),r=$.extend(t,{width:n.width,height:n.height,closed:n.closed,collapsed:n.collapsed,minimized:n.minimized,maximized:n.maximized});return r},getPanel:function(e){return $.data(e[0],"datagrid").panel},getPager:function(e){return $.data(e[0],"datagrid").panel.children("div.datagrid-pager")},getColumnFields:function(e,t){return _4fe(e[0],t)},getColumnOption:function(e,t){return _4ff(e[0],t)},resize:function(e,t){return e.each(function(){_4bb(this,t)})},load:function(e,t){return e.each(function(){var e=$(this).datagrid("options");e.pageNumber=1;var n=$(this).datagrid("getPager");n.pagination("refresh",{pageNumber:1}),_5dc(this,t)})},reload:function(e,t){return e.each(function(){_5dc(this,t)})},reloadFooter:function(e,t){return e.each(function(){var e=$.data(this,"datagrid").options,n=$.data(this,"datagrid").dc;t&&($.data(this,"datagrid").footer=t),e.showFooter&&(e.view.renderFooter.call(e.view,this,n.footer2,!1),e.view.renderFooter.call(e.view,this,n.footer1,!0),e.view.onAfterRender&&e.view.onAfterRender.call(e.view,this),$(this).datagrid("fixRowHeight"))})},loading:function(e){return e.each(function(){var e=$.data(this,"datagrid").options;$(this).datagrid("getPager").pagination("loading");if(e.loadMsg){var t=$(this).datagrid("getPanel");if(!t.children("div.datagrid-mask").length){$('<div class="datagrid-mask" style="display:block"></div>').appendTo(t);var n=$('<div class="datagrid-mask-msg" style="display:block;left:50%"></div>').html(e.loadMsg).appendTo(t);n.css("marginLeft",-n.outerWidth()/2)}}})},loaded:function(e){return e.each(function(){$(this).datagrid("getPager").pagination("loaded");var e=$(this).datagrid("getPanel");e.children("div.datagrid-mask-msg").remove(),e.children("div.datagrid-mask").remove()})},fitColumns:function(e){return e.each(function(){_518(this)})},fixColumnSize:function(e,t){return e.each(function(){_4e8(this,t)})},fixRowHeight:function(e,t){return e.each(function(){_4cc(this,t)})},freezeRow:function(e,t){return e.each(function(){_4d9(this,t)})},autoSizeColumn:function(e,t){return e.each(function(){_524(this,t)})},loadData:function(e,t){return e.each(function(){_544(this,t),_5c8(this)})},getData:function(e){return $.data(e[0],"datagrid").data},getRows:function(e){return $.data(e[0],"datagrid").data.rows},getFooterRows:function(e){return $.data(e[0],"datagrid").footer},getRowIndex:function(e,t){return _54e(e[0],t)},getChecked:function(e){return _555(e[0])},getSelected:function(e){var t=_551(e[0]);return t.length>0?t[0]:null},getSelections:function(e){return _551(e[0])},clearSelections:function(e){return e.each(function(){var e=$.data(this,"datagrid").selectedRows;e.splice(0,e.length),_569(this)})},clearChecked:function(e){return e.each(function(){var e=$.data(this,"datagrid").checkedRows;e.splice(0,e.length),_57d(this)})},scrollTo:function(e,t){return e.each(function(){_558(this,t)})},highlightRow:function(e,t){return e.each(function(){_55f(this,t),_558(this,t)})},selectAll:function(e){return e.each(function(){_572(this)})},unselectAll:function(e){return e.each(function(){_569(this)})},selectRow:function(e,t){return e.each(function(){_563(this,t)})},selectRecord:function(e,t){return e.each(function(){var e=$.data(this,"datagrid").options;if(e.idField){var n=_54e(this,t);n>=0&&$(this).datagrid("selectRow",n)}})},unselectRow:function(e,t){return e.each(function(){_56b(this,t)})},checkRow:function(e,t){return e.each(function(){_56a(this,t)})},uncheckRow:function(e,t){return e.each(function(){_571(this,t)})},checkAll:function(e){return e.each(function(){_577(this)})},uncheckAll:function(e){return e.each(function(){_57d(this)})},beginEdit:function(e,t){return e.each(function(){_58f(this,t)})},endEdit:function(e,t){return e.each(function(){_595(this,t,!1)})},cancelEdit:function(e,t){return e.each(function(){_595(this,t,!0)})},getEditors:function(e,t){return _5a0(e[0],t)},getEditor:function(e,t){return _5a4(e[0],t)},refreshRow:function(e,t){return e.each(function(){var e=$.data(this,"datagrid").options;e.view.refreshRow.call(e.view,this,t)})},validateRow:function(e,t){return _594(e[0],t)},updateRow:function(e,t){return e.each(function(){var e=$.data(this,"datagrid").options;e.view.updateRow.call(e.view,this,t.index,t.row)})},appendRow:function(e,t){return e.each(function(){_5c5(this,t)})},insertRow:function(e,t){return e.each(function(){_5c1(this,t)})},deleteRow:function(e,t){return e.each(function(){_5bb(this,t)})},getChanges:function(e,t){return _5b5(e[0],t)},acceptChanges:function(e){return e.each(function(){_5cc(this)})},rejectChanges:function(e){return e.each(function(){_5ce(this)})},mergeCells:function(e,t){return e.each(function(){_5e2(this,t)})},showColumn:function(e,t){return e.each(function(){var e=$(this).datagrid("getPanel");e.find('td[field="'+t+'"]').show(),$(this).datagrid("getColumnOption",t).hidden=!1,$(this).datagrid("fitColumns")})},hideColumn:function(e,t){return e.each(function(){var e=$(this).datagrid("getPanel");e.find('td[field="'+t+'"]').hide(),$(this).datagrid("getColumnOption",t).hidden=!0,$(this).datagrid("fitColumns")})}},$.fn.datagrid.parseOptions=function(_657){var t=$(_657);return $.extend({},$.fn.panel.parseOptions(_657),$.parser.parseOptions(_657,["url","toolbar","idField","sortName","sortOrder","pagePosition","resizeHandle",{fitColumns:"boolean",autoRowHeight:"boolean",striped:"boolean",nowrap:"boolean"},{rownumbers:"boolean",singleSelect:"boolean",checkOnSelect:"boolean",selectOnCheck:"boolean"},{pagination:"boolean",pageSize:"number",pageNumber:"number"},{multiSort:"boolean",remoteSort:"boolean",showHeader:"boolean",showFooter:"boolean"},{scrollbarSize:"number"}]),{pageList:t.attr("pageList")?eval(t.attr("pageList")):undefined,loadMsg:t.attr("loadMsg")!=undefined?t.attr("loadMsg"):undefined,rowStyler:t.attr("rowStyler")?eval(t.attr("rowStyler")):undefined})},$.fn.datagrid.parseData=function(e){var t=$(e),n={total:0,rows:[]},r=t.datagrid("getColumnFields",!0).concat(t.datagrid("getColumnFields",!1));return t.find("tbody tr").each(function(){n.total++;var e={};$.extend(e,$.parser.parseOptions(this,["iconCls","state"]));for(var t=0;t<r.length;t++)e[r[t]]=$(this).find("td:eq("+t+")").html();n.rows.push(e)}),n};var _65a={render:function(e,t,n){var r=$.data(e,"datagrid"),i=r.options,s=r.data.rows,o=$(e).datagrid("getColumnFields",n);if(n&&!(i.rownumbers||i.frozenColumns&&i.frozenColumns.length))return;var u=['<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>'];for(var a=0;a<s.length;a++){var f=i.rowStyler?i.rowStyler.call(e,a,s[a]):"",l="",c="";typeof f=="string"?c=f:f&&(l=f["class"]||"",c=f.style||"");var h='class="datagrid-row '+(a%2&&i.striped?"datagrid-row-alt ":" ")+l+'"',p=c?'style="'+c+'"':"",d=r.rowIdPrefix+"-"+(n?1:2)+"-"+a;u.push('<tr id="'+d+'" datagrid-row-index="'+a+'" '+h+" "+p+">"),u.push(this.renderRow.call(this,e,o,n,a,s[a])),u.push("</tr>")}u.push("</tbody></table>"),$(t).html(u.join(""))},renderFooter:function(e,t,n){var r=$.data(e,"datagrid").options,i=$.data(e,"datagrid").footer||[],s=$(e).datagrid("getColumnFields",n),o=['<table class="datagrid-ftable" cellspacing="0" cellpadding="0" border="0"><tbody>'];for(var u=0;u<i.length;u++)o.push('<tr class="datagrid-row" datagrid-row-index="'+u+'">'),o.push(this.renderRow.call(this,e,s,n,u,i[u])),o.push("</tr>");o.push("</tbody></table>"),$(t).html(o.join(""))},renderRow:function(e,t,n,r,i){var s=$.data(e,"datagrid").options,o=[];if(n&&s.rownumbers){var u=r+1;s.pagination&&(u+=(s.pageNumber-1)*s.pageSize),o.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">'+u+"</div></td>")}for(var a=0;a<t.length;a++){var f=t[a],l=$(e).datagrid("getColumnOption",f);if(l){var c=i[f],h=l.styler?l.styler(c,i,r)||"":"",p="",d="";typeof h=="string"?d=h:o&&(p=h["class"]||"",d=h.style||"");var v=p?'class="'+p+'"':"",m=l.hidden?'style="display:none;'+d+'"':d?'style="'+d+'"':"";o.push('<td field="'+f+'" '+v+" "+m+">");if(l.checkbox)var m="";else{var m=d;l.align&&(m+=";text-align:"+l.align+";"),s.nowrap?s.autoRowHeight&&(m+=";height:auto;"):m+=";white-space:normal;height:auto;"}o.push('<div style="'+m+'" '),o.push(l.checkbox?'class="datagrid-cell-check"':'class="datagrid-cell '+l.cellClass+'"'),o.push(">"),l.checkbox?o.push('<input type="checkbox" name="'+f+'" value="'+(c!=undefined?c:"")+'">'):l.formatter?o.push(l.formatter(c,i,r)):o.push(c),o.push("</div>"),o.push("</td>")}}return o.join("")},refreshRow:function(e,t){this.updateRow.call(this,e,t,{})},updateRow:function(e,t,n){function a(n){var s=$(e).datagrid("getColumnFields",n),a=r.finder.getTr(e,t,"body",n?1:2),f=a.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");a.html(this.renderRow.call(this,e,s,n,t,i[t])),a.attr("style",u).attr("class",o),f&&a.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",!0)}var r=$.data(e,"datagrid").options,i=$(e).datagrid("getRows");$.extend(i[t],n);var s=r.rowStyler?r.rowStyler.call(e,t,i[t]):"",o="",u="";typeof s=="string"?u=s:s&&(o=s["class"]||"",u=s.style||"");var o="datagrid-row "+(t%2&&r.striped?"datagrid-row-alt ":" ")+o;a.call(this,!0),a.call(this,!1),$(e).datagrid("fixRowHeight",t)},insertRow:function(e,t,n){function u(n){var s=n?1:2;for(var u=o.rows.length-1;u>=t;u--){var a=i.finder.getTr(e,u,"body",s);a.attr("datagrid-row-index",u+1),a.attr("id",r.rowIdPrefix+"-"+s+"-"+(u+1));if(n&&i.rownumbers){var f=u+2;i.pagination&&(f+=(i.pageNumber-1)*i.pageSize),a.find("div.datagrid-cell-rownumber").html(f)}i.striped&&a.removeClass("datagrid-row-alt").addClass((u+1)%2?"datagrid-row-alt":"")}}function a(n){var u=n?1:2,a=$(e).datagrid("getColumnFields",n),f=r.rowIdPrefix+"-"+u+"-"+t,l='<tr id="'+f+'" class="datagrid-row" datagrid-row-index="'+t+'"></tr>';if(t>=o.rows.length)if(o.rows.length)i.finder.getTr(e,"","last",u).after(l);else{var c=n?s.body1:s.body2;c.html('<table cellspacing="0" cellpadding="0" border="0"><tbody>'+l+"</tbody></table>")}else i.finder.getTr(e,t+1,"body",u).before(l)}var r=$.data(e,"datagrid"),i=r.options,s=r.dc,o=r.data;if(t==undefined||t==null)t=o.rows.length;t>o.rows.length&&(t=o.rows.length),u.call(this,!0),u.call(this,!1),a.call(this,!0),a.call(this,!1),o.total+=1,o.rows.splice(t,0,n),this.refreshRow.call(this,e,t)},deleteRow:function(e,t){function s(s){var o=s?1:2;for(var u=t+1;u<i.rows.length;u++){var a=r.finder.getTr(e,u,"body",o);a.attr("datagrid-row-index",u-1),a.attr("id",n.rowIdPrefix+"-"+o+"-"+(u-1));if(s&&r.rownumbers){var f=u;r.pagination&&(f+=(r.pageNumber-1)*r.pageSize),a.find("div.datagrid-cell-rownumber").html(f)}r.striped&&a.removeClass("datagrid-row-alt").addClass((u-1)%2?"datagrid-row-alt":"")}}var n=$.data(e,"datagrid"),r=n.options,i=n.data;r.finder.getTr(e,t).remove(),s.call(this,!0),s.call(this,!1),i.total-=1,i.rows.splice(t,1)},onBeforeRender:function(e,t){},onAfterRender:function(e){var t=$.data(e,"datagrid").options;if(t.showFooter){var n=$(e).datagrid("getPanel").find("div.datagrid-footer");n.find("div.datagrid-cell-rownumber,div.datagrid-cell-check").css("visibility","hidden")}}};$.fn.datagrid.defaults=$.extend({},$.fn.panel.defaults,{frozenColumns:undefined,columns:undefined,fitColumns:!1,resizeHandle:"right",autoRowHeight:!0,toolbar:null,striped:!1,method:"post",nowrap:!0,idField:null,url:null,data:null,loadMsg:"Processing, please wait ...",rownumbers:!1,singleSelect:!1,selectOnCheck:!0,checkOnSelect:!0,pagination:!1,pagePosition:"bottom",pageNumber:1,pageSize:10,pageList:[10,20,30,40,50],queryParams:{},sortName:null,sortOrder:"asc",multiSort:!1,remoteSort:!0,showHeader:!0,showFooter:!1,scrollbarSize:18,rowStyler:function(e,t){},loader:function(e,t,n){var r=$(this).datagrid("options");if(!r.url)return!1;$.ajax({type:r.method,url:r.url,data:e,dataType:"json",success:function(e){t(e)},error:function(){n.apply(this,arguments)}})},loadFilter:function(e){return typeof e.length=="number"&&typeof e.splice=="function"?{total:e.length,rows:e}:e},editors:_5ea,finder:{getTr:function(e,t,n,r){n=n||"body",r=r||0;var i=$.data(e,"datagrid"),s=i.dc,o=i.options;if(r==0){var u=o.finder.getTr(e,t,n,1),a=o.finder.getTr(e,t,n,2);return u.add(a)}if(n=="body"){var f=$("#"+i.rowIdPrefix+"-"+r+"-"+t);return f.length||(f=(r==1?s.body1:s.body2).find(">table>tbody>tr[datagrid-row-index="+t+"]")),f}if(n=="footer")return(r==1?s.footer1:s.footer2).find(">table>tbody>tr[datagrid-row-index="+t+"]");if(n=="selected")return(r==1?s.body1:s.body2).find(">table>tbody>tr.datagrid-row-selected");if(n=="highlight")return(r==1?s.body1:s.body2).find(">table>tbody>tr.datagrid-row-over");if(n=="checked")return(r==1?s.body1:s.body2).find(">table>tbody>tr.datagrid-row:has(div.datagrid-cell-check input:checked)");if(n=="last")return(r==1?s.body1:s.body2).find(">table>tbody>tr[datagrid-row-index]:last");if(n=="allbody")return(r==1?s.body1:s.body2).find(">table>tbody>tr[datagrid-row-index]");if(n=="allfooter")return(r==1?s.footer1:s.footer2).find(">table>tbody>tr[datagrid-row-index]")},getRow:function(e,t){var n=typeof t=="object"?t.attr("datagrid-row-index"):t;return $.data(e,"datagrid").data.rows[parseInt(n)]}},view:_65a,onBeforeLoad:function(e){},onLoadSuccess:function(){},onLoadError:function(){},onClickRow:function(e,t){},onDblClickRow:function(e,t){},onClickCell:function(e,t,n){},onDblClickCell:function(e,t,n){},onSortColumn:function(e,t){},onResizeColumn:function(e,t){},onSelect:function(e,t){},onUnselect:function(e,t){},onSelectAll:function(e){},onUnselectAll:function(e){},onCheck:function(e,t){},onUncheck:function(e,t){},onCheckAll:function(e){},onUncheckAll:function(e){},onBeforeEdit:function(e,t){},onAfterEdit:function(e,t,n){},onCancelEdit:function(e,t){},onHeaderContextMenu:function(e,t){},onRowContextMenu:function(e,t,n){}})}(jQuery),function(e){function n(n){var s=e.data(n,"propertygrid"),o=e.data(n,"propertygrid").options;e(n).datagrid(e.extend({},o,{cls:"propertygrid",view:o.showGroup?i:undefined,onClickRow:function(i,s){t!=this&&(r(t),t=this);if(o.editIndex!=i&&s.editor){var u=e(this).datagrid("getColumnOption","value");u.editor=s.editor,r(t),e(this).datagrid("beginEdit",i),e(this).datagrid("getEditors",i)[0].target.focus(),o.editIndex=i}o.onClickRow.call(n,i,s)},loadFilter:function(e){return r(this),o.loadFilter.call(this,e)},onLoadSuccess:function(t){e(n).datagrid("getPanel").find("div.datagrid-group").attr("style",""),o.onLoadSuccess.call(n,t)}})),e(document).unbind(".propertygrid").bind("mousedown.propertygrid",function(n){var i=e(n.target).closest("div.datagrid-view,div.combo-panel");if(i.length)return;r(t),t=undefined})}function r(t){var n=e(t);if(!n.length)return;var r=e.data(t,"propertygrid").options,i=r.editIndex;if(i==undefined)return;var s=n.datagrid("getEditors",i)[0];s&&(s.target.blur(),n.datagrid("validateRow",i)?n.datagrid("endEdit",i):n.datagrid("cancelEdit",i)),r.editIndex=undefined}var t;e.fn.propertygrid=function(t,r){if(typeof t=="string"){var i=e.fn.propertygrid.methods[t];return i?i(this,r):this.datagrid(t,r)}return t=t||{},this.each(function(){var r=e.data(this,"propertygrid");if(r)e.extend(r.options,t);else{var i=e.extend({},e.fn.propertygrid.defaults,e.fn.propertygrid.parseOptions(this),t);i.frozenColumns=e.extend(!0,[],i.frozenColumns),i.columns=e.extend(!0,[],i.columns),e.data(this,"propertygrid",{options:i})}n(this)})},e.fn.propertygrid.methods={options:function(t){return e.data(t[0],"propertygrid").options}},e.fn.propertygrid.parseOptions=function(t){var n=e(t);return e.extend({},e.fn.datagrid.parseOptions(t),e.parser.parseOptions(t,[{showGroup:"boolean"}]))};var i=e.extend({},e.fn.datagrid.defaults.view,{render:function(t,n,r){var i=e.data(t,"datagrid"),s=i.options,o=i.data.rows,u=e(t).datagrid("getColumnFields",r),a=[],f=0,l=this.groups;for(var c=0;c<l.length;c++){var h=l[c];a.push('<div class="datagrid-group" group-index='+c+' style="height:25px;overflow:hidden;border-bottom:1px solid #ccc;">'),a.push('<table cellspacing="0" cellpadding="0" border="0" style="height:100%"><tbody>'),a.push("<tr>"),a.push('<td style="border:0;">'),r||(a.push('<span style="color:#666;font-weight:bold;">'),a.push(s.groupFormatter.call(t,h.fvalue,h.rows)),a.push("</span>")),a.push("</td>"),a.push("</tr>"),a.push("</tbody></table>"),a.push("</div>"),a.push('<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>');for(var p=0;p<h.rows.length;p++){var d=f%2&&s.striped?'class="datagrid-row datagrid-row-alt"':'class="datagrid-row"',v=s.rowStyler?s.rowStyler.call(t,f,h.rows[p]):"",m=v?'style="'+v+'"':"",g=i.rowIdPrefix+"-"+(r?1:2)+"-"+f;a.push('<tr id="'+g+'" datagrid-row-index="'+f+'" '+d+" "+m+">"),a.push(this.renderRow.call(this,t,u,r,f,h.rows[p])),a.push("</tr>"),f++}a.push("</tbody></table>")}e(n).html(a.join(""))},onAfterRender:function(t){var n=e.data(t,"datagrid").options,r=e.data(t,"datagrid").dc,i=r.view,s=r.view1,o=r.view2;e.fn.datagrid.defaults.view.onAfterRender.call(this,t);if(n.rownumbers||n.frozenColumns.length)var u=s.find("div.datagrid-group");else var u=o.find("div.datagrid-group");e('<td style="border:0;text-align:center;width:25px"><span class="datagrid-row-expander datagrid-row-collapse" style="display:inline-block;width:16px;height:16px;cursor:pointer">&nbsp;</span></td>'
).insertBefore(u.find("td")),i.find("div.datagrid-group").each(function(){var n=e(this).attr("group-index");e(this).find("span.datagrid-row-expander").bind("click",{groupIndex:n},function(n){e(this).hasClass("datagrid-row-collapse")?e(t).datagrid("collapseGroup",n.data.groupIndex):e(t).datagrid("expandGroup",n.data.groupIndex)})})},onBeforeRender:function(t,n){function a(e){for(var t=0;t<i.length;t++){var n=i[t];if(n.fvalue==e)return n}return null}var r=e.data(t,"datagrid").options,i=[];for(var s=0;s<n.length;s++){var o=n[s],u=a(o[r.groupField]);u?u.rows.push(o):(u={fvalue:o[r.groupField],rows:[o],startRow:s},i.push(u))}this.groups=i;var f=[];for(var s=0;s<i.length;s++){var u=i[s];for(var l=0;l<u.rows.length;l++)f.push(u.rows[l])}e.data(t,"datagrid").data.rows=f}});e.extend(e.fn.datagrid.methods,{expandGroup:function(t,n){return t.each(function(){var t=e.data(this,"datagrid").dc.view;if(n!=undefined)var r=t.find('div.datagrid-group[group-index="'+n+'"]');else var r=t.find("div.datagrid-group");var i=r.find("span.datagrid-row-expander");i.hasClass("datagrid-row-expand")&&(i.removeClass("datagrid-row-expand").addClass("datagrid-row-collapse"),r.next("table").show()),e(this).datagrid("fixRowHeight")})},collapseGroup:function(t,n){return t.each(function(){var t=e.data(this,"datagrid").dc.view;if(n!=undefined)var r=t.find('div.datagrid-group[group-index="'+n+'"]');else var r=t.find("div.datagrid-group");var i=r.find("span.datagrid-row-expander");i.hasClass("datagrid-row-collapse")&&(i.removeClass("datagrid-row-collapse").addClass("datagrid-row-expand"),r.next("table").hide()),e(this).datagrid("fixRowHeight")})}}),e.fn.propertygrid.defaults=e.extend({},e.fn.datagrid.defaults,{singleSelect:!0,remoteSort:!1,fitColumns:!0,loadMsg:"",frozenColumns:[[{field:"f",width:16,resizable:!1}]],columns:[[{field:"name",title:"Name",width:100,sortable:!0},{field:"value",title:"Value",width:100,resizable:!1}]],showGroup:!1,groupField:"group",groupFormatter:function(e,t){return e}})}(jQuery),function(e){function t(t){var r=e.data(t,"treegrid"),i=r.options;e(t).datagrid(e.extend({},i,{url:null,data:null,loader:function(){return!1},onBeforeLoad:function(){return!1},onLoadSuccess:function(){},onResizeColumn:function(e,r){n(t),i.onResizeColumn.call(t,e,r)},onSortColumn:function(n,r){i.sortName=n,i.sortOrder=r;if(i.remoteSort)u(t);else{var s=e(t).treegrid("getData");o(t,0,s)}i.onSortColumn.call(t,n,r)},onBeforeEdit:function(e,n){if(i.onBeforeEdit.call(t,n)==0)return!1},onAfterEdit:function(e,n,r){i.onAfterEdit.call(t,n,r)},onCancelEdit:function(e,n){i.onCancelEdit.call(t,n)},onSelect:function(e){i.onSelect.call(t,v(t,e))},onUnselect:function(e){i.onUnselect.call(t,v(t,e))},onSelectAll:function(){i.onSelectAll.call(t,e.data(t,"treegrid").data)},onUnselectAll:function(){i.onUnselectAll.call(t,e.data(t,"treegrid").data)},onCheck:function(e){i.onCheck.call(t,v(t,e))},onUncheck:function(e){i.onUncheck.call(t,v(t,e))},onCheckAll:function(){i.onCheckAll.call(t,e.data(t,"treegrid").data)},onUncheckAll:function(){i.onUncheckAll.call(t,e.data(t,"treegrid").data)},onClickRow:function(e){i.onClickRow.call(t,v(t,e))},onDblClickRow:function(e){i.onDblClickRow.call(t,v(t,e))},onClickCell:function(e,n){i.onClickCell.call(t,n,v(t,e))},onDblClickCell:function(e,n){i.onDblClickCell.call(t,n,v(t,e))},onRowContextMenu:function(e,n){i.onContextMenu.call(t,e,v(t,n))}}));if(!i.columns){var s=e.data(t,"datagrid").options;i.columns=s.columns,i.frozenColumns=s.frozenColumns}r.dc=e.data(t,"datagrid").dc;if(i.pagination){var a=e(t).datagrid("getPager");a.pagination({pageNumber:i.pageNumber,pageSize:i.pageSize,pageList:i.pageList,onSelectPage:function(e,n){i.pageNumber=e,i.pageSize=n,u(t)}}),i.pageSize=a.pagination("options").pageSize}}function n(t,n){function u(e){var n=r.finder.getTr(t,e,"body",1),i=r.finder.getTr(t,e,"body",2);n.css("height",""),i.css("height","");var s=Math.max(n.height(),i.height());n.css("height",s),i.css("height",s)}var r=e.data(t,"datagrid").options,i=e.data(t,"datagrid").dc;if(!i.body1.is(":empty")&&(!r.nowrap||r.autoRowHeight)&&n!=undefined){var s=c(t,n);for(var o=0;o<s.length;o++)u(s[o][r.idField])}e(t).datagrid("fixRowHeight",n)}function r(t){var n=e.data(t,"datagrid").dc,r=e.data(t,"treegrid").options;if(!r.rownumbers)return;n.body1.find("div.datagrid-cell-rownumber").each(function(t){e(this).html(t+1)})}function i(t){var n=e.data(t,"datagrid").dc,r=n.body1.add(n.body2),i=(e.data(r[0],"events")||e._data(r[0],"events")).click[0].handler;n.body1.add(n.body2).bind("mouseover",function(t){var n=e(t.target),r=n.closest("tr.datagrid-row");if(!r.length)return;n.hasClass("tree-hit")&&(n.hasClass("tree-expanded")?n.addClass("tree-expanded-hover"):n.addClass("tree-collapsed-hover")),t.stopPropagation()}).bind("mouseout",function(t){var n=e(t.target),r=n.closest("tr.datagrid-row");if(!r.length)return;n.hasClass("tree-hit")&&(n.hasClass("tree-expanded")?n.removeClass("tree-expanded-hover"):n.removeClass("tree-collapsed-hover")),t.stopPropagation()}).unbind("click").bind("click",function(n){var r=e(n.target),s=r.closest("tr.datagrid-row");if(!s.length)return;r.hasClass("tree-hit")?y(t,s.attr("node-id")):i(n),n.stopPropagation()})}function s(t,n){function a(t,n){e('<tr class="treegrid-tr-tree"><td style="border:0px" colspan="'+n+'">'+"<div></div>"+"</td>"+"</tr>").insertAfter(t)}var r=e.data(t,"treegrid").options,i=r.finder.getTr(t,n,"body",1),s=r.finder.getTr(t,n,"body",2),o=e(t).datagrid("getColumnFields",!0).length+(r.rownumbers?1:0),u=e(t).datagrid("getColumnFields",!1).length;a(i,o),a(s,u)}function o(t,i,s,o){var u=e.data(t,"treegrid"),a=u.options,f=u.dc;s=a.loadFilter.call(t,s,i);var l=v(t,i);if(l){var c=a.finder.getTr(t,i,"body",1),h=a.finder.getTr(t,i,"body",2),p=c.next("tr.treegrid-tr-tree").children("td").children("div"),d=h.next("tr.treegrid-tr-tree").children("td").children("div");o||(l.children=[])}else{var p=f.body1,d=f.body2;o||(u.data=[])}o||(p.empty(),d.empty()),a.view.onBeforeRender&&a.view.onBeforeRender.call(a.view,t,i,s),a.view.render.call(a.view,t,p,!0),a.view.render.call(a.view,t,d,!1),a.showFooter&&(a.view.renderFooter.call(a.view,t,f.footer1,!0),a.view.renderFooter.call(a.view,t,f.footer2,!1)),a.view.onAfterRender&&a.view.onAfterRender.call(a.view,t),a.onLoadSuccess.call(t,l,s);if(!i&&a.pagination){var m=e.data(t,"treegrid").total,g=e(t).datagrid("getPager");g.pagination("options").total!=m&&g.pagination({total:m})}n(t),r(t),e(t).treegrid("autoSizeColumn")}function u(t,n,r,i,s){var u=e.data(t,"treegrid").options,a=e(t).datagrid("getPanel").find("div.datagrid-body");r&&(u.queryParams=r);var f=e.extend({},u.queryParams);u.pagination&&e.extend(f,{page:u.pageNumber,rows:u.pageSize}),u.sortName&&e.extend(f,{sort:u.sortName,order:u.sortOrder});var l=v(t,n);if(u.onBeforeLoad.call(t,l,f)==0)return;var c=a.find('tr[node-id="'+n+'"] span.tree-folder');c.addClass("tree-loading"),e(t).treegrid("loading");var h=u.loader.call(t,f,function(r){c.removeClass("tree-loading"),e(t).treegrid("loaded"),o(t,n,r,i),s&&s()},function(){c.removeClass("tree-loading"),e(t).treegrid("loaded"),u.onLoadError.apply(t,arguments),s&&s()});h==0&&(c.removeClass("tree-loading"),e(t).treegrid("loaded"))}function a(e){var t=f(e);return t.length?t[0]:null}function f(t){return e.data(t,"treegrid").data}function l(e,t){var n=v(e,t);return n._parentId?v(e,n._parentId):null}function c(t,n){function a(e){var n=v(t,e);if(n&&n.children)for(var i=0,o=n.children.length;i<o;i++){var u=n.children[i];s.push(u),a(u[r.idField])}}var r=e.data(t,"treegrid").options,i=e(t).datagrid("getPanel").find("div.datagrid-view2 div.datagrid-body"),s=[];if(n)a(n);else{var o=f(t);for(var u=0;u<o.length;u++)s.push(o[u]),a(o[u][r.idField])}return s}function h(e){var t=p(e);return t.length?t[0]:null}function p(t){var n=[],r=e(t).datagrid("getPanel");return r.find("div.datagrid-view2 div.datagrid-body tr.datagrid-row-selected").each(function(){var r=e(this).attr("node-id");n.push(v(t,r))}),n}function d(t,n){if(!n)return 0;var r=e.data(t,"treegrid").options,i=e(t).datagrid("getPanel").children("div.datagrid-view"),s=i.find('div.datagrid-body tr[node-id="'+n+'"]').children('td[field="'+r.treeField+'"]');return s.find("span.tree-indent,span.tree-hit").length}function v(t,n){var r=e.data(t,"treegrid").options,i=e.data(t,"treegrid").data,s=[i];while(s.length){var o=s.shift();for(var u=0;u<o.length;u++){var a=o[u];if(a[r.idField]==n)return a;a.children&&s.push(a.children)}}return null}function m(t,r){var i=e.data(t,"treegrid").options,s=v(t,r),o=i.finder.getTr(t,r),u=o.find("span.tree-hit");if(u.length==0)return;if(u.hasClass("tree-collapsed"))return;if(i.onBeforeCollapse.call(t,s)==0)return;u.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),u.next().removeClass("tree-folder-open"),s.state="closed",o=o.next("tr.treegrid-tr-tree");var a=o.children("td").children("div");i.animate?a.slideUp("normal",function(){e(t).treegrid("autoSizeColumn"),n(t,r),i.onCollapse.call(t,s)}):(a.hide(),e(t).treegrid("autoSizeColumn"),n(t,r),i.onCollapse.call(t,s))}function g(t,r){function p(s){f.state="open",i.animate?s.slideDown("normal",function(){e(t).treegrid("autoSizeColumn"),n(t,r),i.onExpand.call(t,f)}):(s.show(),e(t).treegrid("autoSizeColumn"),n(t,r),i.onExpand.call(t,f))}var i=e.data(t,"treegrid").options,o=i.finder.getTr(t,r),a=o.find("span.tree-hit"),f=v(t,r);if(a.length==0)return;if(a.hasClass("tree-expanded"))return;if(i.onBeforeExpand.call(t,f)==0)return;a.removeClass("tree-collapsed tree-collapsed-hover").addClass("tree-expanded"),a.next().addClass("tree-folder-open");var l=o.next("tr.treegrid-tr-tree");if(l.length){var c=l.children("td").children("div");p(c)}else{s(t,f[i.idField]);var l=o.next("tr.treegrid-tr-tree"),c=l.children("td").children("div");c.hide();var h=e.extend({},i.queryParams||{});h.id=f[i.idField],u(t,f[i.idField],h,!0,function(){c.is(":empty")?l.remove():p(c)})}}function y(t,n){var r=e.data(t,"treegrid").options,i=r.finder.getTr(t,n),s=i.find("span.tree-hit");s.hasClass("tree-expanded")?m(t,n):g(t,n)}function b(t,n){var r=e.data(t,"treegrid").options,i=c(t,n);n&&i.unshift(v(t,n));for(var s=0;s<i.length;s++)m(t,i[s][r.idField])}function w(t,n){var r=e.data(t,"treegrid").options,i=c(t,n);n&&i.unshift(v(t,n));for(var s=0;s<i.length;s++)g(t,i[s][r.idField])}function E(t,n){var r=e.data(t,"treegrid").options,i=[],s=l(t,n);while(s){var o=s[r.idField];i.unshift(o),s=l(t,o)}for(var u=0;u<i.length;u++)g(t,i[u])}function S(t,n){var r=e.data(t,"treegrid").options;if(n.parent){var i=r.finder.getTr(t,n.parent);i.next("tr.treegrid-tr-tree").length==0&&s(t,n.parent);var u=i.children('td[field="'+r.treeField+'"]').children("div.datagrid-cell"),a=u.children("span.tree-icon");if(a.hasClass("tree-file")){a.removeClass("tree-file").addClass("tree-folder tree-folder-open");var f=e('<span class="tree-hit tree-expanded"></span>').insertBefore(a);f.prev().length&&f.prev().remove()}}o(t,n.parent,n.data,!0)}function x(t,n){function u(e){var r=e?1:2,o=s.finder.getTr(t,n.data[s.idField],"body",r),u=o.closest("table.datagrid-btable");o=o.parent().children();var a=s.finder.getTr(t,i,"body",r);if(n.before)o.insertBefore(a);else{var f=a.next("tr.treegrid-tr-tree");o.insertAfter(f.length?f:a)}u.remove()}var i=n.before||n.after,s=e.data(t,"treegrid").options,o=l(t,i);S(t,{parent:o?o[s.idField]:null,data:[n.data]}),u(!0),u(!1),r(t)}function T(t,n){function a(r){var s,o=l(t,n);o?s=o.children:s=e(t).treegrid("getData");for(var u=0;u<s.length;u++)if(s[u][i.idField]==r){s.splice(u,1);break}return o}var i=e.data(t,"treegrid").options,s=i.finder.getTr(t,n);s.next("tr.treegrid-tr-tree").remove(),s.remove();var o=a(n);if(o&&o.children.length==0){s=i.finder.getTr(t,o[i.idField]),s.next("tr.treegrid-tr-tree").remove();var u=s.children('td[field="'+i.treeField+'"]').children("div.datagrid-cell");u.find(".tree-icon").removeClass("tree-folder").addClass("tree-file"),u.find(".tree-hit").remove(),e('<span class="tree-indent"></span>').prependTo(u)}r(t)}e.fn.treegrid=function(n,r){if(typeof n=="string"){var s=e.fn.treegrid.methods[n];return s?s(this,r):this.datagrid(n,r)}return n=n||{},this.each(function(){var r=e.data(this,"treegrid");r?e.extend(r.options,n):r=e.data(this,"treegrid",{options:e.extend({},e.fn.treegrid.defaults,e.fn.treegrid.parseOptions(this),n),data:[]}),t(this),r.options.data&&e(this).treegrid("loadData",r.options.data),u(this),i(this)})},e.fn.treegrid.methods={options:function(t){return e.data(t[0],"treegrid").options},resize:function(t,n){return t.each(function(){e(this).datagrid("resize",n)})},fixRowHeight:function(e,t){return e.each(function(){n(this,t)})},loadData:function(e,t){return e.each(function(){o(this,t.parent,t)})},load:function(t,n){return t.each(function(){e(this).treegrid("options").pageNumber=1,e(this).treegrid("getPager").pagination({pageNumber:1}),e(this).treegrid("reload",n)})},reload:function(t,n){return t.each(function(){var t=e(this).treegrid("options"),r={};typeof n=="object"?r=n:(r=e.extend({},t.queryParams),r.id=n);if(r.id){var i=e(this).treegrid("find",r.id);i.children&&i.children.splice(0,i.children.length),t.queryParams=r;var s=t.finder.getTr(this,r.id);s.next("tr.treegrid-tr-tree").remove(),s.find("span.tree-hit").removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed"),g(this,r.id)}else u(this,null,r)})},reloadFooter:function(t,n){return t.each(function(){var t=e.data(this,"treegrid").options,r=e.data(this,"datagrid").dc;n&&(e.data(this,"treegrid").footer=n),t.showFooter&&(t.view.renderFooter.call(t.view,this,r.footer1,!0),t.view.renderFooter.call(t.view,this,r.footer2,!1),t.view.onAfterRender&&t.view.onAfterRender.call(t.view,this),e(this).treegrid("fixRowHeight"))})},getData:function(t){return e.data(t[0],"treegrid").data},getFooterRows:function(t){return e.data(t[0],"treegrid").footer},getRoot:function(e){return a(e[0])},getRoots:function(e){return f(e[0])},getParent:function(e,t){return l(e[0],t)},getChildren:function(e,t){return c(e[0],t)},getSelected:function(e){return h(e[0])},getSelections:function(e){return p(e[0])},getLevel:function(e,t){return d(e[0],t)},find:function(e,t){return v(e[0],t)},isLeaf:function(t,n){var r=e.data(t[0],"treegrid").options,i=r.finder.getTr(t[0],n),s=i.find("span.tree-hit");return s.length==0},select:function(t,n){return t.each(function(){e(this).datagrid("selectRow",n)})},unselect:function(t,n){return t.each(function(){e(this).datagrid("unselectRow",n)})},collapse:function(e,t){return e.each(function(){m(this,t)})},expand:function(e,t){return e.each(function(){g(this,t)})},toggle:function(e,t){return e.each(function(){y(this,t)})},collapseAll:function(e,t){return e.each(function(){b(this,t)})},expandAll:function(e,t){return e.each(function(){w(this,t)})},expandTo:function(e,t){return e.each(function(){E(this,t)})},append:function(e,t){return e.each(function(){S(this,t)})},insert:function(e,t){return e.each(function(){x(this,t)})},remove:function(e,t){return e.each(function(){T(this,t)})},pop:function(e,t){var n=e.treegrid("find",t);return e.treegrid("remove",t),n},refresh:function(t,n){return t.each(function(){var t=e.data(this,"treegrid").options;t.view.refreshRow.call(t.view,this,n)})},update:function(t,n){return t.each(function(){var t=e.data(this,"treegrid").options;t.view.updateRow.call(t.view,this,n.id,n.row)})},beginEdit:function(t,n){return t.each(function(){e(this).datagrid("beginEdit",n),e(this).treegrid("fixRowHeight",n)})},endEdit:function(t,n){return t.each(function(){e(this).datagrid("endEdit",n)})},cancelEdit:function(t,n){return t.each(function(){e(this).datagrid("cancelEdit",n)})}},e.fn.treegrid.parseOptions=function(t){return e.extend({},e.fn.datagrid.parseOptions(t),e.parser.parseOptions(t,["treeField",{animate:"boolean"}]))};var N=e.extend({},e.fn.datagrid.defaults.view,{render:function(t,n,r){function l(e,n,r){var f=['<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>'];for(var c=0;c<r.length;c++){var h=r[c];h.state!="open"&&h.state!="closed"&&(h.state="open");var p=i.rowStyler?i.rowStyler.call(t,h):"",d="",v="";typeof p=="string"?v=p:p&&(d=p["class"]||"",v=p.style||"");var m='class="datagrid-row '+(u++%2&&i.striped?"datagrid-row-alt ":" ")+d+'"',g=v?'style="'+v+'"':"",y=o+"-"+(e?1:2)+"-"+h[i.idField];f.push('<tr id="'+y+'" node-id="'+h[i.idField]+'" '+m+" "+g+">"),f=f.concat(a.renderRow.call(a,t,s,e,n,h)),f.push("</tr>");if(h.children&&h.children.length){var b=l(e,n+1,h.children),w=h.state=="closed"?"none":"block";f.push('<tr class="treegrid-tr-tree"><td style="border:0px" colspan='+(s.length+(i.rownumbers?1:0))+'><div style="display:'+w+'">'),f=f.concat(b),f.push("</div></td></tr>")}}return f.push("</tbody></table>"),f}var i=e.data(t,"treegrid").options,s=e(t).datagrid("getColumnFields",r),o=e.data(t,"datagrid").rowIdPrefix;if(r&&!(i.rownumbers||i.frozenColumns&&i.frozenColumns.length))return;var u=0,a=this,f=l(r,this.treeLevel,this.treeNodes);e(n).append(f.join(""))},renderFooter:function(t,n,r){var i=e.data(t,"treegrid").options,s=e.data(t,"treegrid").footer||[],o=e(t).datagrid("getColumnFields",r),u=['<table class="datagrid-ftable" cellspacing="0" cellpadding="0" border="0"><tbody>'];for(var a=0;a<s.length;a++){var f=s[a];f[i.idField]=f[i.idField]||"foot-row-id"+a,u.push('<tr class="datagrid-row" node-id="'+f[i.idField]+'">'),u.push(this.renderRow.call(this,t,o,r,0,f)),u.push("</tr>")}u.push("</tbody></table>"),e(n).html(u.join(""))},renderRow:function(t,n,r,i,s){var o=e.data(t,"treegrid").options,u=[];r&&o.rownumbers&&u.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">0</div></td>');for(var a=0;a<n.length;a++){var f=n[a],l=e(t).datagrid("getColumnOption",f);if(l){var c=l.styler?l.styler(s[f],s)||"":"",h="",p="";typeof c=="string"?p=c:u&&(h=c["class"]||"",p=c.style||"");var d=h?'class="'+h+'"':"",v=l.hidden?'style="display:none;'+p+'"':p?'style="'+p+'"':"";u.push('<td field="'+f+'" '+d+" "+v+">");if(l.checkbox)var v="";else{var v=p;l.align&&(v+=";text-align:"+l.align+";"),o.nowrap?o.autoRowHeight&&(v+=";height:auto;"):v+=";white-space:normal;height:auto;"}u.push('<div style="'+v+'" '),l.checkbox?u.push('class="datagrid-cell-check '):u.push('class="datagrid-cell '+l.cellClass),u.push('">');if(l.checkbox)s.checked?u.push('<input type="checkbox" checked="checked"'):u.push('<input type="checkbox"'),u.push(' name="'+f+'" value="'+(s[f]!=undefined?s[f]:"")+'"/>');else{var m=null;l.formatter?m=l.formatter(s[f],s):m=s[f];if(f==o.treeField){for(var g=0;g<i;g++)u.push('<span class="tree-indent"></span>');s.state=="closed"?(u.push('<span class="tree-hit tree-collapsed"></span>'),u.push('<span class="tree-icon tree-folder '+(s.iconCls?s.iconCls:"")+'"></span>')):s.children&&s.children.length?(u.push('<span class="tree-hit tree-expanded"></span>'),u.push('<span class="tree-icon tree-folder tree-folder-open '+(s.iconCls?s.iconCls:"")+'"></span>')):(u.push('<span class="tree-indent"></span>'),u.push('<span class="tree-icon tree-file '+(s.iconCls?s.iconCls:"")+'"></span>')),u.push('<span class="tree-title">'+m+"</span>")}else u.push(m)}u.push("</div>"),u.push("</td>")}}return u.join("")},refreshRow:function(e,t){this.updateRow.call(this,e,t,{})},updateRow:function(t,n,r){function a(r){var a=e(t).treegrid("getColumnFields",r),f=i.finder.getTr(t,n,"body",r?1:2),l=f.find("div.datagrid-cell-rownumber").html(),c=f.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");f.html(this.renderRow(t,a,r,o,s)),f.attr("style",u||""),f.find("div.datagrid-cell-rownumber").html(l),c&&f.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",!0)}var i=e.data(t,"treegrid").options,s=e(t).treegrid("find",n);e.extend(s,r);var o=e(t).treegrid("getLevel",n)-1,u=i.rowStyler?i.rowStyler.call(t,s):"";a.call(this,!0),a.call(this,!1),e(t).treegrid("fixRowHeight",n)},onBeforeRender:function(t,n,r){e.isArray(n)&&(r={total:n.length,rows:n},n=null);if(!r)return!1;var i=e.data(t,"treegrid"),s=i.options;if(r.length==undefined)r.footer&&(i.footer=r.footer),r.total&&(i.total=r.total),r=this.transfer(t,n,r.rows);else{function o(e,t){for(var n=0;n<e.length;n++){var r=e[n];r._parentId=t,r.children&&r.children.length&&o(r.children,r[s.idField])}}o(r,n)}var u=v(t,n);u?u.children?u.children=u.children.concat(r):u.children=r:i.data=i.data.concat(r),this.sort(t,r),this.treeNodes=r,this.treeLevel=e(t).treegrid("getLevel",n)},sort:function(t,n){function o(n){n.sort(function(n,r){var o=0;for(var u=0;u<i.length;u++){var a=i[u],f=s[u],l=e(t).treegrid("getColumnOption",a),c=l.sorter||function(e,t){return e==t?0:e>t?1:-1};o=c(n[a],r[a])*(f=="asc"?1:-1);if(o!=0)return o}return o});for(var r=0;r<n.length;r++){var u=n[r].children;u&&u.length&&o(u)}}var r=e.data(t,"treegrid").options;if(!r.remoteSort&&r.sortName){var i=r.sortName.split(","),s=r.sortOrder.split(",");o(n)}},transfer:function(t,n,r){var i=e.data(t,"treegrid").options,s=[];for(var o=0;o<r.length;o++)s.push(r[o]);var u=[];for(var o=0;o<s.length;o++){var a=s[o];n?a._parentId==n&&(u.push(a),s.splice(o,1),o--):a._parentId||(u.push(a),s.splice(o,1),o--)}var f=[];for(var o=0;o<u.length;o++)f.push(u[o]);while(f.length){var l=f.shift();for(var o=0;o<s.length;o++){var a=s[o];a._parentId==l[i.idField]&&(l.children?l.children.push(a):l.children=[a],f.push(a),s.splice(o,1),o--)}}return u}});e.fn.treegrid.defaults=e.extend({},e.fn.datagrid.defaults,{treeField:null,animate:!1,singleSelect:!0,view:N,loader:function(t,n,r){var i=e(this).treegrid("options");if(!i.url)return!1;e.ajax({type:i.method,url:i.url,data:t,dataType:"json",success:function(e){n(e)},error:function(){r.apply(this,arguments)}})},loadFilter:function(e,t){return e},finder:{getTr:function(t,n,r,i){r=r||"body",i=i||0;var s=e.data(t,"datagrid").dc;if(i==0){var o=e.data(t,"treegrid").options,u=o.finder.getTr(t,n,r,1),a=o.finder.getTr(t,n,r,2);return u.add(a)}if(r=="body"){var f=e("#"+e.data(t,"datagrid").rowIdPrefix+"-"+i+"-"+n);return f.length||(f=(i==1?s.body1:s.body2).find('tr[node-id="'+n+'"]')),f}if(r=="footer")return(i==1?s.footer1:s.footer2).find('tr[node-id="'+n+'"]');if(r=="selected")return(i==1?s.body1:s.body2).find("tr.datagrid-row-selected");if(r=="highlight")return(i==1?s.body1:s.body2).find("tr.datagrid-row-over");if(r=="checked")return(i==1?s.body1:s.body2).find("tr.datagrid-row:has(div.datagrid-cell-check input:checked)");if(r=="last")return(i==1?s.body1:s.body2).find("tr:last[node-id]");if(r=="allbody")return(i==1?s.body1:s.body2).find("tr[node-id]");if(r=="allfooter")return(i==1?s.footer1:s.footer2).find("tr[node-id]")},getRow:function(t,n){var r=typeof n=="object"?n.attr("node-id"):n;return e(t).treegrid("find",r)}},onBeforeLoad:function(e,t){},onLoadSuccess:function(e,t){},onLoadError:function(){},onBeforeCollapse:function(e){},onCollapse:function(e){},onBeforeExpand:function(e){},onExpand:function(e){},onClickRow:function(e){},onDblClickRow:function(e){},onClickCell:function(e,t){},onDblClickCell:function(e,t){},onContextMenu:function(e,t){},onBeforeEdit:function(e){},onAfterEdit:function(e,t){},onCancelEdit:function(e){}})}(jQuery),function(e){function t(t,n){var r=e.data(t,"combo"),i=r.options,s=r.combo,o=r.panel;n&&(i.width=n);if(isNaN(i.width)){var u=e(t).clone();u.css("visibility","hidden"),u.appendTo("body"),i.width=u.outerWidth(),u.remove()}s.appendTo("body");var a=s.find("input.combo-text"),f=s.find(".combo-arrow"),l=i.hasDownArrow?f._outerWidth():0;s._outerWidth(i.width)._outerHeight(i.height),a._outerWidth(s.width()-l),a.css({height:s.height()+"px",lineHeight:s.height()+"px"}),f._outerHeight(s.height()),o.panel("resize",{width:i.panelWidth?i.panelWidth:s.outerWidth(),height:i.panelHeight}),s.insertAfter(t)}function n(t){e(t).addClass("combo-f").hide();var n=e('<span class="combo"><input type="text" class="combo-text" autocomplete="off"><span><span class="combo-arrow"></span></span><input type="hidden" class="combo-value"></span>').insertAfter(t),r=e('<div class="combo-panel"></div>').appendTo("body");r.panel({doSize:!1,closed:!0,cls:"combo-p",style:{position:"absolute",zIndex:10},onOpen:function(){e(this).panel("resize")},onClose:function(){var n=e.data(t,"combo");n&&n.options.onHidePanel.call(t)}});var i=e(t).attr("name");return i&&(n.find("input.combo-value").attr("name",i),e(t).removeAttr("name").attr("comboName",i)),{combo:n,panel:r}}function r(t){var n=e.data(t,"combo"),r=n.options,i=n.combo;r.hasDownArrow?i.find(".combo-arrow").show():i.find(".combo-arrow").hide(),f(t,r.disabled),l(t,r.readonly)}function i(t){var n=e.data(t,"combo"),r=n.combo.find("input.combo-text");r.validatebox("destroy"),n.panel.panel("destroy"),n.combo.remove(),e(t).remove()}function s(t){var n=e.data(t,"combo"),r=n.options,i=n.panel,s=n.combo,o=s.find(".combo-text"),a=s.find(".combo-arrow");e(document).unbind(".combo").bind("mousedown.combo",function(t){var n=e(t.target).closest("span.combo,div.combo-panel");if(n.length)return;e("body>div.combo-p>div.combo-panel:visible").panel("close")}),o.unbind(".combo"),a.unbind(".combo"),!r.disabled&&!r.readonly&&(o.bind("mousedown.combo",function(t){var n=e(this).closest("div.combo-panel");e("div.combo-panel").not(i).not(n).panel("close"),t.stopPropagation()}).bind("keydown.combo",function(i){switch(i.keyCode){case 38:r.keyHandler.up.call(t);break;case 40:r.keyHandler.down.call(t);break;case 37:r.keyHandler.left.call(t);break;case 39:r.keyHandler.right.call(t);break;case 13:return i.preventDefault(),r.keyHandler.enter.call(t),!1;case 9:case 27:u(t);break;default:r.editable&&(n.timer&&clearTimeout(n.timer),n.timer=setTimeout(function(){var i=o.val();n.previousValue!=i&&(n.previousValue=i,e(t).combo("showPanel"),r.keyHandler.query.call(t,o.val()),e(t).combo("validate"))},r.delay))}}),a.bind("click.combo",function(){if(i.is(":visible"))u(t);else{var n=e(this).closest("div.combo-panel");e("div.combo-panel:visible").not(n).panel("close"),e(t).combo("showPanel")}o.focus()}).bind("mouseenter.combo",function(){e(this).addClass("combo-arrow-hover")}).bind("mouseleave.combo",function(){e(this).removeClass("combo-arrow-hover")}))}function o(t){function s(){var t=r.offset().left;return t+i._outerWidth()>e(window)._outerWidth()+e(document).scrollLeft()&&(t=e(window)._outerWidth()+e(document).scrollLeft()-i._outerWidth()),t<0&&(t=0),t}function o(){var t=r.offset().top+r._outerHeight();return t+i._outerHeight()>e(window)._outerHeight()+e(document).scrollTop()&&(t=r.offset().top-i._outerHeight()),t<e(document).scrollTop()&&(t=r.offset().top+r._outerHeight()),t}var n=e.data(t,"combo").options,r=e.data(t,"combo").combo,i=e.data(t,"combo").panel;e.fn.window&&i.panel("panel").css("z-index",e.fn.window.defaults.zIndex++),i.panel("move",{left:r.offset().left,top:o()}),i.panel("options").closed&&(i.panel("open"),n.onShowPanel.call(t)),function(){i.is(":visible")&&(i.panel("move",{left:s(),top:o()}),setTimeout(arguments.callee,200))}()}function u(t){var n=e.data(t,"combo").panel;n.panel("close")}function a(t){var n=e.data(t,"combo").options,r=e(t).combo("textbox");r.validatebox(e.extend({},n,{deltaX:n.hasDownArrow?n.deltaX:n.deltaX>0?1:-1}))}function f(t,n){var r=e.data(t,"combo"),i=r.options,s=r.combo;n?(i.disabled=!0,e(t).attr("disabled",!0),s.find(".combo-value").attr("disabled",!0),s.find(".combo-text").attr("disabled",!0)):(i.disabled=!1,e(t).removeAttr("disabled"),s.find(".combo-value").removeAttr("disabled"),s.find(".combo-text").removeAttr("disabled"))}function l(t,n){var r=e.data(t,"combo"),i=r.options;i.readonly=n==undefined?!0:n,r.combo.find(".combo-text").attr("readonly",i.readonly?!0:!i.editable)}function c(t){var n=e.data(t,"combo"),r=n.options,i=n.combo;r.multiple?i.find("input.combo-value").remove():i.find("input.combo-value").val(""),i.find("input.combo-text").val("")}function h(t){var n=e.data(t,"combo").combo;return n.find("input.combo-text").val()}function p(t,n){var r=e.data(t,"combo"),i=r.combo.find("input.combo-text");i.val()!=n&&(i.val(n),e(t).combo("validate"),r.previousValue=n)}function d(t){var n=[],r=e.data(t,"combo").combo;return r.find("input.combo-value").each(function(){n.push(e(this).val())}),n}function v(t,n){var r=e.data(t,"combo").options,i=d(t),s=e.data(t,"combo").combo;s.find("input.combo-value").remove();var o=e(t).attr("comboName");for(var u=0;u<n.length;u++){var a=e('<input type="hidden" class="combo-value">').appendTo(s);o&&a.attr("name",o),a.val(n[u])}var f=[];for(var u=0;u<i.length;u++)f[u]=i[u];var l=[];for(var u=0;u<n.length;u++)for(var c=0;c<f.length;c++)if(n[u]==f[c]){l.push(n[u]),f.splice(c,1);break}if(l.length!=n.length||n.length!=i.length)r.multiple?r.onChange.call(t,n,i):r.onChange.call(t,n[0],i[0])}function m(e){var t=d(e);return t[0]}function g(e,t){v(e,[t])}function y(t){var n=e.data(t,"combo").options,r=n.onChange;n.onChange=function(){},n.multiple?(n.value?typeof n.value=="object"?v(t,n.value):g(t,n.value):v(t,[]),n.originalValue=d(t)):(g(t,n.value),n.originalValue=n.value),n.onChange=r}e.fn.combo=function(i,o){if(typeof i=="string"){var u=e.fn.combo.methods[i];return u?u(this,o):this.each(function(){var t=e(this).combo("textbox");t.validatebox(i,o)})}return i=i||{},this.each(function(){var o=e.data(this,"combo");if(o)e.extend(o.options,i);else{var u=n(this);o=e.data(this,"combo",{options:e.extend({},e.fn.combo.defaults,e.fn.combo.parseOptions(this),i),combo:u.combo,panel:u.panel,previousValue:null}),e(this).removeAttr("disabled")}r(this),t(this),s(this),a(this),y(this)})},e.fn.combo.methods={options:function(t){return e.data(t[0],"combo").options},panel:function(t){return e.data(t[0],"combo").panel},textbox:function(t){return e.data(t[0],"combo").combo.find("input.combo-text")},destroy:function(e){return e.each(function(){i(this)})},resize:function(e,n){return e.each(function(){t(this,n)})},showPanel:function(e){return e.each(function(){o(this)})},hidePanel:function(e){return e.each(function(){u(this)})},disable:function(e){return e.each(function(){f(this,!0),s(this)})},enable:function(e){return e.each(function(){f(this,!1),s(this)})},readonly:function(e,t){return e.each(function(){l(this,t),s(this)})},clear:function(e){return e.each(function(){c(this)})},reset:function(t){return t.each(function(){var t=e.data(this,"combo").options;t.multiple?e(this).combo("setValues",t.originalValue):e(this).combo("setValue",t.originalValue)})},getText:function(e){return h(e[0])},setText:function(e,t){return e.each(function(){p(this,t)})},getValues:function(e){return d(e[0])},setValues:function(e,t){return e.each(function(){v(this,t)})},getValue:function(e){return m(e[0])},setValue:function(e,t){return e.each(function(){g(this,t)})}},e.fn.combo.parseOptions=function(t){var n=e(t);return e.extend({},e.fn.validatebox.parseOptions(t),e.parser.parseOptions(t,["width","height","separator",{panelWidth:"number",editable:"boolean",hasDownArrow:"boolean",delay:"number",selectOnNavigation:"boolean"}]),{panelHeight:n.attr("panelHeight")=="auto"?"auto":parseInt(n.attr("panelHeight"))||undefined,multiple:n.attr("multiple")?!0:undefined,disabled:n.attr("disabled")?!0:undefined,readonly:n.attr("readonly")?!0:undefined,value:n.val()||undefined})},e.fn.combo.defaults=e.extend({},e.fn.validatebox.defaults,{width:"auto",height:22,panelWidth:null,panelHeight:200,multiple:!1,selectOnNavigation:!0,separator:",",editable:!0,disabled:!1,readonly:!1,hasDownArrow:!0,value:"",delay:200,deltaX:19,keyHandler:{up:function(){},down:function(){},left:function(){},right:function(){},enter:function(){},query:function(e){}},onShowPanel:function(){},onHidePanel:function(){},onChange:function(e,t){}})}(jQuery),function(e){function t(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(i[t]==n)return i}return null}function n(t,n){var r=e(t).combo("panel"),i=r.find('div.combobox-item[value="'+n+'"]');if(i.length)if(i.position().top<=0){var s=r.scrollTop()+i.position().top;r.scrollTop(s)}else if(i.position().top+i.outerHeight()>r.height()){var s=r.scrollTop()+i.position().top+i.outerHeight()-r.height();r.scrollTop(s)}}function r(t,r){var s=e(t).combobox("options"),o=e(t).combobox("panel"),u=o.children("div.combobox-item-hover");u.length||(u=o.children("div.combobox-item-selected")),u.removeClass("combobox-item-hover"),u.length?r=="next"?(u=u.nextAll("div.combobox-item:visible:first"),u.length||(u=o.children("div.combobox-item:visible:first"))):(u=u.prevAll("div.combobox-item:visible:first"),u.length||(u=o.children("div.combobox-item:visible:last"))):u=o.children("div.combobox-item:visible:"+(r=="next"?"first":"last")),u.length&&(u.addClass("combobox-item-hover"),n(t,u.attr("value")),s.selectOnNavigation&&i(t,u.attr("value")))}function i(n,r){var i=e.data(n,"combobox").options,s=e.data(n,"combobox").data;if(i.multiple){var u=e(n).combo("getValues");for(var a=0;a<u.length;a++)if(u[a]==r)return;u.push(r),o(n,u)}else o(n,[r]);var f=t(s,i.valueField,r);f&&i.onSelect
.call(n,f)}function s(n,r){var i=e.data(n,"combobox"),s=i.options,u=e(n).combo("getValues"),a=e.inArray(r+"",u);a>=0&&(u.splice(a,1),o(n,u));var f=t(i.data,s.valueField,r);f&&s.onUnselect.call(n,f)}function o(n,r,i){var s=e.data(n,"combobox").options,o=e.data(n,"combobox").data,u=e(n).combo("panel");u.find("div.combobox-item-selected").removeClass("combobox-item-selected");var a=[],f=[];for(var l=0;l<r.length;l++){var c=r[l],h=c,p=t(o,s.valueField,c);p&&(h=p[s.textField]),a.push(c),f.push(h),u.find('div.combobox-item[value="'+c+'"]').addClass("combobox-item-selected")}e(n).combo("setValues",a),i||e(n).combo("setText",f.join(s.separator))}function u(t,n,r){var i=e.data(t,"combobox"),s=i.options;i.data=s.loadFilter.call(t,n),n=i.data;var u=e(t).combobox("getValues"),a=[],f=undefined;for(var l=0;l<n.length;l++){var c=n[l],h=c[s.valueField],p=c[s.textField],d=c[s.groupField];d?f!=d&&(f=d,a.push('<div class="combobox-group" value="'+d+'">'),a.push(s.groupFormatter?s.groupFormatter.call(t,d):d),a.push("</div>")):f=undefined,a.push('<div class="combobox-item'+(d?" combobox-gitem":"")+'" value="'+h+'"'+(d?' group="'+d+'"':"")+">"),a.push(s.formatter?s.formatter.call(t,c):p),a.push("</div>"),c.selected&&function(){for(var e=0;e<u.length;e++)if(h==u[e])return;u.push(h)}()}e(t).combo("panel").html(a.join("")),s.multiple?o(t,u,r):u.length?o(t,[u[u.length-1]],r):o(t,[],r),s.onLoadSuccess.call(t,n)}function a(t,n,r,i){var s=e.data(t,"combobox").options;n&&(s.url=n),r=r||{};if(s.onBeforeLoad.call(t,r)==0)return;s.loader.call(t,r,function(e){u(t,e,i)},function(){s.onLoadError.apply(this,arguments)})}function f(t,n){var r=e.data(t,"combobox"),i=r.options;i.multiple&&!n?o(t,[],!0):o(t,[n],!0);if(i.mode=="remote")a(t,null,{q:n},!0);else{var s=e(t).combo("panel");s.find("div.combobox-item,div.combobox-group").hide();var u=r.data,f=undefined;for(var l=0;l<u.length;l++){var c=u[l];if(i.filter.call(t,n,c)){var h=c[i.valueField],p=c[i.textField],d=c[i.groupField],c=s.find('div.combobox-item[value="'+h+'"]');c.show(),p==n&&(o(t,[h],!0),c.addClass("combobox-item-selected")),i.groupField&&f!=d&&(s.find('div.combobox-group[value="'+d+'"]').show(),f=d)}}}}function l(n){var r=e(n),i=r.combobox("panel"),s=r.combobox("options"),o=r.combobox("getData"),u=i.children("div.combobox-item-hover");u.length||(u=i.children("div.combobox-item-selected"));if(!u.length)return;s.multiple?u.hasClass("combobox-item-selected")?r.combobox("unselect",u.attr("value")):r.combobox("select",u.attr("value")):(r.combobox("select",u.attr("value")),r.combobox("hidePanel"));var a=[],f=r.combobox("getValues");for(var l=0;l<f.length;l++)t(o,s.valueField,f[l])&&a.push(f[l]);r.combobox("setValues",a)}function c(t){var r=e.data(t,"combobox").options;e(t).addClass("combobox-f"),e(t).combo(e.extend({},r,{onShowPanel:function(){e(t).combo("panel").find("div.combobox-item").show(),n(t,e(t).combobox("getValue")),r.onShowPanel.call(t)}})),e(t).combo("panel").unbind().bind("mouseover",function(t){e(this).children("div.combobox-item-hover").removeClass("combobox-item-hover"),e(t.target).closest("div.combobox-item").addClass("combobox-item-hover"),t.stopPropagation()}).bind("mouseout",function(t){e(t.target).closest("div.combobox-item").removeClass("combobox-item-hover"),t.stopPropagation()}).bind("click",function(n){var o=e(n.target).closest("div.combobox-item");if(!o.length)return;var u=o.attr("value");r.multiple?o.hasClass("combobox-item-selected")?s(t,u):i(t,u):(i(t,u),e(t).combo("hidePanel")),n.stopPropagation()})}e.fn.combobox=function(t,n){if(typeof t=="string"){var r=e.fn.combobox.methods[t];return r?r(this,n):this.combo(t,n)}return t=t||{},this.each(function(){var n=e.data(this,"combobox");if(n)e.extend(n.options,t),c(this);else{n=e.data(this,"combobox",{options:e.extend({},e.fn.combobox.defaults,e.fn.combobox.parseOptions(this),t),data:[]}),c(this);var r=e.fn.combobox.parseData(this);r.length&&u(this,r)}n.options.data&&u(this,n.options.data),a(this)})},e.fn.combobox.methods={options:function(t){var n=t.combo("options");return e.extend(e.data(t[0],"combobox").options,{originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},getData:function(t){return e.data(t[0],"combobox").data},setValues:function(e,t){return e.each(function(){o(this,t)})},setValue:function(e,t){return e.each(function(){o(this,[t])})},clear:function(t){return t.each(function(){e(this).combo("clear");var t=e(this).combo("panel");t.find("div.combobox-item-selected").removeClass("combobox-item-selected")})},reset:function(t){return t.each(function(){var t=e(this).combobox("options");t.multiple?e(this).combobox("setValues",t.originalValue):e(this).combobox("setValue",t.originalValue)})},loadData:function(e,t){return e.each(function(){u(this,t)})},reload:function(e,t){return e.each(function(){a(this,t)})},select:function(e,t){return e.each(function(){i(this,t)})},unselect:function(e,t){return e.each(function(){s(this,t)})}},e.fn.combobox.parseOptions=function(t){var n=e(t);return e.extend({},e.fn.combo.parseOptions(t),e.parser.parseOptions(t,["valueField","textField","groupField","mode","method","url"]))},e.fn.combobox.parseData=function(t){function i(t,i){var s=e(t),o={};o[r.valueField]=s.attr("value")!=undefined?s.attr("value"):s.html(),o[r.textField]=s.html(),o.selected=s.is(":selected"),i&&(r.groupField=r.groupField||"group",o[r.groupField]=i),n.push(o)}var n=[],r=e(t).combobox("options");return e(t).children().each(function(){if(this.tagName.toLowerCase()=="optgroup"){var t=e(this).attr("label");e(this).children().each(function(){i(this,t)})}else i(this)}),n},e.fn.combobox.defaults=e.extend({},e.fn.combo.defaults,{valueField:"value",textField:"text",groupField:null,groupFormatter:function(e){return e},mode:"local",method:"post",url:null,data:null,keyHandler:{up:function(){r(this,"prev")},down:function(){r(this,"next")},enter:function(){l(this)},query:function(e){f(this,e)}},filter:function(t,n){var r=e(this).combobox("options");return n[r.textField].indexOf(t)==0},formatter:function(t){var n=e(this).combobox("options");return t[n.textField]},loader:function(t,n,r){var i=e(this).combobox("options");if(!i.url)return!1;e.ajax({type:i.method,url:i.url,data:t,dataType:"json",success:function(e){n(e)},error:function(){r.apply(this,arguments)}})},loadFilter:function(e){return e},onBeforeLoad:function(e){},onLoadSuccess:function(){},onLoadError:function(){},onSelect:function(e){},onUnselect:function(e){}})}(jQuery),function(e){function t(t){var r=e.data(t,"combotree").options,i=e.data(t,"combotree").tree;e(t).addClass("combotree-f"),e(t).combo(r);var s=e(t).combo("panel");i||(i=e("<ul></ul>").appendTo(s),e.data(t,"combotree").tree=i),i.tree(e.extend({},r,{checkbox:r.multiple,onLoadSuccess:function(n,s){var o=e(t).combotree("getValues");if(r.multiple){var u=i.tree("getChecked");for(var a=0;a<u.length;a++){var f=u[a].id;(function(){for(var e=0;e<o.length;e++)if(f==o[e])return;o.push(f)})()}}e(t).combotree("setValues",o),r.onLoadSuccess.call(this,n,s)},onClick:function(i){n(t),e(t).combo("hidePanel"),r.onClick.call(this,i)},onCheck:function(e,i){n(t),r.onCheck.call(this,e,i)}}))}function n(t){var n=e.data(t,"combotree").options,r=e.data(t,"combotree").tree,i=[],s=[];if(n.multiple){var o=r.tree("getChecked");for(var u=0;u<o.length;u++)i.push(o[u].id),s.push(o[u].text)}else{var a=r.tree("getSelected");a&&(i.push(a.id),s.push(a.text))}e(t).combo("setValues",i).combo("setText",s.join(n.separator))}function r(t,n){var r=e.data(t,"combotree").options,i=e.data(t,"combotree").tree;i.find("span.tree-checkbox").addClass("tree-checkbox0").removeClass("tree-checkbox1 tree-checkbox2");var s=[],o=[];for(var u=0;u<n.length;u++){var a=n[u],f=a,l=i.tree("find",a);l&&(f=l.text,i.tree("check",l.target),i.tree("select",l.target)),s.push(a),o.push(f)}e(t).combo("setValues",s).combo("setText",o.join(r.separator))}e.fn.combotree=function(n,r){if(typeof n=="string"){var i=e.fn.combotree.methods[n];return i?i(this,r):this.combo(n,r)}return n=n||{},this.each(function(){var r=e.data(this,"combotree");r?e.extend(r.options,n):e.data(this,"combotree",{options:e.extend({},e.fn.combotree.defaults,e.fn.combotree.parseOptions(this),n)}),t(this)})},e.fn.combotree.methods={options:function(t){var n=t.combo("options");return e.extend(e.data(t[0],"combotree").options,{originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},tree:function(t){return e.data(t[0],"combotree").tree},loadData:function(t,n){return t.each(function(){var t=e.data(this,"combotree").options;t.data=n;var r=e.data(this,"combotree").tree;r.tree("loadData",n)})},reload:function(t,n){return t.each(function(){var t=e.data(this,"combotree").options,r=e.data(this,"combotree").tree;n&&(t.url=n),r.tree({url:t.url})})},setValues:function(e,t){return e.each(function(){r(this,t)})},setValue:function(e,t){return e.each(function(){r(this,[t])})},clear:function(t){return t.each(function(){var t=e.data(this,"combotree").tree;t.find("div.tree-node-selected").removeClass("tree-node-selected");var n=t.tree("getChecked");for(var r=0;r<n.length;r++)t.tree("uncheck",n[r].target);e(this).combo("clear")})},reset:function(t){return t.each(function(){var t=e(this).combotree("options");t.multiple?e(this).combotree("setValues",t.originalValue):e(this).combotree("setValue",t.originalValue)})}},e.fn.combotree.parseOptions=function(t){return e.extend({},e.fn.combo.parseOptions(t),e.fn.tree.parseOptions(t))},e.fn.combotree.defaults=e.extend({},e.fn.combo.defaults,e.fn.tree.defaults,{editable:!1})}(jQuery),function(e){function t(t){function u(r,s){n.remainText=!1,a(),i.multiple||e(t).combo("hidePanel"),i.onClickRow.call(this,r,s)}function a(){var r=s.datagrid("getSelections"),o=[],u=[];for(var a=0;a<r.length;a++)o.push(r[a][i.idField]),u.push(r[a][i.textField]);i.multiple?e(t).combo("setValues",o):e(t).combo("setValues",o.length?o:[""]),n.remainText||e(t).combo("setText",u.join(i.separator))}var n=e.data(t,"combogrid"),i=n.options,s=n.grid;e(t).addClass("combogrid-f").combo(i);var o=e(t).combo("panel");s||(s=e("<table></table>").appendTo(o),n.grid=s),s.datagrid(e.extend({},i,{border:!1,fit:!0,singleSelect:!i.multiple,onLoadSuccess:function(s){var o=e(t).combo("getValues"),u=i.onSelect;i.onSelect=function(){},r(t,o,n.remainText),i.onSelect=u,i.onLoadSuccess.apply(t,arguments)},onClickRow:u,onSelect:function(e,t){a(),i.onSelect.call(this,e,t)},onUnselect:function(e,t){a(),i.onUnselect.call(this,e,t)},onSelectAll:function(e){a(),i.onSelectAll.call(this,e)},onUnselectAll:function(e){i.multiple&&a(),i.onUnselectAll.call(this,e)}}))}function n(t,n){var r=e.data(t,"combogrid"),i=r.options,s=r.grid,o=s.datagrid("getRows").length;if(!o)return;var u=i.finder.getTr(s[0],null,"highlight");u.length||(u=i.finder.getTr(s[0],null,"selected"));var a;if(!u.length)a=n=="next"?0:o-1;else{var a=parseInt(u.attr("datagrid-row-index"));a+=n=="next"?1:-1,a<0&&(a=o-1),a>=o&&(a=0)}s.datagrid("highlightRow",a),i.selectOnNavigation&&(r.remainText=!1,s.datagrid("selectRow",a))}function r(t,n,r){var i=e.data(t,"combogrid"),s=i.options,o=i.grid,u=o.datagrid("getRows"),a=[],f=e(t).combo("getValues"),l=e(t).combo("options"),c=l.onChange;l.onChange=function(){},o.datagrid("clearSelections");for(var h=0;h<n.length;h++){var p=o.datagrid("getRowIndex",n[h]);p>=0?(o.datagrid("selectRow",p),a.push(u[p][s.textField])):a.push(n[h])}e(t).combo("setValues",f),l.onChange=c,e(t).combo("setValues",n);if(!r){var d=a.join(s.separator);e(t).combo("getText")!=d&&e(t).combo("setText",d)}}function i(t,n){var i=e.data(t,"combogrid"),s=i.options,o=i.grid;i.remainText=!0,s.multiple&&!n?r(t,[],!0):r(t,[n],!0);if(s.mode=="remote")o.datagrid("clearSelections"),o.datagrid("load",e.extend({},s.queryParams,{q:n}));else{if(!n)return;var u=o.datagrid("getRows");for(var a=0;a<u.length;a++)if(s.filter.call(t,n,u[a])){o.datagrid("clearSelections"),o.datagrid("selectRow",a);return}}}function s(t){var n=e.data(t,"combogrid"),r=n.options,i=n.grid,s=r.finder.getTr(i[0],null,"highlight");s.length||(s=r.finder.getTr(i[0],null,"selected"));if(!s.length)return;n.remainText=!1;var o=parseInt(s.attr("datagrid-row-index"));r.multiple?s.hasClass("datagrid-row-selected")?i.datagrid("unselectRow",o):i.datagrid("selectRow",o):(i.datagrid("selectRow",o),e(t).combogrid("hidePanel"))}e.fn.combogrid=function(n,r){if(typeof n=="string"){var i=e.fn.combogrid.methods[n];return i?i(this,r):e.fn.combo.methods[n](this,r)}return n=n||{},this.each(function(){var r=e.data(this,"combogrid");r?e.extend(r.options,n):r=e.data(this,"combogrid",{options:e.extend({},e.fn.combogrid.defaults,e.fn.combogrid.parseOptions(this),n)}),t(this)})},e.fn.combogrid.methods={options:function(t){var n=t.combo("options");return e.extend(e.data(t[0],"combogrid").options,{originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},grid:function(t){return e.data(t[0],"combogrid").grid},setValues:function(e,t){return e.each(function(){r(this,t)})},setValue:function(e,t){return e.each(function(){r(this,[t])})},clear:function(t){return t.each(function(){e(this).combogrid("grid").datagrid("clearSelections"),e(this).combo("clear")})},reset:function(t){return t.each(function(){var t=e(this).combogrid("options");t.multiple?e(this).combogrid("setValues",t.originalValue):e(this).combogrid("setValue",t.originalValue)})}},e.fn.combogrid.parseOptions=function(t){var n=e(t);return e.extend({},e.fn.combo.parseOptions(t),e.fn.datagrid.parseOptions(t),e.parser.parseOptions(t,["idField","textField","mode"]))},e.fn.combogrid.defaults=e.extend({},e.fn.combo.defaults,e.fn.datagrid.defaults,{loadMsg:null,idField:null,textField:null,mode:"local",keyHandler:{up:function(){n(this,"prev")},down:function(){n(this,"next")},enter:function(){s(this)},query:function(e){i(this,e)}},filter:function(t,n){var r=e(this).combogrid("options");return n[r.textField].indexOf(t)==0}})}(jQuery),function(e){function t(t){function s(){var s=e(t).combo("panel");n.calendar=e("<div></div>").appendTo(s).wrap('<div class="datebox-calendar-inner"></div>'),n.calendar.calendar({fit:!0,border:!1,onSelect:function(n){var s=r.formatter(n);i(t,s),e(t).combo("hidePanel"),r.onSelect.call(t,n)}}),i(t,r.value);var o=e('<div class="datebox-button"></div>').appendTo(s),u=e('<a href="javascript:void(0)" class="datebox-current"></a>').html(r.currentText).appendTo(o),a=e('<a href="javascript:void(0)" class="datebox-close"></a>').html(r.closeText).appendTo(o);u.click(function(){n.calendar.calendar({year:(new Date).getFullYear(),month:(new Date).getMonth()+1,current:new Date})}),a.click(function(){e(t).combo("hidePanel")})}function o(){if(r.panelHeight!="auto"){var i=e(t).combo("panel"),s=i.children("div.datebox-calendar-inner"),o=i.height();i.children().not(s).each(function(){o-=e(this).outerHeight()}),s._outerHeight(o)}n.calendar.calendar("resize")}var n=e.data(t,"datebox"),r=n.options;e(t).addClass("datebox-f").combo(e.extend({},r,{onShowPanel:function(){o(),r.onShowPanel.call(t)}})),e(t).combo("textbox").parent().addClass("datebox"),n.calendar||s()}function n(e,t){i(e,t)}function r(t){var n=e.data(t,"datebox"),r=n.options,s=n.calendar,o=r.formatter(s.calendar("options").current);i(t,o),e(t).combo("hidePanel")}function i(t,n){var r=e.data(t,"datebox"),i=r.options;e(t).combo("setValue",n).combo("setText",n),r.calendar.calendar("moveTo",i.parser(n))}e.fn.datebox=function(n,r){if(typeof n=="string"){var i=e.fn.datebox.methods[n];return i?i(this,r):this.combo(n,r)}return n=n||{},this.each(function(){var r=e.data(this,"datebox");r?e.extend(r.options,n):e.data(this,"datebox",{options:e.extend({},e.fn.datebox.defaults,e.fn.datebox.parseOptions(this),n)}),t(this)})},e.fn.datebox.methods={options:function(t){var n=t.combo("options");return e.extend(e.data(t[0],"datebox").options,{originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},calendar:function(t){return e.data(t[0],"datebox").calendar},setValue:function(e,t){return e.each(function(){i(this,t)})},reset:function(t){return t.each(function(){var t=e(this).datebox("options");e(this).datebox("setValue",t.originalValue)})}},e.fn.datebox.parseOptions=function(t){var n=e(t);return e.extend({},e.fn.combo.parseOptions(t),{})},e.fn.datebox.defaults=e.extend({},e.fn.combo.defaults,{panelWidth:180,panelHeight:"auto",keyHandler:{up:function(){},down:function(){},enter:function(){r(this)},query:function(e){n(this,e)}},currentText:"Today",closeText:"Close",okText:"Ok",formatter:function(e){var t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return n+"/"+r+"/"+t},parser:function(e){var t=Date.parse(e);return isNaN(t)?new Date:new Date(t)},onSelect:function(e){}})}(jQuery),function(e){function t(t){var n=e.data(t,"datetimebox"),r=n.options;e(t).datebox(e.extend({},r,{onShowPanel:function(){var n=e(t).datetimebox("getValue");s(t,n,!0),r.onShowPanel.call(t)},formatter:e.fn.datebox.defaults.formatter,parser:e.fn.datebox.defaults.parser})),e(t).removeClass("datebox-f").addClass("datetimebox-f"),e(t).datebox("calendar").calendar({onSelect:function(e){r.onSelect.call(t,e)}});var o=e(t).datebox("panel");if(!n.spinner){var u=e('<div style="padding:2px"><input style="width:80px"></div>').insertAfter(o.children("div.datebox-calendar-inner"));n.spinner=u.children("input");var a=o.children("div.datebox-button"),f=e('<a href="javascript:void(0)" class="datebox-ok"></a>').html(r.okText).appendTo(a);f.click(function(){i(t)})}n.spinner.timespinner({showSeconds:r.showSeconds,separator:r.timeSeparator}).unbind(".datetimebox").bind("mousedown.datetimebox",function(e){e.stopPropagation()}),s(t,r.value)}function n(t){var n=e(t).datetimebox("calendar"),r=e(t).datetimebox("spinner"),i=n.calendar("options").current;return new Date(i.getFullYear(),i.getMonth(),i.getDate(),r.timespinner("getHours"),r.timespinner("getMinutes"),r.timespinner("getSeconds"))}function r(e,t){s(e,t,!0)}function i(t){var r=e.data(t,"datetimebox").options,i=n(t);s(t,r.formatter.call(t,i)),e(t).combo("hidePanel")}function s(t,n,r){function o(n){function r(e){return(e<10?"0":"")+e}var s=[r(n.getHours()),r(n.getMinutes())];return i.showSeconds&&s.push(r(n.getSeconds())),s.join(e(t).datetimebox("spinner").timespinner("options").separator)}var i=e.data(t,"datetimebox").options;e(t).combo("setValue",n);if(!r)if(n){var s=i.parser.call(t,n);e(t).combo("setValue",i.formatter.call(t,s)),e(t).combo("setText",i.formatter.call(t,s))}else e(t).combo("setText",n);var s=i.parser.call(t,n);e(t).datetimebox("calendar").calendar("moveTo",s),e(t).datetimebox("spinner").timespinner("setValue",o(s))}e.fn.datetimebox=function(n,r){if(typeof n=="string"){var i=e.fn.datetimebox.methods[n];return i?i(this,r):this.datebox(n,r)}return n=n||{},this.each(function(){var r=e.data(this,"datetimebox");r?e.extend(r.options,n):e.data(this,"datetimebox",{options:e.extend({},e.fn.datetimebox.defaults,e.fn.datetimebox.parseOptions(this),n)}),t(this)})},e.fn.datetimebox.methods={options:function(t){var n=t.datebox("options");return e.extend(e.data(t[0],"datetimebox").options,{originalValue:n.originalValue,disabled:n.disabled,readonly:n.readonly})},spinner:function(t){return e.data(t[0],"datetimebox").spinner},setValue:function(e,t){return e.each(function(){s(this,t)})},reset:function(t){return t.each(function(){var t=e(this).datetimebox("options");e(this).datetimebox("setValue",t.originalValue)})}},e.fn.datetimebox.parseOptions=function(t){var n=e(t);return e.extend({},e.fn.datebox.parseOptions(t),e.parser.parseOptions(t,["timeSeparator",{showSeconds:"boolean"}]))},e.fn.datetimebox.defaults=e.extend({},e.fn.datebox.defaults,{showSeconds:!0,timeSeparator:":",keyHandler:{up:function(){},down:function(){},enter:function(){i(this)},query:function(e){r(this,e)}},formatter:function(t){function s(e){return(e<10?"0":"")+e}var n=t.getHours(),r=t.getMinutes(),i=t.getSeconds(),o=e(this).datetimebox("spinner").timespinner("options").separator,u=e.fn.datebox.defaults.formatter(t)+" "+s(n)+o+s(r);return e(this).datetimebox("options").showSeconds&&(u+=o+s(i)),u},parser:function(t){if(e.trim(t)=="")return new Date;var n=t.split(" "),r=e.fn.datebox.defaults.parser(n[0]);if(n.length<2)return r;var i=e(this).datetimebox("spinner").timespinner("options").separator,s=n[1].split(i),o=parseInt(s[0],10)||0,u=parseInt(s[1],10)||0,a=parseInt(s[2],10)||0;return new Date(r.getFullYear(),r.getMonth(),r.getDate(),o,u,a)}})}(jQuery),function($){function init(e){var t=$('<div class="slider"><div class="slider-inner"><a href="javascript:void(0)" class="slider-handle"></a><span class="slider-tip"></span></div><div class="slider-rule"></div><div class="slider-rulelabel"></div><div style="clear:both"></div><input type="hidden" class="slider-value"></div>').insertAfter(e),n=$(e).hide().attr("name");return n&&(t.find("input.slider-value").attr("name",n),$(e).removeAttr("name").attr("sliderName",n)),t}function _8d0(e,t){var n=$.data(e,"slider"),r=n.options,i=n.slider;t&&(t.width&&(r.width=t.width),t.height&&(r.height=t.height)),r.mode=="h"?(i.css("height",""),i.children("div").css("height",""),isNaN(r.width)||i.width(r.width)):(i.css("width",""),i.children("div").css("width",""),isNaN(r.height)||(i.height(r.height),i.find("div.slider-rule").height(r.height),i.find("div.slider-rulelabel").height(r.height),i.find("div.slider-inner")._outerHeight(r.height))),_8d5(e)}function _8d6(e){function s(e){var t=r.find("div.slider-rule"),i=r.find("div.slider-rulelabel");t.empty(),i.empty();for(var s=0;s<e.length;s++){var o=s*100/(e.length-1)+"%",u=$("<span></span>").appendTo(t);u.css(n.mode=="h"?"left":"top",o),e[s]!="|"&&(u=$("<span></span>").appendTo(i),u.html(e[s]),n.mode=="h"?u.css({left:o,marginLeft:-Math.round(u.outerWidth()/2)}):u.css({top:o,marginTop:-Math.round(u.outerHeight()/2)}))}}var t=$.data(e,"slider"),n=t.options,r=t.slider,i=n.mode=="h"?n.rule:n.rule.slice(0).reverse();n.reversed&&(i=i.slice(0).reverse()),s(i)}function _8dd(e){function i(t){var r=Math.abs(t%n.step);r<n.step/2?t-=r:t=t-r+n.step,_8e7(e,t)}var t=$.data(e,"slider"),n=t.options,r=t.slider;r.removeClass("slider-h slider-v slider-disabled"),r.addClass(n.mode=="h"?"slider-h":"slider-v"),r.addClass(n.disabled?"slider-disabled":""),r.find("a.slider-handle").draggable({axis:n.mode,cursor:"pointer",disabled:n.disabled,onDrag:function(t){var s=t.data.left,o=r.width();n.mode!="h"&&(s=t.data.top,o=r.height());if(s<0||s>o)return!1;var u=_8f4(e,s);return i(u),!1},onBeforeDrag:function(){t.isDragging=!0},onStartDrag:function(){n.onSlideStart.call(e,n.value)},onStopDrag:function(r){var s=_8f4(e,n.mode=="h"?r.data.left:r.data.top);i(s),n.onSlideEnd.call(e,n.value),n.onComplete.call(e,n.value),t.isDragging=!1}}),r.find("div.slider-inner").unbind(".slider").bind("mousedown.slider",function(r){if(t.isDragging)return;var s=$(this).offset(),o=_8f4(e,n.mode=="h"?r.pageX-s.left:r.pageY-s.top);i(o),n.onComplete.call(e,n.value)})}function _8e7(e,t){var n=$.data(e,"slider"),r=n.options,i=n.slider,s=r.value;t<r.min&&(t=r.min),t>r.max&&(t=r.max),r.value=t,$(e).val(t),i.find("input.slider-value").val(t);var o=_8ed(e,t),u=i.find(".slider-tip");r.showTip?(u.show(),u.html(r.tipFormatter.call(e,r.value))):u.hide();if(r.mode=="h"){var a="left:"+o+"px;";i.find(".slider-handle").attr("style",a),u.attr("style",a+"margin-left:"+ -Math.round(u.outerWidth()/2)+"px")}else{var a="top:"+o+"px;";i.find(".slider-handle").attr("style",a),u.attr("style",a+"margin-left:"+ -Math.round(u.outerWidth())+"px")}s!=t&&r.onChange.call(e,t,s)}function _8d5(e){var t=$.data(e,"slider").options,n=t.onChange;t.onChange=function(){},_8e7(e,t.value),t.onChange=n}function _8ed(e,t){var n=$.data(e,"slider"),r=n.options,i=n.slider;if(r.mode=="h"){var s=(t-r.min)/(r.max-r.min)*i.width();r.reversed&&(s=i.width()-s)}else{var s=i.height()-(t-r.min)/(r.max-r.min)*i.height();r.reversed&&(s=i.height()-s)}return s.toFixed(0)}function _8f4(e,t){var n=$.data(e,"slider"),r=n.options,i=n.slider;if(r.mode=="h")var s=r.min+(r.max-r.min)*(t/i.width());else var s=r.min+(r.max-r.min)*((i.height()-t)/i.height());return r.reversed?r.max-s.toFixed(0):s.toFixed(0)}$.fn.slider=function(e,t){return typeof e=="string"?$.fn.slider.methods[e](this,t):(e=e||{},this.each(function(){var t=$.data(this,"slider");t?$.extend(t.options,e):(t=$.data(this,"slider",{options:$.extend({},$.fn.slider.defaults,$.fn.slider.parseOptions(this),e),slider:init(this)}),$(this).removeAttr("disabled"));var n=t.options;n.min=parseFloat(n.min),n.max=parseFloat(n.max),n.value=parseFloat(n.value),n.step=parseFloat(n.step),_8dd(this),_8d6(this),_8d0(this)}))},$.fn.slider.methods={options:function(e){return $.data(e[0],"slider").options},destroy:function(e){return e.each(function(){$.data(this,"slider").slider.remove(),$(this).remove()})},resize:function(e,t){return e.each(function(){_8d0(this,t)})},getValue:function(e){return e.slider("options").value},setValue:function(e,t){return e.each(function(){_8e7(this,t)})},enable:function(e){return e.each(function(){$.data(this,"slider").options.disabled=!1,_8dd(this)})},disable:function(e){return e.each(function(){$.data(this,"slider").options.disabled=!0,_8dd(this)})}},$.fn.slider.parseOptions=function(_8fe){var t=$(_8fe);return $.extend({},$.parser.parseOptions(_8fe,["width","height","mode",{reversed:"boolean",showTip:"boolean",min:"number",max:"number",step:"number"}]),{value:t.val()||undefined,disabled:t.attr("disabled")?!0:undefined,rule:t.attr("rule")?eval(t.attr("rule")):undefined})},$.fn.slider.defaults={width:"auto",height:"auto",mode:"h",reversed:!1,showTip:!1,disabled:!1,value:0,min:0,max:100,step:1,rule:[],tipFormatter:function(e){return e},onChange:function(e,t){},onSlideStart:function(e){},onSlideEnd:function(e){},onComplete:function(e){}}}(jQuery),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Bladsy",$.fn.pagination.defaults.afterPageText="Van {pages}",$.fn.pagination.defaults.displayMsg="Wys (from) tot (to) van (total) items"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Verwerking, wag asseblief ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ok",$.messager.defaults.cancel="Die styl"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Die veld is verpligtend.",$.fn.validatebox.defaults.rules.email.message="Gee 'n geldige e-pos adres.",$.fn.validatebox.defaults.rules.url.message="Gee 'n geldige URL nie.",$.fn.validatebox.defaults.rules.length.message="Voer 'n waarde tussen {0} en {1}."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Die veld is verpligtend."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Die veld is verpligtend."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Die veld is verpligtend."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Die veld is verpligtend."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["S","M","T","W","T","F","S"],$.fn.calendar.defaults.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Vandag",$.fn.datebox.defaults.closeText="Sluit",$.fn.datebox.defaults.okText="Ok",$.fn.datebox.defaults.missingMessage="Die veld is verpligtend."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="صفحة",$.fn.pagination.defaults.afterPageText="من {pages}",$.fn.pagination.defaults.displayMsg="عرض {from} إلى {to} من {total} عنصر"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="معالجة, الرجاء الإنتظار ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="موافق",$.messager.defaults.cancel="إلغاء"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="هذا الحقل مطلوب.",$.fn.validatebox.defaults.rules.email.message="الرجاء إدخال بريد إلكتروني صحيح.",$.fn.validatebox.defaults.rules.url.message="الرجاء إدخال رابط صحيح.",$.fn.validatebox.defaults.rules.length.message="الرجاء إدخال قيمة بين {0} و {1}.",$.fn.validatebox.defaults.rules.remote.message="الرجاء التأكد من الحقل."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="هذا الحقل مطلوب."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="هذا الحقل مطلوب."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="هذا الحقل مطلوب."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="هذا الحقل مطلوب."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["S","M","T","W","T","F","S"],$.fn.calendar.defaults.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="اليوم",$.fn.datebox.defaults.closeText="إغلاق",$.fn.datebox.defaults.okText="موافق",$.fn.datebox.defaults.missingMessage="هذا الحقل مطلوب."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Страница",$.fn.pagination.defaults.afterPageText="от {pages}",$.fn.pagination.defaults.displayMsg="Показани {from} за {to} от {total} продукти"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Обработка, моля изчакайте ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Добре",$.messager.defaults.cancel="Задрасквам"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Това поле е задължително.",$.fn.validatebox.defaults.rules.email.message="Моля, въведете валиден имейл адрес.",$.fn.validatebox.defaults.rules.url.message="Моля въведете валиден URL.",$.fn.validatebox.defaults.rules.length.message="Моля, въведете стойност между {0} и {1}."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Това поле е задължително."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Това поле е задължително."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Това поле е задължително."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Това поле е задължително."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["S","M","T","W","T","F","S"],$.fn.calendar.defaults.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Днес",$.fn.datebox.defaults.closeText="Близо",$.fn.datebox.defaults.okText="Добре",$.fn.datebox.defaults.missingMessage="Това поле е задължително."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Pàgina",$.fn.pagination.defaults.afterPageText="de {pages}",$.fn.pagination.defaults.displayMsg="Veient {from} a {to} de {total} d'articles"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Elaboració, si us plau esperi ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ok",$.messager.defaults.cancel="Cancel"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Aquest camp és obligatori.",$.fn.validatebox.defaults.rules.email.message="Introduïu una adreça de correu electrònic vàlida.",$.fn.validatebox.defaults.rules.url.message="Si us plau, introduïu un URL vàlida.",$.fn.validatebox.defaults.rules.length.message="Si us plau, introduïu un valor entre {0} i {1}."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Aquest camp és obligatori."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Aquest camp és obligatori."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Aquest camp és obligatori."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Aquest camp és obligatori."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["S","M","T","W","T","F","S"],$.fn.calendar.defaults.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Avui",$.fn.datebox.defaults.closeText="Tancar",$.fn.datebox.defaults.okText="Ok",$.fn.datebox.defaults.missingMessage="Aquest camp és obligatori."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Strana",$.fn.pagination.defaults.afterPageText="z {pages}"
,$.fn.pagination.defaults.displayMsg="Zobrazuji {from} do {to} z {total} položky"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Zpracování, čekejte prosím ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ok",$.messager.defaults.cancel="Zrušit"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Toto pole je vyžadováno.",$.fn.validatebox.defaults.rules.email.message="Zadejte prosím platnou e-mailovou adresu.",$.fn.validatebox.defaults.rules.url.message="Zadejte prosím platnou adresu URL.",$.fn.validatebox.defaults.rules.length.message="Prosím, zadejte hodnotu mezi {0} a {1}."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Toto pole je vyžadováno."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Toto pole je vyžadováno."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Toto pole je vyžadováno."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Toto pole je vyžadováno."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["S","M","T","W","T","F","S"],$.fn.calendar.defaults.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Dnes",$.fn.datebox.defaults.closeText="Zavřít",$.fn.datebox.defaults.okText="Ok",$.fn.datebox.defaults.missingMessage="Toto pole je vyžadováno."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Strana",$.fn.pagination.defaults.afterPageText="z {pages}",$.fn.pagination.defaults.displayMsg="Zobrazuji záznam {from} až {to} z {total}."),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Pracuji, čekejte prosím…"),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ok",$.messager.defaults.cancel="Zrušit"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Toto pole je vyžadováno.",$.fn.validatebox.defaults.rules.email.message="Zadejte, prosím, platnou e-mailovou adresu.",$.fn.validatebox.defaults.rules.url.message="Zadejte, prosím, platnou adresu URL.",$.fn.validatebox.defaults.rules.length.message="Zadejte, prosím, hodnotu mezi {0} a {1}."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Toto pole je vyžadováno."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Toto pole je vyžadováno."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Toto pole je vyžadováno."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Toto pole je vyžadováno."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["N","P","Ú","S","Č","P","S"],$.fn.calendar.defaults.months=["led","únr","bře","dub","kvě","čvn","čvc","srp","zář","říj","lis","pro"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Dnes",$.fn.datebox.defaults.closeText="Zavřít",$.fn.datebox.defaults.okText="Ok",$.fn.datebox.defaults.missingMessage="Toto pole je vyžadováno."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Page",$.fn.pagination.defaults.afterPageText="af {pages}",$.fn.pagination.defaults.displayMsg="Viser {from} til {to} af {total} poster"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Behandling, vent venligst ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ok",$.messager.defaults.cancel="Annuller"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Dette felt er påkrævet.",$.fn.validatebox.defaults.rules.email.message="Angiv en gyldig e-mail-adresse.",$.fn.validatebox.defaults.rules.url.message="Angiv en gyldig webadresse.",$.fn.validatebox.defaults.rules.length.message="Angiv en værdi mellem {0} og {1}."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Dette felt er påkrævet."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Dette felt er påkrævet."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Dette felt er påkrævet."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Dette felt er påkrævet."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["S","M","T","W","T","F","S"],$.fn.calendar.defaults.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="I dag",$.fn.datebox.defaults.closeText="Luk",$.fn.datebox.defaults.okText="Ok",$.fn.datebox.defaults.missingMessage="Dette felt er påkrævet."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Seite",$.fn.pagination.defaults.afterPageText="von {pages}",$.fn.pagination.defaults.displayMsg="{from} bis {to} von {total} Datensätzen"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Verarbeitung läuft, bitte warten ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="OK",$.messager.defaults.cancel="Abbruch"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Dieses Feld wird benötigt.",$.fn.validatebox.defaults.rules.email.message="Bitte geben Sie eine gültige E-Mail-Adresse ein.",$.fn.validatebox.defaults.rules.url.message="Bitte geben Sie eine gültige URL ein.",$.fn.validatebox.defaults.rules.length.message="Bitte geben Sie einen Wert zwischen {0} und {1} ein."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Dieses Feld wird benötigt."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Dieses Feld wird benötigt."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Dieses Feld wird benötigt."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Dieses Feld wird benötigt."),$.fn.calendar&&($.fn.calendar.defaults.firstDay=1,$.fn.calendar.defaults.weeks=["S","M","D","M","D","F","S"],$.fn.calendar.defaults.months=["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Heute",$.fn.datebox.defaults.closeText="Schließen",$.fn.datebox.defaults.okText="OK",$.fn.datebox.defaults.missingMessage="Dieses Feld wird benötigt.",$.fn.datebox.defaults.formatter=function(e){var t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return(r<10?"0"+r:r)+"."+(n<10?"0"+n:n)+"."+t},$.fn.datebox.defaults.parser=function(e){if(!e)return new Date;var t=e.split("."),n=parseInt(t[1],10),r=parseInt(t[0],10),i=parseInt(t[2],10);return!isNaN(i)&&!isNaN(n)&&!isNaN(r)?new Date(i,n-1,r):new Date}),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Σελίδα",$.fn.pagination.defaults.afterPageText="από {pages}",$.fn.pagination.defaults.displayMsg="Εμφάνιση {from} εώς {to} από {total} αντικείμενα"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Γίνεται Επεξεργασία, Παρακαλώ Περιμένετε ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Εντάξει",$.messager.defaults.cancel="Άκυρο"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Το πεδίο είναι υποχρεωτικό.",$.fn.validatebox.defaults.rules.email.message="Παρακαλώ εισάγετε σωστή Ηλ.Διεύθυνση.",$.fn.validatebox.defaults.rules.url.message="Παρακαλώ εισάγετε σωστό σύνδεσμο.",$.fn.validatebox.defaults.rules.length.message="Παρακαλώ εισάγετε τιμή μεταξύ {0} και {1}.",$.fn.validatebox.defaults.rules.remote.message="Παρακαλώ διορθώστε αυτό το πεδίο."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Το πεδίο είναι υποχρεωτικό."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Το πεδίο είναι υποχρεωτικό."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Το πεδίο είναι υποχρεωτικό."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Το πεδίο είναι υποχρεωτικό."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],$.fn.calendar.defaults.months=["Ιαν","Φεβ","Μαρ","Απρ","Μαϊ","Ιου","Ιου","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Σήμερα",$.fn.datebox.defaults.closeText="Κλείσιμο",$.fn.datebox.defaults.okText="Εντάξει",$.fn.datebox.defaults.missingMessage="Το πεδίο είναι υποχρεωτικό."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Page",$.fn.pagination.defaults.afterPageText="of {pages}",$.fn.pagination.defaults.displayMsg="Displaying {from} to {to} of {total} items"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Processing, please wait ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ok",$.messager.defaults.cancel="Cancel"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="This field is required.",$.fn.validatebox.defaults.rules.email.message="Please enter a valid email address.",$.fn.validatebox.defaults.rules.url.message="Please enter a valid URL.",$.fn.validatebox.defaults.rules.length.message="Please enter a value between {0} and {1}.",$.fn.validatebox.defaults.rules.remote.message="Please fix this field."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="This field is required."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="This field is required."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="This field is required."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="This field is required."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["S","M","T","W","T","F","S"],$.fn.calendar.defaults.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Today",$.fn.datebox.defaults.closeText="Close",$.fn.datebox.defaults.okText="Ok",$.fn.datebox.defaults.missingMessage="This field is required."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="P&aacute;gina",$.fn.pagination.defaults.afterPageText="de {pages}",$.fn.pagination.defaults.displayMsg="Mostrando {from} a {to} de {total} elementos"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Procesando, por favor espere ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Aceptar",$.messager.defaults.cancel="Cancelar"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Este campo es obligatorio.",$.fn.validatebox.defaults.rules.email.message="Por favor ingrese una direcci&oacute;n de correo v&aacute;lida.",$.fn.validatebox.defaults.rules.url.message="Por favor ingrese una URL v&aacute;lida.",$.fn.validatebox.defaults.rules.length.message="Por favor ingrese un valor entre {0} y {1}.",$.fn.validatebox.defaults.rules.remote.message="Por favor corrija este campo."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Este campo es obligatorio."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Este campo es obligatorio."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Este campo es obligatorio."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Este campo es obligatorio."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["Do","Lu","Ma","Mi","Ju","Vi","S&aacute;"],$.fn.calendar.defaults.months=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Hoy",$.fn.datebox.defaults.closeText="Cerrar",$.fn.datebox.defaults.okText="Aceptar",$.fn.datebox.defaults.missingMessage="Este campo es obligatorio."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Page",$.fn.pagination.defaults.afterPageText="de {pages}",$.fn.pagination.defaults.displayMsg="Affichage de {from} et {to} au {total} des articles"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Traitement, s'il vous plaît patienter ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ok",$.messager.defaults.cancel="Annuler"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Ce champ est obligatoire.",$.fn.validatebox.defaults.rules.email.message="S'il vous plaît entrer une adresse email valide.",$.fn.validatebox.defaults.rules.url.message="S'il vous plaît entrer une URL valide.",$.fn.validatebox.defaults.rules.length.message="S'il vous plaît entrez une valeur comprise entre {0} et {1}."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Ce champ est obligatoire."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Ce champ est obligatoire."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Ce champ est obligatoire."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Ce champ est obligatoire."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["S","M","T","W","T","F","S"],$.fn.calendar.defaults.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Aujourd'hui",$.fn.datebox.defaults.closeText="Fermer",$.fn.datebox.defaults.okText="Ok",$.fn.datebox.defaults.missingMessage="Ce champ est obligatoire."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Pagina",$.fn.pagination.defaults.afterPageText="di {pages}",$.fn.pagination.defaults.displayMsg="Visualizzazione {from} a {to} di {total} elementi"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="In lavorazione, attendere ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ok",$.messager.defaults.cancel="Annulla"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Questo campo è richiesto.",$.fn.validatebox.defaults.rules.email.message="Inserisci un indirizzo email valido.",$.fn.validatebox.defaults.rules.url.message="Inserisci un URL valido.",$.fn.validatebox.defaults.rules.length.message="Inserisci un valore tra {0} e {1}.",$.fn.validatebox.defaults.rules.remote.message="Aggiusta questo campo."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Questo campo è richiesto."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Questo campo è richiesto."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Questo campo è richiesto."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Questo campo è richiesto."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["S","M","T","W","T","F","S"],$.fn.calendar.defaults.months=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Oggi",$.fn.datebox.defaults.closeText="Chiudi",$.fn.datebox.defaults.okText="Ok",$.fn.datebox.defaults.missingMessage="Questo campo è richiesto."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="ページ",$.fn.pagination.defaults.afterPageText="{pages} 中",$.fn.pagination.defaults.displayMsg="全 {total} アイテム中 {from} から {to} を表示中"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="処理中です。少々お待ちください..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="OK",$.messager.defaults.cancel="キャンセル"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="入力は必須です。",$.fn.validatebox.defaults.rules.email.message="正しいメールアドレスを入力してください。",$.fn.validatebox.defaults.rules.url.message="正しいURLを入力してください。",$.fn.validatebox.defaults.rules.length.message="{0} から {1} の範囲の正しい値を入力してください。",$.fn.validatebox.defaults.rules.remote.message="このフィールドを修正してください。"),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="入力は必須です。"),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="入力は必須です。"),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="入力は必須です。"),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="入力は必須です。"),$.fn.calendar&&($.fn.calendar.defaults.weeks=["日","月","火","水","木","金","土"],$.fn.calendar.defaults.months=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="今日",$.fn.datebox.defaults.closeText="閉じる",$.fn.datebox.defaults.okText="OK",$.fn.datebox.defaults.missingMessage="入力は必須です。"),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Pagina",$.fn.pagination.defaults.afterPageText="van {pages}",$.fn.pagination.defaults.displayMsg="Tonen van {from} tot {to} van de {total} items"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Verwerking, even geduld ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ok",$.messager.defaults.cancel="Annuleren"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Dit veld is verplicht.",$.fn.validatebox.defaults.rules.email.message="Geef een geldig e-mailadres.",$.fn.validatebox.defaults.rules.url.message="Vul een geldige URL.",$.fn.validatebox.defaults.rules.length.message="Voer een waarde tussen {0} en {1}."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Dit veld is verplicht."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Dit veld is verplicht."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Dit veld is verplicht."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Dit veld is verplicht."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["S","M","T","W","T","F","S"],$.fn.calendar.defaults.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Vandaag",$.fn.datebox.defaults.closeText="Dicht",$.fn.datebox.defaults.okText="Ok",$.fn.datebox.defaults.missingMessage="Dit veld is verplicht."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Strona",$.fn.pagination.defaults.afterPageText="z {pages}",$.fn.pagination.defaults.displayMsg="Wyświetlono elementy od {from} do {to} z {total}"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Przetwarzanie, proszę czekać ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ok",$.messager.defaults.cancel="Cancel"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="To pole jest wymagane.",$.fn.validatebox.defaults.rules.email.message="Wprowadź poprawny adres email.",$.fn.validatebox.defaults.rules.url.message="Wprowadź poprawny adres URL.",$.fn.validatebox.defaults.rules.length.message="Wprowadź wartość z zakresu od {0} do {1}.",$.fn.validatebox.defaults.rules.remote.message="Proszę poprawić to pole."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="To pole jest wymagane."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="To pole jest wymagane."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="To pole jest wymagane."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="To pole jest wymagane."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["N","P","W","Ś","C","P","S"],$.fn.calendar.defaults.months=["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Dzisiaj",$.fn.datebox.defaults.closeText="Zamknij",$.fn.datebox.defaults.okText="Ok",$.fn.datebox.defaults.missingMessage="To pole jest wymagane."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Página",$.fn.pagination.defaults.afterPageText="de {pages}",$.fn.pagination.defaults.displayMsg="Mostrando {from} a {to} de {total} itens"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Processando, aguarde ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ok",$.messager.defaults.cancel="Cancelar"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Esse campo é requerido.",$.fn.validatebox.defaults.rules.email.message="Insira um endereço de email válido.",$.fn.validatebox.defaults.rules.url.message="Insira uma URL válida.",$.fn.validatebox.defaults.rules.length.message="Insira uma valor entre {0} e {1}.",$.fn.validatebox.defaults.rules.remote.message="Corrija esse campo."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Esse campo é requerido."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Esse campo é requerido."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Esse campo é requerido."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Esse campo é requerido."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["D","S","T","Q","Q","S","S"],$.fn.calendar.defaults.months=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Hoje",$.fn.datebox.defaults.closeText="Fechar",$.fn.datebox.defaults.okText="Ok",$.fn.datebox.defaults.missingMessage="Esse campo é requerido."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Страница",$.fn.pagination.defaults.afterPageText="из {pages}",$.fn.pagination.defaults.displayMsg="Просмотр {from} до {to} из {total} записей"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Обрабатывается, пожалуйста ждите ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ок",$.messager.defaults.cancel="Закрыть"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Это поле необходимо.",$.fn.validatebox.defaults.rules.email.message="Пожалуйста введите корректный e-mail адрес.",$.fn.validatebox.defaults.rules.url.message="Пожалуйста введите корректный URL.",$.fn.validatebox.defaults.rules.length.message="Пожалуйста введите зачение между {0} и {1}.",$.fn.validatebox.defaults.rules.remote.message="Пожалуйста исправте это поле."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Это поле необходимо."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Это поле необходимо."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Это поле необходимо."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Это поле необходимо."),$.fn.calendar&&($.fn.calendar.defaults.firstDay=1,$.fn.calendar.defaults.weeks=["В","П","В","С","Ч","П","С"],$.fn.calendar.defaults.months=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Сегодня",$.fn.datebox.defaults.closeText="Закрыть",$.fn.datebox.defaults.okText="Ок",$.fn.datebox.defaults.missingMessage="Это поле необходимо."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Sida",$.fn.pagination.defaults.afterPageText="av {pages}",$.fn.pagination.defaults.displayMsg="Visar {from} till {to} av {total} poster"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="Bearbetar, vänligen vänta ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Ok",$.messager.defaults.cancel="Avbryt"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Detta fält är obligatoriskt.",$.fn.validatebox.defaults.rules.email.message="Vänligen ange en korrekt e-post adress.",$.fn.validatebox.defaults.rules.url.message="Vänligen ange en korrekt URL.",$.fn.validatebox.defaults.rules.length.message="Vänligen ange ett nummer mellan {0} och {1}.",$.fn.validatebox.defaults.rules.remote.message="Vänligen åtgärda detta fält."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Detta fält är obligatoriskt."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Detta fält är obligatoriskt."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Detta fält är obligatoriskt."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Detta fält är obligatoriskt."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["Sön","Mån","Tis","Ons","Tors","Fre","Lör"],$.fn.calendar.defaults.months=["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="I dag",$.fn.datebox.defaults.closeText="Stäng",$.fn.datebox.defaults.okText="Ok",$.fn.datebox.defaults.missingMessage="Detta fält är obligatoriskt."),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="Sayfa",$.fn.pagination.defaults.afterPageText=" / {pages}",$.fn.pagination.defaults.displayMsg="{from} ile {to} arası gösteriliyor, toplam {total} kayıt"),$.fn.datagrid&&($.fn.panel.defaults.loadingMessage="Yükleniyor..."),$.fn.datagrid&&($.fn.datagrid.defaults.loadingMessage="Yükleniyor...",$.fn.datagrid.defaults.loadMsg="İşleminiz Yapılıyor, lütfen bekleyin ..."),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="Tamam",$.messager.defaults.cancel="İptal"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="Bu alan zorunludur.",$.fn.validatebox.defaults.rules.email.message="Lütfen geçerli bir email adresi giriniz.",$.fn.validatebox.defaults.rules.url.message="Lütfen geçerli bir URL giriniz.",$.fn.validatebox.defaults.rules.length.message="Lütfen {0} ile {1} arasında bir değer giriniz.",$.fn.validatebox.defaults.rules.remote.message="Lütfen bu alanı düzeltiniz."),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="Bu alan zorunludur."),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="Bu alan zorunludur."),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="Bu alan zorunludur."),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="Bu alan zorunludur."),$.fn.calendar&&($.fn.calendar.defaults.weeks=["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],$.fn.calendar.defaults.months=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="Bugün",$.fn.datebox.defaults.closeText="Kapat",$.fn.datebox.defaults.okText="Tamam",$.fn.datebox.defaults.missingMessage="Bu alan zorunludur."),$.fn.datetimebox&&$.fn.datebox&&($.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.datebox.defaults.formatter=function(e){var t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return n<10&&(n="0"+n),r<10&&(r="0"+r),r+"."+n+"."+t}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="第",$.fn.pagination.defaults.afterPageText="共{pages}页",$.fn.pagination.defaults.displayMsg="显示{from}到{to},共{total}记录"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="正在处理，请稍待。。。"),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="确定",$.messager.defaults.cancel="取消"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="该输入项为必输项",$.fn.validatebox.defaults.rules.email.message="请输入有效的电子邮件地址",$.fn.validatebox.defaults.rules.url.message="请输入有效的URL地址",$.fn.validatebox.defaults.rules.length.message="输入内容长度必须介于{0}和{1}之间",$.fn.validatebox.defaults.rules.remote.message="请修正该字段"),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="该输入项为必输项"),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="该输入项为必输项"),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="该输入项为必输项"),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="该输入项为必输项"),$.fn.calendar&&($.fn.calendar.defaults.weeks=["日","一","二","三","四","五","六"],$.fn.calendar.defaults.months=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="今天",$.fn.datebox.defaults.closeText="关闭",$.fn.datebox.defaults.okText="确定",$.fn.datebox.defaults.missingMessage="该输入项为必输项",$.fn.datebox.defaults.formatter=function(e){var t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return t+"-"+(n<10?"0"+n:n)+"-"+(r<10?"0"+r:r)},$.fn.datebox.defaults.parser=function(e){if(!e)return new Date;var t=e.split("-"),n=parseInt(t[0],10),r=parseInt(t[1],10),i=parseInt(t[2],10);return!isNaN(n)&&!isNaN(r)&&!isNaN(i)?new Date(n,r-1,i):new Date}),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),$.fn.pagination&&($.fn.pagination.defaults.beforePageText="第",$.fn.pagination.defaults.afterPageText="共{pages}頁",$.fn.pagination.defaults.displayMsg="顯示{from}到{to},共{total}記錄"),$.fn.datagrid&&($.fn.datagrid.defaults.loadMsg="正在處理，請稍待。。。"),$.fn.treegrid&&$.fn.datagrid&&($.fn.treegrid.defaults.loadMsg=$.fn.datagrid.defaults.loadMsg),$.messager&&($.messager.defaults.ok="確定",$.messager.defaults.cancel="取消"),$.fn.validatebox&&($.fn.validatebox.defaults.missingMessage="該輸入項為必輸項",$.fn.validatebox.defaults.rules.email.message="請輸入有效的電子郵件地址",$.fn.validatebox.defaults.rules.url.message="請輸入有效的URL地址",$.fn.validatebox.defaults.rules.length.message="輸入內容長度必須介於{0}和{1}之間",$.fn.validatebox.defaults.rules.remote.message="請修正此欄位"),$.fn.numberbox&&($.fn.numberbox.defaults.missingMessage="該輸入項為必輸項"),$.fn.combobox&&($.fn.combobox.defaults.missingMessage="該輸入項為必輸項"),$.fn.combotree&&($.fn.combotree.defaults.missingMessage="該輸入項為必輸項"),$.fn.combogrid&&($.fn.combogrid.defaults.missingMessage="該輸入項為必輸項"),$.fn.calendar&&($.fn.calendar.defaults.weeks=["日","一","二","三","四","五","六"],$.fn.calendar.defaults.months=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]),$.fn.datebox&&($.fn.datebox.defaults.currentText="今天",$.fn.datebox.defaults.closeText="關閉",$.fn.datebox.defaults.okText="確定",$.fn.datebox.defaults.missingMessage="該輸入項為必輸項"),$.fn.datetimebox&&$.fn.datebox&&$.extend($.fn.datetimebox.defaults,{currentText:$.fn.datebox.defaults
.currentText,closeText:$.fn.datebox.defaults.closeText,okText:$.fn.datebox.defaults.okText,missingMessage:$.fn.datebox.defaults.missingMessage}),function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,i=r.name,!t.href||!i||r.nodeName.toLowerCase()!=="map"?!1:(o=e("img[usemap=#"+i+"]")[0],!!o&&s(o))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,r){return typeof n=="number"?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)return;for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)}})}(jQuery),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}(jQuery),function(e,t){function h(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}function d(t){var n=t[0];return n.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,r=Math.max,i=Math.abs,s=Math.round,o=/left|center|right/,u=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,l=/%$/,c=e.fn.position;e.position={scrollbarWidth:function(){if(n!==t)return n;var r,i,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return e("body").append(s),r=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,r===i&&(i=s[0].clientWidth),s.remove(),n=r-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&t.width<t.element[0].scrollWidth,s=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var n,l,v,m,g,y,b=e(t.of),w=e.position.getWithinInfo(t.within),E=e.position.getScrollInfo(w),S=(t.collision||"flip").split(" "),x={};return y=d(b),b[0].preventDefault&&(t.at="left top"),l=y.width,v=y.height,m=y.offset,g=e.extend({},m),e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,r;e.length===1&&(e=o.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]),e[0]=o.test(e[0])?e[0]:"center",e[1]=u.test(e[1])?e[1]:"center",n=a.exec(e[0]),r=a.exec(e[1]),x[this]=[n?n[0]:0,r?r[0]:0],t[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]}),S.length===1&&(S[1]=S[0]),t.at[0]==="right"?g.left+=l:t.at[0]==="center"&&(g.left+=l/2),t.at[1]==="bottom"?g.top+=v:t.at[1]==="center"&&(g.top+=v/2),n=h(x.at,l,v),g.left+=n[0],g.top+=n[1],this.each(function(){var o,u,a=e(this),f=a.outerWidth(),c=a.outerHeight(),d=p(this,"marginLeft"),y=p(this,"marginTop"),T=f+d+p(this,"marginRight")+E.width,N=c+y+p(this,"marginBottom")+E.height,C=e.extend({},g),k=h(x.my,a.outerWidth(),a.outerHeight());t.my[0]==="right"?C.left-=f:t.my[0]==="center"&&(C.left-=f/2),t.my[1]==="bottom"?C.top-=c:t.my[1]==="center"&&(C.top-=c/2),C.left+=k[0],C.top+=k[1],e.support.offsetFractions||(C.left=s(C.left),C.top=s(C.top)),o={marginLeft:d,marginTop:y},e.each(["left","top"],function(r,i){e.ui.position[S[r]]&&e.ui.position[S[r]][i](C,{targetWidth:l,targetHeight:v,elemWidth:f,elemHeight:c,collisionPosition:o,collisionWidth:T,collisionHeight:N,offset:[n[0]+k[0],n[1]+k[1]],my:t.my,at:t.at,within:w,elem:a})}),t.using&&(u=function(e){var n=m.left-C.left,s=n+l-f,o=m.top-C.top,u=o+v-c,h={target:{element:b,left:m.left,top:m.top,width:l,height:v},element:{element:a,left:C.left,top:C.top,width:f,height:c},horizontal:s<0?"left":n>0?"right":"center",vertical:u<0?"top":o>0?"bottom":"middle"};l<f&&i(n+s)<l&&(h.horizontal="center"),v<c&&i(o+u)<v&&(h.vertical="middle"),r(i(n),i(s))>r(i(o),i(u))?h.important="horizontal":h.important="vertical",t.using.call(this,e,h)}),a.offset(e.extend(C,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,u=i-o,a=o+t.collisionWidth-s-i,f;t.collisionWidth>s?u>0&&a<=0?(f=e.left+u+t.collisionWidth-s-i,e.left+=u-f):a>0&&u<=0?e.left=i:u>a?e.left=i+s-t.collisionWidth:e.left=i:u>0?e.left+=u:a>0?e.left-=a:e.left=r(e.left-o,e.left)},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=i-o,a=o+t.collisionHeight-s-i,f;t.collisionHeight>s?u>0&&a<=0?(f=e.top+u+t.collisionHeight-s-i,e.top+=u-f):a>0&&u<=0?e.top=i:u>a?e.top=i+s-t.collisionHeight:e.top=i:u>0?e.top+=u:a>0?e.top-=a:e.top=r(e.top-o,e.top)}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,s=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-s-o,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-s-r;if(p<0||p<i(a))e.left+=l+c+h}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-o;if(d>0||i(d)<f)e.left+=l+c+h}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,s=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-s-o,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;a<0?(v=e.top+c+h+p+t.collisionHeight-s-r,e.top+c+h+p>a&&(v<0||v<i(a))&&(e.top+=c+h+p)):f>0&&(d=e.top-t.collisionPosition.marginTop+c+h+p-o,e.top+c+h+p>f&&(d>0||i(d)<f)&&(e.top+=c+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,s,o=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(o?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in r)t.style[s]=r[s];t.appendChild(u),n=o||document.documentElement,n.insertBefore(t,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",i=e(u).offset().left,e.support.offsetFractions=i>10&&i<11,t.innerHTML="",n.removeChild(t)}()}(jQuery),function(e,t){var n=0;e.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,r,i=this.element[0].nodeName.toLowerCase(),s=i==="textarea",o=i==="input";this.isMultiLine=s?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly")){t=!0,r=!0,n=!0;return}t=!1,r=!1,n=!1;var s=e.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",i);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case s.UP:t=!0,this._keyEvent("previous",i);break;case s.DOWN:t=!0,this._keyEvent("next",i);break;case s.ENTER:case s.NUMPAD_ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case s.TAB:this.menu.active&&this.menu.select(i);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(t){t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault();return}if(n)return;var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}},input:function(e){if(r){r=!1,e.preventDefault();return}this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target!==t.element[0]&&r.target!==n&&!e.contains(n,r.target)&&t.close()})})},menufocus:function(t,n){if(this.isNewMenu){this.isNewMenu=!1;if(t.originalEvent&&/^mouse/.test(t.originalEvent.type)){this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});return}}var r=n.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:r})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value):this.liveRegion.text(r.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),e==="source"&&this._initSource(),e==="appendTo"&&this.menu.element.appendTo(this._appendTo()),e==="disabled"&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):typeof this.options.source=="string"?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){e=e!=null?e:this._value(),this.term=this._value();if(e.length<this.options.minLength)return this.close(t);if(this._trigger("search",t)===!1)return;return this._search(e)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,t=++n;return function(r){t===n&&e.__response(r),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return typeof t=="string"?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this._value(this.term),this.menu.blur();return}this.menu[e](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(e,t),t.preventDefault()}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments);if(this.options.disabled||this.cancelSearch)return;e&&e.length?t=this.options.messages.results(e.length):t=this.options.messages.noResults,this.liveRegion.text(t)}})}(jQuery),function(e,t){e.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var n=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),n.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,i,s,o,u=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:u=!1,r=this.previousFilter||"",i=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),i===r?s=!0:i=r+i,o=new RegExp("^"+a(i),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())}),n=s&&n.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):n,n.length||(i=String.fromCharCode(t.keyCode),o=new RegExp("^"+a(i),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}u&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,r=this.element.find(this.options.menus);r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),r=t.prev("a"),i=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);r.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",r.attr("id"))}),t=r.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){e==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&e.type==="focus"),this._scrollIntoView(t),this.active=t.first(),r=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&e.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,s,o,u;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-r,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),u=t.height(),i<0?this.activeMenu.scrollTop(s+i):i+u>o&&this.activeMenu.scrollTop(s+i-o+u))},blur:function(e,t){t||clearTimeout(this.timer);if(!this.active)return;this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active})},_startOpening:function(e){clearTimeout(this.timer);if(e.attr("aria-hidden")!=="true")return;this.timer=this._delay(function(){this._close(),this._open(e)},this.delay)},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(e==="first"||e==="last"?r=this.active[e==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):r=this.active[e+"All"](".ui-menu-item").eq(0));if(!r||!r.length||!this.active)r=this.activeMenu.children(".ui-menu-item")[t]();this.focus(n,r)},nextPage:function(t){var n,r,i;if(!this.active){this.next(t);return}if(this.isLastItem
())return;this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-r-i<0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())},previousPage:function(t){var n,r,i;if(!this.active){this.next(t);return}if(this.isFirstItem())return;this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-r+i>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,i=r.name,!t.href||!i||r.nodeName.toLowerCase()!=="map"?!1:(o=e("img[usemap=#"+i+"]")[0],!!o&&s(o))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,r){return typeof n=="number"?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)return;for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)}})}(jQuery),function(e,t){var n=!1;e(document).mouseup(function(){n=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){function n(e,t,n){return e>t&&e<t+n}function r(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?e.axis==="x"||r(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){t==="disabled"?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=null,i=!1,s=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type==="static")return!1;this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,s.widgetName+"-item")===s)return r=e(this),!1}),e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target));if(!r)return!1;if(this.options.handle&&!n){e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)});if(!i)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i,s,o=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&o.cursor!=="auto"&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=!1;this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?u=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(u=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?u=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(u=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))),u!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=this.position.top+"px";for(n=this.items.length-1;n>=0;n--){r=this.items[n],i=r.item[0],s=this._intersectsWithPointer(r);if(!s)continue;if(r.instance!==this.currentContainer)continue;if(i!==this.currentItem[0]&&this.placeholder[s===1?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],i):!0)){this.direction=s===1?"down":"up";if(this.options.tolerance!=="pointer"&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var r=this,i=this.placeholder.offset(),s=this.options.axis,o={};if(!s||s==="x")o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);if(!s||s==="y")o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=this.options.axis==="x"||r+f>u&&r+f<a,h=this.options.axis==="y"||t+l>s&&t+l<o,p=c&&h;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(e){var t=this.options.axis==="x"||n(this.positionAbs.top+this.offset.click.top,e.top,e.height),r=this.options.axis==="y"||n(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&o==="right"||s==="down"?2:1:s&&(s==="down"?2:1):!1},_intersectsWithSides:function(e){var t=n(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=n(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?s==="right"&&r||s==="left"&&!r:i&&(i==="down"&&t||i==="up"&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,i,s,o=[],u=[],a=this._connectWith();if(a&&t)for(n=a.length-1;n>=0;n--){i=e(a[n]);for(r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&u.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}u.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(n=u.length-1;n>=0;n--)u[n][0].each(function(){o.push(this)});return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--){i=e(h[n]);for(r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s))}for(n=c.length-1;n>=0;n--){o=c[n][1],u=c[n][0];for(r=0,f=u.length;r<f;r++)a=e(u[r]),a.data(this.widgetName+"-item",o),l.push({item:a,instance:o,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,s;for(n=this.items.length-1;n>=0;n--){r=this.items[n];if(r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0])continue;i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),s=i.offset(),r.left=s.left,r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;if(!r.placeholder||r.placeholder.constructor===String)n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return r==="tr"?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)}):r==="img"&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){if(n&&!r.forcePlaceholderSize)return;i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}};t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,s,o,u,a,f,l,c,h,p,d=null,v=null;for(i=this.containers.length-1;i>=0;i--){if(e.contains(this.currentItem[0],this.containers[i].element[0]))continue;if(this._intersectsWith(this.containers[i].containerCache)){if(d&&e.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],v=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0)}if(!d)return;if(this.containers.length===1)this.containers[v].containerCache.over||(this.containers[v]._trigger("over",t,this._uiHash(this)),this.containers[v].containerCache.over=1);else{o=1e4,u=null,p=d.floating||r(this.currentItem),a=p?"left":"top",f=p?"width":"height",l=this.positionAbs[a]+this.offset.click[a];for(s=this.items.length-1;s>=0;s--){if(!e.contains(this.containers[v].element[0],this.items[s].item[0]))continue;if(this.items[s].item[0]===this.currentItem[0])continue;if(p&&!n(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))continue;c=this.items[s].item.offset()[a],h=!1,Math.abs(c-l)>Math.abs(c+this.items[s][f]-l)&&(h=!0,c+=this.items[s][f]),Math.abs(c-l)<o&&(o=Math.abs(c-l),u=this.items[s],this.direction=h?"up":"down")}if(!u&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[v])return;u?this._rearrange(t,u,null,!0):this._rearrange(t,null,this.containers[v].element,!0),this._trigger("change",t,this._uiHash()),this.containers[v]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[v],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[v]._trigger("over",t,this._uiHash(this)),this.containers[v].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper==="clone"?this.currentItem.clone():this.currentItem;return r.parents("body").length||e(n.appendTo!=="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode);if(i.containment==="document"||i.containment==="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r=e(t).css("overflow")!=="hidden",this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r=t==="absolute"?1:-1,i=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName);return this.cssPosition==="relative"&&(this.scrollParent[0]===document||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0],s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){this.reverting=!1;var n,r=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)if(this._storedCSS[n]==="auto"||this._storedCSS[n]==="static")this._storedCSS[n]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!t&&r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(n=this.containers.length-1;n>=0;n--)t||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!t){this._trigger("beforeStop",e,this._uiHash());for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(
){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}(jQuery),function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function n(e){return i.raw?e:decodeURIComponent(e.replace(t," "))}function r(e){e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),e=n(e);try{return i.json?JSON.parse(e):e}catch(t){}}var t=/\+/g,i=e.cookie=function(t,s,o){if(s!==undefined){o=e.extend({},i.defaults,o);if(typeof o.expires=="number"){var u=o.expires,a=o.expires=new Date;a.setDate(a.getDate()+u)}return s=i.json?JSON.stringify(s):String(s),document.cookie=[i.raw?t:encodeURIComponent(t),"=",i.raw?s:encodeURIComponent(s),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}var f=document.cookie.split("; "),l=t?undefined:{};for(var c=0,h=f.length;c<h;c++){var p=f[c].split("="),d=n(p.shift()),v=p.join("=");if(t&&t===d){l=r(v);break}t||(l[d]=r(v))}return l};i.defaults={},e.removeCookie=function(t,n){return e.cookie(t)!==undefined?(e.cookie(t,"",e.extend({},n,{expires:-1})),!0):!1}});var Handsontable={extension:{},helper:{}};(function(e,t,n){"use strict";function u(e){this.instance=e,this.createElements(),this.bindEvents()}function a(e){this.instance=e,this.createElements(),this.bindEvents(),this.emptyStringLabel="   "}function f(e,t,r,i){n.helper.stringify(e.getDataAtRowProp(t,r))===n.helper.stringify(i.checkedTemplate)?e.setDataAtRowProp(t,r,i.uncheckedTemplate):e.setDataAtRowProp(t,r,i.checkedTemplate)}function l(t){if(!e.datepicker)throw new Error("jQuery UI Datepicker dependency not found. Did you forget to include jquery-ui.custom.js or its substitute?");this.isCellEdited=!1,this.instance=t;var n=this;this.createElements(),this.bindEvents(),this.instance.addHook("afterDestroy",function(){n.destroyElements()})}function c(e){this.instance=e,this.createElements(),this.bindEvents()}function p(){function i(){var e=this;e.registerTimeout("enableObserveChanges",function(){e.updateSettings({observeChanges:!0})},0)}function s(e){return function(t,n){return t[1]===n[1]?0:t[1]===null?1:n[1]===null?-1:t[1]<n[1]?e?-1:1:t[1]>n[1]?e?1:-1:0}}function o(e){return function(t,n){if(t[1]===n[1])return 0;if(t[1]===null)return 1;if(n[1]===null)return-1;var r=new Date(t[1]),i=new Date(n[1]);return r<i?e?-1:1:r>i?e?1:-1:0}}function u(e){return typeof e.sortColumn!="undefined"}var e=this;this.init=function(t){var s=this,o=s.getSettings().columnSorting,u,a;s.sortingEnabled=!!o;if(s.sortingEnabled){s.sortIndex=[];var f=n.call(s);typeof f!="undefined"?(u=f.sortColumn,a=f.sortOrder):(u=o.column,a=o.sortOrder),e.sortByColumn.call(s,u,a),s.sort=function(){var t=Array.prototype.slice.call(arguments);return e.sortByColumn.apply(s,t)},typeof s.getSettings().observeChanges=="undefined"&&i.call(s),t=="afterInit"&&(r.call(s),s.addHook("afterCreateRow",e.afterCreateRow),s.addHook("afterRemoveRow",e.afterRemoveRow))}else delete s.sort},this.setSortingColumn=function(e,t){var n=this;if(typeof e=="undefined"){delete n.sortColumn,delete n.sortOrder;return}n.sortColumn===e&&typeof t=="undefined"?n.sortOrder=!n.sortOrder:n.sortOrder=typeof t!="undefined"?t:!0,n.sortColumn=e},this.sortByColumn=function(n,r){var i=this;e.setSortingColumn.call(i,n,r),i.PluginHooks.run("beforeColumnSort",i.sortColumn,i.sortOrder),e.sort.call(i),i.render(),t.call(i),i.PluginHooks.run("afterColumnSort",i.sortColumn,i.sortOrder)};var t=function(){var e=this,t={};typeof e.sortColumn!="undefined"&&(t.sortColumn=e.sortColumn),typeof e.sortOrder!="undefined"&&(t.sortOrder=e.sortOrder),(t.hasOwnProperty("sortColumn")||t.hasOwnProperty("sortOrder"))&&e.PluginHooks.run("persistentStateSave","columnSorting",t)},n=function(){var e=this,t={};return e.PluginHooks.run("persistentStateLoad","columnSorting",t),t.value},r=function(){function n(){var e=t.view.TBODY.querySelector("tr").querySelectorAll("th");return e.length}function r(e){var r=t.view.wt.wtDom.closest(e,"TH");return t.view.wt.wtDom.index(r)-n()}var t=this;t.rootElement.on("click.handsontable",".columnSorting",function(n){if(t.view.wt.wtDom.hasClass(n.target,"columnSorting")){var i=r(n.target);e.sortByColumn.call(t,i)}})};this.sort=function(){var e=this;if(typeof e.sortOrder=="undefined")return;e.sortingEnabled=!1,e.sortIndex.length=0;var t=this.colOffset();for(var n=0,r=this.countRows()-e.getSettings().minSpareRows;n<r;n++)this.sortIndex.push([n,e.getDataAtCell(n,this.sortColumn+t)]);var i=e.getCellMeta(0,e.sortColumn),u;switch(i.type){case"date":u=o;break;default:u=s}this.sortIndex.sort(u(e.sortOrder));for(var n=this.sortIndex.length;n<e.countRows();n++)this.sortIndex.push([n,e.getDataAtCell(n,this.sortColumn+t)]);e.sortingEnabled=!0},this.translateRow=function(e){var t=this;return t.sortingEnabled&&t.sortIndex&&t.sortIndex.length?t.sortIndex[e][0]:e},this.onBeforeGetSet=function(t){var n=this;t.row=e.translateRow.call(n,t.row)},this.untranslateRow=function(e){if(sortingEnabled&&this.sortIndex&&this.sortIndex.length)for(var t=0;t<this.sortIndex.length;t++)if(this.sortIndex[t][0]==e)return t},this.getColHeader=function(e,t){this.getSettings().columnSorting&&this.view.wt.wtDom.addClass(t.querySelector(".colHeader"),"columnSorting")},this.afterCreateRow=function(e,n){var r=this;if(!u(r))return;r.sortIndex.splice(e,0,[e,r.getData()[e][this.sortColumn+r.colOffset()]]);for(var i=0;i<r.sortIndex.length;i++){if(i==e)continue;r.sortIndex[i][0]>=e&&(r.sortIndex[i][0]+=1)}t.call(r)},this.afterRemoveRow=function(e,n){var r=this;if(!u(r))return;r.sortIndex.splice(e,n);for(var i=0;i<r.sortIndex.length;i++)r.sortIndex[i][0]>e&&(r.sortIndex[i][0]-=n);t.call(r)},this.afterChangeSort=function(t){var n=this,r=!1,i={};if(!t)return;for(var s=0;s<t.length;s++)if(t[s][1]==n.sortColumn){r=!0,i.row=e.translateRow.call(n,t[s][0]),i.col=t[s][1];break}r&&setTimeout(function(){e.sort.call(n),n.render(),n.selectCell(e.untranslateRow.call(n,i.row),i.col)},0)}}function v(){var t,n,r,i,s,o,u=document.createElement("DIV"),a=u.style;u.className="ghost",a.position="absolute",a.top="25px",a.left=0,a.width="10px",a.height="10px",a.backgroundColor="#CCC",a.opacity=.7;var f=function(){var e=this;e.PluginHooks.run("persistentStateSave","manualColumnPositions",e.manualColumnPositions)},l=function(){var e=this,t={};return e.PluginHooks.run("persistentStateLoad","manualColumnPositions",t),t.value},c=function(){var t=this;t.rootElement.on("mousemove.manualColumnMove",function(e){n&&(a.left=o+e.pageX-s+6+"px",a.display==="none"&&(a.display="block"))}),t.rootElement.on("mouseup.manualColumnMove",function(){n&&(r<i&&i--,t.getSettings().rowHeaders&&(r--,i--),t.manualColumnPositions.splice(i,0,t.manualColumnPositions.splice(r,1)[0]),e(".manualColumnMover.active").removeClass("active"),n=!1,t.forceFullRender=!0,t.view.render(),a.display="none",f.call(t),t.PluginHooks.run("afterColumnMove",r,i))}),t.rootElement.on("mousedown.manualColumnMove",".manualColumnMover",function(e){var f=e.currentTarget,l=t.view.wt.wtDom.closest(f,"TH");r=t.view.wt.wtDom.index(l)+t.colOffset(),i=r,n=!0,s=e.pageX;var c=t.$table[0];c.parentNode.appendChild(u),a.width=t.view.wt.wtDom.outerWidth(l)+"px",a.height=t.view.wt.wtDom.outerHeight(c)+"px",o=parseInt(t.view.wt.wtDom.offset(l).left-t.view.wt.wtDom.offset(c).left,10),a.left=o+6+"px"}),t.rootElement.on("mouseenter.manualColumnMove","td, th",function(){if(n){var e=t.view.THEAD.querySelector(".manualColumnMover.active");e&&t.view.wt.wtDom.removeClass(e,"active"),i=t.view.wt.wtDom.index(this)+t.colOffset();var r=t.view.THEAD.querySelectorAll("th"),s=r[i].querySelector(".manualColumnMover");t.view.wt.wtDom.addClass(s,"active")}}),t.addHook("afterDestroy",h)},h=function(){var e=this;e.rootElement.off("mouseup.manualColumnMove"),e.rootElement.off("mousemove.manualColumnMove"),e.rootElement.off("mousedown.manualColumnMove"),e.rootElement.off("mouseenter.manualColumnMove")};this.beforeInit=function(){this.manualColumnPositions=[]},this.init=function(e){var t=this,n=!!this.getSettings().manualColumnMove;if(n){var r=this.getSettings().manualColumnMove,i=l.call(t);typeof i!="undefined"?this.manualColumnPositions=i:r instanceof Array?this.manualColumnPositions=r:this.manualColumnPositions=[],t.forceFullRender=!0,e=="afterInit"&&(c.call(this),this.manualColumnPositions.length>0&&(this.forceFullRender=!0,this.render()))}else h.call(this),this.manualColumnPositions=[]},this.modifyCol=function(e){return this.getSettings().manualColumnMove?(typeof this.manualColumnPositions[e]=="undefined"&&(this.manualColumnPositions[e]=e),this.manualColumnPositions[e]):e},this.getColHeader=function(e,t){if(this.getSettings().manualColumnMove){var n=document.createElement("DIV");n.className="manualColumnMover",t.firstChild.appendChild(n)}}}function g(){function g(e){s=this,n=e;var t=this.view.wt.wtTable.getCoords(e)[1];if(t>=0){r=t;var i=this.view.wt.wtDom.offset(this.rootElement[0]).left,o=this.view.wt.wtDom.offset(e).left;f=o-i-6;var u=this.view.wt.wtDom.getComputedStyle(e);l.style.left=f+parseInt(this.view.wt.wtDom.outerWidth(e),10)+"px",this.rootElement[0].appendChild(l)}}function y(e){var t=this,n=t.view.wt.wtDom.offset(e).left-t.view.wt.wtDom.offset(e).left,r=t.view.wt.wtDom.offset(t.rootElement[0]).left,i=t.view.wt.wtTable.getCoords(e)[1],s=t.getColWidth(i),o=t.view.maximumVisibleElementWidth(n-r);return Math.min(s,o)}function b(){var e=this,r=2*parseInt(this.view.wt.wtDom.getComputedStyle(n).borderWidth,10);a=parseInt(this.view.wt.wtDom.outerWidth(n),10),e.view.wt.wtDom.addClass(l,"active"),p.height=e.view.wt.wtDom.outerHeight(e.$table[0])+"px",t=e}var t,n,r,i,s,o,u,a,f,l=document.createElement("DIV"),c=document.createElement("DIV"),h=document.createElement("DIV"),p=h.style;l.className="manualColumnResizer",c.className="manualColumnResizerHandle",l.appendChild(c),h.className="manualColumnResizerLine",l.appendChild(h);var d=e(document);d.mousemove(function(e){t&&(i=a+(e.pageX-u),o=E(r,i),l.style.left=f+i+"px")}),d.mouseup(function(){t&&(s.view.wt.wtDom.removeClass(l,"active"),t=!1,o!=a&&(s.forceFullRender=!0,s.view.render(),v.call(s),s.PluginHooks.run("afterColumnResize",r,o)),g.call(s,n))});var v=function(){var e=this;e.PluginHooks.run("persistentStateSave","manualColumnWidths",e.manualColumnWidths)},m=function(){var e=this,t={};return e.PluginHooks.run("persistentStateLoad","manualColumnWidths",t),t.value},w=function(){var e=this,n=0,i=null;this.rootElement.on("mouseenter.handsontable","th",function(n){t||g.call(e,n.currentTarget)}),this.rootElement.on("mousedown.handsontable",".manualColumnResizer",function(){i==null&&(i=setTimeout(function(){n>=2&&(o=e.determineColumnWidth.call(e,r),E(r,o),e.forceFullRender=!0,e.view.render(),e.PluginHooks.run("afterColumnResize",r,o)),n=0,i=null},500)),n++}),this.rootElement.on("mousedown.handsontable",".manualColumnResizer",function(t){u=t.pageX,b.call(e),o=a})};this.beforeInit=function(){this.manualColumnWidths=[]},this.init=function(e){var t=this,n=!!this.getSettings().manualColumnResize;if(n){var r=this.getSettings().manualColumnResize,i=m.call(t);typeof i!="undefined"?this.manualColumnWidths=i:r instanceof Array?this.manualColumnWidths=r:this.manualColumnWidths=[],e=="afterInit"&&(w.call(this),t.forceFullRender=!0,t.render())}};var E=function(e,t){return t=Math.max(t,20),e=s.PluginHooks.execute("modifyCol",e),s.manualColumnWidths[e]=t,t};this.getColWidth=function(e,t){this.getSettings().manualColumnResize&&this.manualColumnWidths[e]&&(t.width=this.manualColumnWidths[e])}}function b(e){var n,r=function(){t.localStorage[e+"__"+"persistentStateKeys"]=JSON.stringify(n)},i=function(){var r=t.localStorage[e+"__"+"persistentStateKeys"],i=typeof r=="string"?JSON.parse(r):void 0;n=i?i:[]},s=function(){n=[],r()};i(),this.saveValue=function(i,s){t.localStorage[e+"_"+i]=JSON.stringify(s),n.indexOf(i)==-1&&(n.push(i),r())},this.loadValue=function(n,r){n=typeof n!="undefined"?n:r;var i=t.localStorage[e+"_"+n];return typeof i=="undefined"?void 0:JSON.parse(i)},this.reset=function(n){t.localStorage.removeItem(e+"_"+n)},this.resetAll=function(){for(var r=0;r<n.length;r++)t.localStorage.removeItem(e+"_"+n[r]);s()}}function E(){var e=this,t,n;this.copyCallbacks=[],this.cutCallbacks=[],this.pasteCallbacks=[];var r=document.documentElement;n=document.body,document.getElementById("CopyPasteDiv")?(this.elDiv=document.getElementById("CopyPasteDiv"),this.elTextarea=this.elDiv.firstChild):(this.elDiv=document.createElement("DIV"),this.elDiv.id="CopyPasteDiv",t=this.elDiv.style,t.position="fixed",t.top=0,t.left=0,n.appendChild(this.elDiv),this.elTextarea=document.createElement("TEXTAREA"),this.elTextarea.className="copyPaste",t=this.elTextarea.style,t.width="1px",t.height="1px",this.elDiv.appendChild(this.elTextarea),typeof t.opacity!="undefined"&&(t.opacity=0)),this._bindEvent(r,"keydown",function(t){var n=!1;t.metaKey?n=!0:t.ctrlKey&&navigator.userAgent.indexOf("Mac")===-1&&(n=!0);if(n){if(document.activeElement!==e.elTextarea&&(e.getSelectionText()!=""||["INPUT","SELECT","TEXTAREA"].indexOf(document.activeElement.nodeName)!=-1))return;e.selectNodeText(e.elTextarea),setTimeout(function(){e.selectNodeText(e.elTextarea)},0)}n&&(t.keyCode===67||t.keyCode===86||t.keyCode===88)&&(t.keyCode===88?setTimeout(function(){e.triggerCut(t)},0):t.keyCode===86&&setTimeout(function(){e.triggerPaste(t)},0))})}function x(t,n){var r;this.instance=t,this.settings=n,this.wtDom=this.instance.wtDom,this.main=document.createElement("div"),r=this.main.style,r.position="absolute",r.top=0,r.left=0;for(var i=0;i<5;i++){var s=document.createElement("DIV");s.className="wtBorder "+(n.className||""),r=s.style,r.backgroundColor=n.border.color,r.height=n.border.width+"px",r.width=n.border.width+"px",this.main.appendChild(s)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width="5px",this.cornerStyle.height="5px",this.cornerStyle.border="2px solid #FFF",this.disappear(),t.wtTable.bordersHolder||(t.wtTable.bordersHolder=document.createElement("div"),t.wtTable.bordersHolder.className="htBorders",t.wtTable.hider.appendChild(t.wtTable.bordersHolder)),t.wtTable.bordersHolder.appendChild(this.main);var o=!1,u=e(document.body);u.on("mousedown.walkontable."+t.guid,function(){o=!0}),u.on("mouseup.walkontable."+t.guid,function(){o=!1}),e(this.main.childNodes).on("mouseenter",function(n){if(!o||!t.getSetting("hideBorderOnMouseDownOver"))return;n.preventDefault(),n.stopImmediatePropagation();var r=this.getBoundingClientRect(),i=e(this);i.hide();var s=function(e){if(e.clientY<Math.floor(r.top))return!0;if(e.clientY>Math.ceil(r.top+r.height))return!0;if(e.clientX<Math.floor(r.left))return!0;if(e.clientX>Math.ceil(r.left+r.width))return!0};u.on("mousemove.border."+t.guid,function(e){s(e)&&(u.off("mousemove.border."+t.guid),i.show())})})}function T(){this.offset=0,this.total=0,this.fixedCount=0}function N(){}function C(){this.cache=[]}function k(){this.countTH=0}function L(e,t,n){var r,i=0;this.containerSizeFn=e,this.cellSizesSum=0,this.cellSizes=[],this.cellStretch=[],this.cellCount=0,this.remainingSize=0,this.strategy=n;for(;;){r=t(i);if(r===void 0)break;if(this.cellSizesSum>=this.getContainerSize(this.cellSizesSum+r))break;this.cellSizes.push(r),this.cellSizesSum+=r,this.cellCount++,i++}var s=this.getContainerSize(this.cellSizesSum);this.remainingSize=this.cellSizesSum-s}function A(e){var r=this,i=[];this.guid="wt_"+(t.Handsontable?n.helper.randomString():""),this.wtSettings=new X(this,e),this.wtDom=new O,this.wtTable=new V(this),this.wtScroll=new H(this),this.wtViewport=new $(this),this.wtScrollbars=new z(this),this.wtWheel=new J(this),this.wtEvent=new M(this);if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var s=0,o=this.wtTable.THEAD.childNodes[0].childNodes.length;s<o;s++)i.push(this.wtTable.THEAD.childNodes[0].childNodes[s].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(e,t){r.wtDom.fastInnerText(t,i[e])}])}this.selections={};var u=this.getSetting("selections");if(u)for(var a in u)u.hasOwnProperty(a)&&(this.selections[a]=new W(this,u[a]));this.drawn=!1,this.drawInterrupted=!1,t.Handsontable&&n.PluginHooks.add("beforeChange",function(){r.rowHeightCache&&(r.rowHeightCache.length=0)})}function O(){}function M(t){var n=this;this.instance=t,this.wtDom=this.instance.wtDom;var r=[null,null,null,null];this.instance.dblClickTimeout=null;var i=function(e){var t=n.parentCell(e.target);t.TD&&t.TD.nodeName==="TD"?n.instance.hasSetting("onCellMouseDown")&&n.instance.getSetting("onCellMouseDown",e,t.coords,t.TD):n.wtDom.hasClass(e.target,"corner")&&n.instance.getSetting("onCellCornerMouseDown",e,e.target),e.button!==2&&(t.TD&&t.TD.nodeName==="TD"?(r.shift(),r.push(t.TD)):n.wtDom.hasClass(e.target,"corner")&&(r.shift(),r.push(e.target)))},s,o=function(e){if(n.instance.hasSetting("onCellMouseOver")){var t=n.instance.wtTable.TABLE,r=n.wtDom.closest(e.target,["TD","TH"],t);r&&r!==s&&n.wtDom.isChildOf(r,t)&&(s=r,r.nodeName==="TD"&&n.instance.getSetting("onCellMouseOver",e,n.instance.wtTable.getCoords(r),r))}},u=function(e){if(e.button!==2){var t=n.parentCell(e.target);t.TD&&t.TD.nodeName==="TD"?(r.shift(),r.push(t.TD)):(r.shift(),r.push(e.target)),r[3]!==null&&r[3]===r[2]&&(n.instance.dblClickTimeout&&r[2]===r[1]&&r[1]===r[0]?(t.TD?n.instance.getSetting("onCellDblClick",e,t.coords,t.TD):n.wtDom.hasClass(e.target,"corner")&&n.instance.getSetting("onCellCornerDblClick",e,t.coords,t.TD),clearTimeout(n.instance.dblClickTimeout),n.instance.dblClickTimeout=null):(clearTimeout(n.instance.dblClickTimeout),n.instance.dblClickTimeout=setTimeout(function(){n.instance.dblClickTimeout=null},500)))}};e(this.instance.wtTable.holder).on("mousedown",i),e(this.instance.wtTable.TABLE).on("mouseover",o),e(this.instance.wtTable.holder).on("mouseup",u)}function _(){var e=arguments[0],t=arguments[1];for(var n=1,r=arguments.length/2;n<r;n++)if(e<=arguments[2*n+1]&&t>=arguments[2*n])return!0;return!1}function D(){}function P(e,t){this.containerSizeFn=e,this.sizeAtIndex=t,this.cellSizesSum=0,this.cellSizes=[],this.cellCount=0,this.remainingSize=-Infinity}function H(e){this.instance=e}function B(){}function I(){this.lastWindowScrollPosition=NaN,this.maxOuts=10}function z(e){e.getSetting("scrollbarModelV")==="native"&&e.update("scrollbarModelH","none");switch(e.getSetting("scrollbarModelV")){case"dragdealer":this.vertical=new j(e);break;case"native":this.vertical=new q(e)}switch(e.getSetting("scrollbarModelH")){case"dragdealer":this.horizontal=new F(e);break;case"native":this.horizontal=new U(e)}}function W(e,t){this.instance=e,this.settings=t,this.selected=[],t.border&&(this.border=new x(e,t))}function X(e,t){var n=this;this.instance=e,this.defaults={table:void 0,scrollH:"auto",scrollV:"auto",scrollbarModelH:"dragdealer",scrollbarModelV:"dragdealer",stretchH:"hybrid",currentRowClassName:null,currentColumnClassName:null,data:void 0,offsetRow:0,offsetColumn:0,fixedColumnsLeft:0,fixedRowsTop:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,width:null,height:null,cellRenderer:function(e,t,r){var i=n.getSetting("data",e,t);n.instance.wtDom.fastInnerText(r,i===void 0||i===null?"":i)},columnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,onCellMouseDown:null,onCellMouseOver:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,scrollbarWidth:10,scrollbarHeight:10},this.settings={};for(var r in this.defaults)if(this.defaults.hasOwnProperty(r))if(t[r]!==void 0)this.settings[r]=t[r];else{if(this.defaults[r]===void 0)throw new Error('A required setting "'+r+'" was not provided');this.settings[r]=this.defaults[r]}}function V(e){this.instance=e,this.TABLE=this.instance.getSetting("table"),this.wtDom=this.instance.wtDom,this.wtDom.removeTextNodes(this.TABLE);var t=this.TABLE.parentNode;if(!t||t.nodeType!==1||!this.wtDom.hasClass(t,"wtHolder")){var n=document.createElement("DIV");n.className="wtSpreader",t&&t.insertBefore(n,this.TABLE),n.appendChild(this.TABLE)}this.spreader=this.TABLE.parentNode,t=this.spreader.parentNode;if(!t||t.nodeType!==1||!this.wtDom.hasClass(t,"wtHolder")){var r=document.createElement("DIV");r.className="wtHider",t&&t.insertBefore(r,this.spreader),r.appendChild(this.spreader)}this.hider=this.spreader.parentNode,this.hiderStyle=this.hider.style,this.hiderStyle.position="relative",t=this.hider.parentNode;if(!t||t.nodeType!==1||!this.wtDom.hasClass(t,"wtHolder")){var i=document.createElement("DIV");i.style.position="relative",i.className="wtHolder",t&&t.insertBefore(i,this.hider),i.appendChild(this.hider)}this.holder=this.hider.parentNode,this.TBODY=this.TABLE.getElementsByTagName("TBODY")[0],this.TBODY||(this.TBODY=document.createElement("TBODY"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.getElementsByTagName("THEAD")[0],this.THEAD||(this.THEAD=document.createElement("THEAD"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.getElementsByTagName("COLGROUP")[0],this.COLGROUP||(this.COLGROUP=document.createElement("COLGROUP"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD));if(this.instance.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length){var s=document.createElement("TR");this.THEAD.appendChild(s)}this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.oldCellCache=new C,this.currentCellCache=new C,this.rowFilter=new D,this.columnFilter=new k,this.verticalRenderReverse=!1;if(this.instance.getSetting("scrollbarModelV")==="native"||this.instance.getSetting("scrollbarModelH")==="native")this.instance.isNativeScroll=!0}function $(n){this.instance=n,this.resetSettings();if(this.instance.isNativeScroll){var r=this;r.clientHeight=document.documentElement.clientHeight,e(t).on("resize",function(){r.clientHeight=document.documentElement.clientHeight})}}function J(t){if(t.isNativeScroll)return;e(t.wtTable.spreader).on("mousewheel",function(e,n,r,i){!r&&!i&&n&&(i=n);if(!r&&!i)return;if(i>0&&t.getSetting("offsetRow")===0)return;if(i<0&&t.wtTable.isLastRowFullyVisible())return;if(r<0&&t.getSetting("offsetColumn")===0)return;if(r>0&&t.wtTable.isLastColumnFullyVisible())return;clearTimeout(t.wheelTimeout),t.wheelTimeout=setTimeout(function(){i?t.wtScrollbars.vertical.visible&&t.scrollVertical(-Math.ceil(i)).draw():r&&t.wtScrollbars.horizontal.visible&&t.scrollHorizontal(Math.ceil(r)).draw()},0),e.preventDefault()})}n.activeGuid=null,n.Core=function(i,s){function m(){var e=!1;return{validatorsInQueue:0,addValidatorToQueue:function(){this.validatorsInQueue++,e=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){this.validatorsInQueue==0&&e==0&&(e=!0,this.onQueueEmpty())}}}function g(t,n,r){function l(){var i;t.length&&(i=h.PluginHooks.execute("beforeChange",t,n),typeof i=="function"?e.when(result).then(function(){r()}):i===!1&&t.splice(0,t.length)),typeof i!="function"&&r()}var i=new m;i.onQueueEmpty=l;for(var s=t.length-1;s>=0;s--)if(t[s]===null)t.splice(s,1);else{var o=u.propToCol(t[s][1]),a=h.runHooksAndReturn("modifyCol",o),f=h.getCellMeta(t[s][0],a);f.dataType==="number"&&typeof t[s][3]=="string"&&t[s][3].length>0&&/^-?[\d\s]*\.?\d*$/.test(t[s][3])&&(t[s][3]=numeral().unformat(t[s][3]||"0")),f.validator&&(i.addValidatorToQueue(),h.validateCell(t[s][3],f,function(e,n){return function(r){if(typeof r!="boolean")throw new Error("Validation error: result is not boolean");r===!1&&n.allowInvalid===!1&&(t.splice(e,1),--e),i.removeValidatorFormQueue()}}(s,f),n))}i.checkIfQueueIsEmpty()}function y(e,t){var n=e.length-1;if(n<0)return;for(;0<=n;n--){if(e[n]===null){e.splice(n,1);continue}if(o.settings.minSpareRows)while(e[n][0]>h.countRows()-1)u.createRow();if(o.dataType==="array"&&o.settings.minSpareCols)while(u.propToCol(e[n][1])>h.countCols()-1)u.createCol();u.set(e[n][0],e[n][1],e[n][3])}h.forceFullRender=!0,a.adjustRowsAndCols(),f.refreshBorders(null,!0),h.PluginHooks.run("afterChange",e,t||"edit")}function b(t,n,r){return typeof t=="object"?t:e.isPlainObject(r)?r:[[t,n,r]]}function E(e){if(e.hasOwnProperty("type")){var t,r;if(typeof e.type=="object")t=e.type;else if(typeof e.type=="string"){t=n.cellTypes[e.type];if(t===void 0)throw new Error('You declared cell type "'+e.type+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes')}for(r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}}var o,u,a,f,l,c,h=this,p=function(){};n.helper.inherit(p,r),n.helper.extend(p.prototype,n.TextCell),E(s),n.helper.extend(p.prototype,s),this.rootElement=i;var d=e(document.documentElement),v=e(document.body);this.guid="ht_"+n.helper.randomString(),this.rootElement[0].id||(this.rootElement[0].id=this.guid),o={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new p,settingsFromDOM:{},selStart:new n.SelectionPoint,selEnd:new n.SelectionPoint,editProxy:!1,isPopulated:null,scrollable:null,extensions:{},colToProp:null,propToCol:null,dataSchema:null,dataType:"array",firstRun:!0},u={recursiveDuckSchema:function(t){var n;if(e.isPlainObject(t)){n={};for(var r in t)t.hasOwnProperty(r)&&(e.isPlainObject(t[r])?n[r]=u.recursiveDuckSchema(t[r]):n[r]=null)}else n=[];return n},recursiveDuckColumns:function(t,n,r){var i,s;typeof n=="undefined"&&(n=0,r="");if(e.isPlainObject(t))for(s in t)t.hasOwnProperty(s)&&(t[s]===null?(i=r+s,o.colToProp.push(i),o.propToCol[i]=n,n++):n=u.recursiveDuckColumns(t[s],n,s+"."));return n},createMap:function(){if(typeof u.getSchema()=="undefined")throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");var e,t,n=u.getSchema();o.colToProp=[],o.propToCol={};if(o.settings.columns)for(e=0,t=o.settings.columns.length;e<t;e++)o.colToProp[e]=o.settings.columns[e].data,o.propToCol[o.settings.columns[e].data]=e;else u.recursiveDuckColumns(n)},colToProp:function(e){return e=n.PluginHooks.execute(h,"modifyCol",e),o.colToProp&&typeof o.colToProp[e]!="undefined"?o.colToProp[e]:e},propToCol:function(e){var t;return typeof o.propToCol[e]!="undefined"?t=o.propToCol[e]:t=e,t=n.PluginHooks.execute(h,"modifyCol",t),t},getSchema:function(){return o.settings.dataSchema?typeof o.settings.dataSchema=="function"?o.settings.dataSchema():o.settings.dataSchema:o.duckDataSchema},createRow:function(t,n){var r,i=h.countCols(),s=0,a;n||(n=1);if(typeof t!="number"||t>=h.countRows())t=h.countRows();a=t;while(s<n&&h.countRows()<o.settings.maxRows){if(o.dataType==="array"){r=[];for(var f=0;f<i;f++)r.push(null)}else o.dataType==="function"?r=o.settings.dataSchema(t):r=e.extend(!0,{},u.getSchema());t===h.countRows()?
p.prototype.data.push(r):p.prototype.data.splice(t,0,r),s++,a++}return h.PluginHooks.run("afterCreateRow",t,s),h.forceFullRender=!0,s},createCol:function(e,t){if(o.dataType==="object"||o.settings.columns)throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting");var r=h.countRows(),i=p.prototype.data,s,u=0,a;t||(t=1),a=e;while(u<t&&h.countCols()<o.settings.maxCols){s=n.helper.columnFactory(p,o.columnsSettingConflicts);if(typeof e!="number"||e>=h.countCols()){for(var f=0;f<r;f++)typeof i[f]=="undefined"&&(i[f]=[]),i[f].push(null);o.columnSettings.push(s)}else{for(var f=0;f<r;f++)i[f].splice(a,0,null);o.columnSettings.splice(a,0,s)}u++,a++}return h.PluginHooks.run("afterCreateCol",e,u),h.forceFullRender=!0,u},removeRow:function(e,t){t||(t=1),typeof e!="number"&&(e=-t),e=(h.countRows()+e)%h.countRows();var n=this.physicalRowsToLogical(e,t);h.PluginHooks.run("beforeRemoveRow",e,t);var r=p.prototype.data.filter(function(e,t){return n.indexOf(t)==-1});p.prototype.data.length=0,Array.prototype.push.apply(p.prototype.data,r),h.PluginHooks.run("afterRemoveRow",e,t),h.forceFullRender=!0},removeCol:function(e,t){if(o.dataType==="object"||o.settings.columns)throw new Error("cannot remove column with object data source or columns option specified");t||(t=1),typeof e!="number"&&(e=-t),e=(h.countCols()+e)%h.countCols(),h.PluginHooks.run("beforeRemoveCol",e,t);var n=p.prototype.data;for(var r=0,i=h.countRows();r<i;r++)n[r].splice(e,t);o.columnSettings.splice(e,t),h.PluginHooks.run("afterRemoveCol",e,t),h.forceFullRender=!0},spliceCol:function(e,t,r){var i=4<=arguments.length?[].slice.call(arguments,3):[],s=h.getDataAtCol(e),o=s.slice(t,t+r),u=s.slice(t+r);n.helper.extendArray(i,u);var a=0;while(a<r)i.push(null),a++;return n.helper.to2dArray(i),h.populateFromArray(t,e,i,null,null,"spliceCol"),o},spliceRow:function(e,t,r){var i=4<=arguments.length?[].slice.call(arguments,3):[],s=h.getDataAtRow(e),o=s.slice(t,t+r),u=s.slice(t+r);n.helper.extendArray(i,u);var a=0;while(a<r)i.push(null),a++;return h.populateFromArray(e,t,[i],null,null,"spliceRow"),o},getVars:{},get:function(e,t){u.getVars.row=e,u.getVars.prop=t,h.PluginHooks.run("beforeGet",u.getVars);if(typeof u.getVars.prop=="string"&&u.getVars.prop.indexOf(".")>-1){var n=u.getVars.prop.split("."),r=o.settings.data[u.getVars.row];if(!r)return null;for(var i=0,s=n.length;i<s;i++){r=r[n[i]];if(typeof r=="undefined")return null}return r}return typeof u.getVars.prop=="function"?u.getVars.prop(o.settings.data.slice(u.getVars.row,u.getVars.row+1)[0]):o.settings.data[u.getVars.row]?o.settings.data[u.getVars.row][u.getVars.prop]:null},setVars:{},set:function(e,t,n,r){u.setVars.row=e,u.setVars.prop=t,u.setVars.value=n,h.PluginHooks.run("beforeSet",u.setVars,r||"datamapGet");if(typeof u.setVars.prop=="string"&&u.setVars.prop.indexOf(".")>-1){var i=u.setVars.prop.split("."),s=o.settings.data[u.setVars.row];for(var a=0,f=i.length-1;a<f;a++)s=s[i[a]];s[i[a]]=u.setVars.value}else typeof u.setVars.prop=="function"?u.setVars.prop(o.settings.data.slice(u.setVars.row,u.setVars.row+1)[0],u.setVars.value):o.settings.data[u.setVars.row][u.setVars.prop]=u.setVars.value},physicalRowsToLogical:function(e,t){var n=(p.prototype.data.length+e)%p.prototype.data.length,r=[],i=t;while(n<p.prototype.data.length&&i)this.get(n,0),r.push(this.getVars.row),i--,n++;return r},clear:function(){for(var e=0;e<h.countRows();e++)for(var t=0;t<h.countCols();t++)u.set(e,u.colToProp(t),"")},getAll:function(){return o.settings.data},getRange:function(e,t){var n,r,i,s,o=[],a;r=Math.max(e.row,t.row),s=Math.max(e.col,t.col);for(n=Math.min(e.row,t.row);n<=r;n++){a=[];for(i=Math.min(e.col,t.col);i<=s;i++)a.push(u.get(n,u.colToProp(i)));o.push(a)}return o},getText:function(e,t){return SheetClip.stringify(u.getRange(e,t))}},a={alter:function(t,r,i,s,l){var c,p,d,v,m,g,y,b;c=e.extend(!0,[],u.getAll()),i=i||1;switch(t){case"insert_row":b=u.createRow(r,i),b&&(o.selStart.exists()&&o.selStart.row()>=r?(o.selStart.row(o.selStart.row()+b),f.transformEnd(b,0)):f.refreshBorders());break;case"insert_col":b=u.createCol(r,i);if(b){if(n.helper.isArray(h.getSettings().colHeaders)){var w=[r,0];w.length+=b,Array.prototype.splice.apply(h.getSettings().colHeaders,w)}o.selStart.exists()&&o.selStart.col()>=r?(o.selStart.col(o.selStart.col()+b),f.transformEnd(0,b)):f.refreshBorders()}break;case"remove_row":u.removeRow(r,i),o.cellSettings.splice(r,i),a.adjustRowsAndCols(),f.refreshBorders();break;case"remove_col":u.removeCol(r,i);for(var E=0,S=u.getAll().length;E<S;E++)E in o.cellSettings&&o.cellSettings[E].splice(r,i);n.helper.isArray(h.getSettings().colHeaders)&&(typeof r=="undefined"&&(r=-1),h.getSettings().colHeaders.splice(r,i)),o.columnSettings.splice(r,i),a.adjustRowsAndCols(),f.refreshBorders();break;default:throw new Error('There is no such action "'+t+'"')}l||a.adjustRowsAndCols()},adjustRowsAndCols:function(){var e,t,n=h.countEmptyRows(!0),r;t=h.countRows();if(t<o.settings.minRows)for(e=0;e<o.settings.minRows-t;e++)u.createRow();if(n<o.settings.minSpareRows)for(;n<o.settings.minSpareRows&&h.countRows()<o.settings.maxRows;n++)u.createRow();r=h.countEmptyCols(!0);if(!o.settings.columns&&h.countCols()<o.settings.minCols)for(;h.countCols()<o.settings.minCols;r++)u.createCol();if(!o.settings.columns&&o.dataType==="array"&&r<o.settings.minSpareCols)for(;r<o.settings.minSpareCols&&h.countCols()<o.settings.maxCols;r++)u.createCol();if(o.settings.enterBeginsEditing)for(;(o.settings.minRows||o.settings.minSpareRows)&&h.countRows()>o.settings.minRows&&o.settings.minSpareRows&&n>o.settings.minSpareRows;n--)u.removeRow();if(o.settings.enterBeginsEditing&&!o.settings.columns)for(;(o.settings.minCols||o.settings.minSpareCols)&&h.countCols()>o.settings.minCols&&o.settings.minSpareCols&&r>o.settings.minSpareCols;r--)u.removeCol();var i=h.countRows(),s=h.countCols();(i===0||s===0)&&f.deselect();if(o.selStart.exists()){var a,l=o.selStart.row(),c=o.selStart.col(),p=o.selEnd.row(),d=o.selEnd.col();l>i-1?(l=i-1,a=!0,p>l&&(p=l)):p>i-1&&(p=i-1,a=!0,l>p&&(l=p)),c>s-1?(c=s-1,a=!0,d>c&&(d=c)):d>s-1&&(d=s-1,a=!0,c>d&&(c=d)),a&&h.selectCell(l,c,p,d)}},populateFromArray:function(e,t,r,i,s){var u,a,f,l,c=[],p={};a=t.length;if(a===0)return!1;var d,v,m,g;switch(s){case"shift_down":d=r?r.col-e.col+1:0,v=r?r.row-e.row+1:0,t=n.helper.translateRowsToColumns(t);for(f=0,l=t.length,m=Math.max(l,d);f<m;f++)if(f<l){for(u=0,a=t[f].length;u<v-a;u++)t[f].push(t[f][u%a]);t[f].unshift(e.col+f,e.row,0),h.spliceCol.apply(h,t[f])}else t[f%l][0]=e.col+f,h.spliceCol.apply(h,t[f%l]);break;case"shift_right":d=r?r.col-e.col+1:0,v=r?r.row-e.row+1:0;for(u=0,a=t.length,g=Math.max(a,v);u<g;u++)if(u<a){for(f=0,l=t[u].length;f<d-l;f++)t[u].push(t[u][f%l]);t[u].unshift(e.row+u,e.col,0),h.spliceRow.apply(h,t[u])}else t[u%a][0]=e.row+u,h.spliceRow.apply(h,t[u%a]);break;case"overwrite":default:p.row=e.row,p.col=e.col;for(u=0;u<a;u++){if(r&&p.row>r.row||!o.settings.minSpareRows&&p.row>h.countRows()-1||p.row>=o.settings.maxRows)break;p.col=e.col,l=t[u]?t[u].length:0;for(f=0;f<l;f++){if(r&&p.col>r.col||!o.settings.minSpareCols&&p.col>h.countCols()-1||p.col>=o.settings.maxCols)break;h.getCellMeta(p.row,p.col).readOnly||c.push([p.row,p.col,t[u][f]]),p.col++,r&&f===l-1&&(f=-1)}p.row++,r&&u===a-1&&(u=-1)}h.setDataAtCell(c,null,null,i||"populateFromArray")}},getCornerCoords:function(t){function n(t,n,r){function i(e){return e[r]}return Array.prototype.map?t.apply(Math,n.map(i)):t.apply(Math,e.map(n,i))}return{TL:{row:n(Math.min,t,"row"),col:n(Math.min,t,"col")},BR:{row:n(Math.max,t,"row"),col:n(Math.max,t,"col")}}},getCellsAtCoords:function(e,t){var n=a.getCornerCoords([e,t]),r,i,s=[];for(r=n.TL.row;r<=n.BR.row;r++)for(i=n.TL.col;i<=n.BR.col;i++)s.push(h.view.getCellAtCoords({row:r,col:i}));return s}},this.selection=f={inProgress:!1,begin:function(){h.selection.inProgress=!0},finish:function(){var e=h.getSelected();h.PluginHooks.run("afterSelectionEnd",e[0],e[1],e[2],e[3]),h.PluginHooks.run("afterSelectionEndByProp",e[0],h.colToProp(e[1]),e[2],h.colToProp(e[3])),h.selection.inProgress=!1},isInProgress:function(){return h.selection.inProgress},setRangeStart:function(e){o.selStart.coords(e),f.setRangeEnd(e)},setRangeEnd:function(e,t){h.selection.begin(),o.selEnd.coords(e),o.settings.multiSelect||o.selStart.coords(e),h.view.wt.selections.current.clear(),h.view.wt.selections.current.add(o.selStart.arr()),h.view.wt.selections.area.clear(),f.isMultiple()&&(h.view.wt.selections.area.add(o.selStart.arr()),h.view.wt.selections.area.add(o.selEnd.arr()));if(o.settings.currentRowClassName||o.settings.currentColClassName)h.view.wt.selections.highlight.clear(),h.view.wt.selections.highlight.add(o.selStart.arr()),h.view.wt.selections.highlight.add(o.selEnd.arr());h.PluginHooks.run("afterSelection",o.selStart.row(),o.selStart.col(),o.selEnd.row(),o.selEnd.col()),h.PluginHooks.run("afterSelectionByProp",o.selStart.row(),u.colToProp(o.selStart.col()),o.selEnd.row(),u.colToProp(o.selEnd.col())),t!==!1&&h.view.scrollViewport(e),f.refreshBorders()},refreshBorders:function(e,t){t||l.destroy(e),h.view.render(),f.isSelected()&&!t&&l.prepare()},isMultiple:function(){return o.selEnd.col()!==o.selStart.col()||o.selEnd.row()!==o.selStart.row()},transformStart:function(e,t,n){o.selStart.row()+e>h.countRows()-1?n&&o.settings.minSpareRows>0?h.alter("insert_row",h.countRows()):o.settings.autoWrapCol&&(e=1-h.countRows(),t=o.selStart.col()+t==h.countCols()-1?1-h.countCols():1):o.settings.autoWrapCol&&o.selStart.row()+e<0&&o.selStart.col()+t>=0&&(e=h.countRows()-1,t=o.selStart.col()+t==0?h.countCols()-1:-1),o.selStart.col()+t>h.countCols()-1?n&&o.settings.minSpareCols>0?h.alter("insert_col",h.countCols()):o.settings.autoWrapRow&&(e=o.selStart.row()+e==h.countRows()-1?1-h.countRows():1,t=1-h.countCols()):o.settings.autoWrapRow&&o.selStart.col()+t<0&&o.selStart.row()+e>=0&&(e=o.selStart.row()+e==0?h.countRows()-1:-1,t=h.countCols()-1);var r=h.countRows(),i=h.countCols(),s={row:o.selStart.row()+e,col:o.selStart.col()+t};s.row<0?s.row=0:s.row>0&&s.row>=r&&(s.row=r-1),s.col<0?s.col=0:s.col>0&&s.col>=i&&(s.col=i-1),f.setRangeStart(s)},transformEnd:function(e,t){if(o.selEnd.exists()){var n=h.countRows(),r=h.countCols(),i={row:o.selEnd.row()+e,col:o.selEnd.col()+t};i.row<0?i.row=0:i.row>0&&i.row>=n&&(i.row=n-1),i.col<0?i.col=0:i.col>0&&i.col>=r&&(i.col=r-1),f.setRangeEnd(i)}},isSelected:function(){return o.selEnd.exists()},inInSelection:function(e){if(!f.isSelected())return!1;var t=a.getCornerCoords([o.selStart.coords(),o.selEnd.coords()]);return t.TL.row<=e.row&&t.BR.row>=e.row&&t.TL.col<=e.col&&t.BR.col>=e.col},deselect:function(){if(!f.isSelected())return;h.selection.inProgress=!1,o.selEnd=new n.SelectionPoint,h.view.wt.selections.current.clear(),h.view.wt.selections.area.clear(),l.destroy(),f.refreshBorders(),h.PluginHooks.run("afterDeselect")},selectAll:function(){if(!o.settings.multiSelect)return;f.setRangeStart({row:0,col:0}),f.setRangeEnd({row:h.countRows()-1,col:h.countCols()-1},!1)},empty:function(){if(!f.isSelected())return;var e=a.getCornerCoords([o.selStart.coords(),o.selEnd.coords()]),t,n,r=[];for(t=e.TL.row;t<=e.BR.row;t++)for(n=e.TL.col;n<=e.BR.col;n++)h.getCellMeta(t,n).readOnly||r.push([t,n,""]);h.setDataAtCell(r)}},this.autofill=c={handle:null,init:function(){c.handle?c.handle.disabled=!1:c.handle={}},disable:function(){c.handle.disabled=!0},selectAdjacent:function(){var e,t,n,r,i;f.isMultiple()?e=h.view.wt.selections.area.getCorners():e=h.view.wt.selections.current.getCorners(),t=u.getAll();e:for(n=e[2]+1;n<h.countRows();n++){for(i=e[1];i<=e[3];i++)if(t[n][i])break e;if(!!t[n][e[1]-1]||!!t[n][e[3]+1])r=n}r&&(h.view.wt.selections.fill.clear(),h.view.wt.selections.fill.add([e[0],e[1]]),h.view.wt.selections.fill.add([r,e[3]]),c.apply())},apply:function(){var e,t,n,r,i;c.handle.isDragged=0,e=h.view.wt.selections.fill.getCorners();if(!e)return;h.view.wt.selections.fill.clear(),f.isMultiple()?t=h.view.wt.selections.area.getCorners():t=h.view.wt.selections.current.getCorners(),e[0]===t[0]&&e[1]<t[1]?(n={row:e[0],col:e[1]},r={row:e[2],col:t[1]-1}):e[0]===t[0]&&e[3]>t[3]?(n={row:e[0],col:t[3]+1},r={row:e[2],col:e[3]}):e[0]<t[0]&&e[1]===t[1]?(n={row:e[0],col:e[1]},r={row:t[0]-1,col:e[3]}):e[2]>t[2]&&e[1]===t[1]&&(n={row:t[2]+1,col:e[1]},r={row:e[2],col:e[3]}),n&&(i=SheetClip.parse(u.getText(o.selStart.coords(),o.selEnd.coords())),h.PluginHooks.run("beforeAutofill",n,r,i),a.populateFromArray(n,i,r,"autofill"),f.setRangeStart({row:e[0],col:e[1]}),f.setRangeEnd({row:e[2],col:e[3]}))},showBorder:function(e){e.row=e[0],e.col=e[1];var t=a.getCornerCoords([o.selStart.coords(),o.selEnd.coords()]);if(o.settings.fillHandle!=="horizontal"&&(t.BR.row<e.row||t.TL.row>e.row))e=[e.row,t.BR.col];else{if(o.settings.fillHandle==="vertical")return;e=[t.BR.row,e.col]}h.view.wt.selections.fill.clear(),h.view.wt.selections.fill.add([o.selStart.coords().row,o.selStart.coords().col]),h.view.wt.selections.fill.add([o.selEnd.coords().row,o.selEnd.coords().col]),h.view.wt.selections.fill.add(e),h.view.render()}},l={init:function(){function e(e){if(!h.isListening())return;o.settings.beforeOnKeyDown&&o.settings.beforeOnKeyDown.call(h,e);if(Array.prototype.filter.call(document.body.querySelectorAll(".context-menu-list"),h.view.wt.wtDom.isVisible).length)return;if(e.keyCode===17||e.keyCode===224||e.keyCode===91||e.keyCode===93){l.setCopyableText();return}o.lastKeyCode=e.keyCode;if(f.isSelected()){var t=(e.ctrlKey||e.metaKey)&&!e.altKey;n.helper.isPrintableChar(e.keyCode)&&t&&e.keyCode===65&&(f.selectAll(),l.setCopyableText(),e.preventDefault(),e.stopImmediatePropagation());var r=e.shiftKey?f.setRangeEnd:f.setRangeStart;h.PluginHooks.run("beforeKeyDown",e);if(!e.isImmediatePropagationStopped())switch(e.keyCode){case 38:e.shiftKey?f.transformEnd(-1,0):f.transformStart(-1,0),e.preventDefault(),e.stopPropagation();break;case 9:var i=typeof o.settings.tabMoves=="function"?o.settings.tabMoves(e):o.settings.tabMoves;e.shiftKey?f.transformStart(-i.row,-i.col):f.transformStart(i.row,i.col,!0),e.preventDefault(),e.stopPropagation();break;case 39:e.shiftKey?f.transformEnd(0,1):f.transformStart(0,1),e.preventDefault(),e.stopPropagation();break;case 37:e.shiftKey?f.transformEnd(0,-1):f.transformStart(0,-1),e.preventDefault(),e.stopPropagation();break;case 8:case 46:f.empty(e),e.preventDefault();break;case 40:e.shiftKey?f.transformEnd(1,0):f.transformStart(1,0),e.preventDefault(),e.stopPropagation();break;case 113:e.preventDefault();break;case 13:var s=typeof o.settings.enterMoves=="function"?o.settings.enterMoves(e):o.settings.enterMoves;e.shiftKey?f.transformStart(-s.row,-s.col):f.transformStart(s.row,s.col,!0),e.preventDefault();break;case 36:e.ctrlKey||e.metaKey?r({row:0,col:o.selStart.col()}):r({row:o.selStart.row(),col:0}),e.preventDefault(),e.stopPropagation();break;case 35:e.ctrlKey||e.metaKey?r({row:h.countRows()-1,col:o.selStart.col()}):r({row:o.selStart.row(),col:h.countCols()-1}),e.preventDefault(),e.stopPropagation();break;case 33:f.transformStart(-h.countVisibleRows(),0),h.view.wt.scrollVertical(-h.countVisibleRows()),h.view.render(),e.preventDefault(),e.stopPropagation();break;case 34:f.transformStart(h.countVisibleRows(),0),h.view.wt.scrollVertical(h.countVisibleRows()),h.view.render(),e.preventDefault(),e.stopPropagation();break;default:}}}o.onCut=function(){if(!h.isListening())return;f.empty()},o.onPaste=function(t){if(!h.isListening()||!f.isSelected())return;var n=t.replace(/^[\r\n]*/g,"").replace(/[\r\n]*$/g,""),r=SheetClip.parse(n),i=a.getCornerCoords([o.selStart.coords(),o.selEnd.coords()]),s=i.TL,u={row:Math.max(i.BR.row,r.length-1+i.TL.row),col:Math.max(i.BR.col,r[0].length-1+i.TL.col)};h.PluginHooks.once("afterChange",function(e,t){e&&e.length&&h.selectCell(s.row,s.col,u.row,u.col)}),a.populateFromArray(s,r,u,"paste",o.settings.pasteMode)},h.copyPaste=w.getInstance(),h.copyPaste.onCut(o.onCut),h.copyPaste.onPaste(o.onPaste),d.on("keydown.handsontable."+h.guid,e)},destroy:function(e){if(typeof o.editorDestroyer=="function"){var t=o.editorDestroyer;o.editorDestroyer=null,t(e)}},setCopyableText:function(){var e=Math.min(o.selStart.row(),o.selEnd.row()),t=Math.min(o.selStart.col(),o.selEnd.col()),n=Math.max(o.selStart.row(),o.selEnd.row()),r=Math.max(o.selStart.col(),o.selEnd.col()),i=Math.min(n,e+o.settings.copyRowsLimit-1),s=Math.min(r,t+o.settings.copyColsLimit-1);h.copyPaste.copyable(u.getText({row:e,col:t},{row:i,col:s})),(n!==i||r!==s)&&h.PluginHooks.run("afterCopyLimit",n-e+1,r-t+1,o.settings.copyRowsLimit,o.settings.copyColsLimit)},prepare:function(){if(h.getCellMeta(o.selStart.row(),o.selStart.col()).readOnly)return;var e=h.view.getCellAtCoords(o.selStart.coords());o.editorDestroyer=h.view.applyCellTypeMethod("editor",e,o.selStart.row(),o.selStart.col())}},this.init=function(){h.PluginHooks.run("beforeInit"),l.init(),this.updateSettings(o.settings,!0),this.parseSettingsFromDOM(),this.view=new n.TableView(this),this.forceFullRender=!0,this.view.render(),typeof o.firstRun=="object"&&(h.PluginHooks.run("afterChange",o.firstRun[0],o.firstRun[1]),o.firstRun=!1),h.PluginHooks.run("afterInit")},this.validateCell=function(e,t,n,r){var i=t.validator;Object.prototype.toString.call(i)==="[object RegExp]"&&(i=function(e){return function(t,n){n(e.test(t))}}(i)),typeof i=="function"?(e=h.PluginHooks.execute("beforeValidate",e,t.row,t.prop,r),i.call(t,e,function(i){t.valid=i,i=h.PluginHooks.execute("afterValidate",i,e,t.row,t.prop,r),n(i)})):(t.valid=!0,n(!0))},this.setDataAtCell=function(e,t,n,r){var i=b(e,t,n),s,o,a=[],f;for(s=0,o=i.length;s<o;s++){if(typeof i[s]!="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof i[s][1]!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");f=u.colToProp(i[s][1]),a.push([i[s][0],f,u.get(i[s][0],f),i[s][2]])}!r&&typeof e=="object"&&(r=t),g(a,r,function(){y(a,r)})},this.setDataAtRowProp=function(e,t,n,r){var i=b(e,t,n),s,o,a=[];for(s=0,o=i.length;s<o;s++)a.push([i[s][0],i[s][1],u.get(i[s][0],i[s][1]),i[s][2]]);!r&&typeof e=="object"&&(r=t),g(a,r,function(){y(a,r)})},this.listen=function(){n.activeGuid=h.guid,document.activeElement&&document.activeElement!==document.body?document.activeElement.blur():document.activeElement||document.body.focus()},this.unlisten=function(){n.activeGuid=null},this.isListening=function(){return n.activeGuid===h.guid},this.destroyEditor=function(e){f.refreshBorders(e)},this.populateFromArray=function(e,t,n,r,i,s,o){if(typeof n!="object")throw new Error("populateFromArray parameter `input` must be an array");return a.populateFromArray({row:e,col:t},n,typeof r=="number"?{row:r,col:i}:null,s,o)},this.spliceCol=function(e,t,n){return u.spliceCol.apply(null,arguments)},this.spliceRow=function(e,t,n){return u.spliceRow.apply(null,arguments)},this.getCornerCoords=function(e){return a.getCornerCoords(e)},this.getSelected=function(){if(f.isSelected())return[o.selStart.row(),o.selStart.col(),o.selEnd.row(),o.selEnd.col()]},this.parseSettingsFromDOM=function(){var e=this.rootElement.css("overflow");if(e==="scroll"||e==="auto")this.rootElement[0].style.overflow="visible",o.settingsFromDOM.overflow=e;else if(o.settings.width===void 0||o.settings.height===void 0)o.settingsFromDOM.overflow="auto";o.settings.width===void 0?o.settingsFromDOM.width=this.rootElement.width():o.settingsFromDOM.width=void 0,o.settingsFromDOM.height=void 0;if(o.settings.height===void 0)if(o.settingsFromDOM.overflow==="scroll"||o.settingsFromDOM.overflow==="auto"){var n=this.rootElement[0].cloneNode(!1),r=this.rootElement[0].parentNode;if(r){n.removeAttribute("id"),r.appendChild(n);var i=parseInt(t.getComputedStyle(n,null).getPropertyValue("height"),10);isNaN(i)&&n.currentStyle&&(i=parseInt(n.currentStyle.height,10)),i>0&&(o.settingsFromDOM.height=i),r.removeChild(n)}}},this.render=function(){h.view&&(h.forceFullRender=!0,h.parseSettingsFromDOM(),f.refreshBorders(null,!0))},this.loadData=function(t){if(!t.push||!t.splice)throw new Error("loadData only accepts array of objects or array of arrays ("+typeof t+" given)");o.isPopulated=!1,p.prototype.data=t,o.settings.dataSchema instanceof Array||t[0]instanceof Array?o.dataType="array":e.isFunction(o.settings.dataSchema)?o.dataType="function":o.dataType="object",t[0]?o.duckDataSchema=u.recursiveDuckSchema(t[0]):o.duckDataSchema={},u.createMap(),a.adjustRowsAndCols(),h.PluginHooks.run("afterLoadData"),o.firstRun?o.firstRun=[null,"loadData"]:(h.PluginHooks.run("afterChange",null,"loadData"),h.render()),o.isPopulated=!0},this.getData=function(e,t,n,r){return typeof e=="undefined"?u.getAll():u.getRange({row:e,col:t},{row:n,col:r})},this.updateSettings=function(e,t){var r,i,s,l,d;if(typeof e.rows!="undefined")throw new Error("'rows' setting is no longer supported. do you mean startRows, minRows or maxRows?");if(typeof e.cols!="undefined")throw new Error("'cols' setting is no longer supported. do you mean startCols, minCols or maxCols?");for(r in e){if(r==="data")continue;h.PluginHooks.hooks.persistent[r]!==void 0||h.PluginHooks.legacy[r]!==void 0?h.PluginHooks.add(r,e[r]):(!t&&e.hasOwnProperty(r)&&(p.prototype[r]=e[r]),n.extension[r]&&(o.extensions[r]=new n.extension[r](h,e[r])))}if(e.data===void 0&&o.settings.data===void 0){var v=[],m;for(i=0,s=o.settings.startRows;i<s;i++){m=[];for(l=0,d=o.settings.startCols;l<d;l++)m.push(null);v.push(m)}h.loadData(v)}else e.data!==void 0?h.loadData(e.data):e.columns!==void 0&&u.createMap();d=h.countCols(),o.cellSettings.length=0;if(d>0){var g,y,b;for(r=0;r<d;r++)o.columnSettings[r]=n.helper.columnFactory(p,o.columnsSettingConflicts),y=o.columnSettings[r].prototype,p.prototype.columns&&(b=p.prototype.columns[r],E(b),n.helper.extend(y,b))}typeof e.fillHandle!="undefined"&&(c.handle&&e.fillHandle===!1?c.disable():!c.handle&&e.fillHandle!==!1&&c.init()),t||h.PluginHooks.run("afterUpdateSettings"),a.adjustRowsAndCols(),h.view&&(h.forceFullRender=!0,f.refreshBorders(null,!0))},this.getSettings=function(){return o.settings},this.getSettingsFromDOM=function(){return o.settingsFromDOM},this.clear=function(){f.selectAll(),f.empty()},this.alter=function(e,t,n,r,i){a.alter(e,t,n,r,i)},this.getCell=function(e,t){return h.view.getCellAtCoords({row:e,col:t})},this.colToProp=function(e){return u.colToProp(e)},this.propToCol=function(e){return u.propToCol(e)},this.getDataAtCell=function(e,t){return u.get(e,u.colToProp(t))},this.getDataAtRowProp=function(e,t){return u.get(e,t)},this.getDataAtCol=function(e){return[].concat.apply([],u.getRange({row:0,col:e},{row:o.settings.data.length-1,col:e}))},this.getDataAtProp=function(e){return[].concat.apply([],u.getRange({row:0,col:u.propToCol(e)},{row:o.settings.data.length-1,col:u.propToCol(e)}))},this.getDataAtRow=function(e){return o.settings.data[e]},this.getCellMeta=function(e,t){function a(e){var t={row:e};return h.PluginHooks.execute("beforeGet",t),t.row}function f(e){return n.PluginHooks.execute(h,"modifyCol",e)}var r=u.colToProp(t),i;e=a(e),t=f(t),"undefined"==typeof o.columnSettings[t]&&(o.columnSettings[t]=n.helper.columnFactory(p,o.columnsSettingConflicts)),o.cellSettings[e]||(o.cellSettings[e]=[]),o.cellSettings[e][t]||(o.cellSettings[e][t]=new o.columnSettings[t]),i=o.cellSettings[e][t],i.row=e,i.col=t,i.prop=r,i.instance=h,h.PluginHooks.run("beforeGetCellMeta",e,t,i),E(i);if(i.cells){var s=i.cells.call(i,e,t,r);s&&(E(s),n.helper.extend(i,s))}return h.PluginHooks.run("afterGetCellMeta",e,t,i),i},this.validateCells=function(e){var t=new m;t.onQueueEmpty=e;var n=h.countRows()-1;while(n>=0){var r=h.countCols()-1;while(r>=0)t.addValidatorToQueue(),h.validateCell(h.getDataAtCell(n,r),h.getCellMeta(n,r),function(){t.removeValidatorFormQueue()},"validateCells"),r--;n--}t.checkIfQueueIsEmpty()},this.getRowHeader=function(e){if(e===void 0){var t=[];for(var n=0,r=h.countRows();n<r;n++)t.push(h.getRowHeader(n));return t}return Object.prototype.toString.call(o.settings.rowHeaders)==="[object Array]"&&o.settings.rowHeaders[e]!==void 0?o.settings.rowHeaders[e]:typeof o.settings.rowHeaders=="function"?o.settings.rowHeaders(e):o.settings.rowHeaders&&typeof o.settings.rowHeaders!="string"&&typeof o.settings.rowHeaders!="number"?e+1:o.settings.rowHeaders},this.getColHeader=function(e){if(e===void 0){var t=[];for(var r=0,i=h.countCols();r<i;r++)t.push(h.getColHeader(r));return t}return e=n.PluginHooks.execute(h,"modifyCol",e),o.settings.columns&&o.settings.columns[e]&&o.settings.columns[e].title?o.settings.columns[e].title:Object.prototype.toString.call(o.settings.colHeaders)==="[object Array]"&&o.settings.colHeaders[e]!==void 0?o.settings.colHeaders[e]:typeof o.settings.colHeaders=="function"?o.settings.colHeaders(e):o.settings.colHeaders&&typeof o.settings.colHeaders!="string"&&typeof o.settings.colHeaders!="number"?n.helper.spreadsheetColumnLabel(e):o.settings.colHeaders},this._getColWidthFromSettings=function(e){var t=h.getCellMeta(0,e),n=t.width;if(n===void 0||n===o.settings.width)n=t.colWidths;if(n!==void 0){switch(typeof n){case"object":n=n[e];break;case"function":n=n(e)}typeof n=="string"&&(n=parseInt(n,10))}return n},this.getColWidth=function(e){e=n.PluginHooks.execute(h,"modifyCol",e);var t={width:h._getColWidthFromSettings(e)};return t.width||(t.width=50),h.PluginHooks.run("afterGetColWidth",e,t),t.width},this.countRows=function(){return o.settings.data.length},this.countCols=function(){if(o.dataType==="object"||o.dataType==="function")return o.settings.columns&&o.settings.columns.length?o.settings.columns.length:o.colToProp.length;if(o.dataType==="array")return o.settings.columns&&o.settings.columns.length?o.settings.columns.length:o.settings.data&&o.settings.data[0]&&o.settings.data[0].length?o.settings.data[0].length:0},this.rowOffset=function(){return h.view.wt.getSetting("offsetRow")},this.colOffset=function(){return h.view.wt.getSetting("offsetColumn")},this.countVisibleRows=function(){return h.view.wt.drawn?h.view.wt.wtTable.rowStrategy.countVisible():-1},this.countVisibleCols=function(){return h.view.wt.drawn?h.view.wt.wtTable.columnStrategy.countVisible():-1},this.countEmptyRows=function(e){var t=h.countRows()-1,n=0;while(t>=0){u.get(t,0);if(h.isEmptyRow(u.getVars.row))n++;else if(e)break;t--}return n},this.countEmptyCols=function(e){if(h.countRows()<1)return 0;var t=h.countCols()-1,n=0;while(t>=0){if(h.isEmptyCol(t))n++;else if(e)break;t--}return n},this.isEmptyRow=function(e){if(o.settings.isEmptyRow)return o.settings.isEmptyRow.call(h,e);var t;for(var n=0,r=h.countCols();n<r;n++){t=h.getDataAtCell(e,n);if(t!==""&&t!==null&&typeof t!="undefined")return!1}return!0},this.isEmptyCol=function(e){if(o.settings.isEmptyCol)return o.settings.isEmptyCol.call(h,e);var t;for(var n=0,r=h.countRows();n<r;n++){t=h.getDataAtCell(n,e);if(t!==""&&t!==null&&typeof t!="undefined")return!1}return!0},this.selectCell=function(e,t,n,r,i){if(typeof e!="number"||e<0||e>=h.countRows())return!1;if(typeof t!="number"||t<0||t>=h.countCols())return!1;if(typeof n!="undefined"){if(typeof n!="number"||n<0||n>=h.countRows())return!1;if(typeof r!="number"||r<0||r>=h.countCols())return!1}return o.selStart.coords({row:e,col:t}),document.activeElement&&document.activeElement!==document.documentElement&&document.activeElement!==document.body&&document.activeElement.blur(),h.listen(),typeof n=="undefined"?f.setRangeEnd({row:e,col:t},i):f.setRangeEnd({row:n,col:r},i),h.selection.finish(),!0},this.selectCellByProp=function(e,t,n,r,i){return arguments[1]=u.propToCol(arguments[1]),typeof arguments[3]!="undefined"&&(arguments[3]=u.propToCol(arguments[3])),h.selectCell.apply(h,arguments)},this.deselectCell=function(){f.deselect()},this.destroy=function(){h.clearTimeouts(),h.view&&h.view.wt.destroy(),h.rootElement.empty(),h.rootElement.removeData("handsontable"),h.rootElement.off(".handsontable"),e(t).off("."+h.guid),d.off("."+h.guid),v.off("."+h.guid),h.copyPaste.removeCallback(o.onCut),h.copyPaste.removeCallback(o.onPaste),h.PluginHooks.run("afterDestroy")},this.getInstance=function(){return h.rootElement.data("handsontable")},function(){h.PluginHooks=new n.PluginHookClass;var e=h.PluginHooks.run,t=h.PluginHooks.execute;h.PluginHooks.run=function(t,r,i,s,o,u){e.call(this,h,t,r,i,s,o,u),n.PluginHooks.run(h,t,r,i,s,o,u)},h.PluginHooks.execute=function(e,r,i,s,o,u){var a=n.PluginHooks.execute(h,e,r,i,s,o,u),f=t.call(this,h,e,a,i,s,o,u);return typeof f=="undefined"?a:f},h.addHook=function(){h.PluginHooks.add.apply(h.PluginHooks,arguments)},h.addHookOnce=function(){h.PluginHooks.once.apply(h.PluginHooks,arguments)},h.removeHook=function(){h.PluginHooks.remove.apply(h.PluginHooks,arguments)},h.runHooks=function(){h.PluginHooks.run.apply(h.PluginHooks,arguments)},h.runHooksAndReturn=function(){return h.PluginHooks.execute.apply(h.PluginHooks,arguments)}}(),this.timeouts={},this.registerTimeout=function(e,t,n){clearTimeout(this.timeouts[e]),this.timeouts[e]=setTimeout(t,n||0)},this.clearTimeouts=function(){for(var e in this.timeouts)this.timeouts.hasOwnProperty(e)&&clearTimeout(this.timeouts[e])},this.version="0.9.19"};var r=function(){};r.prototype={data:void 0,width:void 0,height:void 0,startRows:5,startCols:5,minRows:0,minCols:0,maxRows:Infinity,maxCols:Infinity,minSpareRows:0,minSpareCols:0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,pasteMode:"overwrite",currentRowClassName:void 0,currentColClassName:void 0,stretchH:"hybrid",isEmptyRow:void 0,isEmptyCol:void 0,observeDOMVisibility:!0,allowInvalid:!0,invalidCellClassName:"htInvalid",fragmentSelection:!1,readOnly:!1,scrollbarModelV:"dragdealer",scrollbarModelH:"dragdealer"},e.fn.handsontable=function(e){var t,r,i,s,o,u=this.first(),a=u.data("handsontable");if(typeof e!="string")return o=e||{},a?a.updateSettings(o):(a=new n.Core(u,o),u.data("handsontable",a),a.init()),u;i=[];if(arguments.length>1)for(t=1,r=arguments.length;t<r;t++)i.push(arguments[t]);if(a){if(typeof a[e]=="undefined")throw new Error("Handsontable do not provide action: "+e);s=a[e].apply(a,i)}return s},n.TableView=function(r){var i=this,s=e(t),o=e(document.documentElement);this.instance=r,this.settings=r.getSettings(),this.settingsFromDOM=r.getSettingsFromDOM(),r.rootElement.data("originalStyle",r.rootElement[0].getAttribute("style")),r.rootElement.addClass("handsontable");var u=document.createElement("TABLE");u.className="htCore",this.THEAD=document.createElement("THEAD"),u.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),u.appendChild(this.TBODY),r.$table=e(u),r.rootElement.prepend(r.$table),r.rootElement.on("mousedown.handsontable",function(e){i.isTextSelectionAllowed(e.target)||(e.preventDefault(),l())}),o.on("keyup."+r.guid,function(e){r.selection.isInProgress()&&!e.shiftKey&&r.selection.finish()});var a,f;o.on("mouseup."+r.guid,function(e){r.selection.isInProgress()&&e.which===1&&r.selection.finish(),a=!1,clearInterval(f),f=null,r.autofill.handle&&r.autofill.handle.isDragged&&(r.autofill.handle.isDragged>1&&r.autofill.apply(),r.autofill.handle.isDragged=0),n.helper.isOutsideInput(document.activeElement)&&r.unlisten()}),o.on("mousedown."+r.guid,function(t){var n=t.target;if(n!==i.wt.wtTable.spreader)while(n!==document.documentElement){if(n===null)return;if(n===r.rootElement[0]||n.nodeName==="X-HANDSONTABLE"||n.id==="context-menu-layer"||e(n).is(".context-menu-list")||e(n).is(".typeahead li"))return;n=n.parentNode}i.settings.outsideClickDeselects?r.deselectCell():r.destroyEditor()}),r.rootElement.on("mousedown.handsontable",".dragdealer",function(e){r.destroyEditor()}),r.$table.on("selectstart",function(e){if(i.settings.fragmentSelection)return;e.preventDefault()}),r.$table.on("mouseenter",function(){f&&(clearInterval(f),f=null)}),r.$table.on("mouseleave",function(e){if(!(a||r.autofill.handle&&r.autofill.handle.isDragged))return;var t=1,n=i.wt.wtDom.offset(u),s=n.top+t,o=n.left+t,l=i.containerWidth-i.wt.getSetting("scrollbarWidth")-2*t,c=i.containerHeight-i.wt.getSetting("scrollbarHeight")-2*t,h,p=0,d=0,v;e.pageY<s?(p=-1,h="scrollVertical"):e.pageY>=s+c?(p=1,h="scrollVertical"):e.pageX<o?(d=-1,h="scrollHorizontal"):e.pageX>=o+l&&(d=1,h="scrollHorizontal"),h&&(v=function(){(a||r.autofill.handle&&r.autofill.handle.isDragged)&&i.wt[h](p+d).draw()},v(),f=setInterval(v,100))});var l=function(){t.getSelection?t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges():document.selection&&document.selection.empty()},c={table:u,stretchH
:this.settings.stretchH,data:r.getDataAtCell,totalRows:r.countRows,totalColumns:r.countCols,scrollbarModelV:this.settings.scrollbarModelV,scrollbarModelH:this.settings.scrollbarModelH,offsetRow:0,offsetColumn:0,width:this.getWidth(),height:this.getHeight(),fixedColumnsLeft:function(){return i.settings.fixedColumnsLeft},fixedRowsTop:function(){return i.settings.fixedRowsTop},rowHeaders:function(){return i.settings.rowHeaders?[function(e,t){i.appendRowHeader(e,t)}]:[]},columnHeaders:function(){return i.settings.colHeaders?[function(e,t){i.appendColHeader(e,t)}]:[]},columnWidth:r.getColWidth,cellRenderer:function(e,t,n){i.applyCellTypeMethod("renderer",n,e,t)},selections:{current:{className:"current",border:{width:2,color:"#5292F7",style:"solid",cornerVisible:function(){return i.settings.fillHandle&&!i.isCellEdited()&&!r.selection.isMultiple()}}},area:{className:"area",border:{width:1,color:"#89AFF9",style:"solid",cornerVisible:function(){return i.settings.fillHandle&&!i.isCellEdited()&&r.selection.isMultiple()}}},highlight:{highlightRowClassName:i.settings.currentRowClassName,highlightColumnClassName:i.settings.currentColClassName},fill:{className:"fill",border:{width:1,color:"red",style:"solid"}}},hideBorderOnMouseDownOver:function(){return i.settings.fragmentSelection},onCellMouseDown:function(e,t,n){r.listen(),a=!0;var s={row:t[0],col:t[1]};if(e.button!==2||!r.selection.inInSelection(s))e.shiftKey?r.selection.setRangeEnd(s):r.selection.setRangeStart(s);i.settings.afterOnCellMouseDown&&i.settings.afterOnCellMouseDown.call(r,e,t,n)},onCellMouseOver:function(e,t){var n={row:t[0],col:t[1]};a?r.selection.setRangeEnd(n):r.autofill.handle&&r.autofill.handle.isDragged&&(r.autofill.handle.isDragged++,r.autofill.showBorder(t))},onCellCornerMouseDown:function(e){r.autofill.handle.isDragged=1,e.preventDefault()},onCellCornerDblClick:function(){r.autofill.selectAdjacent()},beforeDraw:function(e){i.beforeRender(e)},onDraw:function(e){i.onDraw(e)}};r.PluginHooks.run("beforeInitWalkontable",c),this.wt=new A(c),s.on("resize."+r.guid,function(){r.registerTimeout("resizeTimeout",function(){r.parseSettingsFromDOM();var e=i.getWidth(),t=i.getHeight();if(c.width!==e||c.height!==t)r.forceFullRender=!0,i.render(),c.width=e,c.height=t},60)}),e(i.wt.wtTable.spreader).on("mousedown.handsontable, contextmenu.handsontable",function(e){e.target===i.wt.wtTable.spreader&&e.which===3&&e.stopPropagation()}),o.on("click."+r.guid,function(){i.settings.observeDOMVisibility&&i.wt.drawInterrupted&&(i.instance.forceFullRender=!0,i.render())})},n.TableView.prototype.isTextSelectionAllowed=function(e){return e.nodeName==="TEXTAREA"?!0:this.settings.fragmentSelection&&this.wt.wtDom.isChildOf(e,this.TBODY)?!0:!1},n.TableView.prototype.isCellEdited=function(){return document.activeElement!==document.body},n.TableView.prototype.getWidth=function(){var e=this.settings.width!==void 0?this.settings.width:this.settingsFromDOM.width;return typeof e=="function"?e():e},n.TableView.prototype.getHeight=function(){var e=this.settings.height!==void 0?this.settings.height:this.settingsFromDOM.height;return typeof e=="function"?e():e},n.TableView.prototype.beforeRender=function(e){e&&(this.instance.PluginHooks.run("beforeRender",this.instance.forceFullRender),this.wt.update("width",this.getWidth()),this.wt.update("height",this.getHeight()))},n.TableView.prototype.onDraw=function(e){e&&this.instance.PluginHooks.run("afterRender",this.instance.forceFullRender)},n.TableView.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.rootElement.triggerHandler("render.handsontable")},n.TableView.prototype.applyCellTypeMethod=function(e,t,r,i){var s=this.instance.colToProp(i),o=this.instance.getCellMeta(r,i),u=n.helper.getCellMethod(e,o[e]),a=this.instance.getDataAtRowProp(r,s),f=u(this.instance,t,r,i,s,a,o);return e==="renderer"&&this.instance.PluginHooks.run("afterRenderer",t,r,i,s,a,o),f},n.TableView.prototype.getCellAtCoords=function(e){var t=this.wt.wtTable.getCell([e.row,e.col]);return t<0?null:t},n.TableView.prototype.scrollViewport=function(e){this.wt.scrollViewport([e.row,e.col])},n.TableView.prototype.appendRowHeader=function(e,t){e>-1?this.wt.wtDom.fastInnerHTML(t,this.instance.getRowHeader(e)):this.wt.wtDom.empty(t)},n.TableView.prototype.appendColHeader=function(e,t){var n=document.createElement("DIV"),r=document.createElement("SPAN");n.className="relative",r.className="colHeader",this.wt.wtDom.fastInnerHTML(r,this.instance.getColHeader(e)),n.appendChild(r);while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(n),this.instance.PluginHooks.run("afterGetColHeader",e,t)},n.TableView.prototype.maximumVisibleElementWidth=function(e){var t=this.wt.wtViewport.getWorkspaceWidth();return t-e},n.TableView.prototype.maximumVisibleElementHeight=function(e){var t=this.wt.wtViewport.getWorkspaceHeight();return this.wt.isNativeScroll?t:t-e},n.Dom=new O,n.helper.isPrintableChar=function(e){return e==32||e>=48&&e<=57||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e>=226||e>=65&&e<=90},n.helper.stringify=function(e){switch(typeof e){case"string":case"number":return e+"";case"object":return e===null?"":e.toString();case"undefined":return"";default:return e.toString()}},n.helper.spreadsheetColumnLabel=function(e){var t=e+1,n="",r;while(t>0)r=(t-1)%26,n=String.fromCharCode(65+r)+n,t=parseInt((t-r)/26,10);return n},n.helper.isNumeric=function(e){var t=typeof e;return t=="number"?!isNaN(e)&&isFinite(e):t=="string"?e.length?e.length==1?/\d/.test(e):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(e):!1:t=="object"?!!e&&typeof e.valueOf()=="number"&&!(e instanceof Date):!1},n.helper.isDescendant=function(e,t){var n=t.parentNode;while(n!=null){if(n==e)return!0;n=n.parentNode}return!1},n.helper.randomString=function(){function e(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return e()+e()+e()+e()},n.helper.inherit=function(e,t){function n(){}return n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e},n.helper.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n.helper.columnFactory=function(e,t){var n=0,r=t.length,i=function(){};i.prototype=new e;for(;n<r;n++)i.prototype[t[n]]=void 0;return i},n.helper.translateRowsToColumns=function(e){var t,n,r,i,s=[],o=0;for(t=0,n=e.length;t<n;t++)for(r=0,i=e[t].length;r<i;r++)r==o&&(s.push([]),o++),s[r].push(e[t][r]);return s},n.helper.to2dArray=function(e){var t=0,n=e.length;while(t<n)e[t]=[e[t]],t++},n.helper.extendArray=function(e,t){var n=0,r=t.length;while(n<r)e.push(t[n]),n++},n.helper.getCellMethod=function(e,t){if(typeof t=="string"){var r=n.cellLookup[e][t];if(r===void 0)throw new Error("You declared cell "+e+' "'+t+'" as a string that is not mapped to a known function. Cell '+e+" must be a function or a string mapped to a function in Handsontable.cellLookup."+e+" lookup object");return r}return t},n.helper.isOutsideInput=function(e){var t=["INPUT","SELECT","TEXTAREA"];return t.indexOf(e.nodeName)>-1&&e.className.indexOf("handsontableInput")==-1},n.helper.isArray=function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)=="[object Array]"},n.SelectionPoint=function(){this._row=null,this._col=null},n.SelectionPoint.prototype.exists=function(){return this._row!==null},n.SelectionPoint.prototype.row=function(e){return e!==void 0&&(this._row=e),this._row},n.SelectionPoint.prototype.col=function(e){return e!==void 0&&(this._col=e),this._col},n.SelectionPoint.prototype.coords=function(e){return e!==void 0&&(this._row=e.row,this._col=e.col),{row:this._row,col:this._col}},n.SelectionPoint.prototype.arr=function(e){return e!==void 0&&(this._row=e[0],this._col=e[1]),[this._row,this._col]},n.TextRenderer=function(e,t,r,i,s,o,u){var a=n.helper.stringify(o);e.view.wt.wtDom.fastInnerText(t,a),u.readOnly&&e.view.wt.wtDom.addClass(t,"htDimmed"),u.valid===!1&&u.invalidCellClassName&&e.view.wt.wtDom.addClass(t,u.invalidCellClassName)};var i=document.createElement("DIV");i.className="htAutocomplete";var s=document.createElement("DIV");s.className="htAutocompleteArrow",s.appendChild(document.createTextNode("▼")),n.AutocompleteRenderer=function(e,t,r,o,u,a,f){var l=i.cloneNode(!1),c=s.cloneNode(!0);e.acArrowListener||(e.acArrowListener=function(){e.view.wt.getSetting("onCellDblClick")},e.rootElement.on("mouseup",".htAutocompleteArrow",e.acArrowListener)),n.TextRenderer(e,l,r,o,u,a,f),l.firstChild||l.appendChild(document.createTextNode(" ")),l.appendChild(c),e.view.wt.wtDom.empty(t),t.appendChild(l)};var o=document.createElement("INPUT");o.className="htCheckboxRendererInput",o.type="checkbox",o.setAttribute("autocomplete","off"),n.CheckboxRenderer=function(t,r,i,s,u,a,f){typeof f.checkedTemplate=="undefined"&&(f.checkedTemplate=!0),typeof f.uncheckedTemplate=="undefined"&&(f.uncheckedTemplate=!1),t.view.wt.wtDom.empty(r);var l=o.cloneNode(!1);a===f.checkedTemplate||a===n.helper.stringify(f.checkedTemplate)?(l.checked=!0,r.appendChild(l)):a===f.uncheckedTemplate||a===n.helper.stringify(f.uncheckedTemplate)?r.appendChild(l):a===null?(l.className+=" noValue",r.appendChild(l)):t.view.wt.wtDom.fastInnerText(r,"#bad value#");var c=e(l);f.readOnly?c.on("click",function(e){e.preventDefault()}):(c.on("mousedown",function(e){e.stopPropagation()}),c.on("mouseup",function(e){e.stopPropagation()}),c.on("change",function(){this.checked?t.setDataAtRowProp(i,u,f.checkedTemplate):t.setDataAtRowProp(i,u,f.uncheckedTemplate)}));if(!t.CheckboxRenderer||!t.CheckboxRenderer.beforeKeyDownHookBound)t.CheckboxRenderer={beforeKeyDownHookBound:!0},t.addHook("beforeKeyDown",function(n){if(n.keyCode==32){n.stopImmediatePropagation(),n.preventDefault();var r=t.getSelected(),i,s,o,u={row:Math.min(r[0],r[2]),col:Math.min(r[1],r[3])},a={row:Math.max(r[0],r[2]),col:Math.max(r[1],r[3])};for(var f=u.row;f<=a.row;f++)for(var l=a.col;l<=a.col;l++){i=t.getCell(f,l),o=t.getCellMeta(f,l),s=i.querySelectorAll("input[type=checkbox]");if(s.length>0&&!o.readOnly)for(var c=0,h=s.length;c<h;c++)s[c].checked=!s[c].checked,e(s[c]).trigger("change")}}});return r},n.NumericRenderer=function(e,t,r,i,s,o,u){n.helper.isNumeric(o)&&(typeof u.language!="undefined"&&numeral.language(u.language),o=numeral(o).format(u.format||"0"),e.view.wt.wtDom.addClass(t,"htNumeric")),n.TextRenderer(e,t,r,i,s,o,u)},function(e){n.PasswordRenderer=function(e,t,r,i,s,o,u){n.TextRenderer.apply(this,arguments),o=t.innerHTML;var a,f=u.hashLength||o.length,l=u.hashSymbol||"*";for(a="";a.split(l).length-1<f;a+=l);e.view.wt.wtDom.fastInnerHTML(t,a)}}(n),u.prototype.createElements=function(){this.STATE_VIRGIN="STATE_VIRGIN",this.STATE_EDITING="STATE_EDITING",this.STATE_WAITING="STATE_WAITING",this.STATE_FINISHED="STATE_FINISHED",this.state=this.STATE_VIRGIN,this.waitingEvent=null,this.wtDom=new O,this.TEXTAREA=document.createElement("TEXTAREA"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.$textarea=e(this.TEXTAREA),this.TEXTAREA_PARENT=document.createElement("DIV"),this.TEXTAREA_PARENT.className="handsontableInputHolder",this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.$body=e(document.body),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement[0].appendChild(this.TEXTAREA_PARENT);var t=this;n.PluginHooks.add("afterRender",function(){t.instance.registerTimeout("refresh_editor_dimensions",function(){t.refreshDimensions()},0)})},u.prototype.bindEvents=function(){var e=this;this.$textarea.off(".editor").on("keydown.editor",function(t){e.state===e.STATE_WAITING?t.stopImmediatePropagation():e.waitingEvent=null;if(e.state!==e.STATE_EDITING)return;var n=(t.ctrlKey||t.metaKey)&&!t.altKey;if(t.keyCode===17||t.keyCode===224||t.keyCode===91||t.keyCode===93){t.stopImmediatePropagation();return}switch(t.keyCode){case 38:e.finishEditing(!1);break;case 40:e.finishEditing(!1);break;case 9:e.finishEditing(!1),t.preventDefault();break;case 39:e.wtDom.getCaretPosition(e.TEXTAREA)===e.TEXTAREA.value.length?e.finishEditing(!1):t.stopImmediatePropagation();break;case 37:e.wtDom.getCaretPosition(e.TEXTAREA)===0?e.finishEditing(!1):t.stopImmediatePropagation();break;case 27:e.instance.destroyEditor(!0),t.stopImmediatePropagation();break;case 13:var r=e.instance.getSelected(),i=r[0]!==r[2]||r[1]!==r[3];t.ctrlKey&&!i||t.altKey?(e.TEXTAREA.value=e.TEXTAREA.value+"\n",e.TEXTAREA.focus(),t.stopImmediatePropagation()):e.finishEditing(!1,n),t.preventDefault();break;default:t.stopImmediatePropagation()}e.state!==e.STATE_FINISHED&&!t.isImmediatePropagationStopped()&&(e.waitingEvent=t,t.stopImmediatePropagation(),t.preventDefault())})},u.prototype.bindTemporaryEvents=function(e,t,r,i,s,o){function a(){u.TEXTAREA.value=u.originalValue,u.instance.destroyEditor(),u.beginEditing(t,r,i,!0)}var u=this;this.state=this.STATE_VIRGIN,this.instance.view.wt.update("onCellDblClick",a),this.TD=e,this.row=t,this.col=r,this.prop=i,this.originalValue=s,this.cellProperties=o,this.beforeKeyDownHook=function f(e){if(u.state!==u.STATE_VIRGIN)return;var s=(e.ctrlKey||e.metaKey)&&!e.altKey;if(n.helper.isPrintableChar(e.keyCode))s||(u.beginEditing(t,r,i),e.stopImmediatePropagation());else if(e.keyCode===113)u.beginEditing(t,r,i,!0),e.stopImmediatePropagation(),e.preventDefault();else if(e.keyCode===13&&u.instance.getSettings().enterBeginsEditing){var o=u.instance.getSelected(),a=o[0]!==o[2]||o[1]!==o[3];s&&!a||e.altKey?u.beginEditing(t,r,i,!0,"\n"):u.beginEditing(t,r,i,!0),e.preventDefault(),e.stopImmediatePropagation()}else[9,33,34,35,36,37,38,39,40].indexOf(e.keyCode)==-1&&u.instance.addHookOnce("beforeKeyDown",f)},u.instance.addHookOnce("beforeKeyDown",this.beforeKeyDownHook)},u.prototype.unbindTemporaryEvents=function(){this.instance.removeHook("beforeKeyDown",this.beforeKeyDownHook),this.instance.view.wt.update("onCellDblClick",null)},u.prototype.beginEditing=function(e,t,r,i,s){if(this.state!==this.STATE_VIRGIN)return;this.state=this.STATE_EDITING,this.row=e,this.col=t,this.prop=r;var o={row:e,col:t};this.instance.view.scrollViewport(o),this.instance.view.render(),this.$textarea.on("cut.editor",function(e){e.stopPropagation()}),this.$textarea.on("paste.editor",function(e){e.stopPropagation()}),i?this.TEXTAREA.value=n.helper.stringify(this.originalValue)+(s||""):this.TEXTAREA.value="",this.refreshDimensions(),this.TEXTAREA.focus(),this.wtDom.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length),this.instance.view.render()},u.prototype.refreshDimensions=function(){if(this.state!==this.STATE_EDITING)return;this.TD=this.instance.getCell(this.row,this.col);var t=e(this.TD),n=this.wtDom.offset(this.TD),r=this.wtDom.offset(this.instance.rootElement[0]),i=this.instance.rootElement.scrollTop(),s=this.instance.rootElement.scrollLeft(),o=n.top-r.top+i-1,u=n.left-r.left+s-1,a=this.instance.getSettings(),f=a.rowHeaders===!1?0:1,l=a.colHeaders===!1?0:1;o<0&&(o=0),u<0&&(u=0),f>0&&parseInt(t.css("border-top-width"),10)>0&&(o+=1),l>0&&parseInt(t.css("border-left-width"),10)>0&&(u+=1),e.browser.msie&&parseInt(e.browser.version,10)<=7&&(o-=1),this.textareaParentStyle.top=o+"px",this.textareaParentStyle.left=u+"px";var c=t.width(),h=this.instance.view.maximumVisibleElementWidth(u)-10,p=t.outerHeight()-4,d=this.instance.view.maximumVisibleElementHeight(o)-5;parseInt(t.css("border-top-width"),10)>0&&(p-=1),parseInt(t.css("border-left-width"),10)>0&&f>0&&(c-=1),this.$textarea.autoResize({minHeight:Math.min(p,d),maxHeight:d,minWidth:Math.min(c,h),maxWidth:h,animate:!1,extraSpace:0}),this.textareaParentStyle.display="block"},u.prototype.saveValue=function(e,t){if(t){var n=this.instance.getSelected();this.instance.populateFromArray(n[0],n[1],e,n[2],n[3],"edit")}else this.instance.populateFromArray(this.row,this.col,e,null,null,"edit")},u.prototype.finishEditing=function(t,n){var r=!1;if(this.state==this.STATE_WAITING||this.state==this.STATE_FINISHED)return;if(this.state==this.STATE_EDITING){var i;t?i=[[this.originalValue]]:i=[[e.trim(this.TEXTAREA.value)]],r=this.instance.getCellMeta(this.row,this.col).validator;if(r){this.state=this.STATE_WAITING;var s=this;this.instance.addHookOnce("afterValidate",function(e){s.state=s.STATE_FINISHED,s.discardEditor(e)})}this.saveValue(i,n)}r||(this.state=this.STATE_FINISHED,this.discardEditor())},u.prototype.discardEditor=function(t){if(this.state!==this.STATE_FINISHED)return;if(t===!1&&this.cellProperties.allowInvalid!==!0)this.state=this.STATE_EDITING,this.instance.view.wt.wtDom.isVisible(this.TEXTAREA)&&(this.TEXTAREA.focus(),this.wtDom.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length));else{this.state=this.STATE_FINISHED,document.activeElement===this.TEXTAREA&&this.instance.listen(),this.unbindTemporaryEvents(),this.textareaParentStyle.display="none";if(this.waitingEvent){var n=e.Event(this.waitingEvent.type);n.keyCode=this.waitingEvent.keyCode,this.waitingEvent=null,e(document.activeElement).trigger(n)}}},n.TextEditor=function(e,t,n,r,i,s,o){return e.textEditor||(e.textEditor=new u(e)),(e.textEditor.state===e.textEditor.STATE_VIRGIN||e.textEditor.state===e.textEditor.STATE_FINISHED)&&e.textEditor.bindTemporaryEvents(t,n,r,i,s,o),function(t){e.textEditor.finishEditing(t)}},n.helper.inherit(a,u),a.prototype.createElements=function(){u.prototype.createElements.call(this),this.$textarea.typeahead(),this.typeahead=this.$textarea.data("typeahead"),this.typeahead._render=this.typeahead.render,this.typeahead.minLength=0,this.typeahead.lookup=function(){var t;return this.query=this.$element.val(),t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this},this.typeahead.matcher=function(){return!0};var t=this.typeahead.process,n=this;this.typeahead.process=function(r){var i=!1;for(var s=0,o=r.length;s<o;s++)r[s]===""&&(i||(r=e.extend([],r),i=!0),r[s]=n.emptyStringLabel);return t.call(this,r)}},a.prototype.bindEvents=function(){var e=this;this.$textarea.off("keydown").off("keyup").off("keypress"),this.$textarea.off(".acEditor").on("keydown.acEditor",function(t){switch(t.keyCode){case 38:e.typeahead.prev(),t.stopImmediatePropagation();break;case 40:e.typeahead.next(),t.stopImmediatePropagation();break;case 13:t.preventDefault()}}),this.$textarea.on("keyup.acEditor",function(t){(n.helper.isPrintableChar(t.keyCode)||t.keyCode===113||t.keyCode===13||t.keyCode===8||t.keyCode===46)&&e.typeahead.lookup()}),this.typeahead.$menu.on("mouseleave",function(){e.typeahead.$menu.find(".active").removeClass("active")}),u.prototype.bindEvents.call(this)},a.prototype.bindTemporaryEvents=function(e,t,n,r,i,s){var o=this,a,f;this.typeahead._valueSelected=!1,this.typeahead.select=function(){var e=this.$menu[0].querySelector(".active"),i=e.getAttribute("data-value");return i===o.emptyStringLabel&&(i=""),typeof s.onSelect=="function"?s.onSelect(t,n,r,i,o.instance.view.wt.wtDom.index(e)):o.TEXTAREA.value=i,this._valueSelected=!0,this.hide(),o.finishEditing(),this},this.typeahead.render=function(e){o.typeahead._render.call(this,e);if(!s.strict){var t=this.$menu[0].querySelector(".active");t&&o.instance.view.wt.wtDom.removeClass(t,"active")}return this};for(a in s)if(a==="options")for(f in s.options)this.typeahead.options[f]=s.options[f];else this.typeahead[a]=s[a];u.prototype.bindTemporaryEvents.call(this,e,t,n,r,i,s)},a.prototype.beginEditing=function(){u.prototype.beginEditing.apply(this,arguments);var e=this;this.instance.registerTimeout("IE9_align_fix",function(){e.typeahead.lookup()},1)},a.prototype.finishEditing=function(e,t){e||this.isMenuExpanded()&&(this.typeahead.$menu[0].querySelector(".active")?(this.typeahead.select(),this.state=this.STATE_FINISHED):this.cellProperties.strict&&(this.state=this.STATE_FINISHED)),u.prototype.finishEditing.call(this,e,t)},a.prototype.isMenuExpanded=function(){return this.instance.view.wt.wtDom.isVisible(this.typeahead.$menu[0])?this.typeahead:!1},n.AutocompleteEditor=function(e,t,n,r,i,s,o){return e.autocompleteEditor||(e.autocompleteEditor=new a(e)),e.autocompleteEditor.bindTemporaryEvents(t,n,r,i,s,o),function(t){e.autocompleteEditor.finishEditing(t)}},n.CheckboxEditor=function(e,t,r,i,s,o,u){return typeof u=="undefined"&&(u={}),typeof u.checkedTemplate=="undefined"&&(u.checkedTemplate=!0),typeof u.uncheckedTemplate=="undefined"&&(u.uncheckedTemplate=!1),e.$table.on("keydown.editor",function(t){var i=(t.ctrlKey||t.metaKey)&&!t.altKey;!i&&n.helper.isPrintableChar(t.keyCode)&&(f(e,r,s,u),t.stopImmediatePropagation(),t.preventDefault())}),e.view.wt.update("onCellDblClick",function(){f(e,r,s,u)}),function(){e.$table.off(".editor"),e.view.wt.update("onCellDblClick",null)}},n.helper.inherit(l,u),l.prototype.createElements=function(){u.prototype.createElements.call(this),this.datePicker=document.createElement("DIV"),this.instance.view.wt.wtDom.addClass(this.datePicker,"htDatepickerHolder"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=99,document.body.appendChild(this.datePicker),this.$datePicker=e(this.datePicker);var t=this,n={dateFormat:"yy-mm-dd",showButtonPanel:!0,changeMonth:!0,changeYear:!0,altField:this.$textarea,onSelect:function(){t.finishEditing(!1)}};this.$datePicker.datepicker(n),this.$datePicker.on("mousedown",function(e){e.stopPropagation()}),this.hideDatepicker()},l.prototype.destroyElements=function(){this.$datePicker.datepicker("destroy"),this.$datePicker.remove()},l.prototype.beginEditing=function(e,t,n,r,i){u.prototype.beginEditing.call(this,e,t,n,r,i),this.showDatepicker()},l.prototype.finishEditing=function(e,t){this.hideDatepicker(),u.prototype.finishEditing.call(this,e,t)},l.prototype.showDatepicker=function(){var t=e(this.instance.dateEditor.TD),n=t.offset();this.datePickerStyle.top=n.top+t.height()+"px",this.datePickerStyle.left=n.left+"px";var r={defaultDate:this.originalValue||void 0};e.extend(r,this.cellProperties),this.$datePicker.datepicker("option",r),this.originalValue&&this.$datePicker.datepicker("setDate",this.originalValue),this.datePickerStyle.display="block"},l.prototype.hideDatepicker=function(){this.datePickerStyle.display="none"},n.DateEditor=function(e,t,n,r,i,s,o){return e.dateEditor||(e.dateEditor=new l(e)),e.dateEditor.bindTemporaryEvents(t,n,r,i,s,o),function(t){e.dateEditor.finishEditing(t)}},n.helper.inherit(c,u),c.prototype.createElements=function(){u.prototype.createElements.call(this);var t=document.createElement("DIV");t.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(t),this.$htContainer=e(t)},c.prototype.bindTemporaryEvents=function(t,n,r,i,s,o){var a=this,f={colHeaders:!0,cells:function(){return{readOnly:!0}},fillHandle:!1,width:2e3,afterOnCellMouseDown:function(){var e=this.getSelected();a.TEXTAREA.value=this.getDataAtCell(e[0],e[1]),a.instance.destroyEditor()},beforeOnKeyDown:function(e){switch(e.keyCode){case 27:a.instance.destroyEditor(!0);break;case 13:var t=this.getSelected();a.TEXTAREA.value=this.getDataAtCell(t[0],t[1]),a.instance.destroyEditor()}}};o.handsontable&&(f=e.extend(f,o.handsontable)),this.$htContainer.handsontable(f),u.prototype.bindTemporaryEvents.call(this,t,n,r,i,s,o)},c.prototype.beginEditing=function(e,t,n,r,i){var s=this.instance.getSettings().onBeginEditing;if(s&&s()===!1)return;u.prototype.beginEditing.call(this,e,t,n,r,i),this.$htContainer.handsontable("render"),this.$htContainer.handsontable("selectCell",0,0)},c.prototype.finishEditing=function(e,t){this.$htContainer.handsontable("isListening")&&this.instance.listen(),this.$htContainer.handsontable("destroy"),u.prototype.finishEditing.call(this,e,t)},n.HandsontableEditor=function(e,t,n,r,i,s,o){return e.handsontableEditor||(e.handsontableEditor=new c(e)),e.handsontableEditor.bindTemporaryEvents(t,n,r,i,s,o),e.registerEditor=e.handsontableEditor,function(t){e.handsontableEditor.finishEditing(t)}},function(t){function n(e){u.call(this,e)}t.helper.inherit(n,u),n.prototype.createElements=function(){this.STATE_VIRGIN="STATE_VIRGIN",this.STATE_EDITING="STATE_EDITING",this.STATE_WAITING="STATE_WAITING",this.STATE_FINISHED="STATE_FINISHED",this.state=this.STATE_VIRGIN,this.waitingEvent=null,this.wtDom=new O,this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.$textarea=e(this.TEXTAREA),this.TEXTAREA_PARENT=document.createElement("DIV"),this.TEXTAREA_PARENT.className="handsontableInputHolder",this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.$body=e(document.body),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement[0].appendChild(this.TEXTAREA_PARENT)},t.PasswordEditor=function(e,t,r,i,s,o,u){return e.passwordEditor||(e.passwordEditor=new n(e)),(e.passwordEditor.state===e.passwordEditor.STATE_VIRGIN||e.passwordEditor.state===e.passwordEditor.STATE_FINISHED)&&e.passwordEditor.bindTemporaryEvents(t,r,i,s,o,u),function(t){e.passwordEditor.finishEditing(t)}}}(n),n.NumericValidator=function(e,t){t(/^-?\d*\.?\d*$/.test(e))};var h=function(e,t){var n=e,r=typeof n=="string"?n.toLowerCase():null;return function(e){var i=!1;for(var s=0,o=e.length;s<o;s++){if(n===e[s]){i=!0;break}if(r===e[s].toLowerCase()){i=!0;break}}t(i)}};n.AutocompleteValidator=function(t,n){this.strict&&this.source?e.isFunction(this.source)?this.source(t,h(t,n)):h(t,n)(this.source):n(!0)},n.AutocompleteCell={editor:n.AutocompleteEditor,renderer:n.AutocompleteRenderer,validator:n.AutocompleteValidator},n.CheckboxCell={editor:n.CheckboxEditor,renderer:n.CheckboxRenderer},n.TextCell={editor:n.TextEditor,renderer:n.TextRenderer},n.NumericCell={editor:n.TextEditor,renderer:n.NumericRenderer,validator:n.NumericValidator,dataType:"number"},n.DateCell={editor:n.DateEditor,renderer:n.AutocompleteRenderer},n.HandsontableCell={editor:n.HandsontableEditor,renderer:n.AutocompleteRenderer},n.PasswordCell={editor:n.PasswordEditor,renderer:n.PasswordRenderer},n.cellTypes={text:n.TextCell,date:n.DateCell,numeric:n.NumericCell,checkbox:n.CheckboxCell,autocomplete:n.AutocompleteCell,handsontable:n.HandsontableCell,password:n.PasswordCell},n.cellLookup={renderer:{text:n.TextRenderer,numeric:n.NumericRenderer,checkbox:n.CheckboxRenderer,autocomplete:n.AutocompleteRenderer,password:n.PasswordRenderer},editor:{text:n.TextEditor,date:n.DateEditor,checkbox:n.CheckboxEditor,autocomplete:n.AutocompleteEditor,handsontable:n.HandsontableEditor,password:n.PasswordEditor},validator:{numeric:n.NumericValidator,autocomplete:n.AutocompleteValidator}},n.PluginHookClass=function(){function n(){this.hooks={once:e(),persistent:e()},this.legacy=t}var e=function(){return{beforeInitWalkontable:[],beforeInit:[],beforeRender:[],beforeChange:[],beforeRemoveCol:[],beforeRemoveRow:[],beforeValidate:[],beforeGet:[],beforeSet:[],beforeGetCellMeta:[],beforeAutofill:[],beforeKeyDown:[],afterInit:[],afterLoadData:[],afterUpdateSettings:[],afterRender:[],afterRenderer:[],afterChange:[],afterValidate:[],afterGetCellMeta:[],afterGetColHeader:[],afterGetColWidth:[],afterDestroy:[],afterRemoveRow:[],afterCreateRow:[],afterRemoveCol:[],afterCreateCol:[],afterColumnResize:[],afterColumnMove:[],afterDeselect:[],afterSelection:[],afterSelectionByProp:[],afterSelectionEnd:[],afterSelectionEndByProp:[],afterCopyLimit:[],modifyCol:[]}},t={onBeforeChange:"beforeChange",onChange:"afterChange",onCreateRow:"afterCreateRow",onCreateCol:"afterCreateCol",onSelection:"afterSelection",onCopyLimit:"afterCopyLimit",onSelectionEnd:"afterSelectionEnd",onSelectionByProp:"afterSelectionByProp",onSelectionEndByProp:"afterSelectionEndByProp"},r=function(e){return function(n,r){n in t&&(n=t[n]),typeof this.hooks[e][n]=="undefined"&&(this.hooks[e][n]=[]);if(r instanceof Array)for(var i=0,s=r.length;i<s;i++)this.hooks[e][n].push(r[i]);else this.hooks[e][n].push(r);return this}};return n.prototype.add=r("persistent"),n.prototype.once=r("once"),n.prototype.remove=function(e,n){var r=!1,i=["persistent","once"],s,o,u,a,f;e in t&&(e=t[e]);for(o=0,u=i.length;o<u;o++){s=i[o];if(typeof this.hooks[s][e]!="undefined")for(a=0,f=this.hooks[s][e].length;a<f;a++)if(this.hooks[s][e][a]==n){this.hooks[s][e].splice(a,1),r=!0;break}}return r},n.prototype.run=function(e,n,r,i,s,o,u){var a=["persistent","once"],f,l,c,h,p;n in t&&(n=t[n]);for(l=0,c=a.length;l<c;l++){f=a[l];if(typeof this.hooks[f][n]!="undefined")for(h=0,p=this.hooks[f][n].length;h<p;h++)this.hooks[f][n][h].call(e,r,i,s,o,u),f==="once"&&(this.hooks[f][n].splice(h,1),p--,h--)}},n.prototype.execute=function(e,n,r,i,s,o,u){var a=["persistent","once"],f,l,c,h,p,d;n in t&&(n=t[n]);for(l=0,c=a.length;l<c;l++){f=a[l];if(typeof this.hooks[f][n]!="undefined")for(h=0,p=this.hooks[f][n].length;h<p;h++)d=this.hooks[f][n][h].call(e,r,i,s,o,u),d!==void 0&&(r=d),f==="once"&&(this.hooks[f][n].splice(h,1),p--,h--)}return r},n}(),n.PluginHooks=new n.PluginHookClass,function(e){function t(){function i(e){var t=document,n=this;n.table=t.createElement("table"),n.theadTh=t.createElement("th"),n.table.appendChild(t.createElement("thead")).appendChild(t.createElement("tr")).appendChild(n.theadTh),n.tableStyle=n.table.style,n.tableStyle.tableLayout="auto",n.tableStyle.width="auto",n.tbody=t.createElement("tbody"),n.table.appendChild(n.tbody),n.container=t.createElement("div"),n.container.className=e.rootElement[0].className+" hidden",n.containerStyle=n.container.style,n.container.appendChild(n.table)}var t=this,r=5;this.beforeInit=function(){var e=this;e.autoColumnWidths=[],e.getSettings().autoColumnSize!==!1?(e.autoColumnSizeTmp||(e.autoColumnSizeTmp={table:null,tableStyle:null,theadTh:null,tbody:null,container:null,containerStyle:null,determineBeforeNextRender:!0}),e.addHook("beforeRender",n.determineIfChanged),e.addHook("afterGetColWidth",n.getColWidth),e.addHook("afterDestroy",n.afterDestroy),e.determineColumnWidth=t.determineColumnWidth):(e.removeHook("beforeRender",n.determineIfChanged),e.removeHook("afterGetColWidth",n.getColWidth),e.removeHook("afterDestroy",n.afterDestroy),delete e.determineColumnWidth,t.afterDestroy.call(e))},this.determineIfChanged=function(e){e&&n.determineColumnsWidth.apply(this,arguments)},this.determineColumnWidth=function(t){var n=this,s=n.autoColumnSizeTmp;s.container||i.call(s,n),s.container.className=n.rootElement[0].className+" htAutoColumnSize",s.table.className=n.$table[0].className;var o=n.countRows(),u={},a=0;for(var f=0;f<o;f++){var l=e.helper.stringify(n.getDataAtCell(f,t)),c=l.length;c>a&&(a=c),u[c]||(u[c]={needed:r,strings:[]}),u[c].needed&&(u[c].strings.push({value:l,row:f}),u[c].needed--)}var h=n.getSettings();h.colHeaders&&n.view.appendColHeader(t,s.theadTh),n.view.wt.wtDom.empty(s.tbody);var p=n.getCellMeta(0,t),d=e.helper.getCellMethod("renderer",p.renderer);for(var v in u)if(u.hasOwnProperty(v))for(var m=0,g=u[v].strings.length;m<g;m++){var y=document.createElement("tr"),b=document.createElement("td");d(n,b,u[v].strings[m].row,t,n.colToProp(t),u[v].strings[m].value,p),f++,y.appendChild(b),s.tbody.appendChild(y)}var w=n.rootElement[0].parentNode;w.appendChild(s.container);var E=n.view.wt.wtDom.outerWidth(s.table);w.removeChild(s.container);var S=n.view.wt.wtViewport.getViewportWidth()-2;return E>S&&(E=S),E},this.determineColumnsWidth=function(){var e=this,n=this.getSettings();if(n.autoColumnSize||!n.colWidths){var r=this.countCols();for(var i=0;i<r;i++)e._getColWidthFromSettings(i)||(this.autoColumnWidths[i]=t.determineColumnWidth.call(e,i))}},this.getColWidth=function(e,t){this.autoColumnWidths[e]&&this.autoColumnWidths[e]>t.width&&(t.width=this.autoColumnWidths[e])},this.afterDestroy=function(){var e=this;e.autoColumnSizeTmp&&e.autoColumnSizeTmp.container&&e.autoColumnSizeTmp.container.parentNode&&e.autoColumnSizeTmp.container.parentNode.removeChild(e.autoColumnSizeTmp.container)}}var n=new t;e.PluginHooks.add("beforeInit",n.beforeInit),e.PluginHooks.add("afterUpdateSettings",n.beforeInit)}(n);var d=new p;n.PluginHooks.add("afterInit",function(){d.init.call(this,"afterInit")}),n.PluginHooks.add("afterUpdateSettings",function(){d.init.call(this,"afterUpdateSettings")}),n.PluginHooks.add("beforeGet",d.onBeforeGetSet),n.PluginHooks.add("beforeSet",d.onBeforeGetSet),n.PluginHooks.add("afterGetColHeader",d.getColHeader),function(t){function n(){var e=this,t=!!e.getSettings().contextMenu;t?r.call(e):i.call(e)}function r(){function l(e){var r=n.getSelected();if(!r)return;var i={start:new t.SelectionPoint,end:new t.SelectionPoint
};i.start.row(Math.min(r[0],r[2])),i.start.col(Math.min(r[1],r[3])),i.end.row(Math.max(r[0],r[2])),i.end.col(Math.max(r[1],r[3]));switch(e){case"row_above":n.alter("insert_row",i.start.row());break;case"row_below":n.alter("insert_row",i.end.row()+1);break;case"col_left":n.alter("insert_col",i.start.col());break;case"col_right":n.alter("insert_col",i.end.col()+1);break;case"remove_row":n.alter(e,i.start.row(),i.end.row()-i.start.row()+1);break;case"remove_col":n.alter(e,i.start.col(),i.end.col()-i.start.col()+1);break;case"undo":n.undo();break;case"redo":n.redo()}}function c(e){return n.countRows()>=n.getSettings().maxRows&&(e==="row_above"||e==="row_below")?!0:n.countCols()>=n.getSettings().maxCols&&(e==="col_left"||e==="col_right")?!0:!1}var n=this,r=n.rootElement[0].id,i={row_above:{name:"Insert row above",disabled:c},row_below:{name:"Insert row below",disabled:c},hsep1:"---------",col_left:{name:"Insert column on the left",disabled:c},col_right:{name:"Insert column on the right",disabled:c},hsep2:"---------",remove_row:{name:"Remove row",disabled:c},remove_col:{name:"Remove column",disabled:c},hsep3:"---------",undo:{name:"Undo",disabled:function(){return!n.undoRedo||!n.isUndoAvailable()}},redo:{name:"Redo",disabled:function(){return!n.undoRedo||!n.isRedoAvailable()}}},s={selector:"#"+r+" table, #"+r+" div",trigger:"right",callback:l},o={},u,a,f=n.getSettings();if(f.contextMenu===!0)o.items=i;else if(Object.prototype.toString.apply(f.contextMenu)==="[object Array]"){o.items={};for(u=0,a=f.contextMenu.length;u<a;u++){var h=f.contextMenu[u];if(typeof i[h]=="undefined")throw new Error('Context menu key "'+h+'" is not recognised');o.items[h]=i[h]}}else if(Object.prototype.toString.apply(f.contextMenu)==="[object Object]"){o=f.contextMenu;if(o.items)for(u in o.items)o.items.hasOwnProperty(u)&&i[u]&&(typeof o.items[u]=="string"?o.items[u]=i[u]:o.items[u]=e.extend(!0,i[u],o.items[u]));else o.items=i;if(o.callback){var p=s.callback,d=o.callback;o.callback=function(e,t){p(e,t),d(e,t)}}}if(!r)throw new Error("Handsontable container must have an id");e.contextMenu(e.extend(!0,s,o))}function i(){var t=this.rootElement[0].id;e.contextMenu("destroy","#"+t+" table, #"+t+" div"),e(document.querySelectorAll("#context-menu-layer")).remove()}t.PluginHooks.add("afterInit",n),t.PluginHooks.add("afterUpdateSettings",n),t.PluginHooks.add("afterDestroy",i)}(n),n.PluginHooks.add("beforeGetCellMeta",function(e,t,r){var i=this.getSettings(),s=this.getData(),o,u,a;r.isWritable=!r.readOnly;if(i.autoComplete)for(o=0,u=i.autoComplete.length;o<u;o++)if(i.autoComplete[o].match(e,t,s)){typeof r.type=="undefined"?r.type=n.AutocompleteCell:(typeof r.type.renderer=="undefined"&&(r.type.renderer=n.AutocompleteCell.renderer),typeof r.type.editor=="undefined"&&(r.type.editor=n.AutocompleteCell.editor));for(a in i.autoComplete[o])i.autoComplete[o].hasOwnProperty(a)&&a!=="match"&&typeof r[o]=="undefined"&&(a==="source"?r[a]=i.autoComplete[o][a](e,t):r[a]=i.autoComplete[o][a]);break}});var m=new v;n.PluginHooks.add("beforeInit",m.beforeInit),n.PluginHooks.add("afterInit",function(){m.init.call(this,"afterInit")}),n.PluginHooks.add("afterUpdateSettings",function(){m.init.call(this,"afterUpdateSettings")}),n.PluginHooks.add("afterGetColHeader",m.getColHeader),n.PluginHooks.add("modifyCol",m.modifyCol);var y=new g;n.PluginHooks.add("beforeInit",y.beforeInit),n.PluginHooks.add("afterInit",function(){y.init.call(this,"afterInit")}),n.PluginHooks.add("afterUpdateSettings",function(){y.init.call(this,"afterUpdateSettings")}),n.PluginHooks.add("afterGetColWidth",y.getColWidth),function(){function t(){var e=this,t=e.getSettings().observeChanges;!e.observer&&t?(r.call(e),u.call(e)):t||s.call(e)}function r(){var e=this;e.observeChangesActive=!0,e.pauseObservingChanges=function(){e.observeChangesActive=!1},e.resumeObservingChanges=function(){e.observeChangesActive=!0},e.observer=S.observe(e.getData(),function(t){e.observeChangesActive&&(i.call(e,t),e.render()),e.runHooks("afterChangesObserved")})}function i(e){function u(e){var t;return t=f(e),t=a(t),t}function a(e){var t=[];return e.filter(function(e){var n=l(e.path);if(["add","remove"].indexOf(e.op)!=-1&&!isNaN(n.col)){if(t.indexOf(n.col)!=-1)return!1;t.push(n.col)}return!0})}function f(e){return e.filter(function(e){return!/[/]length/ig.test(e.path)})}function l(e){var t=e.match(/^\/(\d+)\/?(.*)?$/);return{row:parseInt(t[1],10),col:/^\d*$/.test(t[2])?parseInt(t[2],10):t[2]}}var t=this,n=u(e);for(var r=0,i=n.length;r<i;r++){var s=n[r],o=l(s.path);switch(s.op){case"add":isNaN(o.col)?t.runHooks("afterCreateRow",o.row):t.runHooks("afterCreateCol",o.col);break;case"remove":isNaN(o.col)?t.runHooks("afterRemoveRow",o.row,1):t.runHooks("afterRemoveCol",o.col,1);break;case"replace":t.runHooks("afterChange",[o.row,o.col,null,s.value],"external")}}}function s(){var e=this;e.observer&&(o.call(e),a.call(e))}function o(){var e=this;S.unobserve(e.getData(),e.observer),delete e.observeChangesActive,delete e.pauseObservingChanges,delete e.resumeObservingChanges}function u(){var e=this;e.addHook("afterDestroy",s),e.addHook("afterCreateRow",f),e.addHook("afterRemoveRow",f),e.addHook("afterCreateCol",f),e.addHook("afterRemoveCol",f),e.addHook("afterChange",function(e,t){t!="loadData"&&f.call(this)})}function a(){var e=this;e.removeHook("afterDestroy",s),e.removeHook("afterCreateRow",f),e.removeHook("afterRemoveRow",f),e.removeHook("afterCreateCol",f),e.removeHook("afterRemoveCol",f),e.removeHook("afterChange",f)}function f(){var e=this;e.pauseObservingChanges(),e.addHookOnce("afterChangesObserved",function(){e.resumeObservingChanges()})}n.PluginHooks.add("afterLoadData",t),n.PluginHooks.add("afterUpdateSettings",t)}(),function(e){function t(){function r(){var e=this;for(var t in n)n.hasOwnProperty(t)&&!s.call(e,t)&&e.PluginHooks.add(t,n[t])}function i(){var e=this;for(var t in n)n.hasOwnProperty(t)&&s.call(e,t)&&e.PluginHooks.remove(t,n[t])}function s(e){var t=this;return t.PluginHooks.hooks.persistent.hasOwnProperty(e)}var t=this;this.init=function(){var n=this,s=n.getSettings().persistentState;t.enabled=!!s;if(!t.enabled){i.call(n);return}n.storage||(n.storage=new e(n.rootElement[0].id)),n.resetState=t.resetValue,r.call(n)},this.saveValue=function(e,t){var n=this;n.storage.saveValue(e,t)},this.loadValue=function(e,t){var n=this;t.value=n.storage.loadValue(e)},this.resetValue=function(e){var t=this;typeof e!="undefined"?t.storage.reset(e):t.storage.resetAll()};var n={persistentStateSave:t.saveValue,persistentStateLoad:t.loadValue,persistentStateReset:t.resetValue}}var r=new t;n.PluginHooks.add("beforeInit",r.init),n.PluginHooks.add("afterUpdateSettings",r.init)}(b),function(t){t.UndoRedo=function(e){var n=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,e.addHook("afterChange",function(e,r){if(e){var i=new t.UndoRedo.ChangeAction(e);n.done(i)}}),e.addHook("afterCreateRow",function(e,r){var i=new t.UndoRedo.CreateRowAction(e,r);n.done(i)}),e.addHook("beforeRemoveRow",function(e,r){var i=n.instance.getData();e=(i.length+e)%i.length;var s=i.slice(e,e+r),o=new t.UndoRedo.RemoveRowAction(e,s);n.done(o)}),e.addHook("afterCreateCol",function(e,r){var i=new t.UndoRedo.CreateColumnAction(e,r);n.done(i)}),e.addHook("beforeRemoveCol",function(r,i){var s=n.instance.getData();r=(n.instance.countCols()+r)%n.instance.countCols();var o=[];for(var u=0,a=s.length;u<a;u++)o[u]=s[u].slice(r,r+i);var f;t.helper.isArray(e.getSettings().colHeaders)&&(f=e.getSettings().colHeaders.slice(r,r+o.length));var l=new t.UndoRedo.RemoveColumnAction(r,o,f);n.done(l)})},t.UndoRedo.prototype.done=function(e){this.ignoreNewActions||(this.doneActions.push(e),this.undoneActions.length=0)},t.UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var e=this.doneActions.pop();this.ignoreNewActions=!0,e.undo(this.instance),this.ignoreNewActions=!1,this.undoneActions.push(e)}},t.UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var e=this.undoneActions.pop();this.ignoreNewActions=!0,e.redo(this.instance),this.ignoreNewActions=!0,this.doneActions.push(e)}},t.UndoRedo.prototype.isUndoAvailable=function(){return this.doneActions.length>0},t.UndoRedo.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},t.UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},t.UndoRedo.Action=function(){},t.UndoRedo.Action.prototype.undo=function(){},t.UndoRedo.Action.prototype.redo=function(){},t.UndoRedo.ChangeAction=function(e){this.changes=e},t.helper.inherit(t.UndoRedo.ChangeAction,t.UndoRedo.Action),t.UndoRedo.ChangeAction.prototype.undo=function(t){var n=e.extend(!0,[],this.changes);for(var r=0,i=n.length;r<i;r++)n[r].splice(3,1);t.setDataAtRowProp(n,null,null,"undo")},t.UndoRedo.ChangeAction.prototype.redo=function(t){var n=e.extend(!0,[],this.changes);for(var r=0,i=n.length;r<i;r++)n[r].splice(2,1);t.setDataAtRowProp(n,null,null,"redo")},t.UndoRedo.CreateRowAction=function(e,t){this.index=e,this.amount=t},t.helper.inherit(t.UndoRedo.CreateRowAction,t.UndoRedo.Action),t.UndoRedo.CreateRowAction.prototype.undo=function(e){e.alter("remove_row",this.index,this.amount)},t.UndoRedo.CreateRowAction.prototype.redo=function(e){e.alter("insert_row",this.index+1,this.amount)},t.UndoRedo.RemoveRowAction=function(e,t){this.index=e,this.data=t},t.helper.inherit(t.UndoRedo.RemoveRowAction,t.UndoRedo.Action),t.UndoRedo.RemoveRowAction.prototype.undo=function(e){var t=[this.index,0];Array.prototype.push.apply(t,this.data),Array.prototype.splice.apply(e.getData(),t),e.render()},t.UndoRedo.RemoveRowAction.prototype.redo=function(e){e.alter("remove_row",this.index,this.data.length)},t.UndoRedo.CreateColumnAction=function(e,t){this.index=e,this.amount=t},t.helper.inherit(t.UndoRedo.CreateColumnAction,t.UndoRedo.Action),t.UndoRedo.CreateColumnAction.prototype.undo=function(e){e.alter("remove_col",this.index,this.amount)},t.UndoRedo.CreateColumnAction.prototype.redo=function(e){e.alter("insert_col",this.index+1,this.amount)},t.UndoRedo.RemoveColumnAction=function(e,t,n){this.index=e,this.data=t,this.amount=this.data[0].length,this.headers=n},t.helper.inherit(t.UndoRedo.RemoveColumnAction,t.UndoRedo.Action),t.UndoRedo.RemoveColumnAction.prototype.undo=function(e){var t,n;for(var r=0,i=e.getData().length;r<i;r++)t=e.getDataAtRow(r),n=[this.index,0],Array.prototype.push.apply(n,this.data[r]),Array.prototype.splice.apply(t,n);typeof this.headers!="undefined"&&(n=[this.index,0],Array.prototype.push.apply(n,this.headers),Array.prototype.splice.apply(e.getSettings().colHeaders,n)),e.render()},t.UndoRedo.RemoveColumnAction.prototype.redo=function(e){e.alter("remove_col",this.index,this.amount)}}(n),function(e){function t(){var t=this,o=typeof t.getSettings().undo=="undefined"||t.getSettings().undo;o?t.undoRedo||(t.undoRedo=new e.UndoRedo(t),i(t),t.addHook("beforeKeyDown",n),t.addHook("afterChange",r)):t.undoRedo&&(delete t.undoRedo,s(t),t.removeHook("beforeKeyDown",n),t.removeHook("afterChange",r))}function n(e){var t=this,n=(e.ctrlKey||e.metaKey)&&!e.altKey;n&&(e.keyCode===89||e.shiftKey&&e.keyCode===90?(t.undoRedo.redo(),e.stopImmediatePropagation()):e.keyCode===90&&(t.undoRedo.undo(),e.stopImmediatePropagation()))}function r(e,t){var n=this;if(t=="loadData")return n.undoRedo.clear()}function i(e){e.undo=function(){return e.undoRedo.undo()},e.redo=function(){return e.undoRedo.redo()},e.isUndoAvailable=function(){return e.undoRedo.isUndoAvailable()},e.isRedoAvailable=function(){return e.undoRedo.isRedoAvailable()},e.clearUndo=function(){return e.undoRedo.clear()}}function s(e){delete e.undo,delete e.redo,delete e.isUndoAvailable,delete e.isRedoAvailable,delete e.clearUndo}e.PluginHooks.add("afterInit",t),e.PluginHooks.add("afterUpdateSettings",t)}(n),function(e){function t(r){return this.filter(t.resizableFilterSelector).each(function(){new n(e(this),r)}),this}function n(n,r){if(this.clones)return;this.config=e.extend({},t.defaults,r),this.el=n,this.nodeName=n[0].nodeName.toLowerCase(),this.previousScrollTop=null,r.maxWidth==="original"&&(r.maxWidth=n.width()),r.minWidth==="original"&&(r.minWidth=n.width()),r.maxHeight==="original"&&(r.maxHeight=n.height()),r.minHeight==="original"&&(r.minHeight=n.height()),this.nodeName==="textarea"&&n.css({resize:"none",overflowY:"none"}),n.data("AutoResizer",this),this.createClone(),this.injectClone(),this.bind()}t.defaults={onResize:function(){},animate:{duration:200,complete:function(){}},extraSpace:50,minHeight:"original",maxHeight:500,minWidth:"original",maxWidth:500},t.cloneCSSProperties=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","padding"],t.cloneCSSValues={position:"absolute",top:-9999,left:-9999,opacity:0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden",border:"1px solid black",padding:"0.49em"},t.resizableFilterSelector="textarea,input:not(input[type]),input[type=text],input[type=password]",t.AutoResizer=n,e.fn.autoResize=t,n.prototype={bind:function(){var t=e.proxy(function(){return this.check(),!0},this);this.unbind(),this.el.bind("keyup.autoResize",t).bind("change.autoResize",t),this.check(null,!0)},unbind:function(){this.el.unbind(".autoResize")},createClone:function(){var n=this.el,r=this,i=this.config;this.clones=e();if(i.minHeight!=="original"||i.maxHeight!=="original")this.hClone=n.clone().height("auto"),this.clones=this.clones.add(this.hClone);if(i.minWidth!=="original"||i.maxWidth!=="original")this.wClone=e("<div/>").width("auto").css({whiteSpace:"nowrap","float":"left"}),this.clones=this.clones.add(this.wClone);e.each(t.cloneCSSProperties,function(e,t){r.clones.css(t,n.css(t))}),this.clones.removeAttr("name").removeAttr("id").attr("tabIndex",-1).css(t.cloneCSSValues).css("overflowY","scroll")},check:function(e,t){var n=this.config,r=this.wClone,i=this.hClone,s=this.el,o=s.val();if(r){r.text(o);var u=r.outerWidth(),a=u+n.extraSpace>=n.minWidth?u+n.extraSpace:n.minWidth,f=s.width();a=Math.min(a,n.maxWidth);if(a<f&&a>=n.minWidth||a>=n.minWidth&&a<=n.maxWidth)n.onResize.call(s),s.scrollLeft(0),n.animate&&!t?s.stop(1,1).animate({width:a},n.animate):s.width(a)}if(i){a&&i.width(a),i.height(0).val(o).scrollTop(1e4);var l=i[0].scrollTop+n.extraSpace;if(this.previousScrollTop===l)return;this.previousScrollTop=l,l>=n.maxHeight&&(l=n.maxHeight),l<n.minHeight&&(l=n.minHeight),l==n.maxHeight&&a==n.maxWidth?s.css("overflowY","scroll"):s.css("overflowY","hidden"),n.onResize.call(s),n.animate&&!t?s.stop(1,1).animate({height:l},n.animate):s.height(l)}},destroy:function(){this.unbind(),this.el.removeData("AutoResizer"),this.clones.remove(),delete this.el,delete this.hClone,delete this.wClone,delete this.clones},injectClone:function(){(t.cloneContainer||(t.cloneContainer=e("<arclones/>").appendTo("body"))).empty().append(this.clones)}}}(jQuery),function(e){function t(e){return e.split('"').length-1}e.SheetClip={parse:function(e){var n,r,i,s=[],o=0,u,a,f,l;i=e.split("\n"),i.length>1&&i[i.length-1]===""&&i.pop();for(n=0,r=i.length;n<r;n+=1){i[n]=i[n].split("	");for(u=0,a=i[n].length;u<a;u+=1)s[o]||(s[o]=[]),f&&u===0?(l=s[o].length-1,s[o][l]=s[o][l]+"\n"+i[n][0],f&&t(i[n][0])&1&&(f=!1,s[o][l]=s[o][l].substring(0,s[o][l].length-1).replace(/""/g,'"'))):u===a-1&&i[n][u].indexOf('"')===0?(s[o].push(i[n][u].substring(1).replace(/""/g,'"')),f=!0):(s[o].push(i[n][u].replace(/""/g,'"')),f=!1);f||(o+=1)}return s},stringify:function(e){var t,n,r,i,s="",o;for(t=0,n=e.length;t<n;t+=1){for(r=0,i=e[t].length;r<i;r+=1)r>0&&(s+="	"),o=e[t][r],typeof o=="string"?o.indexOf("\n")>-1?s+='"'+o.replace(/"/g,'""')+'"':s+=o:o===null||o===void 0?s+="":s+=o;s+="\n"}return s}}}(t);var w=function(){var e;return{getInstance:function(){return e||(e=new E),e}}}();E.prototype.selectNodeText=function(e){e.select()},E.prototype.getSelectionText=function(){var e="";return t.getSelection?e=t.getSelection().toString():document.selection&&document.selection.type!="Control"&&(e=document.selection.createRange().text),e},E.prototype.copyable=function(e){if(typeof e!="string"&&e.toString===void 0)throw new Error("copyable requires string parameter");this.elTextarea.value=e},E.prototype.onCut=function(e){this.cutCallbacks.push(e)},E.prototype.onPaste=function(e){this.pasteCallbacks.push(e)},E.prototype.removeCallback=function(e){var t,n;for(t=0,n=this.copyCallbacks.length;t<n;t++)if(this.copyCallbacks[t]===e)return this.copyCallbacks.splice(t,1),!0;for(t=0,n=this.cutCallbacks.length;t<n;t++)if(this.cutCallbacks[t]===e)return this.cutCallbacks.splice(t,1),!0;for(t=0,n=this.pasteCallbacks.length;t<n;t++)if(this.pasteCallbacks[t]===e)return this.pasteCallbacks.splice(t,1),!0;return!1},E.prototype.triggerCut=function(e){var t=this;t.cutCallbacks&&setTimeout(function(){for(var n=0,r=t.cutCallbacks.length;n<r;n++)t.cutCallbacks[n](e)},50)},E.prototype.triggerPaste=function(e,t){var n=this;n.pasteCallbacks&&setTimeout(function(){var r=(t||n.elTextarea.value).replace(/\n$/,"");for(var i=0,s=n.pasteCallbacks.length;i<s;i++)n.pasteCallbacks[i](r,e)},50)},E.prototype._bindEvent=function(){return t.jQuery?function(t,n,r){e(t).on(n+".copypaste",r)}:function(e,t,n){e.addEventListener(t,n,!1)}}();var S;(function(e){function s(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r instanceof Object&&(Object.unobserve(r,e),r.____Path=t.____Path+"/"+n,s(e,r))}}function o(e,t){delete t.____Path,Object.observe(t,e);for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r instanceof Object&&o(e,r)}}function a(e,t){Object.observe?(Object.unobserve(e,t),s(t,e)):clearTimeout(t.next)}function f(e,n){var r=[],a=e,f;if(Object.observe)f=function(e){if(!a.___Path){Object.unobserve(a,f),a.____Path="",s(f,a);var t=0,u=e.length;while(t<u)e[t].name!="____Path"&&i[e[t].type].call(e[t],r,e[t].object.____Path),t++;o(f,a)}n&&n(r),f.patches=r,r=[]};else{f={};var h;for(var p=0,d=u.length;p<d;p++)if(u[p].obj===e){h=u[p];break}h||(h={obj:e},u.push(h)),h.value=JSON.parse(JSON.stringify(e));if(n){f.callback=n,f.next=null;var v=this.intervals||[100,1e3,1e4,6e4],m=0,g=function(){c(f)},y=function(){clearTimeout(f.next),f.next=setTimeout(function(){g(),m=0,f.next=setTimeout(b,v[m++])},0)},b=function(){g(),m==v.length&&(m=v.length-1),f.next=setTimeout(b,v[m++])};typeof t!="undefined"&&(t.addEventListener?(t.addEventListener("mousedown",y),t.addEventListener("mouseup",y),t.addEventListener("keydown",y)):(t.attachEvent("onmousedown",y),t.attachEvent("onmouseup",y),t.attachEvent("onkeydown",y))),f.next=setTimeout(b,v[m++])}}return f.patches=r,f.object=e,l(f,e,r)}function l(e,t,n){if(Object.observe){Object.observe(t,e);for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];i&&typeof i=="object"&&l(e,i,n)}}return e}function c(e){if(Object.observe)Object.deliverChangeRecords(e);else{var t;for(var n=0,r=u.length;n<r;n++)if(u[n].obj===e.object){t=u[n];break}p(t.value,e.object,e.patches,"")}var i=e.patches;return i.length>0&&(e.patches=[],e.callback&&e.callback(i)),i}function p(e,t,n,r){var i=h(t),s=h(e),o=!1,u=!1;for(var a=0;a<s.length;a++){var f=s[a],l=e[f];if(t.hasOwnProperty(f)){var c=t[f];l instanceof Object?p(l,c,n,r+"/"+f):l!=c&&(o=!0,n.push({op:"replace",path:r+"/"+f,value:c}),e[f]=c)}else n.push({op:"remove",path:r+"/"+f}),delete e[f],u=!0}if(!u&&i.length==s.length)return;for(var a=0;a<i.length;a++){var f=i[a];e.hasOwnProperty(f)||(n.push({op:"add",path:r+"/"+f,value:t[f]}),e[f]=JSON.parse(JSON.stringify(t[f])))}}function v(e,t,i){var s=!1,o=0,u=t.length,a;while(o<u){a=t[o];var f=a.path.split("/"),l=e,c=1,h=f.length;for(;;)if(d(l)){var p=parseInt(f[c],10);c++;if(c>=h){s=r[a.op].call(a,l,p,e);break}l=l[p]}else{var v=f[c];v.indexOf("~")!=-1&&(v=v.replace("~1","/").replace("~0","~")),c++;if(c>=h){s=n[a.op].call(a,l,v,e);break}l=l[v]}o++}return s}var n={add:function(e,t){return e[t]=this.value,!0},remove:function(e,t){return delete e[t],!0},replace:function(e,t){return e[t]=this.value,!0},move:function(e,t,n){var r={op:"_get",path:this.from};return v(n,[r]),v(n,[{op:"remove",path:this.from}]),v(n,[{op:"add",path:this.path,value:r.value}]),!0},copy:function(e,t,n){var r={op:"_get",path:this.from};return v(n,[r]),v(n,[{op:"add",path:this.path,value:r.value}]),!0},test:function(e,t){return JSON.stringify(e[t])===JSON.stringify(this.value)},_get:function(e,t){this.value=e[t]}},r={add:function(e,t){e.splice(t,0,this.value)},remove:function(e,t){e.splice(t,1)},replace:function(e,t){e[t]=this.value},move:n.move,copy:n.copy,test:n.test,_get:n._get},i={"new":function(e,t){var n={op:"add",path:t+"/"+this.name,value:this.object[this.name]};e.push(n)},deleted:function(e,t){var n={op:"remove",path:t+"/"+this.name};e.push(n)},updated:function(e,t){var n={op:"replace",path:t+"/"+this.name,value:this.object[this.name]};e.push(n)}},u=[];e.intervals,e.unobserve=a,e.observe=f,e.generate=c;var h;Object.keys?h=Object.keys:h=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};var d;Array.isArray?d=Array.isArray:d=function(e){return e.push&&typeof e.length=="number"},e.apply=v})(S||(S={})),typeof exports!="undefined"&&(exports.apply=S.apply,exports.observe=S.observe,exports.unobserve=S.unobserve,exports.generate=S.generate),x.prototype.appear=function(e){var t,n,r,i,s,o,u,a,f,l,c,h;if(this.disabled)return;var p=this.instance,d,v,m,g,y=!1,b=!1,w=!1,E=!1,S,x,T;p.wtTable.isRowInViewport(e[0])||(y=!0),p.wtTable.isRowInViewport(e[2])||(w=!0),x=p.wtTable.rowStrategy.countVisible();for(S=0;S<x;S++){T=p.wtTable.rowFilter.visibleToSource(S);if(T>=e[0]&&T<=e[2]){d=T;break}}for(S=x-1;S>=0;S--){T=p.wtTable.rowFilter.visibleToSource(S);if(T>=e[0]&&T<=e[2]){m=T;break}}if(y&&w)b=!0,E=!0;else{p.wtTable.isColumnInViewport(e[1])||(b=!0),p.wtTable.isColumnInViewport(e[3])||(E=!0),x=p.wtTable.columnStrategy.countVisible();for(S=0;S<x;S++){T=p.wtTable.columnFilter.visibleToSource(S);if(T>=e[1]&&T<=e[3]){v=T;break}}for(S=x-1;S>=0;S--){T=p.wtTable.columnFilter.visibleToSource(S);if(T>=e[1]&&T<=e[3]){g=T;break}}}if(d===void 0||v===void 0){this.disappear();return}t=d!==m||v!==g,n=p.wtTable.getCell([d,v]),r=t?p.wtTable.getCell([m,g]):n,i=this.wtDom.offset(n),s=t?this.wtDom.offset(r):i,o=this.wtDom.offset(p.wtTable.TABLE),a=i.top,c=s.top+this.wtDom.outerHeight(r)-a,l=i.left,h=s.left+this.wtDom.outerWidth(r)-l,u=a-o.top-1,f=l-o.left-1;var N=this.wtDom.getComputedStyle(n);parseInt(N.borderTopWidth,10)>0&&(u+=1,c-=1),parseInt(N.borderLeftWidth,10)>0&&(f+=1,h-=1),y?this.topStyle.display="none":(this.topStyle.top=u+"px",this.topStyle.left=f+"px",this.topStyle.width=h+"px",this.topStyle.display="block"),b?this.leftStyle.display="none":(this.leftStyle.top=u+"px",this.leftStyle.left=f+"px",this.leftStyle.height=c+"px",this.leftStyle.display="block");var C=Math.floor(this.settings.border.width/2);w?this.bottomStyle.display="none":(this.bottomStyle.top=u+c-C+"px",this.bottomStyle.left=f+"px",this.bottomStyle.width=h+"px",this.bottomStyle.display="block"),E?this.rightStyle.display="none":(this.rightStyle.top=u+"px",this.rightStyle.left=f+h-C+"px",this.rightStyle.height=c+1+"px",this.rightStyle.display="block"),w||E||!this.hasSetting(this.settings.border.cornerVisible)?this.cornerStyle.display="none":(this.cornerStyle.top=u+c-4+"px",this.cornerStyle.left=f+h-4+"px",this.cornerStyle.display="block")},x.prototype.disappear=function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none"},x.prototype.hasSetting=function(e){return typeof e=="function"?e():!!e},T.prototype.source=function(e){return e},T.prototype.offsetted=function(e){return e+this.offset},T.prototype.unOffsetted=function(e){return e-this.offset},T.prototype.fixed=function(e){return e<this.fixedCount?e-this.offset:e},T.prototype.unFixed=function(e){return e<this.fixedCount?e+this.offset:e},T.prototype.visibleToSource=function(e){return this.source(this.offsetted(this.fixed(e)))},T.prototype.sourceToVisible=function(e){return this.source(this.unOffsetted(this.unFixed(e)))},N.prototype.getSize=function(e){return this.cellSizes[e]},N.prototype.getContainerSize=function(e){return typeof this.containerSizeFn=="function"?this.containerSizeFn(e):this.containerSizeFn},N.prototype.countVisible=function(){return this.cellCount},N.prototype.isLastIncomplete=function(){return this.remainingSize>=0},C.prototype.add=function(e,t,n){this.cache[e]||(this.cache[e]=[]),this.cache[e][t]||(this.cache[e][t]=[]),this.cache[e][t][n]=!0},C.prototype.test=function(e,t,n){return this.cache[e]&&this.cache[e][t]&&this.cache[e][t][n]},k.prototype=new T,k.prototype.readSettings=function(e){this.offset=e.wtSettings.settings.offsetColumn,this.total=e.getSetting("totalColumns"),this.fixedCount=e.getSetting("fixedColumnsLeft"),this.countTH=e.getSetting("rowHeaders").length},k.prototype.offsettedTH=function(e){return e-this.countTH},k.prototype.unOffsettedTH=function(e){return e+this.countTH},k.prototype.visibleRowHeadedColumnToSourceColumn=function(e){return this.visibleToSource(this.offsettedTH(e))},k.prototype.sourceColumnToVisibleRowHeadedColumn=function(e){return this.unOffsettedTH(this.sourceToVisible(e))},L.prototype=new N,L.prototype.getSize=function(e){return this.cellSizes[e]+(this.cellStretch[e]||0)},L.prototype.stretch=function(){var e=this.getContainerSize(this.cellSizesSum),t=0;this.remainingSize=this.cellSizesSum-e,this.cellStretch.length=0;if(this.strategy==="all"){if(this.remainingSize<0){var n=e/this.cellSizesSum,r;while(t<this.cellCount-1)r=Math.floor(n*this.cellSizes[t]),this.remainingSize+=r-this.cellSizes[t],this.cellStretch[t]=r-this.cellSizes[t],t++;this.cellStretch[this.cellCount-1]=-this.remainingSize,this.remainingSize=0}}else this.strategy==="last"&&this.remainingSize<0&&(this.cellStretch[this.cellCount-1]=-this.remainingSize,this.remainingSize=0)},A.prototype.draw=function(e){this.drawInterrupted=!1;if(!e&&!this.wtDom.isVisible(this.wtTable.TABLE)){this.drawInterrupted=!0;return}return this.getSetting("beforeDraw",!e),e=e&&this.getSetting("offsetRow")===this.lastOffsetRow&&this.getSetting("offsetColumn")===this.lastOffsetColumn,this.drawn&&(this.scrollVertical(0),this.scrollHorizontal(0)),this.lastOffsetRow=this.getSetting("offsetRow"),this.lastOffsetColumn=this.getSetting("offsetColumn"),this.wtTable.draw(e),this.getSetting("onDraw",!e),this},A.prototype.update=function(e,t){return this.wtSettings.update(e,t)},A.prototype.scrollVertical=function(e){return this.wtScroll.scrollVertical(e)},A.prototype.scrollHorizontal=function(e){return this.wtScroll.scrollHorizontal(e)},A.prototype.scrollViewport=function(e){return this.wtScroll.scrollViewport(e),this},A.prototype.getViewport=function(){return[this.wtTable.rowFilter.visibleToSource(0),this.wtTable.columnFilter.visibleToSource(0),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]},A.prototype.getSetting=function(e,t,n,r){return this.wtSettings.getSetting(e,t,n,r)},A.prototype.hasSetting=function(e){return this.wtSettings.has(e)},A.prototype.destroy=function(){e(document.body).off("."+this.guid),this.wtScrollbars.destroy(),clearTimeout(this.wheelTimeout),clearTimeout(this.dblClickTimeout)},O.prototype.closest=function(e,t,n){while(e!=null&&e!==n){if(e.nodeType===1&&t.indexOf(e.nodeName)>-1)return e;e=e.parentNode}return null},O.prototype.isChildOf=function(e,t){var n=e.parentNode;while(n!=null){if(n==t)return!0;n=n.parentNode}return!1},O.prototype.index=function(e){var t=0;while(e=e.previousSibling)++t;return t},document.documentElement.classList?(O.prototype.hasClass=function(e,t){return e.classList.contains(t)},O.prototype.addClass=function(e,t){e.classList.add(t)},O.prototype.removeClass=function(e,t){e.classList.remove(t)}):(O.prototype.hasClass=function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},O.prototype.addClass=function(e,t){this.hasClass(e,t)||(e.className+=" "+t)},O.prototype.removeClass=function(e,t){if(this.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}),O.prototype.removeTextNodes=function(e,t){if(e.nodeType===3)t.removeChild(e);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(e.nodeName)>-1){var n=e.childNodes;for(var r=n.length-1;r>=0;r--)this.removeTextNodes(n[r],e)}},O.prototype.empty=function(e){var t;while(t=e.lastChild)e.removeChild(t)},O.prototype.HTML_CHARACTERS=/(<(.*)>|&(.*);)/,O.prototype.fastInnerHTML=function(e,t){this.HTML_CHARACTERS.test(t)?e.innerHTML=t:this.fastInnerText(e,t)},document.createTextNode("test").textContent?O.prototype.fastInnerText=function(e,t){var n=e.firstChild;n&&n.nodeType===3&&n.nextSibling===null?n.textContent=t:(this.empty(e),e.appendChild(document.createTextNode(t)))}:O.prototype.fastInnerText=function(e,t){var n=e.firstChild;n&&n.nodeType===3&&n.nextSibling===null?n.data=t:(this.empty(e),e.appendChild(document.createTextNode(t)))},O.prototype.isVisible=function(e){try{if(!e.offsetParent)return!1}catch(t){return!1}if(e.offsetWidth>0)return!0;var n=e;while(n!==document.documentElement){if(n===null)return!1;if(n.nodeType===11)return!0;if(n.style.display==="none")return!1;n=n.parentNode}return!0},O.prototype.offset=function(e){if(this.hasCaptionProblem()&&e.firstChild&&e.firstChild.nodeName==="CAPTION"){var n=e.getBoundingClientRect();return{top:n.top+(t.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0),left:n.left+(t.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0)}}var r=e.offsetLeft,i=e.offsetTop,s=e;while(e=e.offsetParent){if(e===document.body)break;r+=e.offsetLeft,i+=e.offsetTop,s=e}return s&&s.style.position==="fixed"&&(r+=t.pageXOffset||document.documentElement.scrollLeft,i+=t.pageYOffset||document.documentElement.scrollTop),{left:r,top:i}},O.prototype.getComputedStyle=function(e){return e.currentStyle||document.defaultView.getComputedStyle(e)},O.prototype.outerWidth=function(e){return e.offsetWidth},O.prototype.outerHeight=function(e){return this.hasCaptionProblem()&&e.firstChild&&e.firstChild.nodeName==="CAPTION"?e.offsetHeight+e.firstChild.offsetHeight:e.offsetHeight},function(){function t(){var t=document.createElement("TABLE");t.style.borderSpacing=0,t.style.borderWidth=0,t.style.padding=0;var n=document.createElement("TBODY");t.appendChild(n),n.appendChild(document.createElement("TR")),n.firstChild.appendChild(document.createElement("TD")),n.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var r=document.createElement("CAPTION");r.innerHTML="c<br>c<br>c<br>c",r.style.padding=0,r.style.margin=0,t.insertBefore(r,n),document.body.appendChild(t),e=t.offsetHeight<2*t.lastChild.offsetHeight,document.body.removeChild(t)}var e;O.prototype.hasCaptionProblem=function(){return e===void 0&&t(),e},O.prototype.getCaretPosition=function(e){if(e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();if(t==null)return 0;var n=e.createTextRange(),r=n.duplicate();return n.moveToBookmark(t.getBookmark()),r.setEndPoint("EndToStart",n),r.text.length}return 0},O.prototype.setCaretPosition=function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}}(),M.prototype.parentCell=function(e){var t={},n=this.instance.wtTable.TABLE,r=this.wtDom.closest(e,["TD","TH"],n);return r&&this.wtDom.isChildOf(r,n)?(t.coords=this.instance.wtTable.getCoords(r),t.TD=r):this.wtDom.hasClass(e,"wtBorder")&&this.wtDom.hasClass(e,"current")&&!this.wtDom.hasClass(e,"corner")&&(t.coords=this.instance.selections.current.selected[0],t.TD=this.instance.wtTable.getCell(t.coords)),t},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=t);for(;n<t;n++)if(n in this&&this[n]===e)return n;return-1}),t.requestAnimFrame=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e,n){return t.setTimeout(e,1e3/60)}}(),t.cancelRequestAnimFrame=function(){return t.cancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}(),t.getComputedStyle||function(){var e,n={getPropertyValue:function(n){return n=="float"&&(n="styleFloat"),e.currentStyle[n.toUpperCase()]||null}};t.getComputedStyle=function(t){return e=t,n}}(),D.prototype=new T,D.prototype.readSettings=function(e){this.offset=e.wtSettings.settings.offsetRow,this.total=e.getSetting("totalRows"),this.fixedCount=
e.getSetting("fixedRowsTop")},P.prototype=new N,P.prototype.add=function(e,t,n){if(!this.isLastIncomplete()){var r=this.sizeAtIndex(e,t);if(r===void 0)return!1;var i=this.getContainerSize(this.cellSizesSum+r);return n?this.cellSizes.unshift(r):this.cellSizes.push(r),this.cellSizesSum+=r,this.cellCount++,this.remainingSize=this.cellSizesSum-i,n&&this.isLastIncomplete()?!1:!0}return!1},P.prototype.remove=function(){var e=this.cellSizes.pop();this.cellSizesSum-=e,this.cellCount--,this.remainingSize-=e},P.prototype.removeOutstanding=function(){while(this.cellCount>0&&this.cellSizes[this.cellCount-1]<this.remainingSize)this.remove()},H.prototype.scrollVertical=function(e){if(!this.instance.drawn)throw new Error("scrollVertical can only be called after table was drawn to DOM");var t=this.instance,n,r=t.getSetting("offsetRow"),i=t.getSetting("fixedRowsTop"),s=t.getSetting("totalRows"),o=t.wtViewport.getViewportHeight();return s>0?n=this.scrollLogicVertical(e,r,s,i,o,function(e){return e-r<i&&e-r>=0?t.getSetting("rowHeight",e-r):t.getSetting("rowHeight",e)},function(e){t.wtTable.verticalRenderReverse=e}):n=0,n!==r&&this.instance.wtScrollbars.vertical.scrollTo(n),t},H.prototype.scrollHorizontal=function(e){if(!this.instance.drawn)throw new Error("scrollHorizontal can only be called after table was drawn to DOM");var t=this.instance,n,r=t.getSetting("offsetColumn"),i=t.getSetting("fixedColumnsLeft"),s=t.getSetting("totalColumns"),o=t.wtViewport.getViewportWidth();return s>0?n=this.scrollLogicHorizontal(e,r,s,i,o,function(e){return e-r<i&&e-r>=0?t.getSetting("columnWidth",e-r):t.getSetting("columnWidth",e)}):n=0,n!==r&&this.instance.wtScrollbars.horizontal.scrollTo(n),t},H.prototype.scrollLogicVertical=function(e,t,n,r,i,s,o){var u=t+e;return u>=n-r&&(u=n-r-1,o(!0)),u<0&&(u=0),u},H.prototype.scrollLogicHorizontal=function(e,t,n,r,i,s){var o=t+e,u=0,a;if(o>r){o>=n-r&&(o=n-r-1),a=o;while(u<i&&a<n)u+=s(a),a++;if(u<i)while(o>0){u+=s(o-1);if(!(u<i))break;o--}}else o<0&&(o=0);return o},H.prototype.scrollViewport=function(e){var n=this.instance.getSetting("offsetRow"),r=this.instance.getSetting("offsetColumn"),i=this.instance.wtTable.getLastVisibleRow(),s=this.instance.getSetting("totalRows"),o=this.instance.getSetting("totalColumns"),u=this.instance.getSetting("fixedRowsTop"),a=this.instance.getSetting("fixedColumnsLeft");if(this.instance.isNativeScroll){var f=this.instance.wtTable.getCell(e);if(typeof f=="object"){var l=O.prototype.offset(f),c=O.prototype.outerHeight(f),h=t.scrollY,p=document.documentElement.clientHeight;c<p&&(l.top<h?f.scrollIntoView(!0):l.top+c>h+p&&f.scrollIntoView(!1));return}}if(e[0]<0||e[0]>s-1)throw new Error("row "+e[0]+" does not exist");if(e[1]<0||e[1]>o-1)throw new Error("column "+e[1]+" does not exist");e[0]>i?(this.scrollVertical(e[0]-u-n),this.instance.wtTable.verticalRenderReverse=!0):e[0]===i&&this.instance.wtTable.rowStrategy.isLastIncomplete()?(this.scrollVertical(e[0]-u-n),this.instance.wtTable.verticalRenderReverse=!0):e[0]-u<n?this.scrollVertical(e[0]-u-n):this.scrollVertical(0);if(this.instance.wtTable.isColumnBeforeViewport(e[1]))this.instance.wtScrollbars.horizontal.scrollTo(e[1]-a);else if(this.instance.wtTable.isColumnAfterViewport(e[1])||this.instance.wtTable.getLastVisibleColumn()===e[1]&&!this.instance.wtTable.isLastColumnFullyVisible()){var d=0;for(var v=0;v<a;v++)d+=this.instance.getSetting("columnWidth",v);var m=e[1];d+=this.instance.getSetting("columnWidth",m);var g=this.instance.wtViewport.getViewportWidth();if(d<g){var y=this.instance.getSetting("columnWidth",m-1);while(d+y<g&&m>=a)m--,d+=y}this.instance.wtScrollbars.horizontal.scrollTo(m-a)}return this.instance},B.prototype.init=function(){var t=this;this.$table=e(this.instance.wtTable.TABLE),this.slider=document.createElement("DIV"),this.sliderStyle=this.slider.style,this.sliderStyle.position="absolute",this.sliderStyle.top="0",this.sliderStyle.left="0",this.sliderStyle.display="none",this.slider.className="dragdealer "+this.type,this.handle=document.createElement("DIV"),this.handleStyle=this.handle.style,this.handle.className="handle",this.slider.appendChild(this.handle),this.container=this.instance.wtTable.holder,this.container.appendChild(this.slider);var n=!0;this.dragTimeout=null;var r,i=function(){t.onScroll(r)};this.dragdealer=new G(this.slider,{vertical:this.type==="vertical",horizontal:this.type==="horizontal",slide:!1,speed:100,animationCallback:function(e,s){if(n){n=!1;return}t.skipRefresh=!0,r=t.type==="vertical"?s:e,t.dragTimeout===null&&(t.dragTimeout=setInterval(i,100),i())},callback:function(e,n){t.skipRefresh=!1,clearInterval(t.dragTimeout),t.dragTimeout=null,r=t.type==="vertical"?n:e,t.onScroll(r)}}),this.skipRefresh=!1},B.prototype.onScroll=function(e){if(this.instance.drawn){this.readSettings();if(this.total>this.visibleCount){var t=Math.round(this.handlePosition*this.total/this.sliderSize);e===1?this.type==="vertical"?this.instance.scrollVertical(Infinity).draw():this.instance.scrollHorizontal(Infinity).draw():t!==this.offset?this.type==="vertical"?this.instance.scrollVertical(t-this.offset).draw():this.instance.scrollHorizontal(t-this.offset).draw():this.refresh()}}},B.prototype.getHandleSizeRatio=function(e,t){return!t||e>t||e==t?1:1/t},B.prototype.prepare=function(){if(this.skipRefresh)return;var e=this.getHandleSizeRatio(this.visibleCount,this.total);(e===1||isNaN(e))&&this.scrollMode==="auto"||this.scrollMode==="none"?this.visible=!1:this.visible=!0},B.prototype.refresh=function(){if(this.skipRefresh)return;if(!this.visible){this.sliderStyle.display="none";return}var e,t,n,r,i=this.visibleCount,s=this.instance.wtViewport.getWorkspaceWidth(),o=this.instance.wtViewport.getWorkspaceHeight();s===Infinity&&(s=this.instance.wtViewport.getWorkspaceActualWidth()),o===Infinity&&(o=this.instance.wtViewport.getWorkspaceActualHeight()),this.type==="vertical"?(this.instance.wtTable.rowStrategy.isLastIncomplete()&&i--,t=o-2,this.sliderStyle.top=this.instance.wtDom.offset(this.$table[0]).top-this.instance.wtDom.offset(this.container).top+"px",this.sliderStyle.left=s-1+"px",this.sliderStyle.height=Math.max(t,0)+"px"):(t=s-2,this.sliderStyle.left=this.instance.wtDom.offset(this.$table[0]).left-this.instance.wtDom.offset(this.container).left+"px",this.sliderStyle.top=o-1+"px",this.sliderStyle.width=Math.max(t,0)+"px"),e=this.getHandleSizeRatio(i,this.total),n=Math.round(t*e),n<10&&(n=15),r=Math.floor(t*(this.offset/this.total)),n+r>t&&(r=t-n),this.type==="vertical"?(this.handleStyle.height=n+"px",this.handleStyle.top=r+"px"):(this.handleStyle.width=n+"px",this.handleStyle.left=r+"px"),this.sliderStyle.display="block"},B.prototype.destroy=function(){clearInterval(this.dragdealer.interval)};var j=function(e){this.instance=e,this.type="vertical",this.init()};j.prototype=new B,j.prototype.scrollTo=function(e){this.instance.update("offsetRow",e)},j.prototype.readSettings=function(){this.scrollMode=this.instance.getSetting("scrollV"),this.offset=this.instance.getSetting("offsetRow"),this.total=this.instance.getSetting("totalRows"),this.visibleCount=this.instance.wtTable.rowStrategy.countVisible(),this.visibleCount>1&&this.instance.wtTable.rowStrategy.isLastIncomplete()&&this.visibleCount--,this.handlePosition=parseInt(this.handleStyle.top,10),this.sliderSize=parseInt(this.sliderStyle.height,10),this.fixedCount=this.instance.getSetting("fixedRowsTop")};var F=function(e){this.instance=e,this.type="horizontal",this.init()};F.prototype=new B,F.prototype.scrollTo=function(e){this.instance.update("offsetColumn",e)},F.prototype.readSettings=function(){this.scrollMode=this.instance.getSetting("scrollH"),this.offset=this.instance.getSetting("offsetColumn"),this.total=this.instance.getSetting("totalColumns"),this.visibleCount=this.instance.wtTable.columnStrategy.countVisible(),this.visibleCount>1&&this.instance.wtTable.columnStrategy.isLastIncomplete()&&this.visibleCount--,this.handlePosition=parseInt(this.handleStyle.left,10),this.sliderSize=parseInt(this.sliderStyle.width,10),this.fixedCount=this.instance.getSetting("fixedColumnsLeft")},F.prototype.getHandleSizeRatio=function(e,t){return!t||e>t||e==t?1:e/t},I.prototype.init=function(){this.TABLE=this.instance.wtTable.TABLE,this.fixed=this.instance.wtTable.hider,this.fixedContainer=this.instance.wtTable.holder,this.fixed.style.position="absolute",this.fixed.style.left="0",this.$scrollHandler=e(t);var n=this;this.$scrollHandler.on("scroll.walkontable",function(){if(!n.instance.wtTable.holder.parentNode){n.destroy();return}n.onScroll()}),this.readSettings()},I.prototype.onScroll=function(e){this.readSettings(),e&&(this.windowScrollPosition=e);if(this.windowScrollPosition===this.lastWindowScrollPosition)return;this.lastWindowScrollPosition=this.windowScrollPosition;var t,n=0;t=this.windowScrollPosition-this.tableParentOffset,R=0;if(t>0){var r=0,i;for(var s=0;s<this.total;s++){i=this.instance.getSetting("rowHeight",s),r+=i;if(r>t)break}this.offset>0&&(R=r-t),n=s,n=Math.min(n,this.total)}this.curOuts=n>this.maxOuts?this.maxOuts:n,n-=this.curOuts,this.instance.update("offsetRow",n),this.readSettings(),this.instance.draw()},I.prototype.prepare=function(){},I.prototype.availableSize=function(){var e;return this.windowScrollPosition>this.tableParentOffset?this.instance.wtTable.getLastVisibleRow()===this.total-1?e=this.instance.wtDom.outerHeight(this.TABLE):e=this.windowSize:e=this.windowSize-(this.tableParentOffset-this.windowScrollPosition),e},I.prototype.refresh=function(){var e=this.getLastCell();this.measureBefore=this.sumCellSizes(0,this.offset),this.measureInside=this.getTableSize(),e===-1?this.measureAfter=0:this.measureAfter=this.sumCellSizes(e,this.total-e),this.applyToDOM()},I.prototype.destroy=function(){this.$scrollHandler.off("scroll.walkontable")};var q=function(e){this.instance=e,this.type="vertical",this.cellSize=23,this.init();var t=this;N.prototype.isLastIncomplete=function(){return this.remainingSize>t.sumCellSizes(t.offset,t.offset+t.curOuts+1)}};q.prototype=new I,q.prototype.getLastCell=function(){return this.instance.getSetting("offsetRow")+this.instance.wtTable.tbodyChildrenLength-1},q.prototype.getTableSize=function(){return this.instance.wtDom.outerHeight(this.TABLE)};var R=0;q.prototype.sumCellSizes=function(e,t){var n=0;while(e<t)n+=this.instance.getSetting("rowHeight",e),e++;return n},q.prototype.applyToDOM=function(){var e=this.instance.wtViewport.getColumnHeaderHeight();this.fixedContainer.style.height=e+this.sumCellSizes(0,this.total)+"px",this.fixed.style.top=this.measureBefore+"px",this.fixed.style.bottom=""},q.prototype.scrollTo=function(e){var t=this.tableParentOffset+e*this.cellSize;this.$scrollHandler.scrollTop(t),this.onScroll(t)},q.prototype.readSettings=function(){var e=this.instance.wtDom.offset(this.fixedContainer);this.tableParentOffset=e.top,this.tableParentOtherOffset=e.left,this.windowSize=this.$scrollHandler.height(),this.windowScrollPosition=this.$scrollHandler.scrollTop(),this.offset=this.instance.getSetting("offsetRow"),this.total=this.instance.getSetting("totalRows")};var U=function(e){this.instance=e,this.type="horizontal",this.cellSize=50,this.init()};U.prototype=new I,U.prototype.getLastCell=function(){return this.instance.wtTable.getLastVisibleColumn()},U.prototype.getTableSize=function(){return this.instance.wtDom.outerWidth(this.TABLE)},U.prototype.applyToDOM=function(){this.fixedContainer.style.paddingLeft=this.measureBefore+"px",this.fixedContainer.style.paddingRight=this.measureAfter+"px"},U.prototype.scrollTo=function(e){this.$scrollHandler.scrollLeft(this.tableParentOffset+e*this.cellSize)},U.prototype.readSettings=function(){var e=this.instance.wtDom.offset(this.fixedContainer);this.tableParentOffset=e.left,this.tableParentOtherOffset=e.top,this.windowSize=this.$scrollHandler.width(),this.windowScrollPosition=this.$scrollHandler.scrollLeft(),this.offset=this.instance.getSetting("offsetColumn"),this.total=this.instance.getSetting("totalColumns")},z.prototype.destroy=function(){this.vertical&&this.vertical.destroy(),this.horizontal&&this.horizontal.destroy()},z.prototype.refresh=function(){this.horizontal&&this.horizontal.readSettings(),this.vertical&&this.vertical.readSettings(),this.horizontal&&this.horizontal.prepare(),this.vertical&&this.vertical.prepare(),this.horizontal&&this.horizontal.refresh(),this.vertical&&this.vertical.refresh()},W.prototype.add=function(e){this.selected.push(e)},W.prototype.clear=function(){this.selected.length=0},W.prototype.getCorners=function(){var e,t,n,r,i,s=this.selected.length;if(s>0){e=n=this.selected[0][0],t=r=this.selected[0][1];if(s>1)for(i=1;i<s;i++)this.selected[i][0]<e?e=this.selected[i][0]:this.selected[i][0]>n&&(n=this.selected[i][0]),this.selected[i][1]<t?t=this.selected[i][1]:this.selected[i][1]>r&&(r=this.selected[i][1])}return[e,t,n,r]},W.prototype.draw=function(){var e,t,n,r,i,s=this.instance.wtTable.rowStrategy.countVisible(),o=this.instance.wtTable.columnStrategy.countVisible();if(this.selected.length){e=this.getCorners();for(t=0;t<s;t++)for(n=0;n<o;n++)r=this.instance.wtTable.rowFilter.visibleToSource(t),i=this.instance.wtTable.columnFilter.visibleToSource(n),r>=e[0]&&r<=e[2]&&i>=e[1]&&i<=e[3]?this.instance.wtTable.currentCellCache.add(t,n,this.settings.className):r>=e[0]&&r<=e[2]?this.instance.wtTable.currentCellCache.add(t,n,this.settings.highlightRowClassName):i>=e[1]&&i<=e[3]&&this.instance.wtTable.currentCellCache.add(t,n,this.settings.highlightColumnClassName);this.border&&this.border.appear(e)}else this.border&&this.border.disappear()},X.prototype.update=function(e,t){if(t===void 0)for(var n in e)e.hasOwnProperty(n)&&(this.settings[n]=e[n]);else this.settings[e]=t;return this.instance},X.prototype.getSetting=function(e,t,n,r){return this[e]?this[e](t,n,r):this._getSetting(e,t,n,r)},X.prototype._getSetting=function(e,t,n,r){return typeof this.settings[e]=="function"?this.settings[e](t,n,r):t!==void 0&&Object.prototype.toString.call(this.settings[e])==="[object Array]"?this.settings[e][t]:this.settings[e]},X.prototype.has=function(e){return!!this.settings[e]},X.prototype.rowHeight=function(e,t){this.instance.rowHeightCache||(this.instance.rowHeightCache=[]);if(this.instance.rowHeightCache[e]===void 0){var n=23;return t&&(n=this.instance.wtDom.outerHeight(t),this.instance.rowHeightCache[e]=n),n}return this.instance.rowHeightCache[e]},V.prototype.refreshHiderDimensions=function(){var e=this.instance.wtViewport.getWorkspaceHeight(),t=this.instance.wtViewport.getWorkspaceWidth(),n=this.spreader.style;e===Infinity&&t===Infinity||!!this.instance.isNativeScroll?(n.position="relative",n.width="auto",n.height="auto"):(e===Infinity&&(e=this.instance.wtViewport.getWorkspaceActualHeight()),t===Infinity&&(t=this.instance.wtViewport.getWorkspaceActualWidth()),this.hiderStyle.overflow="hidden",n.position="absolute",n.top="0",n.left="0",this.instance.getSetting("scrollbarModelV")==="dragdealer"&&(n.height="4000px"),this.instance.getSetting("scrollbarModelH")==="dragdealer"&&(n.width="4000px"),e<0&&(e=0),this.hiderStyle.height=e+"px",this.hiderStyle.width=t+"px")},V.prototype.refreshStretching=function(){var e=this.instance,t=e.getSetting("stretchH"),n=e.getSetting("totalRows"),r=e.getSetting("totalColumns"),i=e.getSetting("offsetColumn"),s=function(e){return o.instance.wtViewport.getViewportWidth(e)},o=this,u=function(t){var n=o.columnFilter.visibleToSource(t);if(n<r)return e.getSetting("columnWidth",n)};t==="hybrid"&&(i>0?t="last":t="none");var a=function(e){return o.instance.isNativeScroll?2*o.instance.wtViewport.getViewportHeight(e):o.instance.wtViewport.getViewportHeight(e)},f=function(e,t){var r=o.rowFilter.visibleToSource(e);if(r<n)return o.verticalRenderReverse&&e===0?o.instance.getSetting("rowHeight",r,t)-1:o.instance.getSetting("rowHeight",r,t)};this.columnStrategy=new L(s,u,t),this.rowStrategy=new P(a,f)},V.prototype.adjustAvailableNodes=function(){var e,t=this.instance.getSetting("rowHeaders"),n=t.length,r=this.instance.getSetting("columnHeaders"),i,s,o;while(this.colgroupChildrenLength<n)this.COLGROUP.appendChild(document.createElement("COL")),this.colgroupChildrenLength++;this.refreshStretching(),e=this.columnStrategy.cellCount;while(this.colgroupChildrenLength<e+n)this.COLGROUP.appendChild(document.createElement("COL")),this.colgroupChildrenLength++;while(this.colgroupChildrenLength>e+n)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.colgroupChildrenLength--;i=this.THEAD.firstChild;if(r.length){i||(i=document.createElement("TR"),this.THEAD.appendChild(i)),this.theadChildrenLength=i.childNodes.length;while(this.theadChildrenLength<e+n)i.appendChild(document.createElement("TH")),this.theadChildrenLength++;while(this.theadChildrenLength>e+n)i.removeChild(i.lastChild),this.theadChildrenLength--}else i&&this.wtDom.empty(i);for(o=0;o<this.colgroupChildrenLength;o++)o<n?this.wtDom.addClass(this.COLGROUP.childNodes[o],"rowHeader"):this.wtDom.removeClass(this.COLGROUP.childNodes[o],"rowHeader");if(r.length){i=this.THEAD.firstChild;if(n){s=i.firstChild;for(o=0;o<n;o++)t[o](-n+o,s),s=s.nextSibling}}for(o=0;o<e;o++)r.length&&r[0](this.columnFilter.visibleToSource(o),i.childNodes[n+o])},V.prototype.adjustColumns=function(e,t){var n=e.childNodes.length;while(n<t){var r=document.createElement("TD");e.appendChild(r),n++}while(n>t)e.removeChild(e.lastChild),n--},V.prototype.draw=function(e){return this.instance.isNativeScroll&&(this.verticalRenderReverse=!1),this.rowFilter.readSettings(this.instance),this.columnFilter.readSettings(this.instance),e?this.instance.wtScrollbars.refresh():(this.tableOffset=this.wtDom.offset(this.TABLE),this._doDraw()),this.refreshPositions(e),this.instance.drawn=!0,this},V.prototype._doDraw=function(){var e=0,t,n,r,i=this.instance.getSetting("offsetRow"),s=this.instance.getSetting("totalRows"),o=this.instance.getSetting("totalColumns"),u,a=this.instance.getSetting("rowHeaders"),f=a.length,l,c,h,p=!1,d,v,m;this.verticalRenderReverse&&(v=i),this.instance.wtViewport.resetSettings();var g=!1;this.verticalRenderReverse&&(i===s-this.rowFilter.fixedCount-1?g=!0:(this.instance.update("offsetRow",i+1),this.rowFilter.readSettings(this.instance)));if(o>0){t=this.rowFilter.visibleToSource(e);var y=!0;while(t<s&&t>=0){if(e>1e3)throw new Error("Security brake: Too much TRs. Please define height for your table, which will enforce scrollbars.");if(e>=this.tbodyChildrenLength||this.verticalRenderReverse&&e>=this.rowFilter.fixedCount){l=document.createElement("TR");for(n=0;n<f;n++)l.appendChild(document.createElement("TH"));this.verticalRenderReverse&&e>=this.rowFilter.fixedCount?this.TBODY.insertBefore(l,this.TBODY.childNodes[this.rowFilter.fixedCount]||this.TBODY.firstChild):this.TBODY.appendChild(l),this.tbodyChildrenLength++}else e===0?l=this.TBODY.firstChild:l=l.nextSibling;h=l.firstChild;for(n=0;n<f;n++)h.nodeName=="TD"&&(c=h,h=document.createElement("TH"),l.insertBefore(h,c),l.removeChild(c)),a[n](t,h),h=h.nextSibling;if(y){y=!1,this.adjustAvailableNodes(),p=!0,u=this.columnStrategy.cellCount,this.adjustColumns(l,u+f),d=this.instance.wtViewport.getWorkspaceWidth(),this.columnStrategy.stretch();for(n=0;n<u;n++)this.COLGROUP.childNodes[n+f].style.width=this.columnStrategy.getSize(n)+"px"}else this.adjustColumns(l,u+f);for(n=0;n<u;n++)r=this.columnFilter.visibleToSource(n),n===0?c=l.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(r)]:c=c.nextSibling,c.nodeName=="TH"&&(h=c,c=document.createElement("TD"),l.insertBefore(c,h),l.removeChild(h)),c.className="",c.removeAttribute("style"),this.instance.getSetting("cellRenderer",t,r,c),c.setAttribute("data-row",t),c.setAttribute("data-column",r);i=this.instance.getSetting("offsetRow");if(this.verticalRenderReverse&&g){if(-this.wtDom.outerHeight(l.firstChild)<this.rowStrategy.remainingSize){this.TBODY.removeChild(l),this.instance.update("offsetRow",i+1),this.tbodyChildrenLength--,this.rowFilter.readSettings(this.instance);break}m=this.rowStrategy.add(e,c,this.verticalRenderReverse),m===!1&&this.rowStrategy.removeOutstanding()}else{m=this.rowStrategy.add(e,c,this.verticalRenderReverse),m===!1&&(this.instance.isNativeScroll||this.rowStrategy.removeOutstanding());if(this.rowStrategy.isLastIncomplete()){if(this.verticalRenderReverse&&!this.isRowInViewport(v)){this.verticalRenderReverse=!1,this.instance.update("offsetRow",v),this.draw();return}break}}if(this.verticalRenderReverse&&e>=this.rowFilter.fixedCount){if(i===0)break;this.instance.update("offsetRow",i-1),this.rowFilter.readSettings(this.instance)}else e++;t=this.rowFilter.visibleToSource(e)}}p||this.adjustAvailableNodes(),e=this.rowStrategy.countVisible();while(this.tbodyChildrenLength>e)this.TBODY.removeChild(this.TBODY.lastChild),this.tbodyChildrenLength--;this.instance.wtScrollbars.refresh();if(d!==this.instance.wtViewport.getWorkspaceWidth()){this.columnStrategy.stretch();for(n=0;n<this.columnStrategy.cellCount;n++)this.COLGROUP.childNodes[n+f].style.width=this.columnStrategy.getSize(n)+"px"}this.verticalRenderReverse=!1},V.prototype.refreshPositions=function(e){this.refreshHiderDimensions(),this.refreshSelections(e)},V.prototype.refreshSelections=function(e){var t,n,r,i,s,o,u=[],a=this.rowStrategy.countVisible(),f=this.columnStrategy.countVisible();this.oldCellCache=this.currentCellCache,this.currentCellCache=new C;if(this.instance.selections)for(n in this.instance.selections)this.instance.selections.hasOwnProperty(n)&&(this.instance.selections[n].draw(),this.instance.selections[n].settings.className&&u.push(this.instance.selections[n].settings.className),this.instance.selections[n].settings.highlightRowClassName&&u.push(this.instance.selections[n].settings.highlightRowClassName),this.instance.selections[n].settings.highlightColumnClassName&&u.push(this.instance.selections[n].settings.highlightColumnClassName));o=u.length;for(t=0;t<a;t++)for(r=0;r<f;r++){n=this.rowFilter.visibleToSource(t),i=this.columnFilter.visibleToSource(r);for(s=0;s<o;s++)this.currentCellCache.test(t,r,u[s])?this.wtDom.addClass(this.getCell([n,i]),u[s]):e&&this.oldCellCache.test(t,r,u[s])&&this.wtDom.removeClass(this.getCell([n,i]),u[s])}},V.prototype.getCell=function(e){return this.instance.isNativeScroll?this.instance.wtTable.TBODY.querySelectorAll('[data-row="'+e[0]+'"][data-column="'+e[1]+'"]')[0]:this.isRowBeforeViewport(e[0])?-1:this.isRowAfterViewport(e[0])?-2:this.isColumnBeforeViewport(e[1])?-3:this.isColumnAfterViewport(e[1])?-4:this.TBODY.childNodes[this.rowFilter.sourceToVisible(e[0])].childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e[1])]},V.prototype.getCoords=function(e){return[this.rowFilter.visibleToSource(this.wtDom.index(e.parentNode)),this.columnFilter.visibleRowHeadedColumnToSourceColumn(e.cellIndex)]},V.prototype.getLastVisibleRow=function(){return this.rowFilter.visibleToSource(this.rowStrategy.cellCount-1)},V.prototype.getLastVisibleColumn=function(){return this.columnFilter.visibleToSource(this.columnStrategy.cellCount-1)},V.prototype.isRowBeforeViewport=function(e){return this.rowFilter.sourceToVisible(e)<this.rowFilter.fixedCount&&e>=this.rowFilter.fixedCount},V.prototype.isRowAfterViewport=function(e){return e>this.getLastVisibleRow()},V.prototype.isColumnBeforeViewport=function(e){return this.columnFilter.sourceToVisible(e)<this.columnFilter.fixedCount&&e>=this.columnFilter.fixedCount},V.prototype.isColumnAfterViewport=function(e){return e>this.getLastVisibleColumn()},V.prototype.isRowInViewport=function(e){return this.instance.isNativeScroll?!!this.instance.wtTable.TBODY.querySelectorAll('[data-row="'+e+'"]')[0]:!this.isRowBeforeViewport(e)&&!this.isRowAfterViewport(e)},V.prototype.isColumnInViewport=function(e){return this.instance.isNativeScroll?!!this.instance.wtTable.TBODY.querySelectorAll('[data-column="'+e+'"]')[0]:!this.isColumnBeforeViewport(e)&&!this.isColumnAfterViewport(e)},V.prototype.isLastRowFullyVisible=function(){return this.getLastVisibleRow()===this.instance.getSetting("totalRows")-1&&!this.rowStrategy.isLastIncomplete()},V.prototype.isLastColumnFullyVisible=function(){return this.getLastVisibleColumn()===this.instance.getSetting("totalColumns")-1&&!this.columnStrategy.isLastIncomplete()},$.prototype.getWorkspaceHeight=function(e){if(this.instance.isNativeScroll)return this.clientHeight;var t=this.instance.getSetting("height");if(t===Infinity||t===void 0||t===null||t<1)this.instance.wtScrollbars.vertical instanceof I?t=this.instance.wtScrollbars.vertical.availableSize():t=Infinity;return t!==Infinity&&(e>=t?t-=this.instance.getSetting("scrollbarHeight"):this.instance.wtScrollbars.horizontal.visible&&(t-=this.instance.getSetting("scrollbarHeight"))),t},$.prototype.getWorkspaceWidth=function(e){var t=this.instance.getSetting("width");if(t===Infinity||t===void 0||t===null||t<1)this.instance.wtScrollbars.horizontal instanceof I?t=this.instance.wtScrollbars.horizontal.availableSize():t=Infinity;return t!==Infinity&&(e>=t?t-=this.instance.getSetting("scrollbarWidth"):this.instance.wtScrollbars.vertical.visible&&(t-=this.instance.getSetting("scrollbarWidth"))),t},$.prototype.getWorkspaceActualHeight=function(){return this.instance.wtDom.outerHeight(this.instance.wtTable.TABLE)},$.prototype.getWorkspaceActualWidth=function(){return this.instance.wtDom.outerWidth(this.instance.wtTable.TABLE)||this.instance.wtDom.outerWidth(this.instance.wtTable.TBODY)||this.instance.wtDom.outerWidth(this.instance.wtTable.THEAD)},$.prototype.getColumnHeaderHeight=function(){if(isNaN(this.columnHeaderHeight)){var e=this.instance.wtDom.offset(this.instance.wtTable.TBODY),t=this.instance.wtTable.tableOffset;this.columnHeaderHeight=e.top-t.top}return this.columnHeaderHeight},$.prototype.getViewportHeight=function(e){var t=this.getWorkspaceHeight(e);if(t===Infinity)return t;var n=this.getColumnHeaderHeight();return n>0?t-n:t},$.prototype.getRowHeaderHeight=function(){if(isNaN(this.rowHeaderWidth)){var e=this.instance.wtTable.TBODY?this.instance.wtTable.TBODY.firstChild:null;if(e){var t=e.firstChild;this.rowHeaderWidth=0;while(t&&t.nodeName==="TH")this.rowHeaderWidth+=this.instance.wtDom.outerWidth(t),t=t.nextSibling}}return this.rowHeaderWidth},$.prototype.getViewportWidth=function(e){var t=this.getWorkspaceWidth(e);if(t===Infinity)return t;var n=this.getRowHeaderHeight();return n>0?t-n:t},$.prototype.resetSettings=function(){this.rowHeaderWidth=NaN,this.columnHeaderHeight=NaN};var K={x:0,y:0,init:function(){this.setEvent("mouse"),this.setEvent("touch")},setEvent:function(e){var t=document["on"+e+"move"]||function(){};document["on"+e+"move"]=function(e){t(e),K.refresh(e)}},refresh:function(e){e||(e=t.event),e.type=="mousemove"?this.set(e):e.touches&&this.set(e.touches[0])},set:function(e){if(e.pageX||e.pageY)this.x=e.pageX,this.y=e.pageY;else if(e.clientX||e.clientY)this.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop}};K.init();var Q={get:function(e){var t=0,n=0;if(e.offsetParent)do n+=e.offsetLeft,t+=e.offsetTop;while(e=e.offsetParent);return[n,t]}},G=function(e,t){typeof e=="string"&&(e=document.getElementById(e));if(!e)return;var n=e.getElementsByTagName("div")[0];if(!n||n.className.search(/(^|\s)handle(\s|$)/)==-1)return;this.init(e,n,t||{}),this.setup()};G.prototype={init:function(e,t,n){this.wrapper=e,this.handle=t,this.options=n,this.disabled=this.getOption("disabled",!1),this.horizontal=this.getOption("horizontal",!0),this.vertical=this.getOption("vertical",!1),this.slide=this.getOption("slide",!0),this.steps=this.getOption("steps",0),this.snap=this.getOption("snap",!1),this.loose=this.getOption("loose",!1),this.speed=this.getOption("speed",10)/100,this.xPrecision=this.getOption("xPrecision",0),this.yPrecision=this.getOption("yPrecision",0),this.callback=n.callback||null,this.animationCallback=n.animationCallback||null,this.bounds={left:n.left||0,right:-(n.right||0),top:n.top||0,bottom:-(n.bottom||0),x0:0,x1:0,xRange:0,y0:0,y1:0,yRange:0},this.value={prev:[-1,-1],current:[n.x||0,n.y||0],target:[n.x||0,n.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.change=[0,0],this.activity=!1,this.dragging=!1,this.tapping=!1},getOption:function(e,t){return this.options[e]!==undefined?this.options[e]:t},setup:function(){this.setWrapperOffset(),this.setBoundsPadding(),this.setBounds(),this.setSteps(),this.addListeners()},setWrapperOffset:function(){this.offset.wrapper=Q.get(this.wrapper)},setBoundsPadding:function(){!this.bounds.left&&!this.bounds.right&&(this.bounds.left=Q.get(this.handle)[0]-this.offset.wrapper[0],this.bounds.right=-this.bounds.left),!this.bounds.top&&!this.bounds.bottom&&(this.bounds.top=Q.get(this.handle)[1]-this.offset.wrapper[1],this.bounds.bottom=-this.bounds.top)},setBounds:function(){this.bounds.x0=this.bounds.left,this.bounds.x1=this.wrapper.offsetWidth+this.bounds.right,this.bounds.xRange=this.bounds.x1-this.bounds.x0-this.handle.offsetWidth,this.bounds.y0=this.bounds.top,this.bounds.y1=this.wrapper.offsetHeight+this.bounds.bottom,this.bounds.yRange=this.bounds.y1-this.bounds.y0-this.handle.offsetHeight,this.bounds.xStep=1/(this.xPrecision||Math.max(this.wrapper.offsetWidth,this.handle.offsetWidth)),this.bounds.yStep=1/(this.yPrecision||Math.max(this.wrapper.offsetHeight,this.handle.offsetHeight))},setSteps:function(){if(this.steps>1){this.stepRatios=[];for(var e=0;e<=this.steps-1;e++)this.stepRatios[e]=e/(this.steps-1)}},addListeners:function(){var e=this;this.wrapper.onselectstart=function(){return!1},this.handle.onmousedown=this.handle.ontouchstart=function(t){e.handleDownHandler(t)},this.wrapper.onmousedown=this.wrapper.ontouchstart=function(t){e.wrapperDownHandler(t)};var n=document.onmouseup||function(){};document.onmouseup=function(t){n(t),e.documentUpHandler(t)};var r=document.ontouchend||function(){};document.ontouchend=function(t){r(t),e.documentUpHandler(t)};var i=t.onresize||function(){};t.onresize=function(t){i(t),e.documentResizeHandler(t)},this.wrapper.onmousemove=function(t){e.activity=!0},this.wrapper.onclick=function(t){return!e.activity},this.interval=setInterval(function(){e.animate()},25),e.animate(!1,!0)},handleDownHandler:function(e){this.activity=!1,K.refresh(e),this.preventDefaults(e,!0),this.startDrag()},wrapperDownHandler:function(e){K.refresh(e),this.preventDefaults(e,!0),this.startTap()},documentUpHandler:function(e){this.stopDrag(),this.stopTap()},documentResizeHandler:function(e){this.setWrapperOffset(),this.setBounds(),this.update()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},setStep:function(e,t,n){this.setValue(this.steps&&e>1?(e-1)/(this.steps-1):0,this.steps&&t>1?(t-1)/(this.steps-1):0,n)},setValue:function(e,t,n){this.setTargetValue([e,t||0]),n&&this.groupCopy(this.value.current,this.value.target)},startTap:function(e){if(this.disabled)return;this.tapping=!0,this.setWrapperOffset(),this.setBounds(),e===undefined&&(e=[K.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,K.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]),this.setTargetOffset(e)},stopTap:function(){if(this.disabled||!this.tapping)return;this.tapping=!1,this.setTargetValue(this.value.current),this.result()},startDrag:function(){if(this.disabled)return;this.setWrapperOffset(),this.setBounds(),this.offset.mouse=[K.x-Q.get(this.handle)[0],K.y-Q.get(this.handle)[1]],this.dragging=!0},stopDrag:function(){if(this.disabled||!this.dragging)return;this.dragging=!1;var e=this.groupClone(this.value.current);if(this.slide){var t=this.change;e[0]+=t[0]*4,e[1]+=t[1]*4}this.setTargetValue(e),this.result()},feedback:function(){var e=this.value.current;this.snap&&this.steps>1&&(e=this.getClosestSteps(e)),this.groupCompare(e,this.value.prev)||(typeof this.animationCallback=="function"&&this.animationCallback(e[0],e[1]),this.groupCopy(this.value.prev,e))},result:function(){typeof this.callback=="function"&&this.callback(this.value.target[0],this.value.target[1])},animate:function(e,t){if(e&&!this.dragging)return;if(this.dragging){var n=this.groupClone(this.value.target),r=[K.x-this.offset.wrapper[0]-this.offset.mouse[0],K.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetOffset(r,this.loose),this.change=[this.value.target[0]-n[0],this.value.target[1]-n[1]]}(this.dragging||t)&&this.groupCopy(this.value.current,this.value.target);if(this.dragging||this.glide()||t)this.update(),this.feedback()},glide:function(){var e=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return!e[0]&&!e[1]?!1:(Math.abs(e[0])>this.bounds.xStep||Math.abs(e[1])>this.bounds.yStep?(this.value.current[0]+=e[0]*this.speed,this.value.current[1]+=e[1]*this.speed
):this.groupCopy(this.value.current,this.value.target),!0)},update:function(){this.snap?this.offset.current=this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.offset.current=this.getOffsetsByRatios(this.value.current),this.show()},show:function(){this.groupCompare(this.offset.current,this.offset.prev)||(this.horizontal&&(this.handle.style.left=String(this.offset.current[0])+"px"),this.vertical&&(this.handle.style.top=String(this.offset.current[1])+"px"),this.groupCopy(this.offset.prev,this.offset.current))},setTargetValue:function(e,t){var n=t?this.getLooseValue(e):this.getProperValue(e);this.groupCopy(this.value.target,n),this.offset.target=this.getOffsetsByRatios(n)},setTargetOffset:function(e,t){var n=this.getRatiosByOffsets(e),r=t?this.getLooseValue(n):this.getProperValue(n);this.groupCopy(this.value.target,r),this.offset.target=this.getOffsetsByRatios(r)},getLooseValue:function(e){var t=this.getProperValue(e);return[t[0]+(e[0]-t[0])/4,t[1]+(e[1]-t[1])/4]},getProperValue:function(e){var t=this.groupClone(e);return t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0),t[0]=Math.min(t[0],1),t[1]=Math.min(t[1],1),(!this.dragging&&!this.tapping||this.snap)&&this.steps>1&&(t=this.getClosestSteps(t)),t},getRatiosByOffsets:function(e){return[this.getRatioByOffset(e[0],this.bounds.xRange,this.bounds.x0),this.getRatioByOffset(e[1],this.bounds.yRange,this.bounds.y0)]},getRatioByOffset:function(e,t,n){return t?(e-n)/t:0},getOffsetsByRatios:function(e){return[this.getOffsetByRatio(e[0],this.bounds.xRange,this.bounds.x0),this.getOffsetByRatio(e[1],this.bounds.yRange,this.bounds.y0)]},getOffsetByRatio:function(e,t,n){return Math.round(e*t)+n},getClosestSteps:function(e){return[this.getClosestStep(e[0]),this.getClosestStep(e[1])]},getClosestStep:function(e){var t=0,n=1;for(var r=0;r<=this.steps-1;r++)Math.abs(this.stepRatios[r]-e)<n&&(n=Math.abs(this.stepRatios[r]-e),t=r);return this.stepRatios[t]},groupCompare:function(e,t){return e[0]==t[0]&&e[1]==t[1]},groupCopy:function(e,t){e[0]=t[0],e[1]=t[1]},groupClone:function(e){return[e[0],e[1]]},preventDefaults:function(e,n){e||(e=t.event),e.preventDefault&&e.preventDefault(),e.returnValue=!1,n&&document.selection&&document.selection.empty()},cancelEvent:function(e){e||(e=t.event),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0}},jQuery.browser||function(){var e,t;jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=jQuery.uaMatch(navigator.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),jQuery.browser=t}(),function(e){typeof define=="function"&&define.amd?define(["jquery"],e):typeof exports=="object"?module.exports=e:e(jQuery)}(function(e){function u(n){var r=n||t.event,o=[].slice.call(arguments,1),u=0,a=0,f=0,l=0,c=0,h;n=e.event.fix(r),n.type="mousewheel",r.wheelDelta&&(u=r.wheelDelta),r.detail&&(u=r.detail*-1),r.deltaY&&(f=r.deltaY*-1,u=f),r.deltaX&&(a=r.deltaX,u=a*-1),r.wheelDeltaY!==undefined&&(f=r.wheelDeltaY),r.wheelDeltaX!==undefined&&(a=r.wheelDeltaX*-1),l=Math.abs(u);if(!i||l<i)i=l;c=Math.max(Math.abs(f),Math.abs(a));if(!s||c<s)s=c;return h=u>0?"floor":"ceil",u=Math[h](u/i),a=Math[h](a/s),f=Math[h](f/s),o.unshift(n,u,a,f),(e.event.dispatch||e.event.handle).apply(this,o)}var n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i,s;if(e.event.fixHooks)for(var o=n.length;o;)e.event.fixHooks[n[--o]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=r.length;e;)this.addEventListener(r[--e],u,!1);else this.onmousewheel=u},teardown:function(){if(this.removeEventListener)for(var e=r.length;e;)this.removeEventListener(r[--e],u,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),Array.prototype.filter||(Array.prototype.filter=function(e,t){function o(e){return/NodeList/i.test(e.item)}function u(e){var t=[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n];return t}if(typeof this=="undefined"||this===null)throw new TypeError;if(typeof e!="function")throw new TypeError;t=t||this,o(t)&&(t=u(t));var n=t.length,r=[],i,s;for(i=0;i<n;i+=1)t.hasOwnProperty(i)&&(s=t[i],e.call(t,s,i,t)&&r.push(s));return r})})(jQuery,window,Handsontable),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;n.typeahead(n.data())})}(window.jQuery),function(){function o(e){this._n=e}function u(e,t,n){var r=Math.pow(10,t),i;i=(Math.round(e*r)/r).toFixed(t);if(n){var s=new RegExp("0{1,"+n+"}$");i=i.replace(s,"")}return i}function a(e,t){var n;return t.indexOf("$")>-1?n=l(e,t):t.indexOf("%")>-1?n=c(e,t):t.indexOf(":")>-1?n=h(e,t):n=d(e,t),n}function f(e,t){if(t.indexOf(":")>-1)e._n=p(t);else if(t===i)e._n=0;else{var s=t;n[r].delimiters.decimal!=="."&&(t=t.replace(/\./g,"").replace(n[r].delimiters.decimal,"."));var o=new RegExp(n[r].abbreviations.thousand+"(?:\\)|(\\"+n[r].currency.symbol+")?(?:\\))?)?$"),u=new RegExp(n[r].abbreviations.million+"(?:\\)|(\\"+n[r].currency.symbol+")?(?:\\))?)?$"),a=new RegExp(n[r].abbreviations.billion+"(?:\\)|(\\"+n[r].currency.symbol+")?(?:\\))?)?$"),f=new RegExp(n[r].abbreviations.trillion+"(?:\\)|(\\"+n[r].currency.symbol+")?(?:\\))?)?$"),l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;for(var h=0;h<=l.length;h++){c=t.indexOf(l[h])>-1?Math.pow(1024,h+1):!1;if(c)break}e._n=(c?c:1)*(s.match(o)?Math.pow(10,3):1)*(s.match(u)?Math.pow(10,6):1)*(s.match(a)?Math.pow(10,9):1)*(s.match(f)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*Number((t.indexOf("(")>-1?"-":"")+t.replace(/[^0-9\.-]+/g,"")),e._n=c?Math.ceil(e._n):e._n}return e._n}function l(e,t){var i=t.indexOf("$")<=1?!0:!1,s="";t.indexOf(" $")>-1?(s=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(s=" ",t=t.replace("$ ","")):t=t.replace("$","");var o=a(e,t);return i?o.indexOf("(")>-1||o.indexOf("-")>-1?(o=o.split(""),o.splice(1,0,n[r].currency.symbol+s),o=o.join("")):o=n[r].currency.symbol+s+o:o.indexOf(")")>-1?(o=o.split(""),o.splice(-1,0,s+n[r].currency.symbol),o=o.join("")):o=o+s+n[r].currency.symbol,o}function c(e,t){var n="";t.indexOf(" %")>-1?(n=" ",t=t.replace(" %","")):t=t.replace("%",""),e._n=e._n*100;var r=a(e,t);return r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,n+"%"),r=r.join("")):r=r+n+"%",r}function h(e,t){var n=Math.floor(e._n/60/60),r=Math.floor((e._n-n*60*60)/60),i=Math.round(e._n-n*60*60-r*60);return n+":"+(r<10?"0"+r:r)+":"+(i<10?"0"+i:i)}function p(e){var t=e.split(":"),n=0;return t.length===3?(n+=Number(t[0])*60*60,n+=Number(t[1])*60,n+=Number(t[2])):t.lenght===2&&(n+=Number(t[0])*60,n+=Number(t[1])),Number(n)}function d(e,t){var s=!1,o=!1,a="",f="",l="",c=Math.abs(e._n);if(e._n===0&&i!==null)return i;t.indexOf("(")>-1&&(s=!0,t=t.slice(1,-1)),t.indexOf("a")>-1&&(t.indexOf(" a")>-1?(a=" ",t=t.replace(" a","")):t=t.replace("a",""),c>=Math.pow(10,12)?(a+=n[r].abbreviations.trillion,e._n=e._n/Math.pow(10,12)):c<Math.pow(10,12)&&c>=Math.pow(10,9)?(a+=n[r].abbreviations.billion,e._n=e._n/Math.pow(10,9)):c<Math.pow(10,9)&&c>=Math.pow(10,6)?(a+=n[r].abbreviations.million,e._n=e._n/Math.pow(10,6)):c<Math.pow(10,6)&&c>=Math.pow(10,3)&&(a+=n[r].abbreviations.thousand,e._n=e._n/Math.pow(10,3)));if(t.indexOf("b")>-1){t.indexOf(" b")>-1?(f=" ",t=t.replace(" b","")):t=t.replace("b","");var h=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],p,d;for(var v=0;v<=h.length;v++){p=Math.pow(1024,v),d=Math.pow(1024,v+1);if(e._n>=p&&e._n<d){f+=h[v],p>0&&(e._n=e._n/p);break}}}t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(l=" ",t=t.replace(" o","")):t=t.replace("o",""),l+=n[r].ordinal(e._n)),t.indexOf("[.]")>-1&&(o=!0,t=t.replace("[.]","."));var m=e._n.toString().split(".")[0],g=t.split(".")[1],y=t.indexOf(","),b="",w=!1;return g?(g.indexOf("[")>-1?(g=g.replace("]",""),g=g.split("["),b=u(e._n,g[0].length+g[1].length,g[1].length)):b=u(e._n,g.length),m=b.split(".")[0],b.split(".")[1].length?b=n[r].delimiters.decimal+b.split(".")[1]:b="",o&&Number(b)===0&&(b="")):m=u(e._n,null),m.indexOf("-")>-1&&(m=m.slice(1),w=!0),y>-1&&(m=m.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+n[r].delimiters.thousands)),t.indexOf(".")===0&&(m=""),(s&&w?"(":"")+(!s&&w?"-":"")+m+b+(l?l:"")+(a?a:"")+(f?f:"")+(s&&w?")":"")}function v(e,t){n[e]=t}var e,t="1.4.7",n={},r="en",i=null,s=typeof module!="undefined"&&module.exports;e=function(t){return e.isNumeral(t)?t=t.value():Number(t)||(t=0),new o(Number(t))},e.version=t,e.isNumeral=function(e){return e instanceof o},e.language=function(t,i){return t?(t&&!i&&(r=t),(i||!n[t])&&v(t,i),e):r},e.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},currency:{symbol:"$"}}),e.zeroFormat=function(e){typeof e=="string"?i=e:i=null},e.fn=o.prototype={clone:function(){return e(this)},format:function(t){return a(this,t?t:e.defaultFormat)},unformat:function(t){return f(this,t?t:e.defaultFormat)},value:function(){return this._n},valueOf:function(){return this._n},set:function(e){return this._n=Number(e),this},add:function(e){return this._n=this._n+Number(e),this},subtract:function(e){return this._n=this._n-Number(e),this},multiply:function(e){return this._n=this._n*Number(e),this},divide:function(e){return this._n=this._n/Number(e),this},difference:function(e){var t=this._n-Number(e);return t<0&&(t=-t),t}},s&&(module.exports=e),typeof ender=="undefined"&&(this.numeral=e),typeof define=="function"&&define.amd&&define([],function(){return e})}.call(this),function(e,t){function v(e){var t=e.split(/\s+/),n=[];for(var r=0,i;i=t[r];r++)i=i[0].toUpperCase(),n.push(i);return n}function m(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}function g(n,r,i){return i||(i=0),r.each(function(){var r=e(this),s=this,o=this.nodeName.toLowerCase(),u,a;o=="label"&&r.find("input, textarea, select").length&&(u=r.text(),r=r.children().first(),s=r.get(0),o=s.nodeName.toLowerCase());switch(o){case"menu":a={name:r.attr("label"),items:{}},i=g(a.items,r.children(),i);break;case"a":case"button":a={name:r.text(),disabled:!!r.attr("disabled"),callback:function(){return function(){r.click()}}()};break;case"menuitem":case"command":switch(r.attr("type")){case t:case"command":case"menuitem":a={name:r.attr("label"),disabled:!!r.attr("disabled"),callback:function(){return function(){r.click()}}()};break;case"checkbox":a={type:"checkbox",disabled:!!r.attr("disabled"),name:r.attr("label"),selected:!!r.attr("checked")};break;case"radio":a={type:"radio",disabled:!!r.attr("disabled"),name:r.attr("label"),radio:r.attr("radiogroup"),value:r.attr("id"),selected:!!r.attr("checked")};break;default:a=t}break;case"hr":a="-------";break;case"input":switch(r.attr("type")){case"text":a={type:"text",name:u||m(s),disabled:!!r.attr("disabled"),value:r.val()};break;case"checkbox":a={type:"checkbox",name:u||m(s),disabled:!!r.attr("disabled"),selected:!!r.attr("checked")};break;case"radio":a={type:"radio",name:u||m(s),disabled:!!r.attr("disabled"),radio:!!r.attr("name"),value:r.val(),selected:!!r.attr("checked")};break;default:a=t}break;case"select":a={type:"select",name:u||m(s),disabled:!!r.attr("disabled"),selected:r.val(),options:{}},r.children().each(function(){a.options[this.value]=e(this).text()});break;case"textarea":a={type:"textarea",name:u||m(s),disabled:!!r.attr("disabled"),value:r.val()};break;case"label":break;default:a={type:"html",html:r.clone(!0)}}a&&(i++,n["key"+i]=a)}),i}e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window,e.support.eventSelectstart="onselectstart"in document.documentElement;if(!e.ui||!e.ui.widget){var n=e.cleanData;e.cleanData=function(t){for(var r=0,i;(i=t[r])!=null;r++)try{e(i).triggerHandler("remove")}catch(s){}n(t)}}var r=null,i=!1,s=e(window),o=0,u={},a={},f={},l={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var n=this.offset();n.top+=this.outerHeight(),n.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(n)}},position:function(e,t,n){var r=this,i;if(!t&&!n){e.determinePosition.call(this,e.$menu);return}t==="maintain"&&n==="maintain"?i=e.$menu.position():i={top:n,left:t};var o=s.scrollTop()+s.height(),u=s.scrollLeft()+s.width(),a=e.$menu.height(),f=e.$menu.width();i.top+a>o&&(i.top-=a),i.left+f>u&&(i.left-=f),e.$menu.css(i)},positionSubmenu:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var n={top:0,left:this.outerWidth()};t.css(n)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:e.noop,hide:e.noop},callback:null,items:{}},c={timer:null,pageX:null,pageY:null},h=function(e){var t=0,n=e;for(;;){t=Math.max(t,parseInt(n.css("z-index"),10)||0),n=n.parent();if(!n||!n.length||"html body".indexOf(n.prop("nodeName").toLowerCase())>-1)break}return t},p={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(t){var n=e(this);t.preventDefault(),t.stopImmediatePropagation();if(t.data.trigger!="right"&&t.originalEvent)return;if(n.hasClass("context-menu-active"))return;if(!n.hasClass("context-menu-disabled")){r=n;if(t.data.build){var i=t.data.build(r,t);if(i===!1)return;t.data=e.extend(!0,{},l,t.data,i||{});if(!t.data.items||e.isEmptyObject(t.data.items))throw window.console&&(console.error||console.log)("No items specified to show in contextMenu"),new Error("No Items sepcified");t.data.$trigger=r,d.create(t.data)}d.show.call(n,t.data,t.pageX,t.pageY)}},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(t){var n=e(this);r&&r.length&&!r.is(n)&&r.data("contextMenu").$menu.trigger("contextmenu:hide"),t.button==2&&(r=n.data("contextMenuActive",!0))},mouseup:function(t){var n=e(this);n.data("contextMenuActive")&&r&&r.length&&r.is(n)&&!n.hasClass("context-menu-disabled")&&(t.preventDefault(),t.stopImmediatePropagation(),r=n,n.trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))),n.removeData("contextMenuActive")},mouseenter:function(t){var n=e(this),i=e(t.relatedTarget),s=e(document);if(i.is(".context-menu-list")||i.closest(".context-menu-list").length)return;if(r&&r.length)return;c.pageX=t.pageX,c.pageY=t.pageY,c.data=t.data,s.on("mousemove.contextMenuShow",p.mousemove),c.timer=setTimeout(function(){c.timer=null,s.off("mousemove.contextMenuShow"),r=n,n.trigger(e.Event("contextmenu",{data:c.data,pageX:c.pageX,pageY:c.pageY}))},t.data.delay)},mousemove:function(e){c.pageX=e.pageX,c.pageY=e.pageY},mouseleave:function(t){var n=e(t.relatedTarget);if(n.is(".context-menu-list")||n.closest(".context-menu-list").length)return;try{clearTimeout(c.timer)}catch(t){}c.timer=null},layerClick:function(t){var n=e(this),r=n.data("contextMenuRoot"),i=!1,o=t.button,u=t.pageX,a=t.pageY,f,l,c;t.preventDefault(),t.stopImmediatePropagation(),setTimeout(function(){var n,i,c,h=r.trigger=="left"&&o===0||r.trigger=="right"&&o===2;document.elementFromPoint&&(r.$layer.hide(),f=document.elementFromPoint(u-s.scrollLeft(),a-s.scrollTop()),r.$layer.show());if(r.reposition&&h)if(document.elementFromPoint){if(r.$trigger.is(f)||r.$trigger.has(f).length){r.position.call(r.$trigger,r,u,a);return}}else{l=r.$trigger.offset(),n=e(window),l.top+=n.scrollTop();if(l.top<=t.pageY){l.left+=n.scrollLeft();if(l.left<=t.pageX){l.bottom=l.top+r.$trigger.outerHeight();if(l.bottom>=t.pageY){l.right=l.left+r.$trigger.outerWidth();if(l.right>=t.pageX){r.position.call(r.$trigger,r,u,a);return}}}}}f&&h&&r.$trigger.one("contextmenu:hidden",function(){e(f).contextMenu({x:u,y:a})}),r.$menu.trigger("contextmenu:hide")},50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t=r.data("contextMenu")||{};switch(e.keyCode){case 9:case 38:p.keyStop(e,t);if(t.isInput){if(e.keyCode==9&&e.shiftKey){e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),t.$menu.trigger("prevcommand");return}if(e.keyCode==38&&t.$selected.find("input, textarea, select").prop("type")=="checkbox"){e.preventDefault();return}}else if(e.keyCode!=9||e.shiftKey){t.$menu.trigger("prevcommand");return};case 40:p.keyStop(e,t);if(!t.isInput){t.$menu.trigger("nextcommand");return}if(e.keyCode==9){e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),t.$menu.trigger("nextcommand");return}if(e.keyCode==40&&t.$selected.find("input, textarea, select").prop("type")=="checkbox"){e.preventDefault();return}break;case 37:p.keyStop(e,t);if(t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var n=t.$selected.parent().parent();t.$selected.trigger("contextmenu:blur"),t.$selected=n;return}break;case 39:p.keyStop(e,t);if(t.isInput||!t.$selected||!t.$selected.length)break;var i=t.$selected.data("contextMenu")||{};if(i.$menu&&t.$selected.hasClass("context-menu-submenu")){t.$selected=null,i.$selected=null,i.$menu.trigger("nextcommand");return}break;case 35:case 36:if(t.$selected&&t.$selected.find("input, textarea, select").length)return;(t.$selected&&t.$selected.parent()||t.$menu).children(":not(.disabled, .not-selectable)")[e.keyCode==36?"first":"last"]().trigger("contextmenu:focus"),e.preventDefault();return;case 13:p.keyStop(e,t);if(t.isInput){if(t.$selected&&!t.$selected.is("textarea, select")){e.preventDefault();return}break}t.$selected&&t.$selected.trigger("mouseup");return;case 32:case 33:case 34:p.keyStop(e,t);return;case 27:p.keyStop(e,t),t.$menu.trigger("contextmenu:hide");return;default:var s=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys[s]){t.accesskeys[s].$node.trigger(t.accesskeys[s].$menu?"contextmenu:focus":"mouseup");return}}e.stopPropagation(),t.$selected&&t.$selected.trigger(e)},prevItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{};if(n.$selected){var r=n.$selected;n=n.$selected.parent().data("contextMenu")||{},n.$selected=r}var i=n.$menu.children(),s=!n.$selected||!n.$selected.prev().length?i.last():n.$selected.prev(),o=s;while(s.hasClass("disabled")||s.hasClass("not-selectable")){s.prev().length?s=s.prev():s=i.last();if(s.is(o))return}n.$selected&&p.itemMouseleave.call(n.$selected.get(0),t),p.itemMouseenter.call(s.get(0),t);var u=s.find("input, textarea, select");u.length&&u.focus()},nextItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{};if(n.$selected){var r=n.$selected;n=n.$selected.parent().data("contextMenu")||{},n.$selected=r}var i=n.$menu.children(),s=!n.$selected||!n.$selected.next().length?i.first():n.$selected.next(),o=s;while(s.hasClass("disabled")||s.hasClass("not-selectable")){s.next().length?s=s.next():s=i.first();if(s.is(o))return}n.$selected&&p.itemMouseleave.call(n.$selected.get(0),t),p.itemMouseenter.call(s.get(0),t);var u=s.find("input, textarea, select");u.length&&u.focus()},focusInput:function(t){var n=e(this).closest(".context-menu-item"),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;s.$selected=i.$selected=n,s.isInput=i.isInput=!0},blurInput:function(t){var n=e(this).closest(".context-menu-item"),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;s.isInput=i.isInput=!1},menuMouseenter:function(t){var n=e(this).data().contextMenuRoot;n.hovering=!0},menuMouseleave:function(t){var n=e(this).data().contextMenuRoot;n.$layer&&n.$layer.is(t.relatedTarget)&&(n.hovering=!1)},itemMouseenter:function(t){var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;s.hovering=!0,t&&s.$layer&&s.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(i.$menu?i:s).$menu.children(".hover").trigger("contextmenu:blur");if(n.hasClass("disabled")||n.hasClass("not-selectable")){i.$selected=null;return}n.trigger("contextmenu:focus")},itemMouseleave:function(t){var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;if(s!==i&&s.$layer&&s.$layer.is(t.relatedTarget)){s.$selected&&s.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),s.$selected=i.$selected=i.$node;return}n.trigger("contextmenu:blur")},itemClick:function(t){var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot,o=r.contextMenuKey,u;if(!i.items[o]||n.is(".disabled, .context-menu-submenu, .context-menu-separator, .not-selectable"))return;t.preventDefault(),t.stopImmediatePropagation();if(e.isFunction(s.callbacks[o])&&Object.prototype.hasOwnProperty.call(s.callbacks,o))u=s.callbacks[o];else{if(!e.isFunction(s.callback))return;u=s.callback}u.call(s.$trigger,o,s)!==!1?s.$menu.trigger("contextmenu:hide"):s.$menu.parent().length&&d.update.call(s.$trigger,s)},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t,n){var r=e(this).data("contextMenuRoot");d.hide.call(r.$trigger,r,n&&n.force)},focusItem:function(t){t.stopPropagation();var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;n.addClass("hover").siblings(".hover").trigger("contextmenu:blur"),i.$selected=s.$selected=n,i.$node&&s.positionSubmenu.call(i.$node,i.$menu)},blurItem:function(t){t.stopPropagation();var n=e(this),r=n.data(),i=r.contextMenu,s=r.contextMenuRoot;n.removeClass("hover"),i.$selected=null}},d={show:function(t,n,i){var s=e(this),o,u={};e("#context-menu-layer").trigger("mousedown"),t.$trigger=s;if(t.events.show.call(s,t)===!1){r=null;return}d.update.call(s,t),t.position.call(s,t,n,i),t.zIndex&&(u.zIndex=h(s)+t.zIndex),d.layer.call(t.$menu,t,u.zIndex),t.$menu.find("ul").css("zIndex",u.zIndex+1),t.$menu.css(u)[t.animation.show](t.animation.duration,function(){s.trigger("contextmenu:visible")}),s.data("contextMenu",t).addClass("context-menu-active"),e(document).off("keydown.contextMenu").on("keydown.contextMenu",p.key),t.autoHide&&e(document).on("mousemove.contextMenuAutoHide",function(e){var n=s.offset();n.right=n.left+s.outerWidth(),n.bottom=n.top+s.outerHeight(),t.$layer&&!t.hovering&&(!(e.pageX>=n.left&&e.pageX<=n.right)||!(e.pageY>=n.top&&e.pageY<=n.bottom))&&t.$menu.trigger("contextmenu:hide")})},hide:function(n,i){var s=e(this);n||(n=s.data("contextMenu")||{});if(!i&&n.events&&n.events.hide.call(s,n)===!1)return;s.removeData("contextMenu").removeClass("context-menu-active");if(n.$layer){setTimeout(function(e){return function(){e.remove()}}(n.$layer),10);try{delete n.$layer}catch(o){n.$layer=null}}r=null,n.$menu.find(".hover").trigger("contextmenu:blur"),n.$selected=null,e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),n.$menu&&n.$menu[n.animation.hide](n.animation.duration,function(){n.build&&(n.$menu.remove(),e.each(n,function(e,r){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:n[e]=t;try{delete n[e]}catch(i){}return!0}})),setTimeout(function(){s.trigger("contextmenu:hidden")},10)})},create:function(n,r){r===t&&(r=n),n.$menu=e('<ul class="context-menu-list"></ul>').addClass(n.className||"").data({contextMenu:n,contextMenuRoot:r}),e.each(["callbacks","commands","inputs"],function(e,t){n[t]={},r[t]||(r[t]={})}),r.accesskeys||(r.accesskeys={}),e.each(n.items,function(t,i){var s=e('<li class="context-menu-item"></li>').addClass(i.className||""),o=null,u=null;s.on("click",e.noop),i.$node=s.data({contextMenu:n,contextMenuRoot:r,contextMenuKey:t});if(i.accesskey){var a=v(i.accesskey);for(var l=0,c;c=a[l];l++)if(!r.accesskeys[c]){r.accesskeys[c]=i,i._name=i.name.replace(new RegExp("("+c+")","i"),'<span class="context-menu-accesskey">$1</span>');break}}if(typeof i=="string")s.addClass("context-menu-separator not-selectable");else if(i.type&&f[i.type])f[i.type].call(s,i,n,r),e.each([n,r],function(n,r){r.commands[t]=i,e.isFunction(i.callback)&&(r.callbacks[t]=i.callback)});else{i.type=="html"?s.addClass("context-menu-html not-selectable"):i.type?(o=e("<label></label>").appendTo(s),e("<span></span>").html(i._name||i.name).appendTo(o),s.addClass("context-menu-input"),n.hasTypes=!0,e.each([n,r],function(e,n){n.commands[t]=i,n.inputs[t]=i})):i.items&&(i.type="sub");switch(i.type){case"text":u=e('<input type="text" value="1" name="" value="">').attr("name","context-menu-input-"+t).val(i.value||"").appendTo(o);break;case"textarea":u=e('<textarea name=""></textarea>').attr("name","context-menu-input-"+t).val(i.value||"").appendTo(o),i.height&&u.height(i.height);break;case"checkbox":u=e('<input type="checkbox" value="1" name="" value="">').attr("name","context-menu-input-"+t).val(i.value||"").prop("checked",!!i.selected).prependTo(o);break;case"radio":u=e('<input type="radio" value="1" name="" value="">').attr("name","context-menu-input-"+i.radio).val(i.value||"").prop("checked",!!i.selected).prependTo(o);break;case"select":u=e('<select name="">').attr("name","context-menu-input-"+t).appendTo(o),i.options&&(e.each(i.options,function(t,n){e("<option></option>").val(t).text(n).appendTo(u)}),u.val(i.selected));break;case"sub":e("<span></span>").html(i._name||i.name).appendTo(s),i.appendTo=i.$node,d.create(i,r),s.data("contextMenu",i).addClass("context-menu-submenu"),i.callback=null;break;case"html":e(i.html).appendTo(s);break;default:e.each([n,r],function(n,r){r.commands[t]=i,e.isFunction(i.callback)&&(r.callbacks[t]=i.callback)}),e("<span></span>").html(i._name||i.name||"").appendTo(s)}i.type&&i.type!="sub"&&i.type!="html"&&(u.on("focus",p.focusInput).on("blur",p.blurInput),i.events&&u.on(i.events,n)),i.icon&&s.addClass("icon icon-"+i.icon)}i.$input=u,i.$label=o,s.appendTo(n.$menu),!n.hasTypes&&e.support.eventSelectstart&&s.on("selectstart.disableTextSelect",p.abortevent)}),n.$node||n.$menu.css("display","none").addClass("context-menu-root"),n.$menu.appendTo(n.appendTo||document.body)},resize:function(t,n){t.css({position:"absolute",display:"block"}),t.data("width",Math.ceil(t.width())+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each(function(){d.resize(e(this),!0)}),n||t.find("ul").andSelf().css({position:"",display:"",minWidth:"",maxWidth:""}).width(function(){return e(this).data("width")})},update:function(n,r){var i=this;r===t&&(r=n,d.resize(n.$menu)),n.$menu.children().each(function(){var t=e(this),s=t.data("contextMenuKey"),o=n.items[s],u=e.isFunction(o.disabled)&&o.disabled.call(i,s,r)||o.disabled===!0;t[u?"addClass":"removeClass"]("disabled");if(o.type){t.find("input, select, textarea").prop("disabled",u);switch(o.type){case"text":case"textarea":o.$input.val(o.value||"");break;case"checkbox":case"radio":o.$input.val(o.value||"").prop("checked",!!o.selected);break;case"select":o.$input.val(o.selected||"")}}o.$menu&&d.update.call(i,o,r)})},layer:function(t,n){var r=t.$layer=e('<div id="context-menu-layer" style="position:fixed; z-index:'+n+'; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:s.height(),width:s.width(),display:"block"}).data("contextMenuRoot",t).insertBefore(this).on("contextmenu",p.abortevent).on("mousedown",p.layerClick);return e.support.fixedPosition||r.css({position:"absolute",height:e(document).height()}),r}};e.fn.contextMenu=function(n){if(n===t)this.first().trigger("contextmenu");else if(n.x&&n.y)this.first().trigger(e.Event("contextmenu",{pageX:n.x,pageY:n.y}));else if(n==="hide"){var r=this.data("contextMenu").$menu;r&&r.trigger("contextmenu:hide")}else n==="destroy"?e.contextMenu("destroy",{context:this}):e.isPlainObject(n)?(n.context=this,e.contextMenu("create",n)):n?this.removeClass("context-menu-disabled"):n||this.addClass("context-menu-disabled");return this},e.contextMenu=function(n,r){typeof n!="string"&&(r=n,n="create"),typeof r=="string"?r={selector:r}:r===t&&(r={});var s=e.extend(!0,{},l,r||{}),f=e(document),c=f,h=!1;!s.context||!s.context.length?s.context=document:(c=e(s.context).first(),s.context=c.get(0),h=s.context!==document);switch(n){case"create":if(!s.selector)throw new Error("No selector specified"
);if(s.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+s.selector+'" as it contains a reserved className');if(!s.build&&(!s.items||e.isEmptyObject(s.items)))throw new Error("No Items sepcified");o++,s.ns=".contextMenu"+o,h||(u[s.selector]=s.ns),a[s.ns]=s,s.trigger||(s.trigger="right"),i||(f.on({"contextmenu:hide.contextMenu":p.hideMenu,"prevcommand.contextMenu":p.prevItem,"nextcommand.contextMenu":p.nextItem,"contextmenu.contextMenu":p.abortevent,"mouseenter.contextMenu":p.menuMouseenter,"mouseleave.contextMenu":p.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",p.inputClick).on({"mouseup.contextMenu":p.itemClick,"contextmenu:focus.contextMenu":p.focusItem,"contextmenu:blur.contextMenu":p.blurItem,"contextmenu.contextMenu":p.abortevent,"mouseenter.contextMenu":p.itemMouseenter,"mouseleave.contextMenu":p.itemMouseleave},".context-menu-item"),i=!0),c.on("contextmenu"+s.ns,s.selector,s,p.contextmenu),h&&c.on("remove"+s.ns,function(){e(this).contextMenu("destroy")});switch(s.trigger){case"hover":c.on("mouseenter"+s.ns,s.selector,s,p.mouseenter).on("mouseleave"+s.ns,s.selector,s,p.mouseleave);break;case"left":c.on("click"+s.ns,s.selector,s,p.click)}s.build||d.create(s);break;case"destroy":var v;if(h){var m=s.context;e.each(a,function(t,n){if(n.context!==m)return!0;v=e(".context-menu-list").filter(":visible"),v.length&&v.data().contextMenuRoot.$trigger.is(e(n.context).find(n.selector))&&v.trigger("contextmenu:hide",{force:!0});try{a[n.ns].$menu&&a[n.ns].$menu.remove(),delete a[n.ns]}catch(r){a[n.ns]=null}return e(n.context).off(n.ns),!0})}else if(!s.selector)f.off(".contextMenu .contextMenuAutoHide"),e.each(a,function(t,n){e(n.context).off(n.ns)}),u={},a={},o=0,i=!1,e("#context-menu-layer, .context-menu-list").remove();else if(u[s.selector]){v=e(".context-menu-list").filter(":visible"),v.length&&v.data().contextMenuRoot.$trigger.is(s.selector)&&v.trigger("contextmenu:hide",{force:!0});try{a[u[s.selector]].$menu&&a[u[s.selector]].$menu.remove(),delete a[u[s.selector]]}catch(g){a[u[s.selector]]=null}f.off(u[s.selector])}break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||typeof r=="boolean"&&r)&&e('menu[type="context"]').each(function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+n+'"')}return this},e.contextMenu.setInputValues=function(n,r){r===t&&(r={}),e.each(n.inputs,function(e,t){switch(t.type){case"text":case"textarea":t.value=r[e]||"";break;case"checkbox":t.selected=r[e]?!0:!1;break;case"radio":t.selected=(r[t.radio]||"")==t.value?!0:!1;break;case"select":t.selected=r[e]||""}})},e.contextMenu.getInputValues=function(n,r){return r===t&&(r={}),e.each(n.inputs,function(e,t){switch(t.type){case"text":case"textarea":case"select":r[e]=t.$input.val();break;case"checkbox":r[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(r[t.radio]=t.value)}}),r},e.contextMenu.fromMenu=function(t){var n=e(t),r={};return g(r,n.children()),r},e.contextMenu.defaults=l,e.contextMenu.types=f,e.contextMenu.handle=p,e.contextMenu.op=d,e.contextMenu.menus=a}(jQuery);var jsonpatch;(function(e){function i(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r instanceof Object&&(Object.unobserve(r,e),r.____Path=t.____Path+"/"+n,i(e,r))}}function s(e,t){delete t.____Path,Object.observe(t,e);for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r instanceof Object&&s(e,r)}}function u(e,t){Object.observe?(Object.unobserve(e,t),i(t,e)):clearTimeout(t.next)}function a(e,t){var n=[],u=e,a;if(Object.observe)a=function(e){if(!u.___Path){Object.unobserve(u,a),u.____Path="",i(a,u);var o=0,f=e.length;while(o<f)e[o].name!="____Path"&&r[e[o].type].call(e[o],n,e[o].object.____Path),o++;s(a,u)}t&&t(n),a.patches=n,n=[]};else{a={};var c;for(var h=0,p=o.length;h<p;h++)if(o[h].obj===e){c=o[h];break}c||(c={obj:e},o.push(c)),c.value=JSON.parse(JSON.stringify(e));if(t){a.callback=t,a.next=null;var d=this.intervals||[100,1e3,1e4,6e4],v=0,m=function(){l(a)},g=function(){clearTimeout(a.next),a.next=setTimeout(function(){m(),v=0,a.next=setTimeout(y,d[v++])},0)},y=function(){m(),v==d.length&&(v=d.length-1),a.next=setTimeout(y,d[v++])};typeof window!="undefined"&&(window.addEventListener?(window.addEventListener("mousedown",g),window.addEventListener("mouseup",g),window.addEventListener("keydown",g)):(window.attachEvent("onmousedown",g),window.attachEvent("onmouseup",g),window.attachEvent("onkeydown",g))),a.next=setTimeout(y,d[v++])}}return a.patches=n,a.object=e,f(a,e,n)}function f(e,t,n){if(Object.observe){Object.observe(t,e);for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];i&&typeof i=="object"&&f(e,i,n)}}return e}function l(e){if(Object.observe)Object.deliverChangeRecords(e);else{var t;for(var n=0,r=o.length;n<r;n++)if(o[n].obj===e.object){t=o[n];break}h(t.value,e.object,e.patches,"")}var i=e.patches;return i.length>0&&(e.patches=[],e.callback&&e.callback(i)),i}function h(e,t,n,r){var i=c(t),s=c(e),o=!1,u=!1;for(var a=0;a<s.length;a++){var f=s[a],l=e[f];if(t.hasOwnProperty(f)){var p=t[f];l instanceof Object?h(l,p,n,r+"/"+f):l!=p&&(o=!0,n.push({op:"replace",path:r+"/"+f,value:p}),e[f]=p)}else n.push({op:"remove",path:r+"/"+f}),delete e[f],u=!0}if(!u&&i.length==s.length)return;for(var a=0;a<i.length;a++){var f=i[a];e.hasOwnProperty(f)||(n.push({op:"add",path:r+"/"+f,value:t[f]}),e[f]=JSON.parse(JSON.stringify(t[f])))}}function d(e,r,i){var s=!1,o=0,u=r.length,a;while(o<u){a=r[o];var f=a.path.split("/"),l=e,c=1,h=f.length;for(;;)if(p(l)){var d=parseInt(f[c],10);c++;if(c>=h){s=n[a.op].call(a,l,d,e);break}l=l[d]}else{var v=f[c];v.indexOf("~")!=-1&&(v=v.replace("~1","/").replace("~0","~")),c++;if(c>=h){s=t[a.op].call(a,l,v,e);break}l=l[v]}o++}return s}var t={add:function(e,t){return e[t]=this.value,!0},remove:function(e,t){return delete e[t],!0},replace:function(e,t){return e[t]=this.value,!0},move:function(e,t,n){var r={op:"_get",path:this.from};return d(n,[r]),d(n,[{op:"remove",path:this.from}]),d(n,[{op:"add",path:this.path,value:r.value}]),!0},copy:function(e,t,n){var r={op:"_get",path:this.from};return d(n,[r]),d(n,[{op:"add",path:this.path,value:r.value}]),!0},test:function(e,t){return JSON.stringify(e[t])===JSON.stringify(this.value)},_get:function(e,t){this.value=e[t]}},n={add:function(e,t){e.splice(t,0,this.value)},remove:function(e,t){e.splice(t,1)},replace:function(e,t){e[t]=this.value},move:t.move,copy:t.copy,test:t.test,_get:t._get},r={"new":function(e,t){var n={op:"add",path:t+"/"+this.name,value:this.object[this.name]};e.push(n)},deleted:function(e,t){var n={op:"remove",path:t+"/"+this.name};e.push(n)},updated:function(e,t){var n={op:"replace",path:t+"/"+this.name,value:this.object[this.name]};e.push(n)}},o=[];e.intervals,e.unobserve=u,e.observe=a,e.generate=l;var c;Object.keys?c=Object.keys:c=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};var p;Array.isArray?p=Array.isArray:p=function(e){return e.push&&typeof e.length=="number"},e.apply=d})(jsonpatch||(jsonpatch={})),typeof exports!="undefined"&&(exports.apply=jsonpatch.apply,exports.observe=jsonpatch.observe,exports.unobserve=jsonpatch.unobserve,exports.generate=jsonpatch.generate),function($){"use strict";var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON=typeof JSON=="object"&&JSON.stringify?JSON.stringify:function(e){if(e===null)return"null";var t,n,r,i,s=$.type(e);if(s==="undefined")return undefined;if(s==="number"||s==="boolean")return String(e);if(s==="string")return $.quoteString(e);if(typeof e.toJSON=="function")return $.toJSON(e.toJSON());if(s==="date"){var o=e.getUTCMonth()+1,u=e.getUTCDate(),a=e.getUTCFullYear(),f=e.getUTCHours(),l=e.getUTCMinutes(),c=e.getUTCSeconds(),h=e.getUTCMilliseconds();return o<10&&(o="0"+o),u<10&&(u="0"+u),f<10&&(f="0"+f),l<10&&(l="0"+l),c<10&&(c="0"+c),h<100&&(h="0"+h),h<10&&(h="0"+h),'"'+a+"-"+o+"-"+u+"T"+f+":"+l+":"+c+"."+h+'Z"'}t=[];if($.isArray(e)){for(n=0;n<e.length;n++)t.push($.toJSON(e[n])||"null");return"["+t.join(",")+"]"}if(typeof e=="object"){for(n in e)if(hasOwn.call(e,n)){s=typeof n;if(s==="number")r='"'+n+'"';else{if(s!=="string")continue;r=$.quoteString(n)}s=typeof e[n],s!=="function"&&s!=="undefined"&&(i=$.toJSON(e[n]),t.push(r+":"+i))}return"{"+t.join(",")+"}"}},$.evalJSON=typeof JSON=="object"&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},$.secureEvalJSON=typeof JSON=="object"&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+str+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(e){return e.match(escape)?'"'+e.replace(escape,function(e){var t=meta[e];return typeof t=="string"?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'}}(jQuery),function(p){var G,H,I,J,K,L,r={},u={},v={},M={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},w=[function(t){var n=t.treeObj,r=e.event;n.bind(r.NODECREATED,function(e,n,r){j.apply(t.callback.onNodeCreated,[e,n,r])}),n.bind(r.CLICK,function(e,n,r,i,s){j.apply(t.callback.onClick,[n,r,i,s])}),n.bind(r.EXPAND,function(e,n,r){j.apply(t.callback.onExpand,[e,n,r])}),n.bind(r.COLLAPSE,function(e,n,r){j.apply(t.callback.onCollapse,[e,n,r])}),n.bind(r.ASYNC_SUCCESS,function(e,n,r,i){j.apply(t.callback.onAsyncSuccess,[e,n,r,i])}),n.bind(r.ASYNC_ERROR,function(e,n,r,i,s,o){j.apply(t.callback.onAsyncError,[e,n,r,i,s,o])}),n.bind(r.REMOVE,function(e,n,r){j.apply(t.callback.onRemove,[e,n,r])})}],x=[function(t){var n=e.event;t.treeObj.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR).unbind(n.REMOVE)}],y=[function(e){var t=h.getCache(e);t||(t={},h.setCache(e,t)),t.nodes=[],t.doms=[]}],z=[function(e,t,n,r,i,s){if(n){var o=h.getRoot(e),u=e.data.key.children;n.level=t,n.tId=e.treeId+"_"+ ++o.zId,n.parentTId=r?r.tId:null,n.open=typeof n.open=="string"?j.eqs(n.open,"true"):!!n.open,n[u]&&n[u].length>0?(n.isParent=!0,n.zAsync=!0):(n.isParent=typeof n.isParent=="string"?j.eqs(n.isParent,"true"):!!n.isParent,n.open=n.isParent&&!e.async.enable?n.open:!1,n.zAsync=!n.isParent),n.isFirstNode=i,n.isLastNode=s,n.getParentNode=function(){return h.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return h.getPreNode(e,n)},n.getNextNode=function(){return h.getNextNode(e,n)},n.isAjaxing=!1,h.fixPIdKeyValue(e,n)}}],s=[function(t){var n=t.target,r=h.getSetting(t.data.treeId),i="",s=null,o="",u="",a=null,f=null,l=null;if(j.eqs(t.type,"mousedown"))u="mousedown";else if(j.eqs(t.type,"mouseup"))u="mouseup";else if(j.eqs(t.type,"contextmenu"))u="contextmenu";else if(j.eqs(t.type,"click")){if(j.eqs(n.tagName,"span")&&n.getAttribute("treeNode"+e.id.SWITCH)!==null)i=j.getNodeMainDom(n).id,o="switchNode";else if(l=j.getMDom(r,n,[{tagName:"a",attrName:"treeNode"+e.id.A}]))i=j.getNodeMainDom(l).id,o="clickNode"}else j.eqs(t.type,"dblclick")&&(u="dblclick",l=j.getMDom(r,n,[{tagName:"a",attrName:"treeNode"+e.id.A}]))&&(i=j.getNodeMainDom(l).id,o="switchNode");u.length>0&&i.length==0&&(l=j.getMDom(r,n,[{tagName:"a",attrName:"treeNode"+e.id.A}]))&&(i=j.getNodeMainDom(l).id);if(i.length>0)switch(s=h.getNodeCache(r,i),o){case"switchNode":s.isParent?j.eqs(t.type,"click")||j.eqs(t.type,"dblclick")&&j.apply(r.view.dblClickExpand,[r.treeId,s],r.view.dblClickExpand)?a=G:o="":o="";break;case"clickNode":a=H}switch(u){case"mousedown":f=I;break;case"mouseup":f=J;break;case"dblclick":f=K;break;case"contextmenu":f=L}return{stop:!1,node:s,nodeEventType:o,nodeEventCallback:a,treeEventType:u,treeEventCallback:f}}],A=[function(e){var t=h.getRoot(e);t||(t={},h.setRoot(e,t)),t[e.data.key.children]=[],t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()}],B=[],C=[],D=[],E=[],F=[],h={addNodeCache:function(e,t){h.getCache(e).nodes[h.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){C.push(e)},addBeforeA:function(e){B.push(e)},addInnerAfterA:function(e){E.push(e)},addInnerBeforeA:function(e){D.push(e)},addInitBind:function(e){w.push(e)},addInitUnBind:function(e){x.push(e)},addInitCache:function(e){y.push(e)},addInitNode:function(e){z.push(e)},addInitProxy:function(e,t){t?s.splice(0,0,e):s.push(e)},addInitRoot:function(e){A.push(e)},addNodesData:function(e,t,n){var r=e.data.key.children;t[r]||(t[r]=[]),t[r].length>0&&(t[r][t[r].length-1].isLastNode=!1,i.setNodeLineIcos(e,t[r][t[r].length-1])),t.isParent=!0,t[r]=t[r].concat(n)},addSelectedNode:function(e,t){var n=h.getRoot(e);h.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){(e.callback.onNodeCreated||e.view.addDiyDom)&&h.getRoot(e).createdNodes.push(t)},addZTreeTools:function(e){F.push(e)},exSetting:function(e){p.extend(!0,M,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,n){for(var r=0,i=C.length;r<i;r++)C[r].apply(this,arguments)},getBeforeA:function(e,t,n){for(var r=0,i=B.length;r<i;r++)B[r].apply(this,arguments)},getInnerAfterA:function(e,t,n){for(var r=0,i=E.length;r<i;r++)E[r].apply(this,arguments)},getInnerBeforeA:function(e,t,n){for(var r=0,i=D.length;r<i;r++)D[r].apply(this,arguments)},getCache:function(e){return v[e.treeId]},getNextNode:function(e,t){if(!t)return null;for(var n=e.data.key.children,r=t.parentTId?t.getParentNode():h.getRoot(e),i=0,s=r[n].length-1;i<=s;i++)if(r[n][i]===t)return i==s?null:r[n][i+1];return null},getNodeByParam:function(e,t,n,r){if(!t||!n)return null;for(var i=e.data.key.children,s=0,o=t.length;s<o;s++){if(t[s][n]==r)return t[s];var u=h.getNodeByParam(e,t[s][i],n,r);if(u)return u}return null},getNodeCache:function(e,t){if(!t)return null;var n=v[e.treeId].nodes[h.getNodeCacheId(t)];return n?n:null},getNodeName:function(e,t){return""+t[e.data.key.name]},getNodeTitle:function(e,t){return""+t[e.data.key.title===""?e.data.key.name:e.data.key.title]},getNodes:function(e){return h.getRoot(e)[e.data.key.children]},getNodesByParam:function(e,t,n,r){if(!t||!n)return[];for(var i=e.data.key.children,s=[],o=0,u=t.length;o<u;o++)t[o][n]==r&&s.push(t[o]),s=s.concat(h.getNodesByParam(e,t[o][i],n,r));return s},getNodesByParamFuzzy:function(e,t,n,r){if(!t||!n)return[];for(var i=e.data.key.children,s=[],r=r.toLowerCase(),o=0,u=t.length;o<u;o++)typeof t[o][n]=="string"&&t[o][n].toLowerCase().indexOf(r)>-1&&s.push(t[o]),s=s.concat(h.getNodesByParamFuzzy(e,t[o][i],n,r));return s},getNodesByFilter:function(e,t,n,r,i){if(!t)return r?null:[];for(var s=e.data.key.children,o=r?null:[],u=0,a=t.length;u<a;u++){if(j.apply(n,[t[u],i],!1)){if(r)return t[u];o.push(t[u])}var f=h.getNodesByFilter(e,t[u][s],n,r,i);if(r&&f)return f;o=r?f:o.concat(f)}return o},getPreNode:function(e,t){if(!t)return null;for(var n=e.data.key.children,r=t.parentTId?t.getParentNode():h.getRoot(e),i=0,s=r[n].length;i<s;i++)if(r[n][i]===t)return i==0?null:r[n][i-1];return null},getRoot:function(e){return e?u[e.treeId]:null},getRoots:function(){return u},getSetting:function(e){return r[e]},getSettings:function(){return r},getZTreeTools:function(e){return(e=this.getRoot(this.getSetting(e)))?e.treeTools:null},initCache:function(e){for(var t=0,n=y.length;t<n;t++)y[t].apply(this,arguments)},initNode:function(e,t,n,r,i,s){for(var o=0,u=z.length;o<u;o++)z[o].apply(this,arguments)},initRoot:function(e){for(var t=0,n=A.length;t<n;t++)A[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var n=h.getRoot(e),r=0,i=n.curSelectedList.length;r<i;r++)if(t===n.curSelectedList[r])return!0;return!1},removeNodeCache:function(e,t){var n=e.data.key.children;if(t[n])for(var r=0,i=t[n].length;r<i;r++)arguments.callee(e,t[n][r]);h.getCache(e).nodes[h.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var n=h.getRoot(e),r=0,i=n.curSelectedList.length;r<i;r++)if(t===n.curSelectedList[r]||!h.getNodeCache(e,n.curSelectedList[r].tId))n.curSelectedList.splice(r,1),r--,i--},setCache:function(e,t){v[e.treeId]=t},setRoot:function(e,t){u[e.treeId]=t},setZTreeTools:function(e,t){for(var n=0,r=F.length;n<r;n++)F[n].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var n=e.data.key.children,r=[];if(j.isArray(t))for(var i=0,s=t.length;i<s;i++)r.push(t[i]),t[i][n]&&(r=r.concat(h.transformToArrayFormat(e,t[i][n])));else r.push(t),t[n]&&(r=r.concat(h.transformToArrayFormat(e,t[n])));return r},transformTozTreeFormat:function(e,t){var n,r,i=e.data.simpleData.idKey,s=e.data.simpleData.pIdKey,o=e.data.key.children;if(!i||i==""||!t)return[];if(j.isArray(t)){var u=[],a=[];for(n=0,r=t.length;n<r;n++)a[t[n][i]]=t[n];for(n=0,r=t.length;n<r;n++)a[t[n][s]]&&t[n][i]!=t[n][s]?(a[t[n][s]][o]||(a[t[n][s]][o]=[]),a[t[n][s]][o].push(t[n])):u.push(t[n]);return u}return[t]}},m={bindEvent:function(e){for(var t=0,n=w.length;t<n;t++)w[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,n=x.length;t<n;t++)x[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},n=e.treeObj;e.view.txtSelectedEnable||n.bind("selectstart",function(e){return e=e.originalEvent.srcElement.nodeName.toLowerCase(),e==="input"||e==="textarea"}).css({"-moz-user-select":"-moz-none"}),n.bind("click",t,m.proxy),n.bind("dblclick",t,m.proxy),n.bind("mouseover",t,m.proxy),n.bind("mouseout",t,m.proxy),n.bind("mousedown",t,m.proxy),n.bind("mouseup",t,m.proxy),n.bind("contextmenu",t,m.proxy)},unbindTree:function(e){e.treeObj.unbind("click",m.proxy).unbind("dblclick",m.proxy).unbind("mouseover",m.proxy).unbind("mouseout",m.proxy).unbind("mousedown",m.proxy).unbind("mouseup",m.proxy).unbind("contextmenu",m.proxy)},doProxy:function(e){for(var t=[],n=0,r=s.length;n<r;n++){var i=s[n].apply(this,arguments);t.push(i);if(i.stop)break}return t},proxy:function(e){var t=h.getSetting(e.data.treeId);if(!j.uCanDo(t,e))return!0;for(var t=m.doProxy(e),n=!0,r=0,i=t.length;r<i;r++){var s=t[r];s.nodeEventCallback&&(n=s.nodeEventCallback.apply(s,[e,s.node])&&n),s.treeEventCallback&&(n=s.treeEventCallback.apply(s,[e,s.node])&&n)}return n}};G=function(e,t){var n=h.getSetting(e.data.treeId);if(t.open){if(j.apply(n.callback.beforeCollapse,[n.treeId,t],!0)==0)return!0}else if(j.apply(n.callback.beforeExpand,[n.treeId,t],!0)==0)return!0;return h.getRoot(n).expandTriggerFlag=!0,i.switchNode(n,t),!0},H=function(t,n){var r=h.getSetting(t.data.treeId),s=r.view.autoCancelSelected&&(t.ctrlKey||t.metaKey)&&h.isSelectedNode(r,n)?0:r.view.autoCancelSelected&&(t.ctrlKey||t.metaKey)&&r.view.selectedMulti?2:1;return j.apply(r.callback.beforeClick,[r.treeId,n,s],!0)==0?!0:(s===0?i.cancelPreSelectedNode(r,n):i.selectNode(r,n,s===2),r.treeObj.trigger(e.event.CLICK,[t,r.treeId,n,s]),!0)},I=function(e,t){var n=h.getSetting(e.data.treeId);return j.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&j.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},J=function(e,t){var n=h.getSetting(e.data.treeId);return j.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&j.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},K=function(e,t){var n=h.getSetting(e.data.treeId);return j.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&j.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},L=function(e,t){var n=h.getSetting(e.data.treeId);return j.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&j.apply(n.callback.onRightClick,[e,n.treeId,t]),typeof n.callback.onRightClick!="function"};var j={apply:function(e,t,n){return typeof e=="function"?e.apply(N,t?t:[]):n},canAsync:function(e,t){var n=e.data.key.children;return e.async.enable&&t&&t.isParent&&!(t.zAsync||t[n]&&t[n].length>0)},clone:function(e){if(e===null)return null;var t=j.isArray(e)?[]:{},n;for(n in e)t[n]=e[n]instanceof Date?new Date(e[n].getTime()):typeof e[n]=="object"?arguments.callee(e[n]):e[n];return t},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return Object.prototype.toString.apply(e)==="[object Array]"},$:function(e,t,n){return t&&typeof t!="string"&&(n=t,t=""),typeof e=="string"?p(e,n?n.treeObj.get(0).ownerDocument:null):p("#"+e.tId+t,n?n.treeObj:null)},getMDom:function(e,t,n){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var r=0,i=n.length;t.tagName&&r<i;r++)if(j.eqs(t.tagName,n[r].tagName)&&t.getAttribute(n[r].attrName)!==null)return t;t=t.parentNode}return null},getNodeMainDom:function(e){return p(e).parent("li").get(0)||p(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return p(e).closest("#"+t).length>0},uCanDo:function(){return!0}},i={addNodes:function(t,n,r,s){if(!t.data.keep.leaf||!n||n.isParent)if(j.isArray(r)||(r=[r]),t.data.simpleData.enable&&(r=h.transformTozTreeFormat(t,r)),n){var o=k(n,e.id.SWITCH,t),u=k(n,e.id.ICON,t),a=k(n,e.id.UL,t);n.open||(i.replaceSwitchClass(n,o,e.folder.CLOSE),i.replaceIcoClass(n,u,e.folder.CLOSE),n.open=!1,a.css({display:"none"})),h.addNodesData(t,n,r),i.createNodes(t,n.level+1,r,n),s||i.expandCollapseParentNode(t,n,!0)}else h.addNodesData(t,h.getRoot(t),r),i.createNodes(t,0,r,null)},appendNodes:function(e,t,n,r,s,o){if(!n)return[];for(var u=[],a=e.data.key.children,f=0,l=n.length;f<l;f++){var c=n[f];if(s){var p=(r?r:h.getRoot(e))[a].length==n.length&&f==0;h.initNode(e,t,c,r,p,f==n.length-1,o),h.addNodeCache(e,c)}p=[],c[a]&&c[a].length>0&&(p=i.appendNodes(e,t+1,c[a],c,s,o&&c.open)),o&&(i.makeDOMNodeMainBefore(u,e,c),i.makeDOMNodeLine(u,e,c),h.getBeforeA(e,c,u),i.makeDOMNodeNameBefore(u,e,c),h.getInnerBeforeA(e,c,u),i.makeDOMNodeIcon(u,e,c),h.getInnerAfterA(e,c,u),i.makeDOMNodeNameAfter(u,e,c),h.getAfterA(e,c,u),c.isParent&&c.open&&i.makeUlHtml(e,c,u,p.join("")),i.makeDOMNodeMainAfter(u,e,c),h.addCreatedNode(e,c))}return u},appendParentULDom:function(t,n){var r=[],s=k(n,t);!s.get(0)&&n.parentTId&&(i.appendParentULDom(t,n.getParentNode()),s=k(n,t));var o=k(n,e.id.UL,t);o.get(0)&&o.remove(),o=i.appendNodes(t,n.level+1,n[t.data.key.children],n,!1,!0),i.makeUlHtml(t,n,r,o.join("")),s.append(r.join(""))},asyncNode:function(b,a,c,d){var f,g;if(a&&!a.isParent)return j.apply(d),!1;if(a&&a.isAjaxing)return!1;if(j.apply(b.callback.beforeAsync,[b.treeId,a],!0)==0)return j.apply(d),!1;a&&(a.isAjaxing=!0,k(a,e.id.ICON,b).attr({style:"","class":e.className.BUTTON+" "+e.className.ICO_LOADING}));var l={};for(f=0,g=b.async.autoParam.length;a&&f<g;f++){var q=b.async.autoParam[f].split("="),n=q;q.length>1&&(n=q[1],q=q[0]),l[n]=a[q]}if(j.isArray(b.async.otherParam))for(f=0,g=b.async.otherParam.length;f<g;f+=2)l[b.async.otherParam[f]]=b.async.otherParam[f+1];else for(var m in b.async.otherParam)l[m]=b.async.otherParam[m];var o=h.getRoot(b)._ver;return p.ajax({contentType:b.async.contentType,type:b.async.type,url:j.apply(b.async.url,[b.treeId,a],b.async.url),data:l,dataType:b.async.dataType,success:function(f){if(o==h.getRoot(b)._ver){var g=[];try{g=!f||f.length==0?[]:typeof f=="string"?eval("("+f+")"):f}catch(l){g=f}a&&(a.isAjaxing=null,a.zAsync=!0),i.setNodeLineIcos(b,a),g&&g!==""?(g=j.apply(b.async.dataFilter,[b.treeId,a,g],g),i.addNodes(b,a,g?j.clone(g):[],!!c)):i.addNodes(b,a,[],!!c),b.treeObj.trigger(e.event.ASYNC_SUCCESS,[b.treeId,a,f]),j.apply(d)}},error:function(t,n,r){o==h.getRoot(b)._ver&&(a&&(a.isAjaxing=null),i.setNodeLineIcos(b,a),b.treeObj.trigger(e.event.ASYNC_ERROR,[b.treeId,a,t,n,r]))}}),!0},cancelPreSelectedNode:function(t,n){for(var r=h.getRoot(t).curSelectedList,i=r.length-1;i>=0;i--)if(!n||n===r[i])if(k(r[i],e.id.A,t).removeClass(e.node.CURSELECTED),n){h.removeSelectedNode(t,n);break}n||(h.getRoot(t).curSelectedList=[])},createNodeCallback:function(t){if(t.callback.onNodeCreated||t.view.addDiyDom)for(var n=h.getRoot(t);n.createdNodes.length>0;){var r=n.createdNodes.shift();j.apply(t.view.addDiyDom,[t.treeId,r]),t.callback.onNodeCreated&&t.treeObj.trigger(e.event.NODECREATED,[t.treeId,r])}},createNodes:function(t,n,r,s){if(r&&r.length!=0){var o=h.getRoot(t),u=t.data.key.children,u=!s||s.open||!!k(s[u][0],t).get(0);o.createdNodes=[],n=i.appendNodes(t,n,r,s,!0,u),s?(s=k(s,e.id.UL,t),s.get(0)&&s.append(n.join(""))):t.treeObj.append(n.join("")),i.createNodeCallback(t)}},destroy:function(e){e&&(h.initCache(e),h.initRoot(e),m.unbindTree(e),m.unbindEvent(e),e.treeObj.empty(),delete r[e.treeId])},expandCollapseNode:function(t,n,r,s,o){var u=h.getRoot(t),a=t.data.key.children;if(n){if(u.expandTriggerFlag){var f=o,o=function(){f&&f(),n.open?t.treeObj.trigger(e.event.EXPAND,[t.treeId,n]):t.treeObj.trigger(e.event.COLLAPSE,[t.treeId,n])};u.expandTriggerFlag=!1}!n.open&&n.isParent&&(!k(n,e.id.UL,t).get(0)||n[a]&&n[a].length>0&&!k(n[a][0],t).get(0))&&(i.appendParentULDom(t,n),i.createNodeCallback(t));if(n.open==r)j.apply(o,[]);else{var r=k(n,e.id.UL,t),u=k(n,e.id.SWITCH,t),l=k(n,e.id.ICON,t);n.isParent?(n.open=!n.open,n.iconOpen&&n.iconClose&&l.attr("style",i.makeNodeIcoStyle(t,n)),n.open?(i.replaceSwitchClass(n,u,e.folder.OPEN),i.replaceIcoClass(n,l,e.folder.OPEN),s==0||t.view.expandSpeed==""?(r.show(),j.apply(o,[])):n[a]&&n[a].length>0?r.slideDown(t.view.expandSpeed,o):(r.show(),j.apply(o,[]))):(i.replaceSwitchClass(n,u,e.folder.CLOSE),i.replaceIcoClass(n,l,e.folder.CLOSE),s==0||t.view.expandSpeed==""||!(n[a]&&n[a].length>0)?(r.hide(),j.apply(o,[])):r.slideUp(t.view.expandSpeed,o))):j.apply(o,[])}}else j.apply(o,[])},expandCollapseParentNode:function(e,t,n,r,s){t&&(t.parentTId?(i.expandCollapseNode(e,t,n,r),t.parentTId&&i.expandCollapseParentNode(e,t.getParentNode(),n,r,s)):i.expandCollapseNode(e,t,n,r,s))},expandCollapseSonNode:function(e,t,n,r,s){var o=h.getRoot(e),u=e.data.key.children,o=t?t[u]:o[u],u=t?!1:r,a=h.getRoot(e).expandTriggerFlag;h.getRoot(e).expandTriggerFlag=!1;if(o)for(var f=0,l=o.length;f<l;f++)o[f]&&i.expandCollapseSonNode(e,o[f],n,u);h.getRoot(e).expandTriggerFlag=a,i.expandCollapseNode(e,t,n,r,s)},makeDOMNodeIcon:function(t,n,r){var s=h.getNodeName(n,r),s=n.view.nameIsHTML?s:s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");t.push("<span id='",r.tId,e.id.ICON,"' title='' treeNode",e.id.ICON," class='",i.makeNodeIcoClass(n,r),"' style='",i.makeNodeIcoStyle(n,r),"'></span><span id='",r.tId,e.id.SPAN,"'>",s,"</span>")},makeDOMNodeLine:function(t,n,r){t.push("<span id='",r.tId,e.id.SWITCH,"' title='' class='",i.makeNodeLineClass(n,r),"' treeNode",e.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e){e.push("</li>")},makeDOMNodeMainBefore:function(t,n,r){t.push("<li id='",r.tId,"' class='",e.className.LEVEL,r.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e){e.push("</a>")},makeDOMNodeNameBefore:function(t,n,r){var s=h.getNodeTitle(n,r),o=i.makeNodeUrl(n,r),u=i.makeNodeFontCss(n,r),a=[],f;for(f in u)a.push(f,":",u[f],";");t.push("<a id='",r.tId,e.id.A,"' class='",e.className.LEVEL,r.level,"' treeNode",e.id.A,' onclick="',r.click||"",'" ',o!=null&&o.length>0?"href='"+o+"'":""," target='",i.makeNodeTarget(r),"' style='",a.join(""),"'"),j.apply(n.view.showTitle,[n.treeId,r],n.view.showTitle)&&s&&t.push("title='",s.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),t.push(">")},makeNodeFontCss:function(e,t){var n=j.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return n&&typeof n!="function"?n:{}},makeNodeIcoClass:function(t,n){var r=["ico"];return n.isAjaxing||(r[0]=(n.iconSkin?n.iconSkin+"_":"")+r[0],n.isParent?r.push(n.open?e.folder.OPEN:e.folder.CLOSE):r.push(e.folder.DOCU)),e.className.BUTTON+" "+r.join("_")},makeNodeIcoStyle:function(e,t){var n=[];if(!t.isAjaxing){var r=t.isParent&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t.icon;r&&n.push("background:url(",r,") 0 0 no-repeat;"),(e.view.showIcon==0||!j.apply(e.view.showIcon,[e.treeId,t],!0))&&n.push("width:0px;height:0px;")}return n.join("")},makeNodeLineClass:function(t,n){var r=[];return t.view.showLine?n.level==0&&n.isFirstNode&&n.isLastNode?r.push(e.line.ROOT):n.level==0&&n.isFirstNode?r.push(e.line.ROOTS):n.isLastNode?r.push(e.line.BOTTOM):r.push(e.line.CENTER):r.push(e.line.NOLINE),n.isParent?r.push(n.open?e.folder.OPEN:e.folder.CLOSE):r.push(e.folder.DOCU),i.makeNodeLineClassEx(n)+r.join("_")},makeNodeLineClassEx:function(t){return e.className.BUTTON+" "+e.className.LEVEL+t.level+" "+e.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var n=e.data.key.url;return t[n]?t[n]:null},makeUlHtml:function(t,n,r,s){r.push("<ul id='",n.tId,e.id.UL,"' class='",e.className.LEVEL,n.level," ",i.makeUlLineClass(t,n),"' style='display:",n.open?"block":"none","'>"),r.push(s),r.push("</ul>")},makeUlLineClass:function(t,n){return t.view.showLine&&!n.isLastNode?e.line.LINE:""},removeChildNodes:function(t,n){if(n){var r=t.data.key.children,s=n[r];if(s){for(var o=0,u=s.length;o<u;o++)h.removeNodeCache(t,s[o]);h.removeSelectedNode(t),delete n[r],t.data.keep.parent?k(n,e.id.UL,t).empty():(n.isParent=!1,n.open=!1,r=k(n,e.id.SWITCH,t),s=k(n,e.id.ICON,t),i.replaceSwitchClass(n,r,e.folder.DOCU),i.replaceIcoClass(n,s,e.folder.DOCU),k(n,e.id.UL,t).remove())}}},setFirstNode:function(e,t){var n=e.data.key.children;t[n].length>0&&(t[n][0].isFirstNode=!0)},setLastNode:function(e,t){var n=e.data.key.children,r=t[n].length;r>0&&(t[n][r-1].isLastNode=!0)},removeNode:function(t,n){var r=h.getRoot(t),s=t.data.key.children,o=n.parentTId?n.getParentNode():r;n.isFirstNode=!1,n.isLastNode=!1,n.getPreNode=function(){return null},n.getNextNode=function(){return null};if(h.getNodeCache(t,n.tId)){k(n,t).remove(),h.removeNodeCache(t,n),h.removeSelectedNode(t,n);for(var u=0,a=o[s].length;u<a;u++)if(o[s][u].tId==n.tId){o[s].splice(u,1);break}i.setFirstNode(t,o),i.setLastNode(t,o);var f,u=o[s].length;if(!t.data.keep.parent&&u==0)o.isParent=!1,o.open=!1,u=k(o,e.id.UL,t),a=k(o,e.id.SWITCH,t),f=k(o,e.id.ICON,t),i.replaceSwitchClass(o,a,e.folder.DOCU),i.replaceIcoClass(o,f,e.folder.DOCU),u.css("display","none");else if(t.view.showLine&&u>0){var l=o[s][u-1],u=k(l,e.id.UL,t),a=k(l,e.id.SWITCH,t);f=k(l,e.id.ICON,t),o==r?o[s].length==1?i.replaceSwitchClass(l,a,e.line.ROOT):(r=k(o[s][0],e.id.SWITCH,t),i.replaceSwitchClass(o[s][0],r,e.line.ROOTS),i.replaceSwitchClass(l,a,e.line.BOTTOM)):i.replaceSwitchClass(l,a,e.line.BOTTOM),u.removeClass(e.line.LINE)}}},replaceIcoClass:function(t,n,r){if(n&&!t.isAjaxing&&(t=n.attr("class"),t!=void 0)){t=t.split("_");switch(r){case e.folder.OPEN:case e.folder.CLOSE:case e.folder.DOCU:t[t.length-1]=r}n.attr("class",t.join("_"))}},replaceSwitchClass:function(t,n,r){if(n){var s=n.attr("class");if(s!=void 0){s=s.split("_");switch(r){case e.line.ROOT:case e.line.ROOTS:case e.line.CENTER:case e.line.BOTTOM:case e.line.NOLINE:s[0]=i.makeNodeLineClassEx(t)+r;break;case e.folder.OPEN:case e.folder.CLOSE:case e.folder.DOCU:s[1]=r}n.attr("class",s.join("_")),r!==e.folder.DOCU?n.removeAttr("disabled"):n.attr("disabled","disabled")}}},selectNode:function(t,n,r){r||i.cancelPreSelectedNode(t),k(n,e.id.A,t).addClass(e.node.CURSELECTED),h.addSelectedNode(t,n)},setNodeFontCss:function(t,n){var r=k(n,e.id.A,t),s=i.makeNodeFontCss(t,n);s&&r.css(s)},setNodeLineIcos:function(t,n){if(n){var r=k(n,e.id.SWITCH,t),s=k(n,e.id.UL,t),o=k(n,e.id.ICON,t),u=i.makeUlLineClass(t,n);u.length==0?s.removeClass(e.line.LINE):s.addClass(u),r.attr("class",i.makeNodeLineClass(t,n)),n.isParent?r.removeAttr("disabled"):r.attr("disabled","disabled"),o.removeAttr("style"),o.attr("style",i.makeNodeIcoStyle(t,n)),o.attr("class",i.makeNodeIcoClass(t,n))}},setNodeName:function(t,n){var r=h.getNodeTitle(t,n),i=k(n,e.id.SPAN,t);i.empty(),t.view.nameIsHTML?i.html(h.getNodeName(t,n)):i.text(h.getNodeName(t,n)),j.apply(t.view.showTitle,[t.treeId,n],t.view.showTitle)&&k(n,e.id.A,t).attr("title",r?r:"")},setNodeTarget:function(t,n){k(n,e.id.A,t
).attr("target",i.makeNodeTarget(n))},setNodeUrl:function(t,n){var r=k(n,e.id.A,t),s=i.makeNodeUrl(t,n);s==null||s.length==0?r.removeAttr("href"):r.attr("href",s)},switchNode:function(e,t){t.open||!j.canAsync(e,t)?i.expandCollapseNode(e,t,!t.open):e.async.enable?i.asyncNode(e,t)||i.expandCollapseNode(e,t,!t.open):t&&i.expandCollapseNode(e,t,!t.open)}};p.fn.zTree={consts:{className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_z:{tools:j,view:i,event:m,data:h},getZTreeObj:function(e){return(e=h.getZTreeTools(e))?e:null},destroy:function(e){if(e&&e.length>0)i.destroy(h.getSetting(e));else for(var t in r)i.destroy(r[t])},init:function(t,n,s){var o=j.clone(M);return p.extend(!0,o,n),o.treeId=t.attr("id"),o.treeObj=t,o.treeObj.empty(),r[o.treeId]=o,typeof document.body.style.maxHeight=="undefined"&&(o.view.expandSpeed=""),h.initRoot(o),t=h.getRoot(o),n=o.data.key.children,s=s?j.clone(j.isArray(s)?s:[s]):[],t[n]=o.data.simpleData.enable?h.transformTozTreeFormat(o,s):s,h.initCache(o),m.unbindTree(o),m.bindTree(o),m.unbindEvent(o),m.bindEvent(o),s={setting:o,addNodes:function(e,t,n){function r(){i.addNodes(o,e,s,n==1)}if(!t)return null;e||(e=null);if(e&&!e.isParent&&o.data.keep.leaf)return null;var s=j.clone(j.isArray(t)?t:[t]);return j.canAsync(o,e)?i.asyncNode(o,e,n,r):r(),s},cancelSelectedNode:function(e){i.cancelPreSelectedNode(o,e)},destroy:function(){i.destroy(o)},expandAll:function(e){return e=!!e,i.expandCollapseSonNode(o,null,e,!0),e},expandNode:function(e,t,n,r,s){if(!e||!e.isParent)return null;t!==!0&&t!==!1&&(t=!e.open);if((s=!!s)&&t&&j.apply(o.callback.beforeExpand,[o.treeId,e],!0)==0)return null;if(s&&!t&&j.apply(o.callback.beforeCollapse,[o.treeId,e],!0)==0)return null;t&&e.parentTId&&i.expandCollapseParentNode(o,e.getParentNode(),t,!1);if(t===e.open&&!n)return null;h.getRoot(o).expandTriggerFlag=s;if(!j.canAsync(o,e)&&n)i.expandCollapseSonNode(o,e,t,!0,function(){if(r!==!1)try{k(e,o).focus().blur()}catch(t){}});else if(e.open=!t,i.switchNode(this.setting,e),r!==!1)try{k(e,o).focus().blur()}catch(u){}return t},getNodes:function(){return h.getNodes(o)},getNodeByParam:function(e,t,n){return e?h.getNodeByParam(o,n?n[o.data.key.children]:h.getNodes(o),e,t):null},getNodeByTId:function(e){return h.getNodeCache(o,e)},getNodesByParam:function(e,t,n){return e?h.getNodesByParam(o,n?n[o.data.key.children]:h.getNodes(o),e,t):null},getNodesByParamFuzzy:function(e,t,n){return e?h.getNodesByParamFuzzy(o,n?n[o.data.key.children]:h.getNodes(o),e,t):null},getNodesByFilter:function(e,t,n,r){return t=!!t,!e||typeof e!="function"?t?null:[]:h.getNodesByFilter(o,n?n[o.data.key.children]:h.getNodes(o),e,t,r)},getNodeIndex:function(e){if(!e)return null;for(var t=o.data.key.children,n=e.parentTId?e.getParentNode():h.getRoot(o),r=0,i=n[t].length;r<i;r++)if(n[t][r]==e)return r;return-1},getSelectedNodes:function(){for(var e=[],t=h.getRoot(o).curSelectedList,n=0,r=t.length;n<r;n++)e.push(t[n]);return e},isSelectedNode:function(e){return h.isSelectedNode(o,e)},reAsyncChildNodes:function(t,n,r){if(this.setting.async.enable){var s=!t;s&&(t=h.getRoot(o));if(n=="refresh"){for(var n=this.setting.data.key.children,u=0,a=t[n]?t[n].length:0;u<a;u++)h.removeNodeCache(o,t[n][u]);h.removeSelectedNode(o),t[n]=[],s?this.setting.treeObj.empty():k(t,e.id.UL,o).empty()}i.asyncNode(this.setting,s?null:t,!!r)}},refresh:function(){this.setting.treeObj.empty();var e=h.getRoot(o),t=e[o.data.key.children];h.initRoot(o),e[o.data.key.children]=t,h.initCache(o),i.createNodes(o,0,e[o.data.key.children])},removeChildNodes:function(e){if(!e)return null;var t=e[o.data.key.children];return i.removeChildNodes(o,e),t?t:null},removeNode:function(t,n){t&&(n=!!n,n&&j.apply(o.callback.beforeRemove,[o.treeId,t],!0)==0||(i.removeNode(o,t),n&&this.setting.treeObj.trigger(e.event.REMOVE,[o.treeId,t])))},selectNode:function(e,t){if(e&&j.uCanDo(o)){t=o.view.selectedMulti&&t;if(e.parentTId)i.expandCollapseParentNode(o,e.getParentNode(),!0,!1,function(){try{k(e,o).focus().blur()}catch(t){}});else try{k(e,o).focus().blur()}catch(n){}i.selectNode(o,e,t)}},transformTozTreeNodes:function(e){return h.transformTozTreeFormat(o,e)},transformToArray:function(e){return h.transformToArrayFormat(o,e)},updateNode:function(e){e&&k(e,o).get(0)&&j.uCanDo(o)&&(i.setNodeName(o,e),i.setNodeTarget(o,e),i.setNodeUrl(o,e),i.setNodeLineIcos(o,e),i.setNodeFontCss(o,e))}},t.treeTools=s,h.setZTreeTools(o,s),t[n]&&t[n].length>0?i.createNodes(o,0,t[n]):o.async.enable&&o.async.url&&o.async.url!==""&&i.asyncNode(o),s}};var N=p.fn.zTree,k=j.$,e=N.consts}(jQuery),function(e){var t,n,r,i={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},s={check:{enable:!1,autoCheckTrigger:!1,chkStyle:i.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:i.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}};t=function(e,t){if(t.chkDisabled===!0)return!1;var n=f.getSetting(e.data.treeId),r=n.data.key.checked;return o.apply(n.callback.beforeCheck,[n.treeId,t],!0)==0?!0:(t[r]=!t[r],a.checkNodeRelation(n,t),r=l(t,u.id.CHECK,n),a.setChkClass(n,r,t),a.repairParentChkClassWithSelf(n,t),n.treeObj.trigger(u.event.CHECK,[e,n.treeId,t]),!0)},n=function(e,t){if(t.chkDisabled===!0)return!1;var n=f.getSetting(e.data.treeId),r=l(t,u.id.CHECK,n);return t.check_Focus=!0,a.setChkClass(n,r,t),!0},r=function(e,t){if(t.chkDisabled===!0)return!1;var n=f.getSetting(e.data.treeId),r=l(t,u.id.CHECK,n);return t.check_Focus=!1,a.setChkClass(n,r,t),!0},e.extend(!0,e.fn.zTree.consts,i),e.extend(!0,e.fn.zTree._z,{tools:{},view:{checkNodeRelation:function(e,t){var n,r,i,s=e.data.key.children,o=e.data.key.checked;n=u.radio;if(e.check.chkStyle==n.STYLE){var c=f.getRadioCheckedList(e);if(t[o])if(e.check.radioType==n.TYPE_ALL){for(r=c.length-1;r>=0;r--)n=c[r],n[o]&&n!=t&&(n[o]=!1,c.splice(r,1),a.setChkClass(e,l(n,u.id.CHECK,e),n),n.parentTId!=t.parentTId&&a.repairParentChkClassWithSelf(e,n));c.push(t)}else{c=t.parentTId?t.getParentNode():f.getRoot(e);for(r=0,i=c[s].length;r<i;r++)n=c[s][r],n[o]&&n!=t&&(n[o]=!1,a.setChkClass(e,l(n,u.id.CHECK,e),n))}else if(e.check.radioType==n.TYPE_ALL)for(r=0,i=c.length;r<i;r++)if(t==c[r]){c.splice(r,1);break}}else t[o]&&(!t[s]||t[s].length==0||e.check.chkboxType.Y.indexOf("s")>-1)&&a.setSonNodeCheckBox(e,t,!0),!t[o]&&(!t[s]||t[s].length==0||e.check.chkboxType.N.indexOf("s")>-1)&&a.setSonNodeCheckBox(e,t,!1),t[o]&&e.check.chkboxType.Y.indexOf("p")>-1&&a.setParentNodeCheckBox(e,t,!0),!t[o]&&e.check.chkboxType.N.indexOf("p")>-1&&a.setParentNodeCheckBox(e,t,!1)},makeChkClass:function(e,t){var n=e.data.key.checked,r=u.checkbox,i=u.radio,s="",s=t.chkDisabled===!0?r.DISABLED:t.halfCheck?r.PART:e.check.chkStyle==i.STYLE?t.check_Child_State<1?r.FULL:r.PART:t[n]?t.check_Child_State===2||t.check_Child_State===-1?r.FULL:r.PART:t.check_Child_State<1?r.FULL:r.PART,n=e.check.chkStyle+"_"+(t[n]?r.TRUE:r.FALSE)+"_"+s,n=t.check_Focus&&t.chkDisabled!==!0?n+"_"+r.FOCUS:n;return u.className.BUTTON+" "+r.DEFAULT+" "+n},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===u.checkbox.STYLE)for(var n=e.data.key.checked,r=e.data.key.children,i=f.getRoot(e),s=0,o=i[r].length;s<o;s++){var l=i[r][s];l.nocheck!==!0&&l.chkDisabled!==!0&&(l[n]=t),a.setSonNodeCheckBox(e,l,t)}},repairChkClass:function(e,t){if(t&&(f.makeChkFlag(e,t),t.nocheck!==!0)){var n=l(t,u.id.CHECK,e);a.setChkClass(e,n,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var n=t.getParentNode();a.repairChkClass(e,n),a.repairParentChkClass(e,n)}},repairParentChkClassWithSelf:function(e,t){if(t){var n=e.data.key.children;t[n]&&t[n].length>0?a.repairParentChkClass(e,t[n][0]):a.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,n,r){if(t){var i=e.data.key.children;t.chkDisabled!=n&&(t.chkDisabled=n),a.repairChkClass(e,t);if(t[i]&&r)for(var s=0,o=t[i].length;s<o;s++)a.repairSonChkDisabled(e,t[i][s],n,r)}},repairParentChkDisabled:function(e,t,n,r){t&&(t.chkDisabled!=n&&r&&(t.chkDisabled=n),a.repairChkClass(e,t),a.repairParentChkDisabled(e,t.getParentNode(),n,r))},setChkClass:function(e,t,n){t&&(n.nocheck===!0?t.hide():t.show(),t.attr("class",a.makeChkClass(e,n)))},setParentNodeCheckBox:function(e,t,n,r){var i=e.data.key.children,s=e.data.key.checked,o=l(t,u.id.CHECK,e);r||(r=t),f.makeChkFlag(e,t),t.nocheck!==!0&&t.chkDisabled!==!0&&(t[s]=n,a.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=r&&e.treeObj.trigger(u.event.CHECK,[null,e.treeId,t]));if(t.parentTId){o=!0;if(!n)for(var i=t.getParentNode()[i],c=0,h=i.length;c<h;c++)if(i[c].nocheck!==!0&&i[c].chkDisabled!==!0&&i[c][s]||(i[c].nocheck===!0||i[c].chkDisabled===!0)&&i[c].check_Child_State>0){o=!1;break}o&&a.setParentNodeCheckBox(e,t.getParentNode(),n,r)}},setSonNodeCheckBox:function(e,t,n,r){if(t){var i=e.data.key.children,s=e.data.key.checked,o=l(t,u.id.CHECK,e);r||(r=t);var c=!1;if(t[i])for(var h=0,p=t[i].length;h<p&&t.chkDisabled!==!0;h++){var d=t[i][h];a.setSonNodeCheckBox(e,d,n,r),d.chkDisabled===!0&&(c=!0)}if(t!=f.getRoot(e)&&t.chkDisabled!==!0){c&&t.nocheck!==!0&&f.makeChkFlag(e,t);if(t.nocheck!==!0&&t.chkDisabled!==!0){if(t[s]=n,!c)t.check_Child_State=t[i]&&t[i].length>0?n?2:0:-1}else t.check_Child_State=-1;a.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=r&&t.nocheck!==!0&&t.chkDisabled!==!0&&e.treeObj.trigger(u.event.CHECK,[null,e.treeId,t])}}}},event:{},data:{getRadioCheckedList:function(e){for(var t=f.getRoot(e).radioCheckedList,n=0,r=t.length;n<r;n++)f.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,r--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var n=e.data.key.checked;return{checked:t[n],half:t.halfCheck?t.halfCheck:e.check.chkStyle==u.radio.STYLE?t.check_Child_State===2:t[n]?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0}},getTreeCheckedNodes:function(e,t,n,r){if(!t)return[];for(var i=e.data.key.children,s=e.data.key.checked,o=n&&e.check.chkStyle==u.radio.STYLE&&e.check.radioType==u.radio.TYPE_ALL,r=r?r:[],a=0,l=t.length;a<l;a++){if(t[a].nocheck!==!0&&t[a].chkDisabled!==!0&&t[a][s]==n&&(r.push(t[a]),o))break;f.getTreeCheckedNodes(e,t[a][i],n,r);if(o&&r.length>0)break}return r},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];for(var r=e.data.key.children,i=e.data.key.checked,n=n?n:[],s=0,o=t.length;s<o;s++)t[s].nocheck!==!0&&t[s].chkDisabled!==!0&&t[s][i]!=t[s].checkedOld&&n.push(t[s]),f.getTreeChangeCheckedNodes(e,t[s][r],n);return n},makeChkFlag:function(e,t){if(t){var n=e.data.key.children,r=e.data.key.checked,i=-1;if(t[n])for(var s=0,o=t[n].length;s<o;s++){var a=t[n][s],f=-1;if(e.check.chkStyle==u.radio.STYLE){if(f=a.nocheck===!0||a.chkDisabled===!0?a.check_Child_State:a.halfCheck===!0?2:a[r]?2:a.check_Child_State>0?2:0,f==2){i=2;break}f==0&&(i=0)}else if(e.check.chkStyle==u.checkbox.STYLE){if(f=a.nocheck===!0||a.chkDisabled===!0?a.check_Child_State:a.halfCheck===!0?1:a[r]?a.check_Child_State===-1||a.check_Child_State===2?2:1:a.check_Child_State>0?1:0,f===1){i=1;break}if(f===2&&i>-1&&s>0&&f!==i){i=1;break}if(i===2&&f>-1&&f<2){i=1;break}f>-1&&(i=f)}}t.check_Child_State=i}}}});var e=e.fn.zTree,o=e._z.tools,u=e.consts,a=e._z.view,f=e._z.data,l=o.$;f.exSetting(s),f.addInitBind(function(e){e.treeObj.bind(u.event.CHECK,function(t,n,r,i){t.srcEvent=n,o.apply(e.callback.onCheck,[t,r,i])})}),f.addInitUnBind(function(e){e.treeObj.unbind(u.event.CHECK)}),f.addInitCache(function(){}),f.addInitNode(function(e,t,n,r){n&&(t=e.data.key.checked,typeof n[t]=="string"&&(n[t]=o.eqs(n[t],"true")),n[t]=!!n[t],n.checkedOld=n[t],typeof n.nocheck=="string"&&(n.nocheck=o.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||e.check.nocheckInherit&&r&&!!r.nocheck,typeof n.chkDisabled=="string"&&(n.chkDisabled=o.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||e.check.chkDisabledInherit&&r&&!!r.chkDisabled,typeof n.halfCheck=="string"&&(n.halfCheck=o.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return f.getCheckStatus(e,n)},e.check.chkStyle==u.radio.STYLE&&e.check.radioType==u.radio.TYPE_ALL&&n[t]&&f.getRoot(e).radioCheckedList.push(n))}),f.addInitProxy(function(e){var i=e.target,s=f.getSetting(e.data.treeId),a="",l=null,c="",h=null;o.eqs(e.type,"mouseover")?s.check.enable&&o.eqs(i.tagName,"span")&&i.getAttribute("treeNode"+u.id.CHECK)!==null&&(a=o.getNodeMainDom(i).id,c="mouseoverCheck"):o.eqs(e.type,"mouseout")?s.check.enable&&o.eqs(i.tagName,"span")&&i.getAttribute("treeNode"+u.id.CHECK)!==null&&(a=o.getNodeMainDom(i).id,c="mouseoutCheck"):o.eqs(e.type,"click")&&s.check.enable&&o.eqs(i.tagName,"span")&&i.getAttribute("treeNode"+u.id.CHECK)!==null&&(a=o.getNodeMainDom(i).id,c="checkNode");if(a.length>0)switch(l=f.getNodeCache(s,a),c){case"checkNode":h=t;break;case"mouseoverCheck":h=n;break;case"mouseoutCheck":h=r}return{stop:c==="checkNode",node:l,nodeEventType:c,nodeEventCallback:h,treeEventType:"",treeEventCallback:null}},!0),f.addInitRoot(function(e){f.getRoot(e).radioCheckedList=[]}),f.addBeforeA(function(e,t,n){e.check.enable&&(f.makeChkFlag(e,t),n.push("<span ID='",t.tId,u.id.CHECK,"' class='",a.makeChkClass(e,t),"' treeNode",u.id.CHECK,t.nocheck===!0?" style='display:none;'":"","></span>"))}),f.addZTreeTools(function(e,t){t.checkNode=function(e,t,n,r){var i=this.setting.data.key.checked;e.chkDisabled!==!0&&(t!==!0&&t!==!1&&(t=!e[i]),r=!!r,(e[i]!==t||n)&&(!r||o.apply(this.setting.callback.beforeCheck,[this.setting.treeId,e],!0)!=0)&&o.uCanDo(this.setting)&&this.setting.check.enable&&e.nocheck!==!0)&&(e[i]=t,t=l(e,u.id.CHECK,this.setting),(n||this.setting.check.chkStyle===u.radio.STYLE)&&a.checkNodeRelation(this.setting,e),a.setChkClass(this.setting,t,e),a.repairParentChkClassWithSelf(this.setting,e),r&&this.setting.treeObj.trigger(u.event.CHECK,[null,this.setting.treeId,e]))},t.checkAllNodes=function(e){a.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(e){var t=this.setting.data.key.children;return f.getTreeCheckedNodes(this.setting,f.getRoot(this.setting)[t],e!==!1)},t.getChangeCheckedNodes=function(){var e=this.setting.data.key.children;return f.getTreeChangeCheckedNodes(this.setting,f.getRoot(this.setting)[e])},t.setChkDisabled=function(e,t,n,r){t=!!t,n=!!n,a.repairSonChkDisabled(this.setting,e,t,!!r),a.repairParentChkDisabled(this.setting,e.getParentNode(),t,n)};var n=t.updateNode;t.updateNode=function(e,r){n&&n.apply(t,arguments);if(e&&this.setting.check.enable&&l(e,this.setting).get(0)&&o.uCanDo(this.setting)){var i=l(e,u.id.CHECK,this.setting);(r==1||this.setting.check.chkStyle===u.radio.STYLE)&&a.checkNodeRelation(this.setting,e),a.setChkClass(this.setting,i,e),a.repairParentChkClassWithSelf(this.setting,e)}}});var c=a.createNodes;a.createNodes=function(e,t,n,r){c&&c.apply(a,arguments),n&&a.repairParentChkClassWithSelf(e,r)};var h=a.removeNode;a.removeNode=function(e,t){var n=t.getParentNode();h&&h.apply(a,arguments),t&&n&&(a.repairChkClass(e,n),a.repairParentChkClass(e,n))};var p=a.appendNodes;a.appendNodes=function(e,t,n,r,i,s){var o="";return p&&(o=p.apply(a,arguments)),r&&f.makeChkFlag(e,r),o}}(jQuery),function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},n={onHoverOverNode:function(e,t){var r=u.getSetting(e.data.treeId),i=u.getRoot(r);i.curHoverNode!=t&&n.onHoverOutNode(e),i.curHoverNode=t,o.addHoverDom(r,t)},onHoverOutNode:function(e){var e=u.getSetting(e.data.treeId),t=u.getRoot(e);t.curHoverNode&&!u.isSelectedNode(e,t.curHoverNode)&&(o.removeTreeDom(e,t.curHoverNode),t.curHoverNode=null)},onMousedownNode:function(n,r){function f(n){if(v.dragFlag==0&&Math.abs(j-n.clientX)<d.edit.drag.minMoveSize&&Math.abs(F-n.clientY)<d.edit.drag.minMoveSize)return!0;var r,f,c,h,p;p=d.data.key.children,T.css("cursor","pointer");if(v.dragFlag==0){if(i.apply(d.callback.beforeDrag,[d.treeId,S],!0)==0)return l(n),!0;for(r=0,f=S.length;r<f;r++)r==0&&(v.dragNodeShowBefore=[]),c=S[r],c.isParent&&c.open?(o.expandCollapseNode(d,c,!c.open),v.dragNodeShowBefore[c.tId]=!0):v.dragNodeShowBefore[c.tId]=!1;v.dragFlag=1,y.showHoverDom=!1,i.showIfameMask(d,!0),c=!0,h=-1;if(S.length>1){var b=S[0].parentTId?S[0].getParentNode()[p]:u.getNodes(d);p=[];for(r=0,f=b.length;r<f;r++)if(v.dragNodeShowBefore[b[r].tId]!==void 0&&(c&&h>-1&&h+1!==r&&(c=!1),p.push(b[r]),h=r),S.length===p.length){S=p;break}}c&&(M=S[0].getPreNode(),_=S[S.length-1].getNextNode()),N=a("<ul class='zTreeDragUL'></ul>",d);for(r=0,f=S.length;r<f;r++)c=S[r],c.editNameFlag=!1,o.selectNode(d,c,r>0),o.removeTreeDom(d,c),r>d.edit.drag.maxShowNodeNum-1||(h=a("<li id='"+c.tId+"_tmp'></li>",d),h.append(a(c,s.id.A,d).clone()),h.css("padding","0"),h.children("#"+c.tId+s.id.A).removeClass(s.node.CURSELECTED),N.append(h),r==d.edit.drag.maxShowNodeNum-1&&(h=a("<li id='"+c.tId+"_moretmp'><a>  ...  </a></li>",d),N.append(h)));N.attr("id",S[0].tId+s.id.UL+"_tmp"),N.addClass(d.treeObj.attr("class")),N.appendTo(T),C=a("<span class='tmpzTreeMove_arrow'></span>",d),C.attr("id","zTreeMove_arrow_tmp"),C.appendTo(T),d.treeObj.trigger(s.event.DRAG,[n,d.treeId,S])}if(v.dragFlag==1){k&&C.attr("id")==n.target.id&&H&&n.clientX+x.scrollLeft()+2>e("#"+H+s.id.A,k).offset().left?(c=e("#"+H+s.id.A,k),n.target=c.length>0?c.get(0):n.target):k&&(k.removeClass(s.node.TMPTARGET_TREE),H&&e("#"+H+s.id.A,k).removeClass(s.node.TMPTARGET_NODE+"_"+s.move.TYPE_PREV).removeClass(s.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(s.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),H=k=null,L=!1,A=d,c=u.getSettings();for(var E in c)c[E].treeId&&c[E].edit.enable&&c[E].treeId!=d.treeId&&(n.target.id==c[E].treeId||e(n.target).parents("#"+c[E].treeId).length>0)&&(L=!0,A=c[E]);E=x.scrollTop(),h=x.scrollLeft(),p=A.treeObj.offset(),r=A.treeObj.get(0).scrollHeight,c=A.treeObj.get(0).scrollWidth,f=n.clientY+E-p.top;var O=A.treeObj.height()+p.top-n.clientY-E,z=n.clientX+h-p.left,W=A.treeObj.width()+p.left-n.clientX-h;p=f<d.edit.drag.borderMax&&f>d.edit.drag.borderMin;var b=O<d.edit.drag.borderMax&&O>d.edit.drag.borderMin,X=z<d.edit.drag.borderMax&&z>d.edit.drag.borderMin,V=W<d.edit.drag.borderMax&&W>d.edit.drag.borderMin,O=f>d.edit.drag.borderMin&&O>d.edit.drag.borderMin&&z>d.edit.drag.borderMin&&W>d.edit.drag.borderMin,z=p&&A.treeObj.scrollTop()<=0,W=b&&A.treeObj.scrollTop()+A.treeObj.height()+10>=r,$=X&&A.treeObj.scrollLeft()<=0,K=V&&A.treeObj.scrollLeft()+A.treeObj.width()+10>=c;if(n.target&&i.isChildOrSelf(n.target,A.treeId)){for(var Q=n.target;Q&&Q.tagName&&!i.eqs(Q.tagName,"li")&&Q.id!=A.treeId;)Q=Q.parentNode;var G=!0;for(r=0,f=S.length;r<f;r++){if(c=S[r],Q.id===c.tId){G=!1;break}if(a(c,d).find("#"+Q.id).length>0){G=!1;break}}G&&n.target&&i.isChildOrSelf(n.target,Q.id+s.id.A)&&(k=e(Q),H=Q.id)}c=S[0],O&&i.isChildOrSelf(n.target,A.treeId)&&(!k&&(n.target.id==A.treeId||z||W||$||K)&&(L||!L&&c.parentTId)&&(k=A.treeObj),p?A.treeObj.scrollTop(A.treeObj.scrollTop()-10):b&&A.treeObj.scrollTop(A.treeObj.scrollTop()+10),X?A.treeObj.scrollLeft(A.treeObj.scrollLeft()-10):V&&A.treeObj.scrollLeft(A.treeObj.scrollLeft()+10),k&&k!=A.treeObj&&k.offset().left<A.treeObj.offset().left&&A.treeObj.scrollLeft(A.treeObj.scrollLeft()+k.offset().left-A.treeObj.offset().left)),N.css({top:n.clientY+E+3+"px",left:n.clientX+h+3+"px"}),p=r=0;if(k&&k.attr("id")!=A.treeId){var Y=H==null?null:u.getNodeCache(A,H);f=(n.ctrlKey||n.metaKey)&&d.edit.drag.isMove&&d.edit.drag.isCopy||!d.edit.drag.isMove&&d.edit.drag.isCopy,r=!!M&&H===M.tId,p=!!_&&H===_.tId,h=c.parentTId&&c.parentTId==H,c=(f||!p)&&i.apply(A.edit.drag.prev,[A.treeId,S,Y],!!A.edit.drag.prev),r=(f||!r)&&i.apply(A.edit.drag.next,[A.treeId,S,Y],!!A.edit.drag.next),V=(f||!h)&&(!A.data.keep.leaf||!!Y.isParent)&&i.apply(A.edit.drag.inner,[A.treeId,S,Y],!!A.edit.drag.inner);if(!c&&!r&&!V){if(k=null,H="",B=s.move.TYPE_INNER,C.css({display:"none"}),window.zTreeMoveTimer)clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null}else{f=e("#"+H+s.id.A,k),p=Y.isLastNode?null:e("#"+Y.getNextNode().tId+s.id.A,k.next()),b=f.offset().top,h=f.offset().left,X=c?V?.25:r?.5:1:-1,V=r?V?.75:c?.5:0:-1,E=(n.clientY+E-b)/f.height(),(X==1||E<=X&&E>=-0.2)&&c?(r=1-C.width(),p=b-C.height()/2,B=s.move.TYPE_PREV):(V==0||E>=V&&E<=1.2)&&r?(r=1-C.width(),p=p==null||Y.isParent&&Y.open?b+f.height()-C.height()/2:p.offset().top-C.height()/2,B=s.move.TYPE_NEXT):(r=5-C.width(),p=b,B=s.move.TYPE_INNER),C.css({display:"block",top:p+"px",left:h+r+"px"}),f.addClass(s.node.TMPTARGET_NODE+"_"+B);if(D!=H||P!=B)q=(new Date).getTime();Y&&Y.isParent&&B==s.move.TYPE_INNER&&(E=!0,window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==Y.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===Y.tId&&(E=!1),E)&&(window.zTreeMoveTimer=setTimeout(function(){B==s.move.TYPE_INNER&&Y&&Y.isParent&&!Y.open&&(new Date).getTime()-q>A.edit.drag.autoOpenTime&&i.apply(A.callback.beforeDragOpen,[A.treeId,Y],!0)&&(o.switchNode(A,Y),A.edit.drag.autoExpandTrigger&&A.treeObj.trigger(s.event.EXPAND,[A.treeId,Y]))},A.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=Y.tId)}}else if(B=s.move.TYPE_INNER,k&&i.apply(A.edit.drag.inner,[A.treeId,S,null],!!A.edit.drag.inner)?k.addClass(s.node.TMPTARGET_TREE):k=null,C.css({display:"none"}),window.zTreeMoveTimer)clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null;D=H,P=B,d.treeObj.trigger(s.event.DRAGMOVE,[n,d.treeId,S])}return!1}function l(n){window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),P=D=null,x.unbind("mousemove",f),x.unbind("mouseup",l),x.unbind("selectstart",c),T.css("cursor","auto"),k&&(k.removeClass(s.node.TMPTARGET_TREE),H&&e("#"+H+s.id.A,k).removeClass(s.node.TMPTARGET_NODE+"_"+s.move.TYPE_PREV).removeClass(s.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(s.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),i.showIfameMask(d,!1),y.showHoverDom=!0;if(v.dragFlag!=0){v.dragFlag=0;var r,h,p;for(r=0,h=S.length;r<h;r++)p=S[r],p.isParent&&v.dragNodeShowBefore[p.tId]&&!p.open&&(o.expandCollapseNode(d,p,!p.open),delete v.dragNodeShowBefore[p.tId]);N&&N.remove(),C&&C.remove();var b=(n.ctrlKey||n.metaKey)&&d.edit.drag.isMove&&d.edit.drag.isCopy||!d.edit.drag.isMove&&d.edit.drag.isCopy;!b&&k&&H&&S[0].parentTId&&H==S[0].parentTId&&B==s.move.TYPE_INNER&&(k=null);if(k){var E=H==null?null:u.getNodeCache(A,H);if(i.apply(d.callback.beforeDrop,[A.treeId,S,E,B,b],!0)==0)o.selectNodes(O,S);else{var M=b?i.clone(S):S;r=function(){if(L){if(!b)for(var e=0,t=S.length;e<t;e++)o.removeNode(d,S[e]);if(B==s.move.TYPE_INNER)o.addNodes(A,E,M);else if(o.addNodes(A,E.getParentNode(),M),B==s.move.TYPE_PREV)for(e=0,t=M.length;e<t;e++)o.moveNode(A,E,M[e],B,!1);else for(e=-1,t=M.length-1;e<t;t--)o.moveNode(A,E,M[t],B,!1)}else if(b&&B==s.move.TYPE_INNER)o.addNodes(A,E,M);else if(b&&o.addNodes(A,E.getParentNode(),M),B!=s.move.TYPE_NEXT)for(e=0,t=M.length;e<t;e++)o.moveNode(A,E,M[e],B,!1);else for(e=-1,t=M.length-1;e<t;t--)o.moveNode(A,E,M[t],B,!1);o.selectNodes(A,M),a(M[0],d).focus().blur(),d.treeObj.trigger(s.event.DROP,[n,A.treeId,M,E,B,b])},B==s.move.TYPE_INNER&&i.canAsync(A,E)?o.asyncNode(A,E,!1,r):r()}}else o.selectNodes(O,S),d.treeObj.trigger(s.event.DROP,[n,d.treeId,S,null,null,null])}}function c(){return!1}var h,p,d=u.getSetting(n.data.treeId),v=u.getRoot(d),y=u.getRoots();if(n.button==2||!d.edit.enable||!d.edit.drag.isCopy&&!d.edit.drag.isMove)return!0;var b=n.target,E=u.getRoot(d).curSelectedList,S=[];if(u.isSelectedNode(d,r))for(h=0,p=E.length;h<p;h++){if(E[h].editNameFlag&&i.eqs(b.tagName,"input")&&b.getAttribute("treeNode"+s.id.INPUT)!==null)return!0;S.push(E[h]);if(S[0].parentTId!==E[h].parentTId){S=[r];break}}else S=[r];o.editNodeBlur=!0,o.cancelCurEditNode(d);var x=e(d.treeObj.get(0).ownerDocument),T=e(d.treeObj.get(0).ownerDocument.body),N,C,k,L=!1,A=d,O=d,M,_,D=null,P=null,H=null,B=s.move.TYPE_INNER,j=n.clientX,F=n.clientY,q=(new Date).getTime();return i.uCanDo(d)&&x.bind("mousemove",f),x.bind("mouseup",l),x.bind("selectstart",c),n.preventDefault&&n.preventDefault(),!0}};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,{tools:{getAbs:function(e){return e=e.getBoundingClientRect(),[e.left+(document.body.scrollLeft+document.documentElement.scrollLeft),e.top+(document.body.scrollTop+document.documentElement.scrollTop)]},inputFocus:function(e){e.get(0)&&(e.focus(),i.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},showIfameMask:function(e,t){for(var n=u.getRoot(e);n.dragMaskList.length>0;)n.dragMaskList[0].remove(),n.dragMaskList.shift();if(t)for(var r=a("iframe",e),s=0,o=r.length;s<o;s++){var f=r.get(s),l=i.getAbs(f),f=a("<div id='zTreeMask_"+s+"' class='zTreeMask' style='top:"+l[1]+"px; left:"+l[0]+"px; width:"+f.offsetWidth+"px; height:"+f.offsetHeight+"px;'></div>",e);f.appendTo(a("body",e)),n.dragMaskList.push(f)}}},view:{addEditBtn:function(e,t){if(!(t.editNameFlag||a(t,s.id.EDIT,e).length>0)&&i.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var n=a(t,s.id.A,e),r="<span class='"+s.className.BUTTON+" edit' id='"+t.tId+s.id.EDIT+"' title='"+i.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+s.id.EDIT+" style='display:none;'></span>";n.append(r),a(t,s.id.EDIT,e).bind("click",function(){return!i.uCanDo(e)||i.apply(e.callback.beforeEditName,[e.treeId,t],!0)==0?!1:(o.editNode(e,t),!1)}).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||a(t,s.id.REMOVE,e).length>0)&&i.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var n=a(t,s.id.A,e),r="<span class='"+s.className.BUTTON+" remove' id='"+t.tId+s.id.REMOVE+"' title='"+i.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+s.id.REMOVE+" style='display:none;'></span>";n.append(r),a(t,s.id.REMOVE,e).bind("click",function(){return!i.uCanDo(e)||i.apply(e.callback.beforeRemove,[e.treeId,t],!0)==0?!1:(o.removeNode(e,t),e.treeObj.trigger(s.event.REMOVE,[e.treeId,t]),!1)}).bind("mousedown",function(){return!0}).show()}},addHoverDom:function(e,t){u.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(o.addEditBtn(e,t),o.addRemoveBtn(e,t)),i.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,n){var r=u.getRoot(e),f=e.data.key.name,l=r.curEditNode;if(l){var c=r.curEditInput,t=t?t:n?l[f]:c.val();if(i.apply(e.callback.beforeRename,[e.treeId,l,t,n],!0)===!1)return!1;l[f]=t,e.treeObj.trigger(s.event.RENAME,[e.treeId,l,n]),a(l,s.id.A,e).removeClass(s.node.CURSELECTED_EDIT),c.unbind(),o.setNodeName(e,l),l.editNameFlag=!1,r.curEditNode=null,r.curEditInput=null,o.selectNode(e,l,!1)}return r.noSelection=!0},editNode:function(e,t){var n=u.getRoot(e);o.editNodeBlur=!1;if(u.isSelectedNode(e,t)&&n.curEditNode==t&&t.editNameFlag)setTimeout(function(){i.inputFocus(n.curEditInput)},0);else{var r=e.data.key.name;t.editNameFlag=!0,o.removeTreeDom(e,t),o.cancelCurEditNode(e),o.selectNode(e,t,!1),a(t,s.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+s.id.INPUT+"' treeNode"+s.id.INPUT+" >");var f=a(t,s.id.INPUT,e);f.attr("value",t[r]),e.edit.editNameSelectAll?i.inputSelect(f):i.inputFocus(f),f.bind("blur",function(){o.editNodeBlur||o.cancelCurEditNode(e)}).bind("keydown",function(t){t.keyCode=="13"?(o.editNodeBlur=!0,o.cancelCurEditNode(e)):t.keyCode=="27"&&o.cancelCurEditNode(e,null,!0)}).bind("click",function(){return!1}).bind("dblclick",function(){return!1}),a(t,s.id.A,e).addClass(s.node.CURSELECTED_EDIT),n.curEditInput=f,n.noSelection=!1,n.curEditNode=t}},moveNode:function(e,t,n,r,i,f){var l=u.getRoot(e),c=e.data.key.children;if(t!=n&&(!e.data.keep.leaf||!t||t.isParent||r!=s.move.TYPE_INNER)){var h=n.parentTId?n.getParentNode():l,p=t===null||t==l;p&&t===null&&(t=l),p&&(r=s.move.TYPE_INNER),l=t.parentTId?t.getParentNode():l,r!=s.move.TYPE_PREV&&r!=s.move.TYPE_NEXT&&(r=s.move.TYPE_INNER),r==s.move.TYPE_INNER&&(p?n.parentTId=null:(t.isParent||(t.isParent=!0,t.open=!!t.open,o.setNodeLineIcos(e,t)),n.parentTId=t.tId));var d;p?d=p=e.treeObj:(!f&&r==s.move.TYPE_INNER?o.expandCollapseNode(e,t,!0,!1):f||o.expandCollapseNode(e,t.getParentNode(),!0,!1),p=a(t,e),d=a(t,s.id.UL,e),p.get(0)&&!d.get(0)&&(d=[],o.makeUlHtml(e,t,d,""),p.append(d.join(""))),d=a(t,s.id.UL,e));var v=a(n,e);v.get(0)?p.get(0)||v.remove():v=o.appendNodes(e,n.level,[n],null,!1,!0).join(""),d.get(0)&&r==s.move.TYPE_INNER?d.append(v):p.get(0)&&r==s.move.TYPE_PREV?p.before(v):p.get(0)&&r==s.move.TYPE_NEXT&&p.after(v);var g=-1,y=0,b=null,p=null,w=n.level;if(n.isFirstNode){if(g=0,h[c].length>1)b=h[c][1],b.isFirstNode=!0}else if(n.isLastNode)g=h[c].length-1,b=h[c][g-1],b.isLastNode=!0;else for(d=0,v=h[c].length;d<v;d++)if(h[c][d].tId==n.tId){g=d;break}g>=0&&h[c].splice(g,1);if(r!=s.move.TYPE_INNER)for(d=0,v=l[c].length;d<v;d++)l[c][d].tId==t.tId&&(y=d);r==s.move.TYPE_INNER?(t[c]||(t[c]=[]),t[c].length>0&&(p=t[c][t[c].length-1],p.isLastNode=!1),t[c].splice(t[c].length,0,n),n.isLastNode=!0,n.isFirstNode=t[c].length==1):t.isFirstNode&&r==s.move.TYPE_PREV?(l[c].splice(y,0,n),p=t,p.isFirstNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!0,n.isLastNode=!1):t.isLastNode&&r==s.move.TYPE_NEXT?(l[c].splice(y+1,0,n),p=t,p.isLastNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!0):(r==s.move.TYPE_PREV?l[c].splice(y,0,n):l[c].splice(y+1,0,n),n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!1),u.fixPIdKeyValue(e,n),u.setSonNodeLevel(e,n.getParentNode(),n),o.setNodeLineIcos(e,n),o.repairNodeLevelClass(e,n,w),!e.data.keep.parent&&h[c].length<1?(h.isParent=!1,h.open=!1,t=a(h,s.id.UL,e),r=a(h,s.id.SWITCH,e),c=a(h,s.id.ICON,e),o.replaceSwitchClass(h,r,s.folder.DOCU),o.replaceIcoClass(h,c,s.folder.DOCU),t.css("display","none")):b&&o.setNodeLineIcos(e,b),p&&o.setNodeLineIcos(e,p),e.check&&e.check.enable&&o.repairChkClass&&(o.repairChkClass(e,h),o.repairParentChkClassWithSelf(e,h),h!=n.parent&&o.repairParentChkClassWithSelf(e,n)),f||o.expandCollapseParentNode(e,n.getParentNode(),!0,i)}},removeEditBtn:function(e,t){a(t,s.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){a(t,s.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,o.removeEditBtn(e,t),o.removeRemoveBtn(e,t),i.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,n){if(n!==t.level){var r=a(t,e),i=a(t,s.id.A,e),e=a(t,s.id.UL,e),n=s.className.LEVEL+n,t=s.className.LEVEL+t.level;r.removeClass(n),r.addClass(t),i.removeClass(n),i.addClass(t),e.removeClass(n),e.addClass(t)}},selectNodes:function(e,t){for(var n=0,r=t.length;n<r;n++)o.selectNode(e,t[n],n>0)}},event:{},data:{setSonNodeLevel:function(e,t,n){if(n){var r=e.data.key.children;n.level=t?t.level+1:0;if(n[r])for(var t=0,i=n[r].length;t<i;t++)n[r][t]&&u.setSonNodeLevel(e,n,n[r][t])}}}});var r=e.fn.zTree,i=r._z.tools,s=r.consts,o=r._z.view,u=r._z.data,a=i.$;u.exSetting({edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}}),u.addInitBind(function(e){var t=e.treeObj,n=s.event;t.bind(n.RENAME,function(t,n,r,s){i.apply(e.callback.onRename,[t,n,r,s])}),t.bind(n.DRAG,function(t,n,r,s){i.apply(e.callback.onDrag,[n,r,s])}),t.bind(n.DRAGMOVE,function(t,n,r,s){i.apply(e.callback.onDragMove,[n,r,s])}),t.bind(n.DROP,function(t,n,r,s,o,u,a){i.apply(e.callback.onDrop,[n,r,s,o,u,a])})}),u.addInitUnBind(function(e){var e=e.treeObj,t=s.event;e.unbind(t.RENAME),e.unbind(t.DRAG),e.unbind(t.DRAGMOVE),e.unbind(t.DROP)}),u.addInitCache(function(){}),u.addInitNode
(function(e,t,n){n&&(n.isHover=!1,n.editNameFlag=!1)}),u.addInitProxy(function(e){var t=e.target,r=u.getSetting(e.data.treeId),o=e.relatedTarget,a="",f=null,l="",c=null,h=null;if(i.eqs(e.type,"mouseover")){if(h=i.getMDom(r,t,[{tagName:"a",attrName:"treeNode"+s.id.A}]))a=i.getNodeMainDom(h).id,l="hoverOverNode"}else i.eqs(e.type,"mouseout")?(h=i.getMDom(r,o,[{tagName:"a",attrName:"treeNode"+s.id.A}]),h||(a="remove",l="hoverOutNode")):i.eqs(e.type,"mousedown")&&(h=i.getMDom(r,t,[{tagName:"a",attrName:"treeNode"+s.id.A}]))&&(a=i.getNodeMainDom(h).id,l="mousedownNode");if(a.length>0)switch(f=u.getNodeCache(r,a),l){case"mousedownNode":c=n.onMousedownNode;break;case"hoverOverNode":c=n.onHoverOverNode;break;case"hoverOutNode":c=n.onHoverOutNode}return{stop:!1,node:f,nodeEventType:l,nodeEventCallback:c,treeEventType:"",treeEventCallback:null}}),u.addInitRoot(function(e){var e=u.getRoot(e),t=u.getRoots();e.curEditNode=null,e.curEditInput=null,e.curHoverNode=null,e.dragFlag=0,e.dragNodeShowBefore=[],e.dragMaskList=[],t.showHoverDom=!0}),u.addZTreeTools(function(e,t){t.cancelEditName=function(e){u.getRoot(this.setting).curEditNode&&o.cancelCurEditNode(this.setting,e?e:null,!0)},t.copyNode=function(e,t,n,r){if(!t)return null;if(e&&!e.isParent&&this.setting.data.keep.leaf&&n===s.move.TYPE_INNER)return null;var u=this,a=i.clone(t);return e||(e=null,n=s.move.TYPE_INNER),n==s.move.TYPE_INNER?(t=function(){o.addNodes(u.setting,e,[a],r)},i.canAsync(this.setting,e)?o.asyncNode(this.setting,e,r,t):t()):(o.addNodes(this.setting,e.parentNode,[a],r),o.moveNode(this.setting,e,a,n,!1,r)),a},t.editName=function(e){e&&e.tId&&e===u.getNodeCache(this.setting,e.tId)&&(e.parentTId&&o.expandCollapseParentNode(this.setting,e.getParentNode(),!0),o.editNode(this.setting,e))},t.moveNode=function(e,t,n,r){function u(){o.moveNode(f.setting,e,t,n,!1,r)}if(!t)return t;if(e&&!e.isParent&&this.setting.data.keep.leaf&&n===s.move.TYPE_INNER)return null;if(e&&(t.parentTId==e.tId&&n==s.move.TYPE_INNER||a(t,this.setting).find("#"+e.tId).length>0))return null;e||(e=null);var f=this;return i.canAsync(this.setting,e)&&n===s.move.TYPE_INNER?o.asyncNode(this.setting,e,r,u):u(),t},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}});var f=o.cancelPreSelectedNode;o.cancelPreSelectedNode=function(e,t){for(var n=u.getRoot(e).curSelectedList,r=0,i=n.length;r<i;r++)if(!t||t===n[r])if(o.removeTreeDom(e,n[r]),t)break;f&&f.apply(o,arguments)};var l=o.createNodes;o.createNodes=function(e,t,n,r){l&&l.apply(o,arguments),n&&o.repairParentChkClassWithSelf&&o.repairParentChkClassWithSelf(e,r)};var c=o.makeNodeUrl;o.makeNodeUrl=function(e,t){return e.edit.enable?null:c.apply(o,arguments)};var h=o.removeNode;o.removeNode=function(e,t){var n=u.getRoot(e);n.curEditNode===t&&(n.curEditNode=null),h&&h.apply(o,arguments)};var p=o.selectNode;o.selectNode=function(e,t,n){var r=u.getRoot(e);return u.isSelectedNode(e,t)&&r.curEditNode==t&&t.editNameFlag?!1:(p&&p.apply(o,arguments),o.addHoverDom(e,t),!0)};var d=i.uCanDo;i.uCanDo=function(e,t){var n=u.getRoot(e);return t&&(i.eqs(t.type,"mouseover")||i.eqs(t.type,"mouseout")||i.eqs(t.type,"mousedown")||i.eqs(t.type,"mouseup"))?!0:(n.curEditNode&&(o.editNodeBlur=!1,n.curEditInput.focus()),!n.curEditNode&&(d?d.apply(o,arguments):!0))}}(jQuery),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){this.input_to_hierarchy_selector=function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d;a=Math.floor(Math.random()*1e7+1),o=function(n){var r,s,o;return o=$(this),r=parseInt(o.data("input_num")),s=$(o,"option:selected").val(),$("input[input_id="+a+"_input_"+r+"]").val(s),e.length-1>r&&i($("#"+a+"_select_"+(r+1)),t[r+1],s,$("input[input_id="+a+"_input_"+(r+1)+"]").val()),$("#"+a+"_select_"+(r+1)).change()},i=function(e,t,n,r){return e.html("<option></option>"),$.getJSON(""+t+n,function(t){var n,i,s,o,u;if(t.children!=null){o=t.children,u=[];for(i=0,s=o.length;i<s;i++)n=o[i],parseInt(r)!==parseInt(n.id)?u.push(e.append("<option value='"+n.id+"'>"+n.name+"</option>")):u.push(e.append("<option value='"+n.id+"' selected>"+n.name+"</option>"));return u}})},l=function(e,t,n){return $.getJSON(""+t+n,function(t){if(t.name!=null)return e.append("<option value='"+n+"' selected>"+t.name+"</option>")})};for(r=c=0,p=e.length;c<p;r=++c)s=e[r],u=s,u.attr("input_id",""+a+"_input_"+r).data("input_num",""+r),u.after("<select id='"+a+"_select_"+r+"'></select>"),u.hide();for(r=h=0,d=e.length;h<d;r=++h)s=e[r],u=s,f=$("#"+a+"_select_"+r),f.data("input_num",""+r).change(o),parseInt(u.val())>0?r!==0&&l(f,t[r],u.val()):f.append("<option></option>");return i($("#"+a+"_select_0"),t[0],n,$("input[input_id="+a+"_input_0]").val())},this.input_to_hierarchy_1selector=function(e,t,n,r){var i,s,o,u,a,f,l,c;u=Math.floor(Math.random()*1e7+1),o=function(n){var r,i,o;o=$(this),r=parseInt(o.data("input_num")),i=$(o,"option:selected").val(),t.length-1>r&&(s($("#"+u+"_select_"+(r+1)),t[r+1],i,$("input[input_id="+u+"_input_"+(r+1)+"]").val()),$("#"+u+"_select_"+(r+1)).change());if(t.length-1===r&&parseInt(i)>0)return e.val(i)},s=function(e,t,n,r){return e.html("<option></option>"),$.getJSON(""+t+n,function(t){var n,i,s,o,u,a,f,l;if(t.children!=null){a=t.children,f=[];for(i=0,o=a.length;i<o;i++)n=a[i],parseInt(r)!==parseInt(n.id)?f.push(e.append("<option value='"+n.id+"'>"+n.name+"</option>")):f.push(e.append("<option value='"+n.id+"' selected>"+n.name+"</option>"));return f}l=[];for(s=0,u=t.length;s<u;s++)n=t[s],parseInt(r)!==parseInt(n.id)?l.push(e.append("<option value='"+n.id+"'>"+n.name+"</option>")):l.push(e.append("<option value='"+n.id+"' selected>"+n.name+"</option>"));return l})},a=function(e,t){return $.getJSON(""+r+t,function(n){if(n.name!=null)return e.append("<option value='"+t+"' selected>"+n.name+"</option>")})},e.hide();for(i=l=0,c=t.length;l<c;i=++l)f=t[i],e.parent().append("<select id='"+u+"_select_"+i+"'></select><br />"),$("#"+u+"_select_"+i).data("input_num",""+i).change(o);return parseInt(e.val())>0&&a($("#"+u+"_select_"+(t.length-1)),e.val()),s($("#"+u+"_select_0"),t[0],n,$("input[input_id="+u+"_input_0]").val())},this.get_search_selector=function(e,t,n,r){var i,s,o,u,a,f,l,c,h;e.hide(),e.after("<input id='input_"+e.attr("id")+"' />"),s=function(e){var t,n,r,i;for(t=r=0,i=e.length;r<i;t=++r)n=e[t],n.title!=null&&(n.text=n.title),n.name!=null&&(n.text=n.name),n.ectitle!=null&&(n.text=n.ectitle);return e},f=function(t){return $("#"+e.attr("id")+" option[value='"+t+"']").remove()},i=function(t,n){return e.append("<option value='"+t+"' selected>"+n+"</option>")},u=s(n),r||(u=u[0]),$("#input_"+e.attr("id")).select2({placeholder:"请输入关键字查询",width:380,minimumInputLength:1,multiple:r,ajax:{url:t,data:function(e,t){return{search:e}},results:function(e,t){return{results:s(e)}}},dropdownCssClass:"bigdrop",escapeMarkup:function(e){return e}}).select2("data",u).on("select2-selecting",function(e){return i(e.choice.id,e.choice.text)}).on("select2-removed",function(e){return f(e.choice.id)}),h=[];for(o=l=0,c=u.length;l<c;o=++l)a=u[o],h.push(i(a.id,a.text));return h},this.search_list=function(){}}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this);var hexcase=0,b64pad="",chrsz=8;(function(){}).call(this),function(e){function c(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function h(e,t,n){return t<e.length?e:Array(t-e.length+1).join(n||" ")+e}function p(e,t,n,r,i,s){return t&&n?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><ul><li'+(s?' class="collapse in"':"")+">"+'<div class="datepicker">'+v.template+"</div>"+"</li>"+'<li class="picker-switch accordion-toggle"><a><i class="'+e+'"></i></a></li>'+"<li"+(s?' class="collapse"':"")+">"+'<div class="timepicker">'+m.getTemplate(r,i)+"</div>"+"</li>"+"</ul>"+"</div>":n?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+m.getTemplate(r,i)+"</div>"+"</div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+v.template+"</div>"+"</div>"}function d(){return new Date(Date.UTC.apply(Date,arguments))}var t=window.orientation!=undefined,n=function(e,t){this.id=i++,this.init(e,t)},r=function(e){return typeof e=="string"?new Date(e):e};n.prototype={constructor:n,init:function(t,n){var r;if(!n.pickTime&&!n.pickDate)throw new Error("Must choose at least one picker");this.options=n,this.$element=e(t),this.language=n.language in s?n.language:"en",this.pickDate=n.pickDate,this.pickTime=n.pickTime,this.isInput=this.$element.is("input"),this.component=!1;if(this.$element.find(".input-append")||this.$element.find(".input-prepend"))this.component=this.$element.find(".add-on");this.format=n.format,this.format||(this.isInput?this.format=this.$element.data("format"):this.format=this.$element.find("input").data("format"),this.format||(this.format="MM/dd/yyyy")),this._compileFormat(),this.component&&(r=this.component.find("i")),this.pickTime&&(r&&r.length&&(this.timeIcon=r.data("time-icon")),this.timeIcon||(this.timeIcon="icon-time"),r.addClass(this.timeIcon)),this.pickDate&&(r&&r.length&&(this.dateIcon=r.data("date-icon")),this.dateIcon||(this.dateIcon="icon-calendar"),r.removeClass(this.timeIcon),r.addClass(this.dateIcon)),this.widget=e(p(this.timeIcon,n.pickDate,n.pickTime,n.pick12HourFormat,n.pickSeconds,n.collapse)).appendTo("body"),this.minViewMode=n.minViewMode||this.$element.data("date-minviewmode")||0;if(typeof this.minViewMode=="string")switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}this.viewMode=n.viewMode||this.$element.data("date-viewmode")||0;if(typeof this.viewMode=="string")switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=n.weekStart||this.$element.data("date-weekstart")||0,this.weekEnd=this.weekStart===0?6:this.weekStart-1,this.setStartDate(n.startDate||this.$element.data("date-startdate")),this.setEndDate(n.endDate||this.$element.data("date-enddate")),this.fillDow(),this.fillMonths(),this.fillHours(),this.fillMinutes(),this.fillSeconds(),this.update(),this.showMode(),this._attachDatePickerEvents()},show:function(e){this.widget.show(),this.height=this.component?this.component.outerHeight():this.$element.outerHeight(),this.place(),this.$element.trigger({type:"show",date:this._date}),this._attachDatePickerGlobalEvents(),e&&(e.stopPropagation(),e.preventDefault())},disable:function(){this.$element.find("input").prop("disabled",!0),this._detachDatePickerEvents()},enable:function(){this.$element.find("input").prop("disabled",!1),this._attachDatePickerEvents()},hide:function(){var e=this.widget.find(".collapse");for(var t=0;t<e.length;t++){var n=e.eq(t).data("collapse");if(n&&n.transitioning)return}this.widget.hide(),this.viewMode=this.startViewMode,this.showMode(),this.set(),this.$element.trigger({type:"hide",date:this._date}),this._detachDatePickerGlobalEvents()},set:function(){var e="";this._unset||(e=this.formatDate(this._date));if(!this.isInput){if(this.component){var t=this.$element.find("input");t.val(e),this._resetMaskPos(t)}this.$element.data("date",e)}else this.$element.val(e),this._resetMaskPos(this.$element)},setValue:function(e){e?this._unset=!1:this._unset=!0,typeof e=="string"?this._date=this.parseDate(e):e&&(this._date=new Date(e)),this.set(),this.viewDate=d(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},getDate:function(){return this._unset?null:new Date(this._date.valueOf())},setDate:function(e){e?this.setValue(e.valueOf()):this.setValue(null)},setStartDate:function(e){e instanceof Date?this.startDate=e:typeof e=="string"?(this.startDate=new d(e),this.startDate.getUTCFullYear()||(this.startDate=-Infinity)):this.startDate=-Infinity,this.viewDate&&this.update()},setEndDate:function(e){e instanceof Date?this.endDate=e:typeof e=="string"?(this.endDate=new d(e),this.endDate.getUTCFullYear()||(this.endDate=Infinity)):this.endDate=Infinity,this.viewDate&&this.update()},getLocalDate:function(){if(this._unset)return null;var e=this._date;return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())},setLocalDate:function(e){e?this.setValue(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())):this.setValue(null)},place:function(){var t="absolute",n=this.component?this.component.offset():this.$element.offset();this.width=this.component?this.component.outerWidth():this.$element.outerWidth(),n.top=n.top+this.height;var r=e(window);this.options.width!=undefined&&this.widget.width(this.options.width),this.options.orientation=="left"&&(this.widget.addClass("left-oriented"),n.left=n.left-this.widget.width()+20),this._isInFixed()&&(t="fixed",n.top-=r.scrollTop(),n.left-=r.scrollLeft()),r.width()<n.left+this.widget.outerWidth()?(n.right=r.width()-n.left-this.width,n.left="auto",this.widget.addClass("pull-right")):(n.right="auto",this.widget.removeClass("pull-right")),this.widget.css({position:t,top:n.top,left:n.left,right:n.right})},notifyChange:function(){this.$element.trigger({type:"changeDate",date:this.getDate(),localDate:this.getLocalDate()})},update:function(e){var t=e;if(!t){this.isInput?t=this.$element.val():t=this.$element.find("input").val(),t&&(this._date=this.parseDate(t));if(!this._date){var n=new Date;this._date=d(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}}this.viewDate=d(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},fillDow:function(){var t=this.weekStart,n=e("<tr>");while(t<this.weekStart+7)n.append('<th class="dow">'+s[this.language].daysMin[t++%7]+"</th>");this.widget.find(".datepicker-days thead").append(n)},fillMonths:function(){var e="",t=0;while(t<12)e+='<span class="month">'+s[this.language].monthsShort[t++]+"</span>";this.widget.find(".datepicker-months td").append(e)},fillDate:function(){var t=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),r=d(this._date.getUTCFullYear(),this._date.getUTCMonth(),this._date.getUTCDate(),0,0,0,0),i=typeof this.startDate=="object"?this.startDate.getUTCFullYear():-Infinity,o=typeof this.startDate=="object"?this.startDate.getUTCMonth():-1,u=typeof this.endDate=="object"?this.endDate.getUTCFullYear():Infinity,a=typeof this.endDate=="object"?this.endDate.getUTCMonth():12;this.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-days th:eq(1)").text(s[this.language].months[n]+" "+t);var f=d(t,n-1,28,0,0,0,0),l=v.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(l),f.setUTCDate(l-(f.getUTCDay()-this.weekStart+7)%7),(t==i&&n<=o||t<i)&&this.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(t==u&&n>=a||t>u)&&this.widget.find(".datepicker-days th:eq(2)").addClass("disabled");var c=new Date(f.valueOf());c.setUTCDate(c.getUTCDate()+42),c=c.valueOf();var h=[],p,m;while(f.valueOf()<c){f.getUTCDay()===this.weekStart&&(p=e("<tr>"),h.push(p)),m="";if(f.getUTCFullYear()<t||f.getUTCFullYear()==t&&f.getUTCMonth()<n)m+=" old";else if(f.getUTCFullYear()>t||f.getUTCFullYear()==t&&f.getUTCMonth()>n)m+=" new";f.valueOf()===r.valueOf()&&(m+=" active"),f.valueOf()+864e5<=this.startDate&&(m+=" disabled"),f.valueOf()>this.endDate&&(m+=" disabled"),p.append('<td class="day'+m+'">'+f.getUTCDate()+"</td>"),f.setUTCDate(f.getUTCDate()+1)}this.widget.find(".datepicker-days tbody").empty().append(h);var g=this._date.getUTCFullYear(),y=this.widget.find(".datepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active");g===t&&y.eq(this._date.getUTCMonth()).addClass("active"),g-1<i&&this.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),g+1>u&&this.widget.find(".datepicker-months th:eq(2)").addClass("disabled");for(var b=0;b<12;b++)t==i&&o>b||t<i?e(y[b]).addClass("disabled"):(t==u&&a<b||t>u)&&e(y[b]).addClass("disabled");h="",t=parseInt(t/10,10)*10;var w=this.widget.find(".datepicker-years").find("th:eq(1)").text(t+"-"+(t+9)).end().find("td");this.widget.find(".datepicker-years").find("th").removeClass("disabled"),i>t&&this.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),u<t+9&&this.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),t-=1;for(var b=-1;b<11;b++)h+='<span class="year'+(b===-1||b===10?" old":"")+(g===t?" active":"")+(t<i||t>u?" disabled":"")+'">'+t+"</span>",t+=1;w.html(h)},fillHours:function(){var e=this.widget.find(".timepicker .timepicker-hours table");e.parent().hide();var t="";if(this.options.pick12HourFormat){var n=1;for(var r=0;r<3;r+=1){t+="<tr>";for(var i=0;i<4;i+=1){var s=n.toString();t+='<td class="hour">'+h(s,2,"0")+"</td>",n++}t+="</tr>"}}else{var n=0;for(var r=0;r<6;r+=1){t+="<tr>";for(var i=0;i<4;i+=1){var s=n.toString();t+='<td class="hour">'+h(s,2,"0")+"</td>",n++}t+="</tr>"}}e.html(t)},fillMinutes:function(){var e=this.widget.find(".timepicker .timepicker-minutes table");e.parent().hide();var t="",n=0;for(var r=0;r<5;r++){t+="<tr>";for(var i=0;i<4;i+=1){var s=n.toString();t+='<td class="minute">'+h(s,2,"0")+"</td>",n+=3}t+="</tr>"}e.html(t)},fillSeconds:function(){var e=this.widget.find(".timepicker .timepicker-seconds table");e.parent().hide();var t="",n=0;for(var r=0;r<5;r++){t+="<tr>";for(var i=0;i<4;i+=1){var s=n.toString();t+='<td class="second">'+h(s,2,"0")+"</td>",n+=3}t+="</tr>"}e.html(t)},fillTime:function(){if(!this._date)return;var e=this.widget.find(".timepicker span[data-time-component]"),t=e.closest("table"),n=this.options.pick12HourFormat,r=this._date.getUTCHours(),i="AM";n&&(r>=12&&(i="PM"),r===0?r=12:r!=12&&(r%=12),this.widget.find(".timepicker [data-action=togglePeriod]").text(i)),r=h(r.toString(),2,"0");var s=h(this._date.getUTCMinutes().toString(),2,"0"),o=h(this._date.getUTCSeconds().toString(),2,"0");e.filter("[data-time-component=hours]").text(r),e.filter("[data-time-component=minutes]").text(s),e.filter("[data-time-component=seconds]").text(o)},click:function(t){t.stopPropagation(),t.preventDefault(),this._unset=!1;var n=e(t.target).closest("span, td, th");if(n.length===1&&!n.is(".disabled"))switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var r=this.viewDate,i=v.modes[this.viewMode].navFnc,s=v.modes[this.viewMode].navStep;n[0].className==="prev"&&(s*=-1),r["set"+i](r["get"+i]()+s),this.fillDate(),this.set()}break;case"span":if(n.is(".month")){var o=n.parent().find("span").index(n);this.viewDate.setUTCMonth(o)}else{var u=parseInt(n.text(),10)||0;this.viewDate.setUTCFullYear(u)}this.viewMode!==0&&(this._date=d(this.viewDate.getUTCFullYear(),this.viewDate.getUTCMonth(),this.viewDate.getUTCDate(),this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.notifyChange()),this.showMode(-1),this.fillDate(),this.set();break;case"td":if(n.is(".day")){var a=parseInt(n.text(),10)||1,o=this.viewDate.getUTCMonth(),u=this.viewDate.getUTCFullYear();n.is(".old")?o===0?(o=11,u-=1):o-=1:n.is(".new")&&(o==11?(o=0,u+=1):o+=1),this._date=d(u,o,a,this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.viewDate=d(u,o,Math.min(28,a),0,0,0,0),this.fillDate(),this.set(),this.notifyChange()}}},actions:{incrementHours:function(e){this._date.setUTCHours(this._date.getUTCHours()+1)},incrementMinutes:function(e){this._date.setUTCMinutes(this._date.getUTCMinutes()+1)},incrementSeconds:function(e){this._date.setUTCSeconds(this._date.getUTCSeconds()+1)},decrementHours:function(e){this._date.setUTCHours(this._date.getUTCHours()-1)},decrementMinutes:function(e){this._date.setUTCMinutes(this._date.getUTCMinutes()-1)},decrementSeconds:function(e){this._date.setUTCSeconds(this._date.getUTCSeconds()-1)},togglePeriod:function(e){var t=this._date.getUTCHours();t>=12?t-=12:t+=12,this._date.setUTCHours(t)},showPicker:function(){this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var n=e(t.target),r=parseInt(n.text(),10);if(this.options.pick12HourFormat){var i=this._date.getUTCHours();i>=12?r!=12&&(r=(r+12)%24):r===12?r=0:r%=12}this._date.setUTCHours(r),this.actions.showPicker.call(this)},selectMinute:function(t){var n=e(t.target),r=parseInt(n.text(),10);this._date.setUTCMinutes(r),this.actions.showPicker.call(this)},selectSecond:function(t){var n=e(t.target),r=parseInt(n.text(),10);this._date.setUTCSeconds(r),this.actions.showPicker.call(this)}},doAction:function(t){t.stopPropagation(),t.preventDefault(),this._date||(this._date=d(1970,0,0,0,0,0,0));var n=e(t.currentTarget).data("action"),r=this.actions[n].apply(this,arguments);return this.set(),this.fillTime(),this.notifyChange(),r},stopEvent:function(e){e.stopPropagation(),e.preventDefault()},keydown:function(t){var n=this,r=t.which,i=e(t.target);(r==8||r==46)&&setTimeout(function(){n._resetMaskPos(i)})},keypress:function(t){var n=t.which;if(n==8||n==46)return;var r=e(t.target),i=String.fromCharCode(n),s=r.val()||"";s+=i;var o=this._mask[this._maskPos];if(!o)return!1;if(o.end!=s.length)return;if(!o.pattern.test(s.slice(o.start))){s=s.slice(0,s.length-1);while((o=this._mask[this._maskPos])&&o.character)s+=o.character,this._maskPos++;return s+=i,o.end!=s.length?(r.val(s),!1):o.pattern.test(s.slice(o.start))?(r.val(s),this._maskPos++,!1):(r.val(s.slice(0,o.start)),!1)}this._maskPos++},change:function(t){var n=e(t.target),r=n.val();this._formatPattern.test(r)?(this.update(),this.setValue(this._date.getTime()),this.notifyChange(),this.set()):r&&r.trim()?(this.setValue(this._date.getTime()),this._date?this.set():n.val("")):this._date&&(this.setValue(null),this.notifyChange(),this._unset=!0),this._resetMaskPos(n)},showMode:function(e){e&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+e))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show()},destroy:function(){this._detachDatePickerEvents(),this._detachDatePickerGlobalEvents(),this.widget.remove(),this.$element.removeData("datetimepicker"),this.component.removeData("datetimepicker")},formatDate:function(e){return this.format.replace(l,function(t){var n,r,i,s=t.length;t==="ms"&&(s=1),r=o[t].property;if(r==="Hours12")i=e.getUTCHours(),i===0?i=12:i!==12&&(i%=12);else{if(r==="Period12")return e.getUTCHours()>=12?"PM":"AM";n="get"+r,i=e[n]()}return n==="getUTCMonth"&&(i+=1),n==="getUTCYear"&&(i=i+1900-2e3),h(i.toString(),s,"0")})},parseDate:function(e){var t,n,r,i,s,o={};if(!(t=this._formatPattern.exec(e)))return null;for(n=1;n<t.length;n++){r=this._propertiesByIndex[n];if(!r)continue;s=t[n],/^\d+$/.test(s)&&(s=parseInt(s,10)),o[r]=s}return this._finishParsingDate(o)},_resetMaskPos:function(e){var t=e.val();for(var n=0;n<this._mask.length;n++){if(this._mask[n].end>t.length){this._maskPos=n;break}if(this._mask[n].end===t.length){this._maskPos=n+1;break}}},_finishParsingDate:function(e){var t,n,r,i,s,o,u;return t=e.UTCFullYear,e.UTCYear&&(t=2e3+e.UTCYear),t||(t=1970),e.UTCMonth?n=e.UTCMonth-1:n=0,r=e.UTCDate||1,i=e.UTCHours||0,s=e.UTCMinutes||0,o=e.UTCSeconds||0,u=e.UTCMilliseconds||0,e.Hours12&&(i=e.Hours12),e.Period12&&(/pm/i.test(e.Period12)?i!=12&&(i=(i+12)%24):i%=12),d(t,n,r,i,s,o,u)},_compileFormat:function(){var e,t,n=[],r=[],i=this.format,s={},u=0,a=0;while(e=f.exec(i))t=e[0],t in o?(u++,s[u]=o[t].property,n.push("\\s*"+o[t].getPattern(this)+"\\s*"),r.push({pattern:new RegExp(o[t].getPattern(this)),property:o[t].property,start:a,end:a+=t.length})):(n.push(c(t)),r.push({pattern:new RegExp(c(t)),character:t,start:a,end:++a})),i=i.slice(t.length);this._mask=r,this._maskPos=0,this._formatPattern=new RegExp("^\\s*"+n.join("")+"\\s*$"),this._propertiesByIndex=s},_attachDatePickerEvents:function(){var t=this;this.widget.on("click",".datepicker *",e.proxy(this.click,this)),this.widget.on("click","[data-action]",e.proxy(this.doAction,this)),this.widget.on("mousedown",e.proxy(this.stopEvent,this)),this.pickDate&&this.pickTime&&this.widget.on("click.togglePicker",".accordion-toggle",function(n){n.stopPropagation();var r=e(this),i=r.closest("ul"),s=i.find(".collapse.in"),o=i.find(".collapse:not(.in)");if(s&&s.length){var u=s.data("collapse");if(u&&u.transitioning)return;s.collapse("hide"),o.collapse("show"),r.find("i").toggleClass(t.timeIcon+" "+t.dateIcon),t.$element.find(".add-on i").toggleClass(t.timeIcon+" "+t.dateIcon)}}),this.isInput?(this.$element.on({focus:e.proxy(this.show,this),change:e.proxy(this.change,this)}),this.options.maskInput&&this.$element.on({keydown:e.proxy(this.keydown,this),keypress:e.proxy(this.keypress,this)})):(this.$element.on({change:e.proxy(this.change,this)},"input"),this.options.maskInput&&this.$element.on({keydown:e.proxy(this.keydown,this),keypress:e.proxy(this.keypress,this)},"input"),this.component?this.component.on("click",e.proxy(this.show,this)):this.$element.on("click",e.proxy(this.show,this)))},_attachDatePickerGlobalEvents:function(){e(window).on("resize.datetimepicker"+this.id,e.proxy(this.place,this)),this.isInput||e(document).on("mousedown.datetimepicker"+this.id,e.proxy(this.hide,this))},_detachDatePickerEvents:function(){this.widget.off("click",".datepicker *",this.click),this.widget.off("click","[data-action]"),this.widget.off("mousedown",this.stopEvent),this.pickDate&&this.pickTime&&this.widget.off("click.togglePicker"),this.isInput?(this.$element.off({focus:this.show,change:this.change}),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress})):(this.$element.off({change:this.change},"input"),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress},"input"),this.component?this.component.off("click",this.show):this.$element.off("click",this.show))},_detachDatePickerGlobalEvents:function(){e(window).off("resize.datetimepicker"+this.id),this.isInput||e(document).off("mousedown.datetimepicker"+this.id)},_isInFixed:function(){if(this.$element){var t=this.$element.parents(),n=!1;for(var r=0;r<t.length;r++)if(e(t[r]).css("position")=="fixed"){n=!0;break}return n}return!1}},e.fn.datetimepicker=function(t,r){return this.each(function(){var i=e(this),s=i.data("datetimepicker"),o=typeof t=="object"&&t;s||i.data("datetimepicker",s=new n(this,e.extend({},e.fn.datetimepicker.defaults,o))),typeof t=="string"&&s[t](r)})},e.fn.datetimepicker.defaults={maskInput:!1,pickDate:!0,pickTime:!0,pick12HourFormat:!1,pickSeconds:!0,startDate:-Infinity,endDate:Infinity,collapse:!0},e.fn.datetimepicker.Constructor=n;var i=0,s=e.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},o={dd:{property:"UTCDate",getPattern:function(){return"(0?[1-9]|[1-2][0-9]|3[0-1])\\b"}},MM:{property:"UTCMonth",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},yy:{property:"UTCYear",getPattern:function(){return"(\\d{2})\\b"}},yyyy:{property:"UTCFullYear",getPattern:function(){return"(\\d{4})\\b"}},hh:{property:"UTCHours",getPattern:function(){return"(0?[0-9]|1[0-9]|2[0-3])\\b"}},mm:{property:"UTCMinutes",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ss:{property:"UTCSeconds",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ms:{property:"UTCMilliseconds",getPattern:function(){return"([0-9]{1,3})\\b"}},HH:{property:"Hours12",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},PP:{property:"Period12",getPattern:function(){return"(AM|PM|am|pm|Am|aM|Pm|pM)\\b"}}},u=[];for(var a in o)u.push(a);u[u.length-1]+="\\b",u.push(".");var f=new RegExp(u.join("\\b|"));u.pop();var l=new RegExp(u.join("\\b|"),"g"),v={modes:[{clsName:"days",navFnc:"UTCMonth",navStep:1},{clsName:"months",navFnc:"UTCFullYear",navStep:1},{clsName:"years",navFnc:"UTCFullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,v.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};v.template='<div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+v.headTemplate+v.contTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+v.headTemplate+v.contTemplate+"</table>"+"</div>";var m={hourTemplate:'<span data-action="showHours" data-time-component="hours" class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds" data-time-component="seconds" class="timepicker-second"></span>'};m.getTemplate=function(e,t){return'<div class="timepicker-picker"><table class="table-condensed"'+(e?' data-hour-format="12"':"")+">"+"<tr>"+'<td><a href="#" class="btn" data-action="incrementHours"><i class="icon-chevron-up"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="incrementMinutes"><i class="icon-chevron-up"></i></a></td>'+(t?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><i class="icon-chevron-up"></i></a></td>':"")+(e?'<td class="separator"></td>':"")+"</tr>"+"<tr>"+"<td>"+m.hourTemplate+"</td> "+'<td class="separator">:</td>'+"<td>"+m.minuteTemplate+"</td> "+(t?'<td class="separator">:</td><td>'+m.secondTemplate+"</td>":"")+(e?'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>':"")+"</tr>"+"<tr>"+'<td><a href="#" class="btn" data-action="decrementHours"><i class="icon-chevron-down"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="decrementMinutes"><i class="icon-chevron-down"></i></a></td>'+(t?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><i class="icon-chevron-down"></i></a></td>':"")+(e?'<td class="separator"></td>':"")+"</tr>"+"</table>"+"</div>"+'<div class="timepicker-hours" data-action="selectHour">'+'<table class="table-condensed">'+"</table>"+"</div>"+'<div class="timepicker-minutes" data-action="selectMinute">'+'<table class="table-condensed">'+"</table>"+"</div>"+(t?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")}}(window.jQuery),function(){}.call(this),function(){}.call(this),function(){var e,t,n,r,i,s;s=this,this.now_api_info={},this.now_project_id=0,this.now_project_info={},this.now_app_id=0,this.showAppInfo=function(t){return $.cookie("now_app_id",t),s.now_app_id=t,$("#app_about_info .block-loading").show(),e(),$.get("get_proj_info",{id:t},function(e){var t;$("#app_about_info .block-loading").hide(),t=""+e.project_info.cnname+" <a href='http://d.nowapp.cn/"+e.project_info.project_num+"' target='_blank'>下载</a>",e.project_info.admin_user.length>0&&(t+=" <a href='/dashboard/fake_login?fake_user_id="+e.project_info.admin_user[0].id+"' target='_blank'>管理</a> "),$("#app_about_info .block-title").html(t),$("#app_about_info input:eq(0)").val(e.api_key),$("#app_about_info input:eq(1)"
).val(e.api_secret),$("#app_about_info input:eq(2)").val(""+_apihost+"/api"),$("#app_about_info #sort_list").html(r(e));if(e.project_info.id!==s.now_project_id)return s.now_project_info=e.project_info,s.now_project_id=e.project_info.id,$.get("init_api",{appnum:e.project_info.project_num},function(e){return $("#app_about_info input:eq(3)").val(e.access_token)}),s.showApiList(e.project_info),s.showTriggerList(e.project_info),s.showResenderList(e.project_info)})},e=function(){return $("#api_info .block-title").html(""),$("#api_info #api_info_content").html(""),$("#api_info #api_verion_info").html("")},this.showApiList=function(e){return $("#api_proj_list .block-loading").show(),$.get("get_proj_apis",{id:e.id},function(t){var r;return $("#api_proj_list .block-loading").hide(),r="",t.length>0&&(r=n(t)),$("#proj_api_list").html(r),$("#api_proj_list .block-title").html(""+e.cnname+"的api <a href='javascript:;' onclick='addApi("+e.id+',"'+e.cnname+"\")'>添加</a>")})},this.showApiInfo=function(e,t){return $.cookie("now_api_id",e),$("#api_info .block-loading").show(),$.get("get_api_info",{id:e},function(n){var r,o,u,a,f,l,c;$("#api_info .block-loading").hide(),s.now_api_info=n,u=n.uri_resource+" ",n.is_deprecated!=null&&n.is_deprecated&&(u+="&nbsp;&nbsp;<font color=''>已弃用</font> "),u+="&nbsp;&nbsp;<font color=''>"+(n.is_authorization!=null?"需要认证":"不需要认证")+"</font> ",c=n.api_web_info_versions;for(f=0,l=c.length;f<l;f++)a=c[f],u+="&nbsp;&nbsp;<a href='javascript:;' onclick='showApiVersion("+a.id+")'>"+i(a.main_version,a.sub_version)+"</a>",o=a.id,a.is_default_version&&(r=a.id);u+="&nbsp;&nbsp;<a href='javascript:;' onclick='editApi("+s.now_api_info.id+")'>编辑api</a> ",u+="&nbsp;&nbsp;<a href='javascript:;' onclick='removeApi("+s.now_api_info.id+")' style='display:none'>删除api</a>",u+="&nbsp;&nbsp;<a href='javascript:;' onclick='addApiVersion( "+e+" )'>添加版本</a>",$("#api_info .block-title").html(u),$("#api_info #api_info_content").html("<br /><pre>"+n.description+"</pre>"),$("#api_info #api_verion_info").html("");if(n.api_web_info_versions.length>0)return r!=null&&(r=t),s.showApiVersion(r!=null?r:o)})},this.addApi=function(e,t){var n;return n="<table  class='table'>",n+="<tr><td>method:</td><td><input type='text' id='a_uri_resource'/></td></tr>",n+="<tr><td>说明:</td><td><textarea id='a_description'></textarea></td></tr>",n+="<tr><td>所属项目:</td><td><input id='a_project_info_id' type='hidden' value='"+(e!=null?e:"")+"'/>"+(e!=null?t:"")+"</td></tr>",n+="</table>",n+="<button class='btn btn-primary' onclick='doAddApi()'>添加api</button>",$("#api_info .block-title").html("添加api"),$("#api_info #api_info_content").html(n),$("#api_info #api_verion_info").html("")},this.doAddApi=function(){return $.get("add_api",{"api[uri_resource]":$("#a_uri_resource").val(),"api[description]":$("#a_description").val(),"api[project_info_id]":$("#a_project_info_id").val()},function(e){return s.now_project_id=0,s.showAppInfo($.cookie("now_app_id")),s.showApiInfo(e.id)})},this.editApi=function(e){return $("#api_info .block-loading").show(),$.post("get_api_info",{id:e},function(t){var n;return $("#api_info .block-loading").hide(),n="<table  class='table'>",n+="<tr><td>method:</td><td><input type='text' id='a_uri_resource' value='"+t.uri_resource+"'/></td></tr>",n+="<tr><td>说明:</td><td><textarea id='a_description'>"+t.description+"</textarea></td></tr>",n+="<tr><td>是否弃用:</td><td><input type='radio' name='a_is_deprecated' id='a_is_deprecated' value='1' "+(t.is_deprecated!=null&&t.is_deprecated===!0?"checked":"")+"> 是 &nbsp;&nbsp;&nbsp; <input type='radio' name='a_is_deprecated' value='0' id='a_is_deprecated' "+(t.is_deprecated!=null&&t.is_deprecated===!0?"":"checked")+"> 否</td></tr>",n+="<tr><td>是否需要认证:</td><td><input type='radio' name='a_is_authorization' id='a_is_authorization' value='1' "+(t.is_authorization!=null&&t.is_authorization===!0?"checked":"")+"> 是 &nbsp;&nbsp;&nbsp; <input type='radio' name='a_is_authorization' value='0' id='a_is_authorization' "+(t.is_authorization!=null&&t.is_authorization===!0?"":"checked")+"> 否</td></tr>",n+="</table>",n+="<button class='btn btn-primary' onclick='doEditApi("+e+")'>修改api</button>",$("#api_info .block-title").html("编辑api"),$("#api_info #api_info_content").html(n),$("#api_info #api_verion_info").html("")})},this.doEditApi=function(e){return $.post("edit_api",{"api[id]":e,"api[uri_resource]":$("#a_uri_resource").val(),"api[description]":$("#a_description").val(),"api[is_deprecated]":$("#a_is_deprecated:checked").val(),"api[is_authorization]":$("#a_is_authorization:checked").val()},function(t){return s.showApiInfo(e)})},this.removeApi=function(e){return $.get("remove_api",{id:e},function(e){return s.now_project_id=0,s.showAppInfo($.cookie("now_app_id"))})},this.showApiVersion=function(e){var t,n,r,o,u,a,f,l,c,h,p;p=s.now_api_info.api_web_info_versions;for(f=0,c=p.length;f<c;f++)u=p[f],u.id===e&&(a=u);try{o=$.secureEvalJSON(a.input_maps)}catch(d){o={}}t="<form action='call_api' method='post' target='_blank' enctype='multipart/form-data' onsubmit='return buildform(this)'><table  class='table'>",t+="<tr><td>版本：</td><td>"+i(a.main_version,a.sub_version)+"</td><td></td></tr>",t+="<tr><td>method：</td><td>"+s.now_api_info.uri_resource+"</td><td></td></tr>";for(l=0,h=o.length;l<h;l++)n=o[l],r=function(){switch(n.data_type){case"text":return"<textarea name='"+n.field+"'>"+n.default_value+"</textarea>";case"file":return"<input name='"+n.field+"' type='file' class='input-medium' value=''/>";default:return"<input name='"+n.field+"' type='text' class='input-medium' value=''/>"}}(),t+="<tr><td>"+n.label+" ("+n.field+") <br/>类型："+n.data_type+" - 空："+n.allow_blank+" <br/>"+(n.description!=null?n.description:"")+"</td><td>"+r+"</td><td></td></tr>";return t+="</table>",t+="<input name='method' type='hidden' value='"+s.now_api_info.uri_resource+"'/>",t+="<input name='version' type='hidden' value='"+i(a.main_version,a.sub_version)+"'/>",t+="<input name='format' type='hidden' />",t+="<input name='call_id' type='hidden' />",t+="<input name='api_key' type='hidden' />",t+="<input name='access_token' type='hidden' />",t+="<input name='version' type='hidden' />",t+="<input name='sig' type='hidden' />",t+="<button class='btn btn-primary'>提交</button>",t+="</form>",t+="  <button class='btn' onclick='editApiVersion("+e+")'>编辑版本</button>",t+="  <button class='btn' onclick='removeApiVersion("+e+")' style='float:right'>删除版本</button>",$("#api_info #api_verion_info").html(t)},this.buildform=function(e){var t,n,r,i,s,o,u,a;return n=$("#app_about_info input:eq(0)").val(),o=$("#app_about_info input:eq(1)").val(),u=$("#app_about_info input:eq(2)").val(),t=$("#app_about_info input:eq(3)").val(),r=Math.ceil(Math.random()*1e9),s=$("input[name='method']",e).val(),a=$("input[name='version']",e).val(),$("input[name='format']",e).val("json"),$("input[name='api_key']",e).val(n),$("input[name='access_token']",e).val(t),$("input[name='call_id']",e).val(r),i="api_key="+n+"call_id="+r+"method="+s+o,$("input[name='sig']",e).val(hex_md5(i)),e.action="http://"+u+"/"+a+"/"+s,!0},this.addApiVersion=function(e){var t;return t="<table  class='table'>",t+="<tr><td>api:</td><td><input id='a_api_web_info_id' type='hidden' value='"+s.now_api_info.id+"'/>"+s.now_api_info.uri_resource+"</td></tr>",t+="<tr><td>主版本:</td><td><input type='text' id='a_main_version'/></td></tr>",t+="<tr><td>子版本:</td><td><input type='text' id='a_sub_version'/></td></tr>",t+="<tr><td>输入定义:</td><td><textarea id='a_input_maps' ondblclick='jsonSelect_focus(this)'></textarea></td></tr>",t+="<tr><td>代码执行:</td><td><textarea id='a_handler_eval' ondblclick='rubySelect_focus(this)'></textarea></td></tr>",t+="<tr><td>输出定义:</td><td><textarea id='a_output_maps' ondblclick='jsonSelect_focus(this)'></textarea></td></tr>",t+="</table>",t+="<button class='btn btn-primary' onclick='doAddApiVersion()'>添加版本</button>",$("#api_info #api_verion_info").html(t)},this.doAddApiVersion=function(){var e;return e={"api_version[main_version]":$("#a_main_version").val(),"api_version[sub_version]":$("#a_sub_version").val(),"api_version[api_web_info_id]":$("#a_api_web_info_id").val(),"api_version[input_maps]":$("#a_input_maps").val(),"api_version[output_maps]":$("#a_output_maps").val(),"api_version[is_handler_eval]":1,"api_version[handler_eval]":$("#a_handler_eval").val()},$.post("add_api_version",e,function(e){return s.showApiInfo(s.now_api_info.id,e.id)})},this.editApiVersion=function(e){var t,n,r,i,o,u;u=s.now_api_info.api_web_info_versions;for(i=0,o=u.length;i<o;i++)n=u[i],n.id===e&&(r=n);return t="<table  class='table'>",t+="<tr><td>api:</td><td><input id='a_papi_web_info_id' type='hidden' value='"+s.now_api_info.id+"'/>"+s.now_api_info.uri_resource+"</td></tr>",t+="<tr><td>主版本:</td><td><input type='text' id='a_main_version' value='"+r.main_version+"'/></td></tr>",t+="<tr><td>子版本:</td><td><input type='text' id='a_sub_version' value='"+r.sub_version+"'/></td></tr>",t+="<tr><td>输入定义:</td><td><textarea id='a_input_maps' ondblclick='jsonSelect_focus(this)'>"+r.input_maps+"</textarea></td></tr>",t+="<tr><td>代码执行:</td><td><textarea id='a_handler_eval' ondblclick='rubySelect_focus(this)'>"+r.handler_eval+"</textarea></td></tr>",t+="<tr><td>输出定义:</td><td><textarea id='a_output_maps' ondblclick='jsonSelect_focus(this)'>"+r.output_maps+"</textarea></td></tr>",t+="</table>",t+="<button class='btn btn-primary' onclick='doEditApiVersion("+e+")'>编辑版本</button>",$("#api_info #api_verion_info").html(t)},this.doEditApiVersion=function(e){var t;return t={"api_version[id]":e,"api_version[main_version]":$("#a_main_version").val(),"api_version[sub_version]":$("#a_sub_version").val(),"api_version[api_web_info_id]":$("#a_api_web_info_id").val(),"api_version[input_maps]":$("#a_input_maps").val(),"api_version[output_maps]":$("#a_output_maps").val(),"api_version[is_handler_eval]":1,"api_version[handler_eval]":$("#a_handler_eval").val()},$.post("edit_api_version",t,function(t){return s.showApiInfo(s.now_api_info.id,e)})},this.removeApiVersion=function(e){return $.get("remove_api_version",{id:e},function(e){return s.showApiInfo(s.now_api_info.id)})},this.showTriggerList=function(e){return $("#proj_trigger_list .block-loading").show(),$.get("get_proj_triggers",{id:e.id},function(t){var n,r,i,s;$("#proj_trigger_list .block-loading").hide(),n="";if(t.length>0)for(i=0,s=t.length;i<s;i++)r=t[i],n+="<li><a href='javascript:;' onclick='showTriggerInfo("+r.id+")'>"+r.name+"</a></li>";return $("#proj_trigger_lists").html(n),$("#proj_trigger_list .block-title").html(""+e.cnname+"的触发器 <a href='javascript:;' onclick='addTrigger("+e.id+',"'+e.cnname+"\")'>添加</a>")})},this.showTriggerInfo=function(e){return $.get("get_trigger",{id:e},function(e){var t;return t="<table  class='table'>",t+="<tr><td>名称:</td><td>"+e.name+"</td></tr>",t+="<tr><td>说明:</td><td>"+e.description+"</td></tr>",t+="<tr><td>api:</td><td>"+e.api_web_info.uri_resource+"</td></tr>",t+="<tr><td>api版本:</td><td>"+e.api_version_reg+"</td></tr>",t+="<tr><td>处理Api(url):</td><td>"+e.call_url+"</td></tr>",t+="<tr><td>是否启用:</td><td>"+e.enabled+"</td></tr>",t+="</table>",$("#api_info .block-title").html("触发器"+e.name+" <a href='javascript:;' onclick='removeTrigger("+e.id+")'>删除</a> <a href='javascript:;' onclick='editTrigger("+e.id+")'>编辑</a>"),$("#api_info #api_info_content").html(t),$("#api_info #api_verion_info").html("")})},this.addTrigger=function(e,t){var n;return n="<table  class='table'><form id='form_trigger' onsubmit='doAddTrigger();return false;' enctype='multipart/form-data'>",n+="<tr><td>所属项目:</td><td><input name='trigger[project_info_id]' type='hidden' value='"+(e!=null?e:"")+"'/>"+(e!=null?t:"")+"</td></tr>",n+="<tr><td>名称:</td><td><input name='trigger[name]' type='text'/></td></tr>",n+="<tr><td>说明:</td><td><textarea name='trigger[description]'></textarea></td></tr>",n+="<tr><td>api:</td><td><input type='hidden' name='trigger[api_web_info_id]'/><input id='api_search' name='api_input' type='text'/></td></tr>",n+="<tr><td>api版本:</td><td><input name='trigger[api_version_reg]' type='text'/></td></tr>",n+="<tr><td>处理Api(url):</td><td><input name='trigger[call_url]' type='text'/></td></tr>",n+="<tr><td>条件(json):</td><td><textarea name='trigger[condition_exp]' ondblclick='jsonSelect_focus(this)'></textarea></td></tr>",n+="<tr><td>执行判断(ruby):</td><td><textarea name='trigger[call_before_eval]' ondblclick='rubySelect_focus(this)'></textarea></td></tr>",n+="<tr><td>附加参数(json):</td><td><textarea name='trigger[call_params]' ondblclick='jsonSelect_focus(this)'></textarea></td></tr>",n+="<tr><td>是否启用:</td><td><input name='trigger[enabled]' checked type='checkbox'/></td></tr>",n+="<tr><td colspan='2'><button class='btn btn-primary' >添加</button></td></tr>",n+="</form></table>",$("#api_info .block-title").html("添加触发器"),$("#api_info #api_info_content").html(n),$("#api_search").typeahead({source:s.api_search_source,updater:s.api_search_updater}),$("#api_info #api_verion_info").html("")},this.doAddTrigger=function(e){var n;return n=t($("#form_trigger")),n["trigger[api_web_info_id]"]===""?(alert("请填入Api"),!1):$.post("add_trigger",n,function(e){return s.showTriggerList(s.now_project_info),s.showTriggerInfo(e.id)})},this.editTrigger=function(e){return $.get("get_trigger",{id:e},function(t){var n;return n="<table  class='table'><form id='form_trigger' onsubmit='doEditTrigger();return false;' enctype='multipart/form-data'>",n+="<tr><td>名称:</td><td><input name='trigger[name]' value='"+t.name+"' type='text'/></td></tr>",n+="<tr><td>说明:</td><td><textarea name='trigger[description]'>"+t.description+"</textarea></td></tr>",n+="<tr><td>api:</td><td><input type='hidden' value='"+t.api_web_info.id+"' name='trigger[api_web_info_id]'/><input id='api_search' value='"+t.api_web_info.uri_resource+"' name='api_input' type='text'/></td></tr>",n+="<tr><td>api版本:</td><td><input name='trigger[api_version_reg]' value='"+t.api_version_reg+"' type='text'/></td></tr>",n+="<tr><td>处理Api(url):</td><td><input name='trigger[call_url]' value='"+t.call_url+"' type='text'/></td></tr>",n+="<tr><td>条件(json):</td><td><textarea name='trigger[condition_exp]' ondblclick='jsonSelect_focus(this)'>"+t.condition_exp+"</textarea></td></tr>",n+="<tr><td>执行判断(ruby):</td><td><textarea name='trigger[call_before_eval]' ondblclick='rubySelect_focus(this)'>"+t.call_before_eval+"</textarea></td></tr>",n+="<tr><td>附加参数(json):</td><td><textarea name='trigger[call_params]' ondblclick='jsonSelect_focus(this)'>"+t.call_params+"</textarea></td></tr>",n+="<tr><td>是否启用:</td><td><input type='hidden' name='trigger[enabled]' value='"+t.enabled+"'><input "+(t.enabled?"checked":"")+" type='checkbox' value='' onclick='$(this).prev().val( $(this).attr(\"checked\") == \"checked\" )'/></td></tr>",n+="<tr><td colspan='2'><input name='trigger[id]' value='"+e+"' type='hidden'/><button class='btn btn-primary' >编辑</button></td></tr>",n+="</form></table>",$("#api_info .block-title").html("编辑触发器"),$("#api_info #api_info_content").html(n),$("#api_search").typeahead({source:s.api_search_source,updater:s.api_search_updater}),$("#api_info #api_verion_info").html("")})},this.doEditTrigger=function(){var e;return e=t($("#form_trigger")),console.log(e),$.post("edit_trigger",e,function(e){return s.showTriggerInfo(e.id)})},this.removeTrigger=function(e){return $.get("remove_trigger",{id:e},function(e){return s.showTriggerList(s.now_project_info),$("#api_info .block-title").html(""),$("#api_info #api_info_content").html(""),$("#api_info #api_verion_info").html("")})},this.showResenderList=function(e){return $("#proj_resender_list .block-loading").show(),$.get("get_proj_resenders",{id:e.id},function(t){var n,r,i,s;$("#proj_resender_list .block-loading").hide(),n="";if(t.length>0)for(i=0,s=t.length;i<s;i++)r=t[i],n+="<li><a href='javascript:;' onclick='showResenderInfo("+r.id+")'>"+r.name+"</a></li>";return $("#proj_resender_lists").html(n),$("#proj_resender_list .block-title").html(""+e.cnname+"的转发器 <a href='javascript:;' onclick='addResender("+e.id+',"'+e.cnname+"\")'>添加</a>")})},this.showResenderInfo=function(e){return $.get("get_resender",{id:e},function(e){var t;return t="<table  class='table'>",t+="<tr><td>名称:</td><td>"+e.name+"</td></tr>",t+="<tr><td>说明:</td><td>"+e.description+"</td></tr>",t+="<tr><td>转发表单设置:</td><td><pre>"+e.send_config+"</pre></td></tr>",t+="<tr><td>是否启用:</td><td>"+e.enabled+"</td></tr>",t+="</table>",$("#api_info .block-title").html("转发器"+e.name+" <a href='javascript:;' onclick='removeResender("+e.id+")'>删除</a> <a href='javascript:;' onclick='editResender("+e.id+")'>编辑</a>"),$("#api_info #api_info_content").html(t),$("#api_info #api_verion_info").html("")})},this.addResender=function(e,t){var n;return n="<table  class='table'><form id='form_resender' onsubmit='doAddResender();return false;' enctype='multipart/form-data'>",n+="<tr><td>所属项目:</td><td><input name='resender[project_info_id]' type='hidden' value='"+(e!=null?e:"")+"'/>"+(e!=null?t:"")+"</td></tr>",n+="<tr><td>名称:</td><td><input name='resender[name]' type='text'/></td></tr>",n+="<tr><td>说明:</td><td><input name='resender[description]' type='text'/></td></tr>",n+="<tr><td>配置(json):</td><td><textarea name='resender[configs]' ondblclick='jsonSelect_focus(this)'></textarea></td></tr>",n+="<tr><td>转发表单设置(json):</td><td><textarea name='resender[send_config]' ondblclick='jsonSelect_focus(this)'></textarea></td></tr>",n+="<tr><td>是否启用:</td><td><input type='hidden' name='resender[enabled]' value='true'><input checked type='checkbox' value='' onclick='$(this).prev().val( $(this).attr(\"checked\") == \"checked\" )'/></td></tr>",n+="<tr><td colspan='2'><button class='btn btn-primary' >添加</button></td></tr>",n+="</form></table>",$("#api_info .block-title").html("添加转发器"),$("#api_info #api_info_content").html(n),$("#api_info #api_verion_info").html("")},this.doAddResender=function(e){var n;return n=t($("#form_resender")),console.log(n),$.post("add_resender",n,function(e){return s.showResenderList(s.now_project_info),s.showResenderInfo(e.id)})},this.editResender=function(e){return $.get("get_resender",{id:e},function(t){var n;return n="<table  class='table'><form id='form_resender' onsubmit='doEditResender();return false;'>",n+="<tr><td>名称:</td><td><input name='resender[name]' type='text' value='"+t.name+"'/></td></tr>",n+="<tr><td>说明:</td><td><input name='resender[description]' type='text' value='"+t.description+"'/></td></tr>",n+="<tr><td>配置:</td><td><textarea name='resender[configs]' ondblclick='jsonSelect_focus(this)'>"+t.configs+"</textarea></td></tr>",n+="<tr><td>转发表单设置:</td><td><textarea name='resender[send_config]' ondblclick='jsonSelect_focus(this)'>"+t.send_config+"</textarea></td></tr>",n+="<tr><td>是否启用:</td><td><input type='hidden' name='resender[enabled]' value='"+t.enabled+"'><input "+(t.enabled?"checked":"")+" type='checkbox' value='' onclick='$(this).prev().val( $(this).attr(\"checked\") == \"checked\" )'/></td></tr>",n+="<tr><td colspan='2'><input name='resender[id]' value='"+e+"' type='hidden'/><button class='btn btn-primary' >编辑</button></td></tr>",n+="</form></table>",$("#api_info .block-title").html("编辑转发器"+t.name),$("#api_info #api_info_content").html(n),$("#api_info #api_verion_info").html("")})},this.doEditResender=function(){var e;return e=t($("#form_resender")),console.log(e),$.post("edit_resender",e,function(e){return s.showResenderInfo(e.id)})},this.removeResender=function(e){return $.get("remove_resender",{id:e},function(e){return s.showResenderList(s.now_project_info),$("#api_info .block-title").html(""),$("#api_info #api_info_content").html(""),$("#api_info #api_verion_info").html("")})},this.callApi=function(e,t){return $.post("call_api",{method:"projectinfo/index",version:"1.0"},t)},t=function(e){var t;return t={},$.each($(e).serializeArray(),function(e,n){return t[n.name]=n.value}),t},i=function(e,t){var n,r;return n=e+"",n.split(".").length===1&&(n+=".0"),r=t!==""?"."+t:"",""+n+r},n=function(e){var t,n,r,i;t="";for(r=0,i=e.length;r<i;r++)n=e[r],n.is_deprecated===!0?t+="<li><a href='javascript:;' onclick='showApiInfo("+n.id+")'>"+n.uri_resource+"</a></li>":t+="<li><a href='javascript:;' onclick='showApiInfo("+n.id+")'>"+n.uri_resource+"</a></li>";return t},r=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p;t="",c=e.project_info.cms_sort;for(s=0,a=c.length;s<a;s++){n=c[s];if(n.father_id===0){t+="<li>"+n.cnname+" - "+n.id+"<ul>",h=e.project_info.cms_sort;for(o=0,f=h.length;o<f;o++){r=h[o];if(r.father_id===n.id){t+="<li>"+r.cnname+" - "+r.id+"<ul>",p=e.project_info.cms_sort;for(u=0,l=p.length;u<l;u++)i=p[u],i.father_id===r.id&&(t+="<li>"+i.cnname+" - "+i.id+"</li>");t+="</li></ul>"}}t+="</ul></li>"}}return t},this.saveJs=function(e){var t;return t=$("#js_editor").data("el"),t.val(s.jseditor.getValue()),$("#ace_js_editor").modal("hide")},this.saveRuby=function(e){var t;return t=$("#ruby_editor").data("el"),t.val(s.rubyeditor.getValue()),$("#ace_ruby_editor").modal("hide")},this.saveJson=function(e){var t;return t=$("#json_editor").data("el"),t.val(s.jsoneditor.getValue()),$("#ace_json_editor").modal("hide")},this.jsSelect_focus=function(e){var t;return t=$(e),$("#ace_js_editor").modal("show"),$("#js_editor").data("el",t),t.val()===""&&t.val(" "),s.jseditor.setValue(t.val()),s.jseditor.clearSelection(),s.jseditor.focus()},this.rubySelect_focus=function(e){var t;return t=$(e),$("#ace_ruby_editor").modal("show"),$("#ruby_editor").data("el",t),t.val()===""&&t.val(" "),s.rubyeditor.setValue(t.val()),s.rubyeditor.clearSelection(),s.rubyeditor.focus()},this.jsonSelect_focus=function(e){var t;return t=$(e),$("#ace_json_editor").modal("show"),$("#json_editor").data("el",t),t.val()===""&&t.val("{}"),s.jsoneditor.setValue(t.val()),s.jsoneditor.clearSelection(),s.jsoneditor.focus()},this.api_search_source=function(e,t){return $.getJSON("search_api_list",{words:$("#api_search").val(),project_info_id:s.now_project_id},function(e){var n;return n=[],s.selector={},$.each(e,function(){var e;return e=this.uri_resource,n.push(e),s.selector[e]=this}),t(n)})},this.api_search_updater=function(e){var t;return t=s.selector[e],$("#api_search").prev().val(t.id),e},$(function(){return $.cookie("now_app_id")!=null&&s.showAppInfo($.cookie("now_app_id")),$.cookie("now_api_id")!=null&&s.showApiInfo($.cookie("now_api_id")),s.jseditor=ace.edit("js_editor"),s.jseditor.setTheme("ace/theme/twilight"),s.jseditor.getSession().setMode("ace/mode/javascript"),s.rubyeditor=ace.edit("ruby_editor"),s.rubyeditor.setTheme("ace/theme/twilight"),s.rubyeditor.getSession().setMode("ace/mode/ruby"),s.jsoneditor=ace.edit("json_editor"),s.jsoneditor.setTheme("ace/theme/twilight"),s.jsoneditor.getSession().setMode("ace/mode/json"),s.selector={},$("#proj_search").typeahead({source:function(e,t){return $.getJSON("get_proj_list",{words:$("#proj_search").val()},function(e){var n;return n=[],s.selector={},$.each(e,function(){var e;return e=this.project_num+" - "+this.cnname+" - "+this.id+" - "+this.description,n.push(this.project_num+" - "+this.cnname+" - "+this.id+" - "+this.description),s.selector[e]=this}),t(n)})},updater:function(e){var t;return $("#proj_search_res").html(""),t=s.selector[e],$.getJSON("get_proj_app",{id:t.id},function(e){return $.each(e,function(){return $("#proj_search_res").html($("#proj_search_res").html()+(" <a href='javascript:;' onclick='showAppInfo("+this.id+")'>"+this.cnname+"("+this.phonetype+")</a> "))})}),t.cnname}})})}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S;l=this,i=1718,m={1723:"内科学",1724:"外科学",1725:"消​化​内​科​学",1726:"临床诊断学",1727:"综合护理学",1728:"口​腔​内科学",1729:"心​​内​科​学",1730:"药理学"},v=0,a=1,f=30,g=79,b=0,E={},S=[],w=[],y={},t=0,n=0,u={},this.get_new_topics=function(e){return $.get("call_api",{method:"content/news/index",version:"1.0",father_id:v,simple_result:"1",page:e,perpage:f}).done(function(e){var t,n,r,i;i=e.data.content_list;for(n=0,r=i.length;n<r;n++)t=i[n],S.push(t);if(b===0)return l.next_topic()})},this.get_rand_topics=function(e){return $.get("call_api",{method:"content/news/index",version:"1.0",father_id:v,simple_result:"1",rand_result:"1",page:e,perpage:f}).done(function(t){var n,r,i,s;s=t.data.content_list;for(r=0,i=s.length;r<i;r++)n=s[r],S.push(n);return b===0&&l.next_topic(),a=e+1})},this.get_fav_topics=function(e){return $.get("call_api",{method:"user/favorites",version:"1.0",father_id:v,page:1,perpage:100}).done(function(t){var n,r,i,s;u=function(){},s=t.data.content_list;for(r=0,i=s.length;r<i;r++)n=s[r],S.push(n);return b===0&&l.next_topic(),a=e+1,$(".topic-all").html(t.data.content_list.length)})},this.next_topic=function(){return d(!0)},this.pre_topic=function(){return d(!1)},d=function(e){var t,n,r,i,s,o,a,f;b=e===!0?b+1:b-1,s=S[b-1],t=JSON.parse(s.content),s.options=t.options.split("\n"),s.answer=t.answer,E[s.id]=s,$(".topic-title").html(s.title),$(".topic-des").hide().html(s.abstract),$(".topic-sum").hide(),i="",f=t.options.split("\n");for(r=o=0,a=f.length;o<a;r=++o)n=f[r],i+='<label optionnum="'+(r+1)+'"><span class="input"><input type="radio" optionnum="'+(r+1)+'" name="square-radio"/></span>&nbsp;&nbsp;<span class="content">'+n+"</span></label>";$(".options").html(i),$("input").iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue"}).on("ifChecked",function(e,t){return l.check(s.id,$(e.target).attr("optionnum"))}),$(".topic-now").html(b),$(".action-fav").attr("onclick","fav_topic("+s.id+")").removeClass("disabled"),b<g?$(".action-next").show():$(".action-next").hide(),b>1?$(".action-pre").show():$(".action-pre").hide(),s.my_answer!=null&&p(s.id,s.my_answer);if(b>S.length-6)return u()},this.check=function(e,r){var i;E[e].my_answer=r,i=E[e],r===i.answer?n+=1:t+=1,p(e,r);if(r===i.answer)return l.next_topic(a)},p=function(e,r){var i;return E[e].my_answer=r,i=E[e],r===i.answer?($("label>span.input").iCheck("disable"),$("label[optionnum="+i.answer+"]").addClass("success")):($("label>span.input").iCheck("disable"),$("label[optionnum="+i.answer+"]").addClass("success"),$("label[optionnum="+r+"]").addClass("error"),$(".topic-des").show(),$(".topic-sum").show().html("<pre>统计：共答对"+n+"题，答错"+t+"题，正确率"+Math.ceil(n/(n+t)*1e3)/10+"%</pre>"))},this.fav_topic=function(e){var t;return t=E[e],$.get("call_api",{method:"user/favorites/create",version:"1.0",content_id:t.id}).done(function(e){return alert("收藏成功")})},$(document).ready(function(){return $(".topic-all").html(g),_type===1?(v=i,u=l.get_new_topics):_type===2?(v=i,u=l.get_rand_topics):_type===4&&(v=i,u=l.get_fav_topics),u(1)}),document.addEventListener("WeixinJSBridgeReady",function(){return WeixinJSBridge.on("menu:share:appmessage",function(e){return c()}),WeixinJSBridge.call("hideToolbar")},!1),s="http://is.hudongka.com/3010017_200.png",o="http://www.ecloudiot.com/yixue/train?type=1",r="全国医师定期考核在线培训系统",h="医师定期考核培训",e="",c=function(){return WeixinJSBridge.invoke("sendAppMessage",{appid:e,img_url:s,img_width:"80",img_height:"80",link:o,desc:r,title:h},function(e){return _report("send_msg",e.err_msg)})}}.call(this),function(){var e,t,n,r,i,s;n=this,this._cfgs={perpage:10,sort_id:0,subjcts_allnum:0,now_subject_num:0,now_sort_id:0,now_subject:0,subjects_info:{},subjects_answers:{}},this.start_train=function(t,r){return n._cfgs.subjcts_allnum=r,n._cfgs.sort_id=t,e(t,1)},e=function(e,r){return t(),$.getJSON("subjects.json?sort_id="+e+"&page="+r+"&perpage="+n._cfgs.perpage,function(e){var t,i,s,o;i=(r-1)*n._cfgs.perpage;for(s=0,o=e.length;s<o;s++)t=e[s],n._cfgs.subjects_info["subject_"+ ++i]=t;if(parseInt($(".train-num-now").val())!==n._cfgs.now_subject_num)return this.go_topic(parseInt($(".train-num-now").val()))})},this.next_topic=function(){if(n._cfgs.now_subject_num>=n._cfgs.subjcts_allnum)return;return n._cfgs.now_subject_num++,n.go_topic(n._cfgs.now_subject_num)},this.pre_topic=function(){if(n._cfgs.now_subject_num===1)return;return n._cfgs.now_subject_num--,n.go_topic(n._cfgs.now_subject_num)},this.go_topic=function(t){if(t>n._cfgs.subjcts_allnum||t<1)return;return n._cfgs.now_subject_num=t,n._cfgs.subjects_info["subject_"+t]==null?($(".train-num-now").val(t),n._cfgs.now_subject_num=0,e(n._cfgs.sort_id,Math.ceil(t/10))):s(t)},s=function(e){var t,r,i,s,o,u,a,f,l,c;$(".train-des").hide(),u=n._cfgs.subjects_info["subject_"+e],e<n._cfgs.subjcts_allnum?$(".train-pageright").show():$(".train-pageright").hide(),e>1?$(".train-pageleft").show():$(".train-pageleft").hide(),$(".train-num-now").val(e),$(".train-title").html(u.subject),o="",r=0,l=u.options;for(s in l)i=l[s],o+='<li data-key="'+r+'" onclick="select_option($(this))"><span class="icon"> </span> '+s+". <span>"+i+"</span></li>",r++;$(".train-options").html(o),t=n._cfgs.subjects_answers["subject_"+e];if(t!=null){t.right||($(".options li .icon").eq(t.error_answers).addClass("icon-close").addClass("error"),$(".train-des").show().html(u.des)),c=t.success_answers;for(a=0,f=c.length;a<f;a++)i=c[a],$(".options li .icon").eq(i).addClass("icon-check").addClass("success");return $(".options li").attr("onclick","")}},this.select_option=function(e){var t,i,s,o,u,a,f,l,c,h,p,d,v,m;f=["A","B","C","D","E","F","G","H","I","J"],a=n._cfgs.subjects_info["subject_"+n._cfgs.now_subject_num],t=a.answer;if(t==null||t==="")return;u=parseInt(e.attr("data-key")),i=[];for(l=0,p=t.length;l<p;l++)s=t[l],i.push(f.indexOf(s));if(i.indexOf(u)===-1){$(".options li .icon").eq(u).addClass("icon-close").addClass("error");for(c=0,d=i.length;c<d;c++)s=i[c],$(".options li .icon").eq(s).removeClass("icon-close").removeClass("error").addClass("icon-check").addClass("success");return $(".train-des").show().html(a.des),r()}$(".options li .icon").eq(u).addClass("icon-check"),o=[],m=$(".options li .icon-check");for(h=0,v=m.length;h<v;h++)s=m[h],o.push($(s).parent().attr("data-key"));if(o.join(",")===i.join(","))return $(".options li .icon-check").addClass("success"),r()},r=function(){var e,t,r,i,s,o,u,a,f,l,c,h,p,d;o=[],e=[],h=$(".options li .icon-check");for(a=0,l=h.length;a<l;a++)t=h[a],o.push($(t).parent().attr("data-key"));p=$(".options li .icon-close");for(f=0,c=p.length;f<c;f++)t=p[f],e.push($(t).parent().attr("data-key"));n._cfgs.subjects_answers["subject_"+n._cfgs.now_subject_num]={right:$(".options li .icon-close").length===0,success_answers:o.join(""),error_answers:e.join("")},$(".options li").attr("onclick",""),i=0,s=0,d=n._cfgs.subjects_answers;for(r in d)u=d[r],i++,u.right||s++;return $(".train-num-error").html(s+" / "+i)},t=function(){return $(".train-pageleft , .train-pageright , .train-des").hide(),$(".train-title").html("正在读取..."),$(".train-options").html(""),$(".train-num-all").html(n._cfgs.subjcts_allnum)},this.select_train=function(){var e,t;return t=$("form input:checked").val(),e=$("#code").val(),t==null?alert("请选择试题类型"):e==null?alert("请输入试题验证码"):$.getJSON("check_code?sort_id="+t+"&code="+e,function(e){return e.success?location.reload():alert(e.msg)})},$(document).ready(function(){return t()}),document.addEventListener("WeixinJSBridgeReady",function(){return WeixinJSBridge.on("menu:share:appmessage",function(e){return i()}),WeixinJSBridge.call("hideToolbar")},!1),i=function(){var e,t,n,r,i;return n="http://is.hudongka.com/3010017_200.png",r="http://www.ecloudiot.com/866386381/yixue/subject",t="全国医师定期考核在线培训系统",i="医师定期考核培训",e="",WeixinJSBridge.invoke("sendAppMessage",{appid:e,img_url:n,img_width:"80",img_height:"80",link:r,desc:t,title:i},function(e){})}}.call(this);